rror = _("immediate value is out of range");
		goto failure;
	      }
          }
          break;

        case OP_RNDQ_I0:
          {
            po_reg_or_goto (REG_TYPE_NDQ, try_imm0);
            break;
            try_imm0:
            po_imm_or_fail (0, 0, TRUE);
          }
          break;

        case OP_RVSD_I0:
          po_reg_or_goto (REG_TYPE_VFSD, try_imm0);
          break;

        case OP_RR_RNSC:
          {
            po_scalar_or_goto (8, try_rr);
            break;
            try_rr:
            po_reg_or_fail (REG_TYPE_RN);
          }
          break;

        case OP_RNSDQ_RNSC:
          {
            po_scalar_or_goto (8, try_nsdq);
            break;
            try_nsdq:
            po_reg_or_fail (REG_TYPE_NSDQ);
          }
          break;

        case OP_RNDQ_RNSC:
          {
            po_scalar_or_goto (8, try_ndq);
            break;
            try_ndq:
            po_reg_or_fail (REG_TYPE_NDQ);
          }
          break;

        case OP_RND_RNSC:
          {
            po_scalar_or_goto (8, try_vfd);
            break;
            try_vfd:
            po_reg_or_fail (REG_TYPE_VFD);
          }
          break;

        case OP_VMOV:
          /* WARNING: parse_neon_mov can move the operand counter, i. If we're
             not careful then bad things might happen.  */
          po_misc_or_fail (parse_neon_mov (&str, &i) == FAIL);
          break;

        case OP_RNDQ_IMVNb:
          {
            po_reg_or_goto (REG_TYPE_NDQ, try_mvnimm);
            break;
            try_mvnimm:
            /* There's a possibility of getting a 64-bit immediate here, so
               we need special handling.  */
            if (parse_big_immediate (&str, i) == FAIL)
              {
                inst.error = _("immediate value is out of range");
                goto failure;
              }
          }
          break;

        case OP_RNDQ_I63b:
          {
            po_reg_or_goto (REG_TYPE_NDQ, try_shimm);
            break;
            try_shimm:
            po_imm_or_fail (0, 63, TRUE);
          }
          break;

	case OP_RRnpcb:
	  po_char_or_fail ('[');
	  po_reg_or_fail  (REG_TYPE_RN);
	  po_char_or_fail (']');
	  break;

	case OP_RRw:
	case OP_oRRw:
	  po_reg_or_fail (REG_TYPE_RN);
	  if (skip_past_char (&str, '!') == SUCCESS)
	    inst.operands[i].writeback = 1;
	  break;

	  /* Immediates */
	case OP_I7:	 po_imm_or_fail (  0,	   7, FALSE);	break;
	case OP_I15:	 po_imm_or_fail (  0,	  15, FALSE);	break;
	case OP_I16:	 po_imm_or_fail (  1,	  16, FALSE);	break;
        case OP_I16z:	 po_imm_or_fail (  0,     16, FALSE);   break;
	case OP_I31:	 po_imm_or_fail (  0,	  31, FALSE);	break;
	case OP_I32:	 po_imm_or_fail (  1,	  32, FALSE);	break;
        case OP_I32z:	 po_imm_or_fail (  0,     32, FALSE);   break;
	case OP_I63s:	 po_imm_or_fail (-64,	  63, FALSE);	break;
        case OP_I63:	 po_imm_or_fail (  0,     63, FALSE);   break;
        case OP_I64:	 po_imm_or_fail (  1,     64, FALSE);   break;
        case OP_I64z:	 po_imm_or_fail (  0,     64, FALSE);   break;
	case OP_I255:	 po_imm_or_fail (  0,	 255, FALSE);	break;

	case OP_I4b:	 po_imm_or_fail (  1,	   4, TRUE);	break;
	case OP_oI7b:
	case OP_I7b:	 po_imm_or_fail (  0,	   7, TRUE);	break;
	case OP_I15b:	 po_imm_or_fail (  0,	  15, TRUE);	break;
	case OP_oI31b:
	case OP_I31b:	 po_imm_or_fail (  0,	  31, TRUE);	break;
        case OP_oI32b:   po_imm_or_fail (  1,     32, TRUE);    break;
	case OP_oIffffb: po_imm_or_fail (  0, 0xffff, TRUE);	break;

	  /* Immediate variants */
	case OP_oI255c:
	  po_char_or_fail ('{');
	  po_imm_or_fail (0, 255, TRUE);
	  po_char_or_fail ('}');
	  break;

	case OP_I31w:
	  /* The expression parser chokes on a trailing !, so we have
	     to find it first and zap it.  */
	  {
	    char *s = str;
	    while (*s && *s != ',')
	      s++;
	    if (s[-1] == '!')
	      {
		s[-1] = '\0';
		inst.operands[i].writeback = 1;
	      }
	    po_imm_or_fail (0, 31, TRUE);
	    if (str == s - 1)
	      str = s;
	  }
	  break;

	  /* Expressions */
	case OP_EXPi:	EXPi:
	  po_misc_or_fail (my_get_expression (&inst.reloc.exp, &str,
					      GE_OPT_PREFIX));
	  break;

	case OP_EXP:
	  po_misc_or_fail (my_get_expression (&inst.reloc.exp, &str,
					      GE_NO_PREFIX));
	  break;

	case OP_EXPr:	EXPr:
	  po_misc_or_fail (my_get_expression (&inst.reloc.exp, &str,
					      GE_NO_PREFIX));
	  if (inst.reloc.exp.X_op == O_symbol)
	    {
	      val = parse_reloc (&str);
	      if (val == -1)
		{
		  inst.error = _("unrecognized relocation suffix");
		  goto failure;
		}
	      else if (val != BFD_RELOC_UNUSED)
		{
		  inst.operands[i].imm = val;
		  inst.operands[i].hasreloc = 1;
		}
	    }
	  break;

	  /* Operand for MOVW or MOVT.  */
	case OP_HALF:
	  po_misc_or_fail (parse_half (&str));
	  break;

	  /* Register or expression */
	case OP_RR_EXr:	  po_reg_or_goto (REG_TYPE_RN, EXPr); break;
	case OP_RR_EXi:	  po_reg_or_goto (REG_TYPE_RN, EXPi); break;

	  /* Register or immediate */
	case OP_RRnpc_I0: po_reg_or_goto (REG_TYPE_RN, I0);   break;
	I0:		  po_imm_or_fail (0, 0, FALSE);	      break;

	case OP_RF_IF:    po_reg_or_goto (REG_TYPE_FN, IF);   break;
	IF:
	  if (!is_immediate_prefix (*str))
	    goto bad_args;
	  str++;
	  val = parse_fpa_immediate (&str);
	  if (val == FAIL)
	    goto failure;
	  /* FPA immediates are encoded as registers 8-15.
	     parse_fpa_immediate has already applied the offset.  */
	  inst.operands[i].reg = val;
	  inst.operands[i].isreg = 1;
	  break;

	case OP_RIWR_I32z: po_reg_or_goto (REG_TYPE_MMXWR, I32z); break;
	I32z:		  po_imm_or_fail (0, 32, FALSE);	  break;

	  /* Two kinds of register */
	case OP_RIWR_RIWC:
	  {
	    struct reg_entry *rege = arm_reg_parse_multi (&str);
	    if (!rege
		|| (rege->type != REG_TYPE_MMXWR
		    && rege->type != REG_TYPE_MMXWC
		    && rege->type != REG_TYPE_MMXWCG))
	      {
		inst.error = _("iWMMXt data or control register expected");
		goto failure;
	      }
	    inst.operands[i].reg = rege->number;
	    inst.operands[i].isreg = (rege->type == REG_TYPE_MMXWR);
	  }
	  break;

	case OP_RIWC_RIWG:
	  {
	    struct reg_entry *rege = arm_reg_parse_multi (&str);
	    if (!rege
		|| (rege->type != REG_TYPE_MMXWC
		    && rege->type != REG_TYPE_MMXWCG))
	      {
		inst.error = _("iWMMXt control register expected");
		goto failure;
	      }
	    inst.operands[i].reg = rege->number;
	    inst.operands[i].isreg = 1;
	  }
	  break;

	  /* Misc */
	case OP_CPSF:	 val = parse_cps_flags (&str);		break;
	case OP_ENDI:	 val = parse_endian_specifier (&str);	break;
	case OP_oROR:	 val = parse_ror (&str);		break;
	case OP_PSR:	 val = parse_psr (&str);		break;
	case OP_COND:	 val = parse_cond (&str);		break;
	case OP_oBARRIER:val = parse_barrier (&str);		break;

        case OP_RVC_PSR:
          po_reg_or_goto (REG_TYPE_VFC, try_psr);
          inst.operands[i].isvec = 1;  /* Mark VFP control reg as vector.  */
          break;
          try_psr:
          val = parse_psr (&str);
          break;

        case OP_APSR_RR:
          po_reg_or_goto (REG_TYPE_RN, try_apsr);
          break;
          try_apsr:
          /* Parse "APSR_nvzc" operand (for FMSTAT-equivalent MRS
             instruction).  */
          if (strncasecmp (str, "APSR_", 5) == 0)
            {
              unsigned found = 0;
              str += 5;
              while (found < 15)
                switch (*str++)
                  {
                  case 'c': found = (found & 1) ? 16 : found | 1; break;
                  case 'n': found = (found & 2) ? 16 : found | 2; break;
                  case 'z': found = (found & 4) ? 16 : found | 4; break;
                  case 'v': found = (found & 8) ? 16 : found | 8; break;
                  default: found = 16;
                  }
              if (found != 15)
                goto failure;
              inst.operands[i].isvec = 1;
            }
          else
            goto failure;
          break;

	case OP_TB:
	  po_misc_or_fail (parse_tb (&str));
	  break;

	  /* Register lists */
	case OP_REGLST:
	  val = parse_reg_list (&str);
	  if (*str == '^')
	    {
	      inst.operands[1].writeback = 1;
	      str++;
	    }
	  break;

	case OP_VRSLST:
	  val = parse_vfp_reg_list (&str, &inst.operands[i].reg, REGLIST_VFP_S);
	  break;

	case OP_VRDLST:
	  val = parse_vfp_reg_list (&str, &inst.operands[i].reg, REGLIST_VFP_D);
	  break;

        case OP_VRSDLST:
          /* Allow Q registers too.  */
          val = parse_vfp_reg_list (&str, &inst.operands[i].reg,
                                    REGLIST_NEON_D);
          if (val == FAIL)
            {
              inst.error = NULL;
              val = parse_vfp_reg_list (&str, &inst.operands[i].reg,
                                        REGLIST_VFP_S);
              inst.operands[i].issingle = 1;
            }
          break;

        case OP_NRDLST:
          val = parse_vfp_reg_list (&str, &inst.operands[i].reg,
                                    REGLIST_NEON_D);
          break;

	case OP_NSTRLST:
          val = parse_neon_el_struct_list (&str, &inst.operands[i].reg,
                                           &inst.operands[i].vectype);
          break;

	  /* Addressing modes */
	case OP_ADDR:
	  po_misc_or_fail (parse_address (&str, i));
	  break;

	case OP_ADDRGLDR:
	  po_misc_or_fail_no_backtrack (
            parse_address_group_reloc (&str, i, GROUP_LDR));
	  break;

	case OP_ADDRGLDRS:
	  po_misc_or_fail_no_backtrack (
            parse_address_group_reloc (&str, i, GROUP_LDRS));
	  break;

	case OP_ADDRGLDC:
	  po_misc_or_fail_no_backtrack (
            parse_address_group_reloc (&str, i, GROUP_LDC));
	  break;

	case OP_SH:
	  po_misc_or_fail (parse_shifter_operand (&str, i));
	  break;

	case OP_SHG:
	  po_misc_or_fail_no_backtrack (
            parse_shifter_operand_group_reloc (&str, i));
	  break;

	case OP_oSHll:
	  po_misc_or_fail (parse_shift (&str, i, SHIFT_LSL_IMMEDIATE));
	  break;

	case OP_oSHar:
	  po_misc_or_fail (parse_shift (&str, i, SHIFT_ASR_IMMEDIATE));
	  break;

	case OP_oSHllar:
	  po_misc_or_fail (parse_shift (&str, i, SHIFT_LSL_OR_ASR_IMMEDIATE));
	  break;

	default:
	  as_fatal ("unhandled operand code %d", upat[i]);
	}

      /* Various value-based sanity checks and shared operations.  We
	 do not signal immediate failures for the register constraints;
	 this allows a syntax error to take precedence.	 */
      switch (upat[i])
	{
	case OP_oRRnpc:
	case OP_RRnpc:
	case OP_RRnpcb:
	case OP_RRw:
	case OP_oRRw:
	case OP_RRnpc_I0:
	  if (inst.operands[i].isreg && inst.operands[i].reg == REG_PC)
	    inst.error = BAD_PC;
	  break;

	case OP_CPSF:
	case OP_ENDI:
	case OP_oROR:
	case OP_PSR:
        case OP_RVC_PSR:
	case OP_COND:
	case OP_oBARRIER:
	case OP_REGLST:
	case OP_VRSLST:
	case OP_VRDLST:
        case OP_VRSDLST:
        case OP_NRDLST:
        case OP_NSTRLST:
	  if (val == FAIL)
	    goto failure;
	  inst.operands[i].imm = val;
	  break;

	default:
	  break;
	}

      /* If we get here, this operand was successfully parsed.	*/
      inst.operands[i].present = 1;
      continue;

    bad_args:
      inst.error = BAD_ARGS;

    failure:
      if (!backtrack_pos)
	{
	  /* The parse routine should already have set inst.error, but set a
	     defaut here just in case.  */
	  if (!inst.error)
	    inst.error = _("syntax error");
	  return FAIL;
	}

      /* Do not backtrack over a trailing optional argument that
	 absorbed some text.  We will only fail again, with the
	 'garbage following instruction' error message, which is
	 probably less helpful than the current one.  */
      if (backtrack_index == i && backtrack_pos != str
	  && upat[i+1] == OP_stop)
	{
	  if (!inst.error)
	    inst.error = _("syntax error");
	  return FAIL;
	}

      /* Try again, skipping the optional argument at backtrack_pos.  */
      str = backtrack_pos;
      inst.error = backtrack_error;
      inst.operands[backtrack_index].present = 0;
      i = backtrack_index;
      backtrack_pos = 0;
    }

  /* Check that we have parsed all the arguments.  */
  if (*str != '\0' && !inst.error)
    inst.error = _("garbage following instruction");

  return inst.error ? FAIL : SUCCESS;
}

#undef po_char_or_fail
#undef po_reg_or_fail
#undef po_reg_or_goto
#undef po_imm_or_fail
#undef po_scalar_or_fail

/* Shorthand macro for instruction encoding functions issuing errors.  */
#define constraint(expr, err) do {		\
  if (expr)					\
    {						\
      inst.error = err;				\
      return;					\
    }						\
} while (0)

/* Functions for operand encoding.  ARM, then Thumb.  */

#define rotate_left(v, n) (v << n | v >> (32 - n))

/* If VAL can be encoded in the immediate field of an ARM instruction,
   return the encoded form.  Otherwise, return FAIL.  */

static unsigned int
encode_arm_immediate (unsigned int val)
{
  unsigned int a, i;

  for (i = 0; i < 32; i += 2)
    if ((a = rotate_left (val, i)) <= 0xff)
      return a | (i << 7); /* 12-bit pack: [shift-cnt,const].  */

  return FAIL;
}

/* If VAL can be encoded in the immediate field of a Thumb32 instruction,
   return the encoded form.  Otherwise, return FAIL.  */
static unsigned int
encode_thumb32_immediate (unsigned int val)
{
  unsigned int a, i;

  if (val <= 0xff)
    return val;

  for (i = 1; i <= 24; i++)
    {
      a = val >> i;
      if ((val & ~(0xff << i)) == 0)
	return ((val >> i) & 0x7f) | ((32 - i) << 7);
    }

  a = val & 0xff;
  if (val == ((a << 16) | a))
    return 0x100 | a;
  if (val == ((a << 24) | (a << 16) | (a << 8) | a))
    return 0x300 | a;

  a = val & 0xff00;
  if (val == ((a << 16) | a))
    return 0x200 | (a >> 8);

  return FAIL;
}
/* Encode a VFP SP or DP register number into inst.instruction.  */

static void
encode_arm_vfp_reg (int reg, enum vfp_reg_pos pos)
{
  if ((pos == VFP_REG_Dd || pos == VFP_REG_Dn || pos == VFP_REG_Dm)
      && reg > 15)
    {
      if (ARM_CPU_HAS_FEATURE (cpu_variant, fpu_vfp_ext_v3))
        {
          if (thumb_mode)
            ARM_MERGE_FEATURE_SETS (thumb_arch_used, thumb_arch_used,
                                    fpu_vfp_ext_v3);
          else
            ARM_MERGE_FEATURE_SETS (arm_arch_used, arm_arch_used,
                                    fpu_vfp_ext_v3);
        }
      else
        {
          first_error (_("D register out of range for selected VFP version"));
          return;
        }
    }

  switch (pos)
    {
    case VFP_REG_Sd:
      inst.instruction |= ((reg >> 1) << 12) | ((reg & 1) << 22);
      break;

    case VFP_REG_Sn:
      inst.instruction |= ((reg >> 1) << 16) | ((reg & 1) << 7);
      break;

    case VFP_REG_Sm:
      inst.instruction |= ((reg >> 1) << 0) | ((reg & 1) << 5);
      break;

    case VFP_REG_Dd:
      inst.instruction |= ((reg & 15) << 12) | ((reg >> 4) << 22);
      break;
    
    case VFP_REG_Dn:
      inst.instruction |= ((reg & 15) << 16) | ((reg >> 4) << 7);
      break;
    
    case VFP_REG_Dm:
      inst.instruction |= (reg & 15) | ((reg >> 4) << 5);
      break;

    default:
      abort ();
    }
}

/* Encode a <shift> in an ARM-format instruction.  The immediate,
   if any, is handled by md_apply_fix.	 */
static void
encode_arm_shift (int i)
{
  if (inst.operands[i].shift_kind == SHIFT_RRX)
    inst.instruction |= SHIFT_ROR << 5;
  else
    {
      inst.instruction |= inst.operands[i].shift_kind << 5;
      if (inst.operands[i].immisreg)
	{
	  inst.instruction |= SHIFT_BY_REG;
	  inst.instruction |= inst.operands[i].imm << 8;
	}
      else
	inst.reloc.type = BFD_RELOC_ARM_SHIFT_IMM;
    }
}

static void
encode_arm_shifter_operand (int i)
{
  if (inst.operands[i].isreg)
    {
      inst.instruction |= inst.operands[i].reg;
      encode_arm_shift (i);
    }
  else
    inst.instruction |= INST_IMMEDIATE;
}

/* Subroutine of encode_arm_addr_mode_2 and encode_arm_addr_mode_3.  */
static void
encode_arm_addr_mode_common (int i, bfd_boolean is_t)
{
  assert (inst.operands[i].isreg);
  inst.instruction |= inst.operands[i].reg << 16;

  if (inst.operands[i].preind)
    {
      if (is_t)
	{
	  inst.error = _("instruction does not accept preindexed addressing");
	  return;
	}
      inst.instruction |= PRE_INDEX;
      if (inst.operands[i].writeback)
	inst.instruction |= WRITE_BACK;

    }
  else if (inst.operands[i].postind)
    {
      assert (inst.operands[i].writeback);
      if (is_t)
	inst.instruction |= WRITE_BACK;
    }
  else /* unindexed - only for coprocessor */
    {
      inst.error = _("instruction does not accept unindexed addressing");
      return;
    }

  if (((inst.instruction & WRITE_BACK) || !(inst.instruction & PRE_INDEX))
      && (((inst.instruction & 0x000f0000) >> 16)
	  == ((inst.instruction & 0x0000f000) >> 12)))
    as_warn ((inst.instruction & LOAD_BIT)
	     ? _("destination register same as write-back base")
	     : _("source register same as write-back base"));
}

/* inst.operands[i] was set up by parse_address.  Encode it into an
   ARM-format mode 2 load or store instruction.	 If is_t is true,
   reject forms that cannot be used with a T instruction (i.e. not
   post-indexed).  */
static void
encode_arm_addr_mode_2 (int i, bfd_boolean is_t)
{
  encode_arm_addr_mode_common (i, is_t);

  if (inst.operands[i].immisreg)
    {
      inst.instruction |= INST_IMMEDIATE;  /* yes, this is backwards */
      inst.instruction |= inst.operands[i].imm;
      if (!inst.operands[i].negative)
	inst.instruction |= INDEX_UP;
      if (inst.operands[i].shifted)
	{
	  if (inst.operands[i].shift_kind == SHIFT_RRX)
	    inst.instruction |= SHIFT_ROR << 5;
	  else
	    {
	      inst.instruction |= inst.operands[i].shift_kind << 5;
	      inst.reloc.type = BFD_RELOC_ARM_SHIFT_IMM;
	    }
	}
    }
  else /* immediate offset in inst.reloc */
    {
      if (inst.reloc.type == BFD_RELOC_UNUSED)
	inst.reloc.type = BFD_RELOC_ARM_OFFSET_IMM;
    }
}

/* inst.operands[i] was set up by parse_address.  Encode it into an
   ARM-format mode 3 load or store instruction.	 Reject forms that
   cannot be used with such instructions.  If is_t is true, reject
   forms that cannot be used with a T instruction (i.e. not
   post-indexed).  */
static void
encode_arm_addr_mode_3 (int i, bfd_boolean is_t)
{
  if (inst.operands[i].immisreg && inst.operands[i].shifted)
    {
      inst.error = _("instruction does not accept scaled register index");
      return;
    }

  encode_arm_addr_mode_common (i, is_t);

  if (inst.operands[i].immisreg)
    {
      inst.instruction |= inst.operands[i].imm;
      if (!inst.operands[i].negative)
	inst.instruction |= INDEX_UP;
    }
  else /* immediate offset in inst.reloc */
    {
      inst.instruction |= HWOFFSET_IMM;
      if (inst.reloc.type == BFD_RELOC_UNUSED)
	inst.reloc.type = BFD_RELOC_ARM_OFFSET_IMM8;
    }
}

/* inst.operands[i] was set up by parse_address.  Encode it into an
   ARM-format instruction.  Reject all forms which cannot be encoded
   into a coprocessor load/store instruction.  If wb_ok is false,
   reject use of writeback; if unind_ok is false, reject use of
   unindexed addressing.  If reloc_override is not 0, use it instead
   of BFD_ARM_CP_OFF_IMM, unless the initial relocation is a group one
   (in which case it is preserved).  */

static int
encode_arm_cp_address (int i, int wb_ok, int unind_ok, int reloc_override)
{
  inst.instruction |= inst.operands[i].reg << 16;

  assert (!(inst.operands[i].preind && inst.operands[i].postind));

  if (!inst.operands[i].preind && !inst.operands[i].postind) /* unindexed */
    {
      assert (!inst.operands[i].writeback);
      if (!unind_ok)
	{
	  inst.error = _("instruction does not support unindexed addressing");
	  return FAIL;
	}
      inst.instruction |= inst.operands[i].imm;
      inst.instruction |= INDEX_UP;
      return SUCCESS;
    }

  if (inst.operands[i].preind)
    inst.instruction |= PRE_INDEX;

  if (inst.operands[i].writeback)
    {
      if (inst.operands[i].reg == REG_PC)
	{
	  inst.error = _("pc may not be used with write-back");
	  return FAIL;
	}
      if (!wb_ok)
	{
	  inst.error = _("instruction does not support writeback");
	  return FAIL;
	}
      inst.instruction |= WRITE_BACK;
    }

  if (reloc_override)
    inst.reloc.type = reloc_override;
  else if ((inst.reloc.type < BFD_RELOC_ARM_ALU_PC_G0_NC
            || inst.reloc.type > BFD_RELOC_ARM_LDC_SB_G2)
           && inst.reloc.type != BFD_RELOC_ARM_LDR_PC_G0)
    {
      if (thumb_mode)
        inst.reloc.type = BFD_RELOC_ARM_T32_CP_OFF_IMM;
      else
        inst.reloc.type = BFD_RELOC_ARM_CP_OFF_IMM;
    }

  return SUCCESS;
}

/* inst.reloc.exp describes an "=expr" load pseudo-operation.
   Determine whether it can be performed with a move instruction; if
   it can, convert inst.instruction to that move instruction and
   return 1; if it can't, convert inst.instruction to a literal-pool
   load and return 0.  If this is not a valid thing to do in the
   current context, set inst.error and return 1.

   inst.operands[i] describes the destination register.	 */

static int
move_or_literal_pool (int i, bfd_boolean thumb_p, bfd_boolean mode_3)
{
  uint32_t tbit;

  if (thumb_p)
    tbit = (inst.instruction > 0xffff) ? THUMB2_LOAD_BIT : THUMB_LOAD_BIT;
  else
    tbit = LOAD_BIT;

  if ((inst.instruction & tbit) == 0)
    {
      inst.error = _("invalid pseudo operation");
      return 1;
    }
  if (inst.reloc.exp.X_op != O_constant && inst.reloc.exp.X_op != O_symbol)
    {
      inst.error = _("constant expression expected");
      return 1;
    }
  if (inst.reloc.exp.X_op == O_constant)
    {
      if (thumb_p)
	{
	  if (!unified_syntax && (inst.reloc.exp.X_add_number & ~0xFF) == 0)
	    {
	      /* This can be done with a mov(1) instruction.  */
	      inst.instruction	= T_OPCODE_MOV_I8 | (inst.operands[i].reg << 8);
	      inst.instruction |= inst.reloc.exp.X_add_number;
	      return 1;
	    }
	}
      else
	{
	  int value = encode_arm_immediate (inst.reloc.exp.X_add_number);
	  if (value != FAIL)
	    {
	      /* This can be done with a mov instruction.  */
	      inst.instruction &= LITERAL_MASK;
	      inst.instruction |= INST_IMMEDIATE | (OPCODE_MOV << DATA_OP_SHIFT);
	      inst.instruction |= value & 0xfff;
	      return 1;
	    }

	  value = encode_arm_immediate (~inst.reloc.exp.X_add_number);
	  if (value != FAIL)
	    {
	      /* This can be done with a mvn instruction.  */
	      inst.instruction &= LITERAL_MASK;
	      inst.instruction |= INST_IMMEDIATE | (OPCODE_MVN << DATA_OP_SHIFT);
	      inst.instruction |= value & 0xfff;
	      return 1;
	    }
	}
    }

  if (add_to_lit_pool () == FAIL)
    {
      inst.error = _("literal pool insertion failed");
      return 1;
    }
  inst.operands[1].reg = REG_PC;
  inst.operands[1].isreg = 1;
  inst.operands[1].preind = 1;
  inst.reloc.pc_rel = 1;
  inst.reloc.type = (thumb_p
		     ? BFD_RELOC_ARM_THUMB_OFFSET
		     : (mode_3
			? BFD_RELOC_ARM_HWLITERAL
			: BFD_RELOC_ARM_LITERAL));
  return 0;
}

/* Functions for instruction encoding, sorted by subarchitecture.
   First some generics; their names are taken from the conventional
   bit positions for register arguments in ARM format instructions.  */

static void
do_noargs (void)
{
}

static void
do_rd (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
}

static void
do_rd_rm (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg;
}

static void
do_rd_rn (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
}

static void
do_rn_rd (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg << 12;
}

static void
do_rd_rm_rn (void)
{
  unsigned Rn = inst.operands[2].reg;
  /* Enforce restrictions on SWP instruction.  */
  if ((inst.instruction & 0x0fbfffff) == 0x01000090)
    constraint (Rn == inst.operands[0].reg || Rn == inst.operands[1].reg,
		_("Rn must not overlap other operands"));
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= Rn << 16;
}

static void
do_rd_rn_rm (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
}

static void
do_rm_rd_rn (void)
{
  inst.instruction |= inst.operands[0].reg;
  inst.instruction |= inst.operands[1].reg << 12;
  inst.instruction |= inst.operands[2].reg << 16;
}

static void
do_imm0 (void)
{
  inst.instruction |= inst.operands[0].imm;
}

static void
do_rd_cpaddr (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  encode_arm_cp_address (1, TRUE, TRUE, 0);
}

/* ARM instructions, in alphabetical order by function name (except
   that wrapper functions appear immediately after the function they
   wrap).  */

/* This is a pseudo-op of the form "adr rd, label" to be converted
   into a relative address of the form "add rd, pc, #label-.-8".  */

static void
do_adr (void)
{
  inst.instruction |= (inst.operands[0].reg << 12);  /* Rd */

  /* Frag hacking will turn this into a sub instruction if the offset turns
     out to be negative.  */
  inst.reloc.type = BFD_RELOC_ARM_IMMEDIATE;
  inst.reloc.pc_rel = 1;
  inst.reloc.exp.X_add_number -= 8;
}

/* This is a pseudo-op of the form "adrl rd, label" to be converted
   into a relative address of the form:
   add rd, pc, #low(label-.-8)"
   add rd, rd, #high(label-.-8)"  */

static void
do_adrl (void)
{
  inst.instruction |= (inst.operands[0].reg << 12);  /* Rd */

  /* Frag hacking will turn this into a sub instruction if the offset turns
     out to be negative.  */
  inst.reloc.type	       = BFD_RELOC_ARM_ADRL_IMMEDIATE;
  inst.reloc.pc_rel	       = 1;
  inst.size		       = INSN_SIZE * 2;
  inst.reloc.exp.X_add_number -= 8;
}

static void
do_arit (void)
{
  if (!inst.operands[1].present)
    inst.operands[1].reg = inst.operands[0].reg;
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  encode_arm_shifter_operand (2);
}

static void
do_barrier (void)
{
  if (inst.operands[0].present)
    {
      constraint ((inst.instruction & 0xf0) == 0x60
		  && inst.operands[0].imm != 0xf,
		  "bad barrier type");
      inst.instruction |= inst.operands[0].imm;
    }
  else
    inst.instruction |= 0xf;
}

static void
do_bfc (void)
{
  unsigned int msb = inst.operands[1].imm + inst.operands[2].imm;
  constraint (msb > 32, _("bit-field extends past end of register"));
  /* The instruction encoding stores the LSB and MSB,
     not the LSB and width.  */
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].imm << 7;
  inst.instruction |= (msb - 1) << 16;
}

static void
do_bfi (void)
{
  unsigned int msb;

  /* #0 in second position is alternative syntax for bfc, which is
     the same instruction but with REG_PC in the Rm field.  */
  if (!inst.operands[1].isreg)
    inst.operands[1].reg = REG_PC;

  msb = inst.operands[2].imm + inst.operands[3].imm;
  constraint (msb > 32, _("bit-field extends past end of register"));
  /* The instruction encoding stores the LSB and MSB,
     not the LSB and width.  */
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].imm << 7;
  inst.instruction |= (msb - 1) << 16;
}

static void
do_bfx (void)
{
  constraint (inst.operands[2].imm + inst.operands[3].imm > 32,
	      _("bit-field extends past end of register"));
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].imm << 7;
  inst.instruction |= (inst.operands[3].imm - 1) << 16;
}

/* ARM V5 breakpoint instruction (argument parse)
     BKPT <16 bit unsigned immediate>
     Instruction is not conditional.
	The bit pattern given in insns[] has the COND_ALWAYS condition,
	and it is an error if the caller tried to override that.  */

static void
do_bkpt (void)
{
  /* Top 12 of 16 bits to bits 19:8.  */
  inst.instruction |= (inst.operands[0].imm & 0xfff0) << 4;

  /* Bottom 4 of 16 bits to bits 3:0.  */
  inst.instruction |= inst.operands[0].imm & 0xf;
}

static void
encode_branch (int default_reloc)
{
  if (inst.operands[0].hasreloc)
    {
      constraint (inst.operands[0].imm != BFD_RELOC_ARM_PLT32,
		  _("the only suffix valid here is '(plt)'"));
      inst.reloc.type	= BFD_RELOC_ARM_PLT32;
    }
  else
    {
      inst.reloc.type = default_reloc;
    }
  inst.reloc.pc_rel = 1;
}

static void
do_branch (void)
{
#ifdef OBJ_ELF
  if (EF_ARM_EABI_VERSION (meabi_flags) >= EF_ARM_EABI_VER4)
    encode_branch (BFD_RELOC_ARM_PCREL_JUMP);
  else
#endif
    encode_branch (BFD_RELOC_ARM_PCREL_BRANCH);
}

static void
do_bl (void)
{
#ifdef OBJ_ELF
  if (EF_ARM_EABI_VERSION (meabi_flags) >= EF_ARM_EABI_VER4)
    {
      if (inst.cond == COND_ALWAYS)
	encode_branch (BFD_RELOC_ARM_PCREL_CALL);
      else
	encode_branch (BFD_RELOC_ARM_PCREL_JUMP);
    }
  else
#endif
    encode_branch (BFD_RELOC_ARM_PCREL_BRANCH);
}

/* ARM V5 branch-link-exchange instruction (argument parse)
     BLX <target_addr>		ie BLX(1)
     BLX{<condition>} <Rm>	ie BLX(2)
   Unfortunately, there are two different opcodes for this mnemonic.
   So, the insns[].value is not used, and the code here zaps values
	into inst.instruction.
   Also, the <target_addr> can be 25 bits, hence has its own reloc.  */

static void
do_blx (void)
{
  if (inst.operands[0].isreg)
    {
      /* Arg is a register; the opcode provided by insns[] is correct.
	 It is not illegal to do "blx pc", just useless.  */
      if (inst.operands[0].reg == REG_PC)
	as_tsktsk (_("use of r15 in blx in ARM mode is not really useful"));

      inst.instruction |= inst.operands[0].reg;
    }
  else
    {
      /* Arg is an address; this instruction cannot be executed
	 conditionally, and the opcode must be adjusted.  */
      constraint (inst.cond != COND_ALWAYS, BAD_COND);
      inst.instruction = 0xfa000000;
#ifdef OBJ_ELF
      if (EF_ARM_EABI_VERSION (meabi_flags) >= EF_ARM_EABI_VER4)
	encode_branch (BFD_RELOC_ARM_PCREL_CALL);
      else
#endif
	encode_branch (BFD_RELOC_ARM_PCREL_BLX);
    }
}

static void
do_bx (void)
{
  if (inst.operands[0].reg == REG_PC)
    as_tsktsk (_("use of r15 in bx in ARM mode is not really useful"));

  inst.instruction |= inst.operands[0].reg;
}


/* ARM v5TEJ.  Jump to Jazelle code.  */

static void
do_bxj (void)
{
  if (inst.operands[0].reg == REG_PC)
    as_tsktsk (_("use of r15 in bxj is not really useful"));

  inst.instruction |= inst.operands[0].reg;
}

/* Co-processor data operation:
      CDP{cond} <coproc>, <opcode_1>, <CRd>, <CRn>, <CRm>{, <opcode_2>}
      CDP2	<coproc>, <opcode_1>, <CRd>, <CRn>, <CRm>{, <opcode_2>}	 */
static void
do_cdp (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].imm << 20;
  inst.instruction |= inst.operands[2].reg << 12;
  inst.instruction |= inst.operands[3].reg << 16;
  inst.instruction |= inst.operands[4].reg;
  inst.instruction |= inst.operands[5].imm << 5;
}

static void
do_cmp (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  encode_arm_shifter_operand (1);
}

/* Transfer between coprocessor and ARM registers.
   MRC{cond} <coproc>, <opcode_1>, <Rd>, <CRn>, <CRm>{, <opcode_2>}
   MRC2
   MCR{cond}
   MCR2

   No special properties.  */

static void
do_co_reg (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].imm << 21;
  inst.instruction |= inst.operands[2].reg << 12;
  inst.instruction |= inst.operands[3].reg << 16;
  inst.instruction |= inst.operands[4].reg;
  inst.instruction |= inst.operands[5].imm << 5;
}

/* Transfer between coprocessor register and pair of ARM registers.
   MCRR{cond} <coproc>, <opcode>, <Rd>, <Rn>, <CRm>.
   MCRR2
   MRRC{cond}
   MRRC2

   Two XScale instructions are special cases of these:

     MAR{cond} acc0, <RdLo>, <RdHi> == MCRR{cond} p0, #0, <RdLo>, <RdHi>, c0
     MRA{cond} acc0, <RdLo>, <RdHi> == MRRC{cond} p0, #0, <RdLo>, <RdHi>, c0

   Result unpredicatable if Rd or Rn is R15.  */

static void
do_co_reg2c (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].imm << 4;
  inst.instruction |= inst.operands[2].reg << 12;
  inst.instruction |= inst.operands[3].reg << 16;
  inst.instruction |= inst.operands[4].reg;
}

static void
do_cpsi (void)
{
  inst.instruction |= inst.operands[0].imm << 6;
  if (inst.operands[1].present)
    {
      inst.instruction |= CPSI_MMOD;
      inst.instruction |= inst.operands[1].imm;
    }
}

static void
do_dbg (void)
{
  inst.instruction |= inst.operands[0].imm;
}

static void
do_div (void)
{
  if (!inst.operands[1].present)
    inst.operands[1].reg = inst.operands[0].reg;
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 8;
}

static void
do_it (void)
{
  /* There is no IT instruction in ARM mode.  We
     process it but do not generate code for it.  */
  inst.size = 0;
}

static void
do_ldmstm (void)
{
  int base_reg = inst.operands[0].reg;
  int range = inst.operands[1].imm;

  inst.instruction |= base_reg << 16;
  inst.instruction |= range;

  if (inst.operands[1].writeback)
    inst.instruction |= LDM_TYPE_2_OR_3;

  if (inst.operands[0].writeback)
    {
      inst.instruction |= WRITE_BACK;
      /* Check for unpredictable uses of writeback.  */
      if (inst.instruction & LOAD_BIT)
	{
	  /* Not allowed in LDM type 2.	 */
	  if ((inst.instruction & LDM_TYPE_2_OR_3)
	      && ((range & (1 << REG_PC)) == 0))
	    as_warn (_("writeback of base register is UNPREDICTABLE"));
	  /* Only allowed if base reg not in list for other types.  */
	  else if (range & (1 << base_reg))
	    as_warn (_("writeback of base register when in register list is UNPREDICTABLE"));
	}
      else /* STM.  */
	{
	  /* Not allowed for type 2.  */
	  if (inst.instruction & LDM_TYPE_2_OR_3)
	    as_warn (_("writeback of base register is UNPREDICTABLE"));
	  /* Only allowed if base reg not in list, or first in list.  */
	  else if ((range & (1 << base_reg))
		   && (range & ((1 << base_reg) - 1)))
	    as_warn (_("if writeback register is in list, it must be the lowest reg in the list"));
	}
    }
}

/* ARMv5TE load-consecutive (argument parse)
   Mode is like LDRH.

     LDRccD R, mode
     STRccD R, mode.  */

static void
do_ldrd (void)
{
  constraint (inst.operands[0].reg % 2 != 0,
	      _("first destination register must be even"));
  constraint (inst.operands[1].present
	      && inst.operands[1].reg != inst.operands[0].reg + 1,
	      _("can only load two consecutive registers"));
  constraint (inst.operands[0].reg == REG_LR, _("r14 not allowed here"));
  constraint (!inst.operands[2].isreg, _("'[' expected"));

  if (!inst.operands[1].present)
    inst.operands[1].reg = inst.operands[0].reg + 1;
  
  if (inst.instruction & LOAD_BIT)
    {
      /* encode_arm_addr_mode_3 will diagnose overlap between the base
	 register and the first register written; we have to diagnose
	 overlap between the base and the second register written here.	 */

      if (inst.operands[2].reg == inst.operands[1].reg
	  && (inst.operands[2].writeback || inst.operands[2].postind))
	as_warn (_("base register written back, and overlaps "
		   "second destination register"));

      /* For an index-register load, the index register must not overlap the
	 destination (even if not write-back).	*/
      else if (inst.operands[2].immisreg
	       && ((unsigned) inst.operands[2].imm == inst.operands[0].reg
		   || (unsigned) inst.operands[2].imm == inst.operands[1].reg))
	as_warn (_("index register overlaps destination register"));
    }

  inst.instruction |= inst.operands[0].reg << 12;
  encode_arm_addr_mode_3 (2, /*is_t=*/FALSE);
}

static void
do_ldrex (void)
{
  constraint (!inst.operands[1].isreg || !inst.operands[1].preind
	      || inst.operands[1].postind || inst.operands[1].writeback
	      || inst.operands[1].immisreg || inst.operands[1].shifted
	      || inst.operands[1].negative
	      /* This can arise if the programmer has written
		   strex rN, rM, foo
		 or if they have mistakenly used a register name as the last
		 operand,  eg:
		   strex rN, rM, rX
		 It is very difficult to distinguish between these two cases
		 because "rX" might actually be a label. ie the register
		 name has been occluded by a symbol of the same name. So we
		 just generate a general 'bad addressing mode' type error
		 message and leave it up to the programmer to discover the
		 true cause and fix their mistake.  */
	      || (inst.operands[1].reg == REG_PC),
	      BAD_ADDR_MODE);

  constraint (inst.reloc.exp.X_op != O_constant
	      || inst.reloc.exp.X_add_number != 0,
	      _("offset must be zero in ARM encoding"));

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.reloc.type = BFD_RELOC_UNUSED;
}

static void
do_ldrexd (void)
{
  constraint (inst.operands[0].reg % 2 != 0,
	      _("even register required"));
  constraint (inst.operands[1].present
	      && inst.operands[1].reg != inst.operands[0].reg + 1,
	      _("can only load two consecutive registers"));
  /* If op 1 were present and equal to PC, this function wouldn't
     have been called in the first place.  */
  constraint (inst.operands[0].reg == REG_LR, _("r14 not allowed here"));

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[2].reg << 16;
}

static void
do_ldst (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  if (!inst.operands[1].isreg)
    if (move_or_literal_pool (0, /*thumb_p=*/FALSE, /*mode_3=*/FALSE))
      return;
  encode_arm_addr_mode_2 (1, /*is_t=*/FALSE);
}

static void
do_ldstt (void)
{
  /* ldrt/strt always use post-indexed addressing.  Turn [Rn] into [Rn]! and
     reject [Rn,...].  */
  if (inst.operands[1].preind)
    {
      constraint (inst.reloc.exp.X_op != O_constant ||
		  inst.reloc.exp.X_add_number != 0,
		  _("this instruction requires a post-indexed address"));

      inst.operands[1].preind = 0;
      inst.operands[1].postind = 1;
      inst.operands[1].writeback = 1;
    }
  inst.instruction |= inst.operands[0].reg << 12;
  encode_arm_addr_mode_2 (1, /*is_t=*/TRUE);
}

/* Halfword and signed-byte load/store operations.  */

static void
do_ldstv4 (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  if (!inst.operands[1].isreg)
    if (move_or_literal_pool (0, /*thumb_p=*/FALSE, /*mode_3=*/TRUE))
      return;
  encode_arm_addr_mode_3 (1, /*is_t=*/FALSE);
}

static void
do_ldsttv4 (void)
{
  /* ldrt/strt always use post-indexed addressing.  Turn [Rn] into [Rn]! and
     reject [Rn,...].  */
  if (inst.operands[1].preind)
    {
      constraint (inst.reloc.exp.X_op != O_constant ||
		  inst.reloc.exp.X_add_number != 0,
		  _("this instruction requires a post-indexed address"));

      inst.operands[1].preind = 0;
      inst.operands[1].postind = 1;
      inst.operands[1].writeback = 1;
    }
  inst.instruction |= inst.operands[0].reg << 12;
  encode_arm_addr_mode_3 (1, /*is_t=*/TRUE);
}

/* Co-processor register load/store.
   Format: <LDC|STC>{cond}[L] CP#,CRd,<address>	 */
static void
do_lstc (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 12;
  encode_arm_cp_address (2, TRUE, TRUE, 0);
}

static void
do_mlas (void)
{
  /* This restriction does not apply to mls (nor to mla in v6 or later).  */
  /* Only restrict on pre-V4 architectures - radar 4474226 */
  if (inst.operands[0].reg == inst.operands[1].reg
      && !ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v4)
      && !force_cpusubtype_ALL)
    as_tsktsk (_("rd and rm should be different in mla"));

  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 8;
  inst.instruction |= inst.operands[3].reg << 12;
}

static void
do_mov (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  encode_arm_shifter_operand (1);
}

/* ARM V6T2 16-bit immediate register load: MOV[WT]{cond} Rd, #<imm16>.	 */
static void
do_mov16 (void)
{
  bfd_vma imm;
  bfd_boolean top;

  top = (inst.instruction & 0x00400000) != 0;
  constraint (top && inst.reloc.type == BFD_RELOC_ARM_MOVW,
	      _(":lower16: not allowed this instruction"));
  constraint (!top && inst.reloc.type == BFD_RELOC_ARM_MOVT,
	      _(":upper16: not allowed instruction"));
  inst.instruction |= inst.operands[0].reg << 12;
  if (inst.reloc.type == BFD_RELOC_UNUSED)
    {
      imm = inst.reloc.exp.X_add_number;
      /* The value is in two pieces: 0:11, 16:19.  */
      inst.instruction |= (imm & 0x00000fff);
      inst.instruction |= (imm & 0x0000f000) << 4;
    }
}

static void do_vfp_nsyn_opcode (const char *);

static int
do_vfp_nsyn_mrs (void)
{
  if (inst.operands[0].isvec)
    {
      if (inst.operands[1].reg != 1)
        first_error (_("operand 1 must be FPSCR"));
      memset (&inst.operands[0], '\0', sizeof (inst.operands[0]));
      memset (&inst.operands[1], '\0', sizeof (inst.operands[1]));
      do_vfp_nsyn_opcode ("fmstat");
    }
  else if (inst.operands[1].isvec)
    do_vfp_nsyn_opcode ("fmrx");
  else
    return FAIL;
    
  return SUCCESS;
}

static int
do_vfp_nsyn_msr (void)
{
  if (inst.operands[0].isvec)
    do_vfp_nsyn_opcode ("fmxr");
  else
    return FAIL;

  return SUCCESS;
}

static void
do_mrs (void)
{
  if (do_vfp_nsyn_mrs () == SUCCESS)
    return;

  /* mrs only accepts CPSR/SPSR/CPSR_all/SPSR_all.  */
  constraint ((inst.operands[1].imm & (PSR_c|PSR_x|PSR_s|PSR_f))
	      != (PSR_c|PSR_f),
	      _("'CPSR' or 'SPSR' expected"));
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= (inst.operands[1].imm & SPSR_BIT);
}

static void
do_vmrs (void)
{
  if (inst.operands[0].isvec)
    {
      if (inst.operands[1].reg != 1)
        first_error (_("operand 1 must be FPSCR"));
      memset (&inst.operands[0], '\0', sizeof (inst.operands[0]));
      memset (&inst.operands[1], '\0', sizeof (inst.operands[1]));
      do_vfp_nsyn_opcode ("fmstat");
    }
  else
    do_rd_rn();
}

/* Two possible forms:
      "{C|S}PSR_<field>, Rm",
      "{C|S}PSR_f, #expression".  */

static void
do_msr (void)
{
  if (do_vfp_nsyn_msr () == SUCCESS)
    return;

  inst.instruction |= inst.operands[0].imm;
  if (inst.operands[1].isreg)
    inst.instruction |= inst.operands[1].reg;
  else
    {
      inst.instruction |= INST_IMMEDIATE;
      inst.reloc.type = BFD_RELOC_ARM_IMMEDIATE;
      inst.reloc.pc_rel = 0;
    }
}

static void
do_mul (void)
{
  if (!inst.operands[2].present)
    inst.operands[2].reg = inst.operands[0].reg;
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 8;

  /* Only restrict on pre-V4 architectures - radar 4474226 */
  if (inst.operands[0].reg == inst.operands[1].reg
      && !ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v4)
      && !force_cpusubtype_ALL)
    as_tsktsk (_("Rd and Rm should be different in mul"));
}

/* Long Multiply Parser
   UMULL RdLo, RdHi, Rm, Rs
   SMULL RdLo, RdHi, Rm, Rs
   UMLAL RdLo, RdHi, Rm, Rs
   SMLAL RdLo, RdHi, Rm, Rs.  */

static void
do_mull (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  inst.instruction |= inst.operands[3].reg << 8;

  /* Only restrict rm on pre-V4 architectures - radar 4474226 */
  if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v4)
      || force_cpusubtype_ALL)
    {
      if (inst.operands[0].reg == inst.operands[1].reg)
	as_tsktsk (_("rdhi and rdlo must be different"));
    }
  else
    {
      /* rdhi, rdlo and rm must all be different.  */
      if (inst.operands[0].reg == inst.operands[1].reg
          || inst.operands[0].reg == inst.operands[2].reg
          || inst.operands[1].reg == inst.operands[2].reg)
        as_tsktsk (_("rdhi, rdlo and rm must all be different"));
    }
}

static void
do_nop (void)
{
  if (inst.operands[0].present)
    {
      /* Architectural NOP hints are CPSR sets with no bits selected.  */
      inst.instruction &= 0xf0000000;
      inst.instruction |= 0x0320f000 + inst.operands[0].imm;
    }
}

/* ARM V6 Pack Halfword Bottom Top instruction (argument parse).
   PKHBT {<cond>} <Rd>, <Rn>, <Rm> {, LSL #<shift_imm>}
   Condition defaults to COND_ALWAYS.
   Error if Rd, Rn or Rm are R15.  */

static void
do_pkhbt (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  if (inst.operands[3].present)
    encode_arm_shift (3);
}

/* ARM V6 PKHTB (Argument Parse).  */

static void
do_pkhtb (void)
{
  if (!inst.operands[3].present)
    {
      /* If the shift specifier is omitted, turn the instruction
	 into pkhbt rd, rm, rn. */
      inst.instruction &= 0xfff00010;
      inst.instruction |= inst.operands[0].reg << 12;
      inst.instruction |= inst.operands[1].reg;
      inst.instruction |= inst.operands[2].reg << 16;
    }
  else
    {
      inst.instruction |= inst.operands[0].reg << 12;
      inst.instruction |= inst.operands[1].reg << 16;
      inst.instruction |= inst.operands[2].reg;
      encode_arm_shift (3);
    }
}

/* ARMv5TE: Preload-Cache

    PLD <addr_mode>

  Syntactically, like LDR with B=1, W=0, L=1.  */

static void
do_pld (void)
{
  constraint (!inst.operands[0].isreg,
	      _("'[' expected after PLD mnemonic"));
  constraint (inst.operands[0].postind,
	      _("post-indexed expression used in preload instruction"));
  constraint (inst.operands[0].writeback,
	      _("writeback used in preload instruction"));
  constraint (!inst.operands[0].preind,
	      _("unindexed addressing used in preload instruction"));
  encode_arm_addr_mode_2 (0, /*is_t=*/FALSE);
}

/* ARMv7: PLI <addr_mode>  */
static void
do_pli (void)
{
  constraint (!inst.operands[0].isreg,
	      _("'[' expected after PLI mnemonic"));
  constraint (inst.operands[0].postind,
	      _("post-indexed expression used in preload instruction"));
  constraint (inst.operands[0].writeback,
	      _("writeback used in preload instruction"));
  constraint (!inst.operands[0].preind,
	      _("unindexed addressing used in preload instruction"));
  encode_arm_addr_mode_2 (0, /*is_t=*/FALSE);
  inst.instruction &= ~PRE_INDEX;
}

static void
do_push_pop (void)
{
  inst.operands[1] = inst.operands[0];
  memset (&inst.operands[0], 0, sizeof inst.operands[0]);
  inst.operands[0].isreg = 1;
  inst.operands[0].writeback = 1;
  inst.operands[0].reg = REG_SP;
  do_ldmstm ();
}

/* ARM V6 RFE (Return from Exception) loads the PC and CPSR from the
   word at the specified address and the following word
   respectively.
   Unconditionally executed.
   Error if Rn is R15.	*/

static void
do_rfe (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  if (inst.operands[0].writeback)
    inst.instruction |= WRITE_BACK;
}

/* ARM V6 ssat (argument parse).  */

static void
do_ssat (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= (inst.operands[1].imm - 1) << 16;
  inst.instruction |= inst.operands[2].reg;

  if (inst.operands[3].present)
    encode_arm_shift (3);
}

/* ARM V6 usat (argument parse).  */

static void
do_usat (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].imm << 16;
  inst.instruction |= inst.operands[2].reg;

  if (inst.operands[3].present)
    encode_arm_shift (3);
}

/* ARM V6 ssat16 (argument parse).  */

static void
do_ssat16 (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= ((inst.operands[1].imm - 1) << 16);
  inst.instruction |= inst.operands[2].reg;
}

static void
do_usat16 (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].imm << 16;
  inst.instruction |= inst.operands[2].reg;
}

/* ARM V6 SETEND (argument parse).  Sets the E bit in the CPSR while
   preserving the other bits.

   setend <endian_specifier>, where <endian_specifier> is either
   BE or LE.  */

static void
do_setend (void)
{
  if (inst.operands[0].imm)
    inst.instruction |= 0x200;
}

static void
do_shift (void)
{
  unsigned int Rm = (inst.operands[1].present
		     ? inst.operands[1].reg
		     : inst.operands[0].reg);

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= Rm;
  if (inst.operands[2].isreg)  /* Rd, {Rm,} Rs */
    {
      inst.instruction |= inst.operands[2].reg << 8;
      inst.instruction |= SHIFT_BY_REG;
    }
  else
    inst.reloc.type = BFD_RELOC_ARM_SHIFT_IMM;
}

static void
do_smc (void)
{
  inst.reloc.type = BFD_RELOC_ARM_SMC;
  inst.reloc.pc_rel = 0;
}

static void
do_swi (void)
{
  inst.reloc.type = BFD_RELOC_ARM_SWI;
  inst.reloc.pc_rel = 0;
}

/* ARM V5E (El Segundo) signed-multiply-accumulate (argument parse)
   SMLAxy{cond} Rd,Rm,Rs,Rn
   SMLAWy{cond} Rd,Rm,Rs,Rn
   Error if any register is R15.  */

static void
do_smla (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 8;
  inst.instruction |= inst.operands[3].reg << 12;
}

/* ARM V5E (El Segundo) signed-multiply-accumulate-long (argument parse)
   SMLALxy{cond} Rdlo,Rdhi,Rm,Rs
   Error if any register is R15.
   Warning if Rdlo == Rdhi.  */

static void
do_smlal (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  inst.instruction |= inst.operands[3].reg << 8;

  if (inst.operands[0].reg == inst.operands[1].reg)
    as_tsktsk (_("rdhi and rdlo must be different"));
}

/* ARM V5E (El Segundo) signed-multiply (argument parse)
   SMULxy{cond} Rd,Rm,Rs
   Error if any register is R15.  */

static void
do_smul (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 8;
}

/* ARM V6 srs (argument parse).  The variable fields in the encoding are
   the same for both ARM and Thumb-2.  */

static void
do_srs (void)
{
  int reg;

  if (inst.operands[0].present)
    {
      reg = inst.operands[0].reg;
      constraint (reg != 13, _("SRS base register must be r13"));
    }
  else
    reg = 13;

  inst.instruction |= reg << 16;
  inst.instruction |= inst.operands[1].imm;
  if (inst.operands[0].writeback || inst.operands[1].writeback)
    inst.instruction |= WRITE_BACK;
}

/* ARM V6 strex (argument parse).  */

static void
do_strex (void)
{
  constraint (!inst.operands[2].isreg || !inst.operands[2].preind
	      || inst.operands[2].postind || inst.operands[2].writeback
	      || inst.operands[2].immisreg || inst.operands[2].shifted
	      || inst.operands[2].negative
	      /* See comment in do_ldrex().  */
	      || (inst.operands[2].reg == REG_PC),
	      BAD_ADDR_MODE);

  constraint (inst.operands[0].reg == inst.operands[1].reg
	      || inst.operands[0].reg == inst.operands[2].reg, BAD_OVERLAP);

  constraint (inst.reloc.exp.X_op != O_constant
	      || inst.reloc.exp.X_add_number != 0,
	      _("offset must be zero in ARM encoding"));

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 16;
  inst.reloc.type = BFD_RELOC_UNUSED;
}

static void
do_strexd (void)
{
  constraint (inst.operands[1].reg % 2 != 0,
	      _("even register required"));
  constraint (inst.operands[2].present
	      && inst.operands[2].reg != inst.operands[1].reg + 1,
	      _("can only store two consecutive registers"));
  /* If op 2 were present and equal to PC, this function wouldn't
     have been called in the first place.  */
  constraint (inst.operands[1].reg == REG_LR, _("r14 not allowed here"));

  constraint (inst.operands[0].reg == inst.operands[1].reg
	      || inst.operands[0].reg == inst.operands[1].reg + 1
	      || inst.operands[0].reg == inst.operands[3].reg,
	      BAD_OVERLAP);

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[3].reg << 16;
}

/* ARM V6 SXTAH extracts a 16-bit value from a register, sign
   extends it to 32-bits, and adds the result to a value in another
   register.  You can specify a rotation by 0, 8, 16, or 24 bits
   before extracting the 16-bit value.
   SXTAH{<cond>} <Rd>, <Rn>, <Rm>{, <rotation>}
   Condition defaults to COND_ALWAYS.
   Error if any register uses R15.  */

static void
do_sxtah (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  inst.instruction |= inst.operands[3].imm << 10;
}

/* ARM V6 SXTH.

   SXTH {<cond>} <Rd>, <Rm>{, <rotation>}
   Condition defaults to COND_ALWAYS.
   Error if any register uses R15.  */

static void
do_sxth (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].imm << 10;
}

/* VFP instructions.  In a logical order: SP variant first, monad
   before dyad, arithmetic then move then load/store.  */

static void
do_vfp_sp_monadic (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sm);
}

static void
do_vfp_sp_dyadic (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sn);
  encode_arm_vfp_reg (inst.operands[2].reg, VFP_REG_Sm);
}

static void
do_vfp_sp_compare_z (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
}

static void
do_vfp_dp_sp_cvt (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sm);
}

static void
do_vfp_sp_dp_cvt (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dm);
}

static void
do_vfp_sp_hp_cvt (void)
{
  if (thumb_mode)
    inst.instruction |= 0xff000000;
  else
    {
      inst.instruction |= 0xf3000000;
      if(inst.cond != COND_ALWAYS)
	{
	  /* delayed diagnostic */
	  inst.error = BAD_COND;
	  inst.cond = COND_ALWAYS;
	}
    }
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dm);
}

static void
do_vfp_hp_sp_cvt (void)
{
  if (thumb_mode)
    inst.instruction |= 0xff000000;
  else
    {
      inst.instruction |= 0xf3000000;
      if(inst.cond != COND_ALWAYS)
	{
	  /* delayed diagnostic */
	  inst.error = BAD_COND;
	  inst.cond = COND_ALWAYS;
	}
    }
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dm);
}

static void
do_vfp_t_sp_hp_cvt (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sm);
}

static void
do_vfp_b_sp_hp_cvt (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sm);
}

static void
do_vfp_t_hp_sp_cvt (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sm);
}

static void
do_vfp_b_hp_sp_cvt (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sm);
}

static void
do_vfp_reg_from_sp (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sn);
}

static void
do_vfp_reg2_from_sp2 (void)
{
  constraint (inst.operands[2].imm != 2,
	      _("only two consecutive VFP SP registers allowed here"));
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  encode_arm_vfp_reg (inst.operands[2].reg, VFP_REG_Sm);
}

static void
do_vfp_sp_from_reg (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sn);
  inst.instruction |= inst.operands[1].reg << 12;
}

static void
do_vfp_sp2_from_reg2 (void)
{
  constraint (inst.operands[0].imm != 2,
	      _("only two consecutive VFP SP registers allowed here"));
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sm);
  inst.instruction |= inst.operands[1].reg << 12;
  inst.instruction |= inst.operands[2].reg << 16;
}

static void
do_vfp_sp_ldst (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  encode_arm_cp_address (1, FALSE, TRUE, 0);
}

static void
do_vfp_dp_ldst (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  encode_arm_cp_address (1, FALSE, TRUE, 0);
}


static void
vfp_sp_ldstm (enum vfp_ldstm_type ldstm_type)
{
  if (inst.operands[0].writeback)
    inst.instruction |= WRITE_BACK;
  else
    constraint (ldstm_type != VFP_LDSTMIA,
		_("this addressing mode requires base-register writeback"));
  inst.instruction |= inst.operands[0].reg << 16;
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Sd);
  inst.instruction |= inst.operands[1].imm;
}

static void
vfp_dp_ldstm (enum vfp_ldstm_type ldstm_type)
{
  int count;

  if (inst.operands[0].writeback)
    inst.instruction |= WRITE_BACK;
  else
    constraint (ldstm_type != VFP_LDSTMIA && ldstm_type != VFP_LDSTMIAX,
		_("this addressing mode requires base-register writeback"));

  inst.instruction |= inst.operands[0].reg << 16;
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dd);

  count = inst.operands[1].imm << 1;
  if (ldstm_type == VFP_LDSTMIAX || ldstm_type == VFP_LDSTMDBX)
    count += 1;

  inst.instruction |= count;
}

static void
do_vfp_sp_ldstmia (void)
{
  vfp_sp_ldstm (VFP_LDSTMIA);
}

static void
do_vfp_sp_ldstmdb (void)
{
  vfp_sp_ldstm (VFP_LDSTMDB);
}

static void
do_vfp_dp_ldstmia (void)
{
  vfp_dp_ldstm (VFP_LDSTMIA);
}

static void
do_vfp_dp_ldstmdb (void)
{
  vfp_dp_ldstm (VFP_LDSTMDB);
}

static void
do_vfp_xp_ldstmia (void)
{
  vfp_dp_ldstm (VFP_LDSTMIAX);
}

static void
do_vfp_xp_ldstmdb (void)
{
  vfp_dp_ldstm (VFP_LDSTMDBX);
}

static void
do_vfp_dp_rd_rm (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dm);
}

static void
do_vfp_dp_rn_rd (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dn);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dd);
}

static void
do_vfp_dp_rd_rn (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dn);
}

static void
do_vfp_dp_rd_rn_rm (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dn);
  encode_arm_vfp_reg (inst.operands[2].reg, VFP_REG_Dm);
}

static void
do_vfp_dp_rd (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
}

static void
do_vfp_dp_rm_rd_rn (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dm);
  encode_arm_vfp_reg (inst.operands[1].reg, VFP_REG_Dd);
  encode_arm_vfp_reg (inst.operands[2].reg, VFP_REG_Dn);
}

/* VFPv3 instructions.  */
static void
do_vfp_sp_const (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  inst.instruction |= (inst.operands[1].imm & 0xf0) << 12;
  inst.instruction |= (inst.operands[1].imm & 0x0f);
}

static void
do_vfp_dp_const (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  inst.instruction |= (inst.operands[1].imm & 0xf0) << 12;
  inst.instruction |= (inst.operands[1].imm & 0x0f);
}

static void
vfp_conv (int srcsize)
{
  unsigned immbits = srcsize - inst.operands[1].imm;
  inst.instruction |= (immbits & 1) << 5;
  inst.instruction |= (immbits >> 1);
}

static void
do_vfp_sp_conv_16 (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  vfp_conv (16);
}

static void
do_vfp_dp_conv_16 (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  vfp_conv (16);
}

static void
do_vfp_sp_conv_32 (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Sd);
  vfp_conv (32);
}

static void
do_vfp_dp_conv_32 (void)
{
  encode_arm_vfp_reg (inst.operands[0].reg, VFP_REG_Dd);
  vfp_conv (32);
}


/* FPA instructions.  Also in a logical order.	*/

static void
do_fpa_cmp (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg;
}

static void
do_fpa_ldmstm (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  switch (inst.operands[1].imm)
    {
    case 1: inst.instruction |= CP_T_X;		 break;
    case 2: inst.instruction |= CP_T_Y;		 break;
    case 3: inst.instruction |= CP_T_Y | CP_T_X; break;
    case 4:					 break;
    default: abort ();
    }

  if (inst.instruction & (PRE_INDEX | INDEX_UP))
    {
      /* The instruction specified "ea" or "fd", so we can only accept
	 [Rn]{!}.  The instruction does not really support stacking or
	 unstacking, so we have to emulate these by setting appropriate
	 bits and offsets.  */
      constraint (inst.reloc.exp.X_op != O_constant
		  || inst.reloc.exp.X_add_number != 0,
		  _("this instruction does not support indexing"));

      if ((inst.instruction & PRE_INDEX) || inst.operands[2].writeback)
	inst.reloc.exp.X_add_number = 12 * inst.operands[1].imm;

      if (!(inst.instruction & INDEX_UP))
	inst.reloc.exp.X_add_number = -inst.reloc.exp.X_add_number;

      if (!(inst.instruction & PRE_INDEX) && inst.operands[2].writeback)
	{
	  inst.operands[2].preind = 0;
	  inst.operands[2].postind = 1;
	}
    }

  encode_arm_cp_address (2, TRUE, TRUE, 0);
}


/* iWMMXt instructions: strictly in alphabetical order.	 */

static void
do_iwmmxt_tandorc (void)
{
  constraint (inst.operands[0].reg != REG_PC, _("only r15 allowed here"));
}

static void
do_iwmmxt_textrc (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].imm;
}

static void
do_iwmmxt_textrm (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].imm;
}

static void
do_iwmmxt_tinsr (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg << 12;
  inst.instruction |= inst.operands[2].imm;
}

static void
do_iwmmxt_tmia (void)
{
  inst.instruction |= inst.operands[0].reg << 5;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 12;
}

static void
do_iwmmxt_waligni (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  inst.instruction |= inst.operands[3].imm << 20;
}

static void
do_iwmmxt_wmerge (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  inst.instruction |= inst.operands[3].imm << 21;
}

static void
do_iwmmxt_wmov (void)
{
  /* WMOV rD, rN is an alias for WOR rD, rN, rN.  */
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[1].reg;
}

static void
do_iwmmxt_wldstbh (void)
{
  int reloc;
  inst.instruction |= inst.operands[0].reg << 12;
  if (thumb_mode)
    reloc = BFD_RELOC_ARM_T32_CP_OFF_IMM_S2;
  else
    reloc = BFD_RELOC_ARM_CP_OFF_IMM_S2;
  encode_arm_cp_address (1, TRUE, FALSE, reloc);
}

static void
do_iwmmxt_wldstw (void)
{
  /* RIWR_RIWC clears .isreg for a control register.  */
  if (!inst.operands[0].isreg)
    {
      constraint (inst.cond != COND_ALWAYS, BAD_COND);
      inst.instruction |= 0xf0000000;
    }

  inst.instruction |= inst.operands[0].reg << 12;
  encode_arm_cp_address (1, TRUE, TRUE, 0);
}

static void
do_iwmmxt_wldstd (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_cext_iwmmxt2)
      && inst.operands[1].immisreg)
    {
      inst.instruction &= ~0x1a000ff;
      inst.instruction |= (0xf << 28);
      if (inst.operands[1].preind)
	inst.instruction |= PRE_INDEX;
      if (!inst.operands[1].negative)
	inst.instruction |= INDEX_UP;
      if (inst.operands[1].writeback)
	inst.instruction |= WRITE_BACK;
      inst.instruction |= inst.operands[1].reg << 16;
      inst.instruction |= inst.reloc.exp.X_add_number << 4;
      inst.instruction |= inst.operands[1].imm;
    }
  else
    encode_arm_cp_address (1, TRUE, FALSE, 0);
}

static void
do_iwmmxt_wshufh (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= ((inst.operands[2].imm & 0xf0) << 16);
  inst.instruction |= (inst.operands[2].imm & 0x0f);
}

static void
do_iwmmxt_wzero (void)
{
  /* WZERO reg is an alias for WANDN reg, reg, reg.  */
  inst.instruction |= inst.operands[0].reg;
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[0].reg << 16;
}

static void
do_iwmmxt_wrwrwr_or_imm5 (void)
{
  if (inst.operands[2].isreg)
    do_rd_rn_rm ();
  else {
    constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, arm_cext_iwmmxt2),
		_("immediate operand requires iWMMXt2"));
    do_rd_rn ();
    if (inst.operands[2].imm == 0)
      {
	switch ((inst.instruction >> 20) & 0xf)
	  {
	  case 4:
	  case 5:
	  case 6:
	  case 7: 
	    /* w...h wrd, wrn, #0 -> wrorh wrd, wrn, #16.  */
	    inst.operands[2].imm = 16;
	    inst.instruction = (inst.instruction & 0xff0fffff) | (0x7 << 20);
	    break;
	  case 8:
	  case 9:
	  case 10:
	  case 11:
	    /* w...w wrd, wrn, #0 -> wrorw wrd, wrn, #32.  */
	    inst.operands[2].imm = 32;
	    inst.instruction = (inst.instruction & 0xff0fffff) | (0xb << 20);
	    break;
	  case 12:
	  case 13:
	  case 14:
	  case 15:
	    {
	      /* w...d wrd, wrn, #0 -> wor wrd, wrn, wrn.  */
	      uint32_t wrn;
	      wrn = (inst.instruction >> 16) & 0xf;
	      inst.instruction &= 0xff0fff0f;
	      inst.instruction |= wrn;
	      /* Bail out here; the instruction is now assembled.  */
	      return;
	    }
	  }
      }
    /* Map 32 -> 0, etc.  */
    inst.operands[2].imm &= 0x1f;
    inst.instruction |= (0xf << 28) | ((inst.operands[2].imm & 0x10) << 4) | (inst.operands[2].imm & 0xf);
  }
}


/* Cirrus Maverick instructions.  Simple 2-, 3-, and 4-register
   operations first, then control, shift, and load/store.  */

/* Insns like "foo X,Y,Z".  */

static void
do_mav_triple (void)
{
  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 12;
}

/* Insns like "foo W,X,Y,Z".
    where W=MVAX[0:3] and X,Y,Z=MVFX[0:15].  */

static void
do_mav_quad (void)
{
  inst.instruction |= inst.operands[0].reg << 5;
  inst.instruction |= inst.operands[1].reg << 12;
  inst.instruction |= inst.operands[2].reg << 16;
  inst.instruction |= inst.operands[3].reg;
}

/* cfmvsc32<cond> DSPSC,MVDX[15:0].  */
static void
do_mav_dspsc (void)
{
  inst.instruction |= inst.operands[1].reg << 12;
}

/* Maverick shift immediate instructions.
   cfsh32<cond> MVFX[15:0],MVFX[15:0],Shift[6:0].
   cfsh64<cond> MVDX[15:0],MVDX[15:0],Shift[6:0].  */

static void
do_mav_shift (void)
{
  int imm = inst.operands[2].imm;

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;

  /* Bits 0-3 of the insn should have bits 0-3 of the immediate.
     Bits 5-7 of the insn should have bits 4-6 of the immediate.
     Bit 4 should be 0.	 */
  imm = (imm & 0xf) | ((imm & 0x70) << 1);

  inst.instruction |= imm;
}


/* XScale instructions.	 Also sorted arithmetic before move.  */

/* Xscale multiply-accumulate (argument parse)
     MIAcc   acc0,Rm,Rs
     MIAPHcc acc0,Rm,Rs
     MIAxycc acc0,Rm,Rs.  */

static void
do_xsc_mia (void)
{
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 12;
}

/* Xscale move-accumulator-register (argument parse)

     MARcc   acc0,RdLo,RdHi.  */

static void
do_xsc_mar (void)
{
  inst.instruction |= inst.operands[1].reg << 12;
  inst.instruction |= inst.operands[2].reg << 16;
}

/* Xscale move-register-accumulator (argument parse)

     MRAcc   RdLo,RdHi,acc0.  */

static void
do_xsc_mra (void)
{
  constraint (inst.operands[0].reg == inst.operands[1].reg, BAD_OVERLAP);
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
}

/* Encoding functions relevant only to Thumb.  */

/* inst.operands[i] is a shifted-register operand; encode
   it into inst.instruction in the format used by Thumb32.  */

static void
encode_thumb32_shifted_operand (int i)
{
  unsigned int value = inst.reloc.exp.X_add_number;
  unsigned int shift = inst.operands[i].shift_kind;

  constraint (inst.operands[i].immisreg,
	      _("shift by register not allowed in thumb mode"));
  inst.instruction |= inst.operands[i].reg;
  if (shift == SHIFT_RRX)
    inst.instruction |= SHIFT_ROR << 4;
  else
    {
      constraint (inst.reloc.exp.X_op != O_constant,
		  _("expression too complex"));

      constraint (value > 32
		  || (value == 32 && (shift == SHIFT_LSL
				      || shift == SHIFT_ROR)),
		  _("shift expression is too large"));

      if (value == 0)
	shift = SHIFT_LSL;
      else if (value == 32)
	value = 0;

      inst.instruction |= shift << 4;
      inst.instruction |= (value & 0x1c) << 10;
      inst.instruction |= (value & 0x03) << 6;
    }
}


/* inst.operands[i] was set up by parse_address.  Encode it into a
   Thumb32 format load or store instruction.  Reject forms that cannot
   be used with such instructions.  If is_t is true, reject forms that
   cannot be used with a T instruction; if is_d is true, reject forms
   that cannot be used with a D instruction.  */

static void
encode_thumb32_addr_mode (int i, bfd_boolean is_t, bfd_boolean is_d)
{
  bfd_boolean is_pc = (inst.operands[i].reg == REG_PC);

  constraint (!inst.operands[i].isreg,
	      _("Instruction does not support =N addresses"));

  inst.instruction |= inst.operands[i].reg << 16;
  if (inst.operands[i].immisreg)
    {
      constraint (is_pc, _("cannot use register index with PC-relative addressing"));
      constraint (is_t || is_d, _("cannot use register index with this instruction"));
      constraint (inst.operands[i].negative,
		  _("Thumb does not support negative register indexing"));
      constraint (inst.operands[i].postind,
		  _("Thumb does not support register post-indexing"));
      constraint (inst.operands[i].writeback,
		  _("Thumb does not support register indexing with writeback"));
      constraint (inst.operands[i].shifted && inst.operands[i].shift_kind != SHIFT_LSL,
		  _("Thumb supports only LSL in shifted register indexing"));

      inst.instruction |= inst.operands[i].imm;
      if (inst.operands[i].shifted)
	{
	  constraint (inst.reloc.exp.X_op != O_constant,
		      _("expression too complex"));
	  constraint (inst.reloc.exp.X_add_number < 0
		      || inst.reloc.exp.X_add_number > 3,
		      _("shift out of range"));
	  inst.instruction |= inst.reloc.exp.X_add_number << 4;
	}
      inst.reloc.type = BFD_RELOC_UNUSED;
    }
  else if (inst.operands[i].preind)
    {
      constraint (is_pc && inst.operands[i].writeback,
		  _("cannot use writeback with PC-relative addressing"));
      constraint (is_t && inst.operands[i].writeback,
		  _("cannot use writeback with this instruction"));

      if (is_d)
	{
	  inst.instruction |= 0x01000000;
	  if (inst.operands[i].writeback)
	    inst.instruction |= 0x00200000;
	}
      else
	{
	  inst.instruction |= 0x00000c00;
	  if (inst.operands[i].writeback)
	    inst.instruction |= 0x00000100;
	}
      inst.reloc.type = BFD_RELOC_ARM_T32_OFFSET_IMM;
    }
  else if (inst.operands[i].postind)
    {
      assert (inst.operands[i].writeback);
      constraint (is_pc, _("cannot use post-indexing with PC-relative addressing"));
      constraint (is_t, _("cannot use post-indexing with this instruction"));

      if (is_d)
	inst.instruction |= 0x00200000;
      else
	inst.instruction |= 0x00000900;
      inst.reloc.type = BFD_RELOC_ARM_T32_OFFSET_IMM;
    }
  else /* unindexed - only for coprocessor */
    inst.error = _("instruction does not accept unindexed addressing");
}

#endif /* INSNS_TABLE_ONLY */

/* Table of Thumb instructions which exist in both 16- and 32-bit
   encodings (the latter only in post-V6T2 cores).  The index is the
   value used in the insns table below.  When there is more than one
   possible 16-bit encoding for the instruction, this table always
   holds variant (1).
   Also contains several pseudo-instructions used during relaxation.  */
#define T16_32_TAB				\
  X(adc,   4140, eb400000),			\
  X(adcs,  4140, eb500000),			\
  X(add,   1c00, eb000000),			\
  X(adds,  1c00, eb100000),			\
  X(addi,  0000, f1000000),			\
  X(addis, 0000, f1100000),			\
  X(add_pc,000f, f20f0000),			\
  X(add_sp,000d, f10d0000),			\
  X(adr,   000f, f20f0000),			\
  X(and,   4000, ea000000),			\
  X(ands,  4000, ea100000),			\
  X(asr,   1000, fa40f000),			\
  X(asrs,  1000, fa50f000),			\
  X(b,     e000, f000b000),			\
  X(bcond, d000, f0008000),			\
  X(bic,   4380, ea200000),			\
  X(bics,  4380, ea300000),			\
  X(cmn,   42c0, eb100f00),			\
  X(cmp,   2800, ebb00f00),			\
  X(cpsie, b660, f3af8400),			\
  X(cpsid, b670, f3af8600),			\
  X(cpy,   4600, ea4f0000),			\
  X(dec_sp,80dd, f1ad0d00),			\
  X(eor,   4040, ea800000),			\
  X(eors,  4040, ea900000),			\
  X(inc_sp,00dd, f10d0d00),			\
  X(ldmia, c800, e8900000),			\
  X(ldr,   6800, f8500000),			\
  X(ldrb,  7800, f8100000),			\
  X(ldrh,  8800, f8300000),			\
  X(ldrsb, 5600, f9100000),			\
  X(ldrsh, 5e00, f9300000),			\
  X(ldr_pc,4800, f85f0000),			\
  X(ldr_pc2,4800, f85f0000),			\
  X(ldr_sp,9800, f85d0000),			\
  X(lsl,   0000, fa00f000),			\
  X(lsls,  0000, fa10f000),			\
  X(lsr,   0800, fa20f000),			\
  X(lsrs,  0800, fa30f000),			\
  X(mov,   2000, ea4f0000),			\
  X(movs,  2000, ea5f0000),			\
  X(mul,   4340, fb00f000),                     \
  X(muls,  4340, ffffffff), /* no 32b muls */	\
  X(mvn,   43c0, ea6f0000),			\
  X(mvns,  43c0, ea7f0000),			\
  X(neg,   4240, f1c00000), /* rsb #0 */	\
  X(negs,  4240, f1d00000), /* rsbs #0 */	\
  X(orr,   4300, ea400000),			\
  X(orrs,  4300, ea500000),			\
  X(pop,   bc00, e8bd0000), /* ldmia sp!,... */	\
  X(push,  b400, e92d0000), /* stmdb sp!,... */	\
  X(rev,   ba00, fa90f080),			\
  X(rev16, ba40, fa90f090),			\
  X(revsh, bac0, fa90f0b0),			\
  X(ror,   41c0, fa60f000),			\
  X(rors,  41c0, fa70f000),			\
  X(sbc,   4180, eb600000),			\
  X(sbcs,  4180, eb700000),			\
  X(stmia, c000, e8800000),			\
  X(str,   6000, f8400000),			\
  X(strb,  7000, f8000000),			\
  X(strh,  8000, f8200000),			\
  X(str_sp,9000, f84d0000),			\
  X(sub,   1e00, eba00000),			\
  X(subs,  1e00, ebb00000),			\
  X(subi,  8000, f1a00000),			\
  X(subis, 8000, f1b00000),			\
  X(sxtb,  b240, fa4ff080),			\
  X(sxth,  b200, fa0ff080),			\
  X(tst,   4200, ea100f00),			\
  X(uxtb,  b2c0, fa5ff080),			\
  X(uxth,  b280, fa1ff080),			\
  X(nop,   bf00, f3af8000),			\
  X(yield, bf10, f3af8001),			\
  X(wfe,   bf20, f3af8002),			\
  X(wfi,   bf30, f3af8003),			\
  X(sev,   bf40, f3af8004),

/* To catch errors in encoding functions, the codes are all offset by
   0xF800, putting them in one of the 32-bit prefix ranges, ergo undefined
   as 16-bit instructions.  */
#define X(a,b,c) T_MNEM_##a
enum t16_32_codes { T16_32_OFFSET = 0xF7FF, T16_32_TAB };
#undef X

#define X(a,b,c) 0x##b
static const unsigned short thumb_op16[] = { T16_32_TAB };
#define THUMB_OP16(n) (thumb_op16[(n) - (T16_32_OFFSET + 1)])
#undef X

#define X(a,b,c) 0x##c
static const unsigned int thumb_op32[] = { T16_32_TAB };
#define THUMB_OP32(n) (thumb_op32[(n) - (T16_32_OFFSET + 1)])
#define THUMB_SETS_FLAGS(n) (THUMB_OP32 (n) & 0x00100000)
#undef X
#undef T16_32_TAB

#ifndef INSNS_TABLE_ONLY

/* Thumb instruction encoders, in alphabetical order.  */

/* ADDW or SUBW.  */
static void
do_t_add_sub_w (void)
{
  int Rd, Rn;

  Rd = inst.operands[0].reg;
  Rn = inst.operands[1].reg;

  constraint (Rd == 15, _("PC not allowed as destination"));
  inst.instruction |= (Rn << 16) | (Rd << 8);
  inst.reloc.type = BFD_RELOC_ARM_T32_IMM12;
}

/* Parse an add or subtract instruction.  We get here with inst.instruction
   equalling any of THUMB_OPCODE_add, adds, sub, or subs.  */

static void
do_t_add_sub (void)
{
  int Rd, Rs, Rn;

  Rd = inst.operands[0].reg;
  Rs = (inst.operands[1].present
	? inst.operands[1].reg    /* Rd, Rs, foo */
	: inst.operands[0].reg);  /* Rd, foo -> Rd, Rd, foo */

  if (unified_syntax)
    {
      bfd_boolean flags;
      bfd_boolean narrow;
      int opcode;

      flags = (inst.instruction == T_MNEM_adds
	       || inst.instruction == T_MNEM_subs);
      if (flags)
	narrow = (current_it_mask == 0);
      else
	narrow = (current_it_mask != 0);
      if (!inst.operands[2].isreg)
	{
	  int add;

	  add = (inst.instruction == T_MNEM_add
		 || inst.instruction == T_MNEM_adds);
	  opcode = 0;
	  if (inst.size_req != 4)
	    {
	      /* Attempt to use a narrow opcode, with relaxation if
	         appropriate.  */
	      if (Rd == REG_SP && Rs == REG_SP && !flags)
		opcode = add ? T_MNEM_inc_sp : T_MNEM_dec_sp;
	      else if (Rd <= 7 && Rs == REG_SP && add && !flags)
		opcode = T_MNEM_add_sp;
	      else if (Rd <= 7 && Rs == REG_PC && add && !flags)
		opcode = T_MNEM_add_pc;
	      else if (Rd <= 7 && Rs <= 7 && narrow)
		{
		  if (flags)
		    opcode = add ? T_MNEM_addis : T_MNEM_subis;
		  else
		    opcode = add ? T_MNEM_addi : T_MNEM_subi;
		}
	      if (opcode)
		{
		  inst.instruction = THUMB_OP16(opcode);
		  inst.instruction |= (Rd << 4) | Rs;
	  	  inst.instruction |= (inst.operands[1].present
				       ? 0x0100 : 0x0000);
		  inst.reloc.type = BFD_RELOC_ARM_THUMB_ADD;
		  if (inst.size_req != 2)
		    inst.relax = opcode;
		}
	      else
		constraint (inst.size_req == 2, BAD_HIREG);
	    }
	  if (inst.size_req == 4
	      || (inst.size_req != 2 && !opcode))
	    {
	      if (Rd == REG_PC)
		{
		  constraint (Rs != REG_LR || inst.instruction != T_MNEM_subs,
			     _("only SUBS PC, LR, #const allowed"));
		  constraint (inst.reloc.exp.X_op != O_constant,
			      _("expression too complex"));
		  constraint (inst.reloc.exp.X_add_number < 0
			      || inst.reloc.exp.X_add_number > 0xff,
			     _("immediate value out of range"));
		  inst.instruction = T2_SUBS_PC_LR
				     | inst.reloc.exp.X_add_number;
		  inst.reloc.type = BFD_RELOC_UNUSED;
		  return;
		}
	      else if (Rs == REG_PC)
		{
		  /* Always use addw/subw.  */
		  inst.instruction = add ? 0xf20f0000 : 0xf2af0000;
		  inst.reloc.type = BFD_RELOC_ARM_T32_IMM12;
		}
	      else
		{
		  inst.instruction = THUMB_OP32 (inst.instruction);
		  inst.instruction = (inst.instruction & 0xe1ffffff)
				     | 0x10000000;
		  if (flags)
		    inst.reloc.type = BFD_RELOC_ARM_T32_IMMEDIATE;
		  else
		    inst.reloc.type = BFD_RELOC_ARM_T32_ADD_IMM;
		}
	      inst.instruction |= Rd << 8;
	      inst.instruction |= Rs << 16;
	    }
	}
      else
	{
	  Rn = inst.operands[2].reg;
	  /* See if we can do this with a 16-bit instruction.  */
	  if (!inst.operands[2].shifted && inst.size_req != 4)
	    {
	      if (Rd > 7 || Rs > 7 || Rn > 7)
		narrow = FALSE;

	      if (narrow)
		{
		  inst.instruction = ((inst.instruction == T_MNEM_adds
				       || inst.instruction == T_MNEM_add)
				      ? T_OPCODE_ADD_R3
				      : T_OPCODE_SUB_R3);
		  inst.instruction |= Rd | (Rs << 3) | (Rn << 6);
		  return;
		}

	      if (inst.instruction == T_MNEM_add)
		{
		  if (Rd == Rs)
		    {
		      inst.instruction = T_OPCODE_ADD_HI;
		      inst.instruction |= (Rd & 8) << 4;
		      inst.instruction |= (Rd & 7);
		      inst.instruction |= Rn << 3;
		      return;
		    }
		  /* ... because addition is commutative! */
		  else if (Rd == Rn)
		    {
		      inst.instruction = T_OPCODE_ADD_HI;
		      inst.instruction |= (Rd & 8) << 4;
		      inst.instruction |= (Rd & 7);
		      inst.instruction |= Rs << 3;
		      return;
		    }
		}
	    }
	  /* If we get here, it can't be done in 16 bits.  */
	  constraint (inst.operands[2].shifted && inst.operands[2].immisreg,
		      _("shift must be constant"));
	  inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction |= Rd << 8;
	  inst.instruction |= Rs << 16;
	  encode_thumb32_shifted_operand (2);
	}
    }
  else
    {
      constraint (inst.instruction == T_MNEM_adds
		  || inst.instruction == T_MNEM_subs,
		  BAD_THUMB32);

      if (!inst.operands[2].isreg) /* Rd, Rs, #imm */
	{
	  constraint ((Rd > 7 && (Rd != REG_SP || Rs != REG_SP))
		      || (Rs > 7 && Rs != REG_SP && Rs != REG_PC),
		      BAD_HIREG);

	  inst.instruction = (inst.instruction == T_MNEM_add
			      ? 0x0000 : 0x8000);
	  inst.instruction |= (Rd << 4) | Rs;
	  inst.instruction |= (inst.operands[1].present
			       ? 0x0100 : 0x0000);
	  inst.reloc.type = BFD_RELOC_ARM_THUMB_ADD;
	  return;
	}

      Rn = inst.operands[2].reg;
      constraint (inst.operands[2].shifted, _("unshifted register required"));

      /* We now have Rd, Rs, and Rn set to registers.  */
      if (Rd > 7 || Rs > 7 || Rn > 7)
	{
	  /* Can't do this for SUB.	 */
	  constraint (inst.instruction == T_MNEM_sub, BAD_HIREG);
	  inst.instruction = T_OPCODE_ADD_HI;
	  inst.instruction |= (Rd & 8) << 4;
	  inst.instruction |= (Rd & 7);
	  if (Rs == Rd)
	    inst.instruction |= Rn << 3;
	  else if (Rn == Rd)
	    inst.instruction |= Rs << 3;
	  else
	    constraint (1, _("dest must overlap one source register"));
	}
      else
	{
	  inst.instruction = (inst.instruction == T_MNEM_add
			      ? T_OPCODE_ADD_R3 : T_OPCODE_SUB_R3);
	  inst.instruction |= Rd | (Rs << 3) | (Rn << 6);
	}
    }
}

static void
do_t_adr (void)
{
  if (unified_syntax && inst.size_req == 0 && inst.operands[0].reg <= 7)
    {
      /* Defer to section relaxation.  */
      inst.relax = inst.instruction;
      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= inst.operands[0].reg << 4;
    }
  else if (unified_syntax && inst.size_req != 2)
    {
      /* Generate a 32-bit opcode.  */
      inst.instruction = THUMB_OP32 (inst.instruction);
      inst.instruction |= inst.operands[0].reg << 8;
      inst.reloc.type = BFD_RELOC_ARM_T32_ADD_PC12;
      inst.reloc.pc_rel = 1;
    }
  else
    {
      /* Generate a 16-bit opcode.  */
      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.reloc.type = BFD_RELOC_ARM_THUMB_ADD;
      inst.reloc.exp.X_add_number -= 4; /* PC relative adjust.  */
      inst.reloc.pc_rel = 1;

      inst.instruction |= inst.operands[0].reg << 4;
    }
}

/* Arithmetic instructions for which there is just one 16-bit
   instruction encoding, and it allows only two low registers.
   For maximal compatibility with ARM syntax, we allow three register
   operands even when Thumb-32 instructions are not available, as long
   as the first two are identical.  For instance, both "sbc r0,r1" and
   "sbc r0,r0,r1" are allowed.  */
static void
do_t_arit3 (void)
{
  int Rd, Rs, Rn;

  Rd = inst.operands[0].reg;
  Rs = (inst.operands[1].present
	? inst.operands[1].reg    /* Rd, Rs, foo */
	: inst.operands[0].reg);  /* Rd, foo -> Rd, Rd, foo */
  Rn = inst.operands[2].reg;

  if (unified_syntax)
    {
      if (!inst.operands[2].isreg)
	{
	  /* For an immediate, we always generate a 32-bit opcode;
	     section relaxation will shrink it later if possible.  */
	  inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction = (inst.instruction & 0xe1ffffff) | 0x10000000;
	  inst.instruction |= Rd << 8;
	  inst.instruction |= Rs << 16;
	  inst.reloc.type = BFD_RELOC_ARM_T32_IMMEDIATE;
	}
      else
	{
	  bfd_boolean narrow;

	  /* See if we can do this with a 16-bit instruction.  */
	  if (THUMB_SETS_FLAGS (inst.instruction))
	    narrow = current_it_mask == 0;
	  else
	    narrow = current_it_mask != 0;

	  if (Rd > 7 || Rn > 7 || Rs > 7)
	    narrow = FALSE;
	  if (inst.operands[2].shifted)
	    narrow = FALSE;
	  if (inst.size_req == 4)
	    narrow = FALSE;

	  if (narrow
	      && Rd == Rs)
	    {
	      inst.instruction = THUMB_OP16 (inst.instruction);
	      inst.instruction |= Rd;
	      inst.instruction |= Rn << 3;
	      return;
	    }

	  /* If we get here, it can't be done in 16 bits.  */
	  constraint (inst.operands[2].shifted
		      && inst.operands[2].immisreg,
		      _("shift must be constant"));
	  inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction |= Rd << 8;
	  inst.instruction |= Rs << 16;
	  encode_thumb32_shifted_operand (2);
	}
    }
  else
    {
      /* On its face this is a lie - the instruction does set the
	 flags.  However, the only supported mnemonic in this mode
	 says it doesn't.  */
      constraint (THUMB_SETS_FLAGS (inst.instruction), BAD_THUMB32);

      constraint (!inst.operands[2].isreg || inst.operands[2].shifted,
		  _("unshifted register required"));
      constraint (Rd > 7 || Rs > 7 || Rn > 7, BAD_HIREG);
      constraint (Rd != Rs,
		  _("dest and source1 must be the same register"));

      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= Rd;
      inst.instruction |= Rn << 3;
    }
}

/* Similarly, but for instructions where the arithmetic operation is
   commutative, so we can allow either of them to be different from
   the destination operand in a 16-bit instruction.  For instance, all
   three of "adc r0,r1", "adc r0,r0,r1", and "adc r0,r1,r0" are
   accepted.  */
static void
do_t_arit3c (void)
{
  int Rd, Rs, Rn;

  Rd = inst.operands[0].reg;
  Rs = (inst.operands[1].present
	? inst.operands[1].reg    /* Rd, Rs, foo */
	: inst.operands[0].reg);  /* Rd, foo -> Rd, Rd, foo */
  Rn = inst.operands[2].reg;

  if (unified_syntax)
    {
      if (!inst.operands[2].isreg)
	{
	  /* For an immediate, we always generate a 32-bit opcode;
	     section relaxation will shrink it later if possible.  */
	  inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction = (inst.instruction & 0xe1ffffff) | 0x10000000;
	  inst.instruction |= Rd << 8;
	  inst.instruction |= Rs << 16;
	  inst.reloc.type = BFD_RELOC_ARM_T32_IMMEDIATE;
	}
      else
	{
	  bfd_boolean narrow;

	  /* See if we can do this with a 16-bit instruction.  */
	  if (THUMB_SETS_FLAGS (inst.instruction))
	    narrow = current_it_mask == 0;
	  else
	    narrow = current_it_mask != 0;

	  if (Rd > 7 || Rn > 7 || Rs > 7)
	    narrow = FALSE;
	  if (inst.operands[2].shifted)
	    narrow = FALSE;
	  if (inst.size_req == 4)
	    narrow = FALSE;

	  if (narrow)
	    {
	      if (Rd == Rs)
		{
		  inst.instruction = THUMB_OP16 (inst.instruction);
		  inst.instruction |= Rd;
		  inst.instruction |= Rn << 3;
		  return;
		}
	      if (Rd == Rn)
		{
		  inst.instruction = THUMB_OP16 (inst.instruction);
		  inst.instruction |= Rd;
		  inst.instruction |= Rs << 3;
		  return;
		}
	    }

	  /* If we get here, it can't be done in 16 bits.  */
	  constraint (inst.operands[2].shifted
		      && inst.operands[2].immisreg,
		      _("shift must be constant"));
	  inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction |= Rd << 8;
	  inst.instruction |= Rs << 16;
	  encode_thumb32_shifted_operand (2);
	}
    }
  else
    {
      /* On its face this is a lie - the instruction does set the
	 flags.  However, the only supported mnemonic in this mode
	 says it doesn't.  */
      constraint (THUMB_SETS_FLAGS (inst.instruction), BAD_THUMB32);

      constraint (!inst.operands[2].isreg || inst.operands[2].shifted,
		  _("unshifted register required"));
      constraint (Rd > 7 || Rs > 7 || Rn > 7, BAD_HIREG);

      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= Rd;

      if (Rd == Rs)
	inst.instruction |= Rn << 3;
      else if (Rd == Rn)
	inst.instruction |= Rs << 3;
      else
	constraint (1, _("dest must overlap one source register"));
    }
}

static void
do_t_barrier (void)
{
  if (inst.operands[0].present)
    {
      constraint ((inst.instruction & 0xf0) == 0x60
		  && inst.operands[0].imm != 0xf,
		  "bad barrier type");
      inst.instruction |= inst.operands[0].imm;
    }
  else
    inst.instruction |= 0xf;
}

static void
do_t_bfc (void)
{
  unsigned int msb = inst.operands[1].imm + inst.operands[2].imm;
  constraint (msb > 32, _("bit-field extends past end of register"));
  /* The instruction encoding stores the LSB and MSB,
     not the LSB and width.  */
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= (inst.operands[1].imm & 0x1c) << 10;
  inst.instruction |= (inst.operands[1].imm & 0x03) << 6;
  inst.instruction |= msb - 1;
}

static void
do_t_bfi (void)
{
  unsigned int msb;

  /* #0 in second position is alternative syntax for bfc, which is
     the same instruction but with REG_PC in the Rm field.  */
  if (!inst.operands[1].isreg)
    inst.operands[1].reg = REG_PC;

  msb = inst.operands[2].imm + inst.operands[3].imm;
  constraint (msb > 32, _("bit-field extends past end of register"));
  /* The instruction encoding stores the LSB and MSB,
     not the LSB and width.  */
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= (inst.operands[2].imm & 0x1c) << 10;
  inst.instruction |= (inst.operands[2].imm & 0x03) << 6;
  inst.instruction |= msb - 1;
}

static void
do_t_bfx (void)
{
  constraint (inst.operands[2].imm + inst.operands[3].imm > 32,
	      _("bit-field extends past end of register"));
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= (inst.operands[2].imm & 0x1c) << 10;
  inst.instruction |= (inst.operands[2].imm & 0x03) << 6;
  inst.instruction |= inst.operands[3].imm - 1;
}

/* ARM V5 Thumb BLX (argument parse)
	BLX <target_addr>	which is BLX(1)
	BLX <Rm>		which is BLX(2)
   Unfortunately, there are two different opcodes for this mnemonic.
   So, the insns[].value is not used, and the code here zaps values
	into inst.instruction.

   ??? How to take advantage of the additional two bits of displacement
   available in Thumb32 mode?  Need new relocation?  */

static void
do_t_blx (void)
{
  constraint (current_it_mask && current_it_mask != 0x10, BAD_BRANCH);
  if (inst.operands[0].isreg)
    /* We have a register, so this is BLX(2).  */
    inst.instruction |= inst.operands[0].reg << 3;
  else
    {
      /* No register.  This must be BLX(1).  */
      inst.instruction = 0xf000e800;
#ifdef OBJ_ELF
      if (EF_ARM_EABI_VERSION (meabi_flags) >= EF_ARM_EABI_VER4)
	inst.reloc.type = BFD_RELOC_THUMB_PCREL_BRANCH23;
      else
#endif
	inst.reloc.type = BFD_RELOC_THUMB_PCREL_BLX;
      inst.reloc.pc_rel = 1;
    }
}

static void
do_t_branch (void)
{
  int opcode;
  int cond;

  if (current_it_mask)
    {
      /* Conditional branches inside IT blocks are encoded as unconditional
         branches.  */
      cond = COND_ALWAYS;
      /* A branch must be the last instruction in an IT block.  */
      constraint (current_it_mask != 0x10, BAD_BRANCH);
    }
  else
    cond = inst.cond;

  if (cond != COND_ALWAYS)
    opcode = T_MNEM_bcond;
  else
    opcode = inst.instruction;

  if (unified_syntax && inst.size_req == 4)
    {
      inst.instruction = THUMB_OP32(opcode);
      if (cond == COND_ALWAYS)
	inst.reloc.type = BFD_RELOC_THUMB_PCREL_BRANCH25;
      else
	{
	  assert (cond != 0xF);
	  inst.instruction |= cond << 22;
	  inst.reloc.type = BFD_RELOC_THUMB_PCREL_BRANCH20;
	}
    }
  else
    {
      inst.instruction = THUMB_OP16(opcode);
      if (cond == COND_ALWAYS)
	inst.reloc.type = BFD_RELOC_THUMB_PCREL_BRANCH12;
      else
	{
	  inst.instruction |= cond << 8;
	  inst.reloc.type = BFD_RELOC_THUMB_PCREL_BRANCH9;
	}
      /* Allow section relaxation.  */
      if (unified_syntax && inst.size_req != 2)
	inst.relax = opcode;
    }

  inst.reloc.pc_rel = 1;
}

static void
do_t_bkpt (void)
{
  constraint (inst.cond != COND_ALWAYS,
	      _("instruction is always unconditional"));
  if (inst.operands[0].present)
    {
      constraint (inst.operands[0].imm > 255,
		  _("immediate value out of range"));
      inst.instruction |= inst.operands[0].imm;
    }
}

static void
do_t_branch23 (void)
{
  constraint (current_it_mask && current_it_mask != 0x10, BAD_BRANCH);
  inst.reloc.type   = BFD_RELOC_THUMB_PCREL_BRANCH23;
  inst.reloc.pc_rel = 1;

  /* If the destination of the branch is a defined symbol which does not have
     the THUMB_FUNC attribute, then we must be calling a function which has
     the (interfacearm) attribute.  We look for the Thumb entry point to that
     function and change the branch to refer to that function instead.	*/
  if (	 inst.reloc.exp.X_op == O_symbol
      && inst.reloc.exp.X_add_symbol != NULL
      && S_IS_DEFINED (inst.reloc.exp.X_add_symbol)
      && ! THUMB_IS_FUNC (inst.reloc.exp.X_add_symbol))
    inst.reloc.exp.X_add_symbol =
      find_real_start (inst.reloc.exp.X_add_symbol);
}

static void
do_t_bx (void)
{
  constraint (current_it_mask && current_it_mask != 0x10, BAD_BRANCH);
  inst.instruction |= inst.operands[0].reg << 3;
  /* ??? FIXME: Should add a hacky reloc here if reg is REG_PC.	 The reloc
     should cause the alignment to be checked once it is known.	 This is
     because BX PC only works if the instruction is word aligned.  */
}

static void
do_t_bxj (void)
{
  constraint (current_it_mask && current_it_mask != 0x10, BAD_BRANCH);
  if (inst.operands[0].reg == REG_PC)
    as_tsktsk (_("use of r15 in bxj is not really useful"));

  inst.instruction |= inst.operands[0].reg << 16;
}

static void
do_t_clz (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[1].reg;
}

static void
do_t_cps (void)
{
  constraint (current_it_mask, BAD_NOT_IT);
  inst.instruction |= inst.operands[0].imm;
}

static void
do_t_cpsi (void)
{
  constraint (current_it_mask, BAD_NOT_IT);
  if (unified_syntax
      && (inst.operands[1].present || inst.size_req == 4)
      && ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v6_notm))
    {
      unsigned int imod = (inst.instruction & 0x0030) >> 4;
      inst.instruction = 0xf3af8000;
      inst.instruction |= imod << 9;
      inst.instruction |= inst.operands[0].imm << 5;
      if (inst.operands[1].present)
	inst.instruction |= 0x100 | inst.operands[1].imm;
    }
  else
    {
      constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v1)
		  && (inst.operands[0].imm & 4),
		  _("selected processor does not support 'A' form "
		    "of this instruction"));
      constraint (inst.operands[1].present || inst.size_req == 4,
		  _("Thumb does not support the 2-argument "
		    "form of this instruction"));
      inst.instruction |= inst.operands[0].imm;
    }
}

/* THUMB CPY instruction (argument parse).  */

static void
do_t_cpy (void)
{
  if (inst.size_req == 4)
    {
      inst.instruction = THUMB_OP32 (T_MNEM_mov);
      inst.instruction |= inst.operands[0].reg << 8;
      inst.instruction |= inst.operands[1].reg;
    }
  else
    {
      inst.instruction |= (inst.operands[0].reg & 0x8) << 4;
      inst.instruction |= (inst.operands[0].reg & 0x7);
      inst.instruction |= inst.operands[1].reg << 3;
    }
}

static void
do_t_cbz (void)
{
  constraint (current_it_mask, BAD_NOT_IT);
  constraint (inst.operands[0].reg > 7, BAD_HIREG);
  inst.instruction |= inst.operands[0].reg;
  inst.reloc.pc_rel = 1;
  inst.reloc.type = BFD_RELOC_THUMB_PCREL_BRANCH7;
}

static void
do_t_dbg (void)
{
  inst.instruction |= inst.operands[0].imm;
}

static void
do_t_div (void)
{
  if (!inst.operands[1].present)
    inst.operands[1].reg = inst.operands[0].reg;
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
}

static void
do_t_hint (void)
{
  if (unified_syntax && inst.size_req == 4)
    inst.instruction = THUMB_OP32 (inst.instruction);
  else
    inst.instruction = THUMB_OP16 (inst.instruction);
}

static void
do_t_it (void)
{
  unsigned int cond = inst.operands[0].imm;

  constraint (current_it_mask, BAD_NOT_IT);
  current_it_mask = (inst.instruction & 0xf) | 0x10;
  current_cc = cond;

  /* If the condition is a negative condition, invert the mask.  */
  if ((cond & 0x1) == 0x0)
    {
      unsigned int mask = inst.instruction & 0x000f;

      if ((mask & 0x7) == 0)
	/* no conversion needed */;
      else if ((mask & 0x3) == 0)
	mask ^= 0x8;
      else if ((mask & 0x1) == 0)
	mask ^= 0xC;
      else
	mask ^= 0xE;

      inst.instruction &= 0xfff0;
      inst.instruction |= mask;
    }

  inst.instruction |= cond << 4;
}

/* Helper function used for both push/pop and ldm/stm.  */
static void
encode_thumb2_ldmstm (int base, unsigned mask, bfd_boolean writeback)
{
  bfd_boolean load;

  load = (inst.instruction & (1 << 20)) != 0;

  if (mask & (1 << 13))
    inst.error =  _("SP not allowed in register list");
  if (load)
    {
      if (mask & (1 << 14)
	  && mask & (1 << 15))
	inst.error = _("LR and PC should not both be in register list");

      if ((mask & (1 << base)) != 0
	  && writeback)
	as_warn (_("base register should not be in register list "
		   "when written back"));
    }
  else
    {
      if (mask & (1 << 15))
	inst.error = _("PC not allowed in register list");

      if (writeback &&
	  (mask & (1 << base)) &&
	  (mask & (0xffffffff >> (32 - (base -1)))) != 0)
	as_warn (_("value stored for r%d is UNPREDICTABLE"), base);
    }

  if ((mask & (mask - 1)) == 0)
    {
      /* Single register transfers implemented as str/ldr.  */
      if (writeback)
	{
	  if (inst.instruction & (1 << 23))
	    inst.instruction = 0x00000b04; /* ia! -> [base], #4 */
	  else
	    inst.instruction = 0x00000d04; /* db! -> [base, #-4]! */
	}
      else
	{
	  if (inst.instruction & (1 << 23))
	    inst.instruction = 0x00800000; /* ia -> [base] */
	  else
	    inst.instruction = 0x00000c04; /* db -> [base, #-4] */
	}

      inst.instruction |= 0xf8400000;
      if (load)
	inst.instruction |= 0x00100000;

      mask = ffs(mask) - 1;
      mask <<= 12;
    }
  else if (writeback)
    inst.instruction |= WRITE_BACK;

  inst.instruction |= mask;
  inst.instruction |= base << 16;
}

static void
do_t_ldmstm (void)
{
  /* This really doesn't seem worth it.  */
  constraint (inst.reloc.type != BFD_RELOC_UNUSED,
	      _("expression too complex"));
  constraint (inst.operands[1].writeback,
	      _("Thumb load/store multiple does not support {reglist}^"));

  if (unified_syntax)
    {
      bfd_boolean narrow;
      unsigned mask;

      narrow = FALSE;
      /* See if we can use a 16-bit instruction.  */
      if (inst.instruction < 0xffff /* not ldmdb/stmdb */
	  && inst.size_req != 4
	  && !(inst.operands[1].imm & ~0xff))
	{
	  mask = 1 << inst.operands[0].reg;

	  if (inst.operands[0].reg <= 7
	      && (inst.instruction == T_MNEM_stmia
		  ? inst.operands[0].writeback
		  : (inst.operands[0].writeback
		     == !(inst.operands[1].imm & mask))))
	    {
	      if (inst.instruction == T_MNEM_stmia
		  && (inst.operands[1].imm & mask)
		  && (inst.operands[1].imm & (mask - 1)))
		as_warn (_("value stored for r%d is UNPREDICTABLE"),
			 inst.operands[0].reg);

	      inst.instruction = THUMB_OP16 (inst.instruction);
	      inst.instruction |= inst.operands[0].reg << 8;
	      inst.instruction |= inst.operands[1].imm;
	      narrow = TRUE;
	    }
	  else if (inst.operands[0] .reg == REG_SP
		   && inst.operands[0].writeback)
	    {
	      inst.instruction = THUMB_OP16 (inst.instruction == T_MNEM_stmia
					     ? T_MNEM_push : T_MNEM_pop);
	      inst.instruction |= inst.operands[1].imm;
	      narrow = TRUE;
	    }
	}

      if (!narrow)
	{
	  if (inst.instruction < 0xffff)
	    inst.instruction = THUMB_OP32 (inst.instruction);

	  encode_thumb2_ldmstm(inst.operands[0].reg, inst.operands[1].imm,
			       inst.operands[0].writeback);
	}
    }
  else
    {
      constraint (inst.operands[0].reg > 7
		  || (inst.operands[1].imm & ~0xff), BAD_HIREG);
      constraint (inst.instruction != T_MNEM_ldmia
		  && inst.instruction != T_MNEM_stmia,
		  _("Thumb-2 instruction only valid in unified syntax"));
      if (inst.instruction == T_MNEM_stmia)
	{
	  if (!inst.operands[0].writeback)
	    as_warn (_("this instruction will write back the base register"));
	  if ((inst.operands[1].imm & (1 << inst.operands[0].reg))
	      && (inst.operands[1].imm & ((1 << inst.operands[0].reg) - 1)))
	    as_warn (_("value stored for r%d is UNPREDICTABLE"),
		     inst.operands[0].reg);
	}
      else
	{
	  if (!inst.operands[0].writeback
	      && !(inst.operands[1].imm & (1 << inst.operands[0].reg)))
	    as_warn (_("this instruction will write back the base register"));
	  else if (inst.operands[0].writeback
		   && (inst.operands[1].imm & (1 << inst.operands[0].reg)))
	    as_warn (_("this instruction will not write back the base register"));
	}

      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= inst.operands[0].reg << 8;
      inst.instruction |= inst.operands[1].imm;
    }
}

static void
do_t_ldrex (void)
{
  constraint (!inst.operands[1].isreg || !inst.operands[1].preind
	      || inst.operands[1].postind || inst.operands[1].writeback
	      || inst.operands[1].immisreg || inst.operands[1].shifted
	      || inst.operands[1].negative,
	      BAD_ADDR_MODE);

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.reloc.type = BFD_RELOC_ARM_T32_OFFSET_U8;
}

static void
do_t_ldrexd (void)
{
  if (!inst.operands[1].present)
    {
      constraint (inst.operands[0].reg == REG_LR,
		  _("r14 not allowed as first register "
		    "when second register is omitted"));
      inst.operands[1].reg = inst.operands[0].reg + 1;
    }
  constraint (inst.operands[0].reg == inst.operands[1].reg,
	      BAD_OVERLAP);

  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 8;
  inst.instruction |= inst.operands[2].reg << 16;
}

static void
do_t_ldst (void)
{
  uint32_t opcode;
  int Rn;

  opcode = inst.instruction;
  if (unified_syntax)
    {
      if (!inst.operands[1].isreg)
	{
	  if (opcode <= 0xffff)
	    inst.instruction = THUMB_OP32 (opcode);
	  if (move_or_literal_pool (0, /*thumb_p=*/TRUE, /*mode_3=*/FALSE))
	    return;
	}
      if (inst.operands[1].isreg
	  && !inst.operands[1].writeback
	  && !inst.operands[1].shifted && !inst.operands[1].postind
	  && !inst.operands[1].negative && inst.operands[0].reg <= 7
	  && opcode <= 0xffff
	  && inst.size_req != 4)
	{
	  /* Insn may have a 16-bit form.  */
	  Rn = inst.operands[1].reg;
	  if (inst.operands[1].immisreg)
	    {
	      inst.instruction = THUMB_OP16 (opcode);
	      /* [Rn, Ri] */
	      if (Rn <= 7 && inst.operands[1].imm <= 7)
		goto op16;
	    }
	  else if ((Rn <= 7 && opcode != T_MNEM_ldrsh
		    && opcode != T_MNEM_ldrsb)
		   || ((Rn == REG_PC || Rn == REG_SP) && opcode == T_MNEM_ldr)
		   || (Rn == REG_SP && opcode == T_MNEM_str))
	    {
	      /* [Rn, #const] */
	      if (Rn > 7)
		{
		  if (Rn == REG_PC)
		    {
		      if (inst.reloc.pc_rel)
			opcode = T_MNEM_ldr_pc2;
		      else
			opcode = T_MNEM_ldr_pc;
		    }
		  else
		    {
		      if (opcode == T_MNEM_ldr)
			opcode = T_MNEM_ldr_sp;
		      else
			opcode = T_MNEM_str_sp;
		    }
		  inst.instruction = inst.operands[0].reg << 8;
		}
	      else
		{
		  inst.instruction = inst.operands[0].reg;
		  inst.instruction |= inst.operands[1].reg << 3;
		}
	      inst.instruction |= THUMB_OP16 (opcode);
	      if (inst.size_req == 2)
		inst.reloc.type = BFD_RELOC_ARM_THUMB_OFFSET;
	      else
		inst.relax = opcode;
	      return;
	    }
	}
      /* Definitely a 32-bit variant.  */
      inst.instruction = THUMB_OP32 (opcode);
      inst.instruction |= inst.operands[0].reg << 12;
      encode_thumb32_addr_mode (1, /*is_t=*/FALSE, /*is_d=*/FALSE);
      return;
    }

  constraint (inst.operands[0].reg > 7, BAD_HIREG);

  if (inst.instruction == T_MNEM_ldrsh || inst.instruction == T_MNEM_ldrsb)
    {
      /* Only [Rn,Rm] is acceptable.  */
      constraint (inst.operands[1].reg > 7 || inst.operands[1].imm > 7, BAD_HIREG);
      constraint (!inst.operands[1].isreg || !inst.operands[1].immisreg
		  || inst.operands[1].postind || inst.operands[1].shifted
		  || inst.operands[1].negative,
		  _("Thumb does not support this addressing mode"));
      inst.instruction = THUMB_OP16 (inst.instruction);
      goto op16;
    }
     
  inst.instruction = THUMB_OP16 (inst.instruction);
  if (!inst.operands[1].isreg)
    if (move_or_literal_pool (0, /*thumb_p=*/TRUE, /*mode_3=*/FALSE))
      return;

  constraint (!inst.operands[1].preind
	      || inst.operands[1].shifted
	      || inst.operands[1].writeback,
	      _("Thumb does not support this addressing mode"));
  if (inst.operands[1].reg == REG_PC || inst.operands[1].reg == REG_SP)
    {
      constraint (inst.instruction & 0x0600,
		  _("byte or halfword not valid for base register"));
      constraint (inst.operands[1].reg == REG_PC
		  && !(inst.instruction & THUMB_LOAD_BIT),
		  _("r15 based store not allowed"));
      constraint (inst.operands[1].immisreg,
		  _("invalid base register for register offset"));

      if (inst.operands[1].reg == REG_PC)
	inst.instruction = T_OPCODE_LDR_PC;
      else if (inst.instruction & THUMB_LOAD_BIT)
	inst.instruction = T_OPCODE_LDR_SP;
      else
	inst.instruction = T_OPCODE_STR_SP;

      inst.instruction |= inst.operands[0].reg << 8;
      inst.reloc.type = BFD_RELOC_ARM_THUMB_OFFSET;
      return;
    }

  constraint (inst.operands[1].reg > 7, BAD_HIREG);
  if (!inst.operands[1].immisreg)
    {
      /* Immediate offset.  */
      inst.instruction |= inst.operands[0].reg;
      inst.instruction |= inst.operands[1].reg << 3;
      inst.reloc.type = BFD_RELOC_ARM_THUMB_OFFSET;
      return;
    }

  /* Register offset.  */
  constraint (inst.operands[1].imm > 7, BAD_HIREG);
  constraint (inst.operands[1].negative,
	      _("Thumb does not support this addressing mode"));

 op16:
  switch (inst.instruction)
    {
    case T_OPCODE_STR_IW: inst.instruction = T_OPCODE_STR_RW; break;
    case T_OPCODE_STR_IH: inst.instruction = T_OPCODE_STR_RH; break;
    case T_OPCODE_STR_IB: inst.instruction = T_OPCODE_STR_RB; break;
    case T_OPCODE_LDR_IW: inst.instruction = T_OPCODE_LDR_RW; break;
    case T_OPCODE_LDR_IH: inst.instruction = T_OPCODE_LDR_RH; break;
    case T_OPCODE_LDR_IB: inst.instruction = T_OPCODE_LDR_RB; break;
    case 0x5600 /* ldrsb */:
    case 0x5e00 /* ldrsh */: break;
    default: abort ();
    }

  inst.instruction |= inst.operands[0].reg;
  inst.instruction |= inst.operands[1].reg << 3;
  inst.instruction |= inst.operands[1].imm << 6;
}

static void
do_t_ldstd (void)
{
  if (!inst.operands[1].present)
    {
      inst.operands[1].reg = inst.operands[0].reg + 1;
      constraint (inst.operands[0].reg == REG_LR,
		  _("r14 not allowed here"));
    }
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 8;
  encode_thumb32_addr_mode (2, /*is_t=*/FALSE, /*is_d=*/TRUE);
			    
}

static void
do_t_ldstt (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  encode_thumb32_addr_mode (1, /*is_t=*/TRUE, /*is_d=*/FALSE);
}

static void
do_t_mla (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  inst.instruction |= inst.operands[3].reg << 12;
}

static void
do_t_mlal (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 8;
  inst.instruction |= inst.operands[2].reg << 16;
  inst.instruction |= inst.operands[3].reg;
}

static void
do_t_mov_cmp (void)
{
  if (unified_syntax)
    {
      int r0off = (inst.instruction == T_MNEM_mov
		   || inst.instruction == T_MNEM_movs) ? 8 : 16;
      uint32_t opcode;
      bfd_boolean narrow;
      bfd_boolean low_regs;

      low_regs = (inst.operands[0].reg <= 7 && inst.operands[1].reg <= 7);
      opcode = inst.instruction;
      if (current_it_mask)
	narrow = opcode != T_MNEM_movs;
      else
	narrow = opcode != T_MNEM_movs || low_regs;
      if (inst.size_req == 4
	  || inst.operands[1].shifted)
	narrow = FALSE;

      /* MOVS PC, LR is encoded as SUBS PC, LR, #0.  */
      if (opcode == T_MNEM_movs && inst.operands[1].isreg
	  && !inst.operands[1].shifted
	  && inst.operands[0].reg == REG_PC
	  && inst.operands[1].reg == REG_LR)
	{
	  inst.instruction = T2_SUBS_PC_LR;
	  return;
	}

      if (!inst.operands[1].isreg)
	{
	  /* Immediate operand.  */
	  if (current_it_mask == 0 && opcode == T_MNEM_mov)
	    narrow = 0;
	  if (low_regs && narrow)
	    {
	      inst.instruction = THUMB_OP16 (opcode);
	      inst.instruction |= inst.operands[0].reg << 8;
	      if (inst.size_req == 2)
		inst.reloc.type = BFD_RELOC_ARM_THUMB_IMM;
	      else
		inst.relax = opcode;
	    }
	  else
	    {
	      inst.instruction = THUMB_OP32 (inst.instruction);
	      inst.instruction = (inst.instruction & 0xe1ffffff) | 0x10000000;
	      inst.instruction |= inst.operands[0].reg << r0off;
	      inst.reloc.type = BFD_RELOC_ARM_T32_IMMEDIATE;
	    }
	}
      else if (inst.operands[1].shifted && inst.operands[1].immisreg
	       && (inst.instruction == T_MNEM_mov
		   || inst.instruction == T_MNEM_movs))
	{
	  /* Register shifts are encoded as separate shift instructions.  */
	  bfd_boolean flags = (inst.instruction == T_MNEM_movs);

	  if (current_it_mask)
	    narrow = !flags;
	  else
	    narrow = flags;

	  if (inst.size_req == 4)
	    narrow = FALSE;

	  if (!low_regs || inst.operands[1].imm > 7)
	    narrow = FALSE;

	  if (inst.operands[0].reg != inst.operands[1].reg)
	    narrow = FALSE;

	  switch (inst.operands[1].shift_kind)
	    {
	    case SHIFT_LSL:
	      opcode = narrow ? T_OPCODE_LSL_R : THUMB_OP32 (T_MNEM_lsl);
	      break;
	    case SHIFT_ASR:
	      opcode = narrow ? T_OPCODE_ASR_R : THUMB_OP32 (T_MNEM_asr);
	      break;
	    case SHIFT_LSR:
	      opcode = narrow ? T_OPCODE_LSR_R : THUMB_OP32 (T_MNEM_lsr);
	      break;
	    case SHIFT_ROR:
	      opcode = narrow ? T_OPCODE_ROR_R : THUMB_OP32 (T_MNEM_ror);
	      break;
	    default:
	      abort();
	    }

	  inst.instruction = opcode;
	  if (narrow)
	    {
	      inst.instruction |= inst.operands[0].reg;
	      inst.instruction |= inst.operands[1].imm << 3;
	    }
	  else
	    {
	      if (flags)
		inst.instruction |= CONDS_BIT;

	      inst.instruction |= inst.operands[0].reg << 8;
	      inst.instruction |= inst.operands[1].reg << 16;
	      inst.instruction |= inst.operands[1].imm;
	    }
	}
      else if (!narrow)
	{
	  /* Some mov with immediate shift have narrow variants.
	     Register shifts are handled above.  */
	  if (low_regs && inst.operands[1].shifted
	      && (inst.instruction == T_MNEM_mov
		  || inst.instruction == T_MNEM_movs))
	    {
	      if (current_it_mask)
		narrow = (inst.instruction == T_MNEM_mov);
	      else
		narrow = (inst.instruction == T_MNEM_movs);
	    }

	  if (narrow)
	    {
	      switch (inst.operands[1].shift_kind)
		{
		case SHIFT_LSL: inst.instruction = T_OPCODE_LSL_I; break;
		case SHIFT_LSR: inst.instruction = T_OPCODE_LSR_I; break;
		case SHIFT_ASR: inst.instruction = T_OPCODE_ASR_I; break;
		default: narrow = FALSE; break;
		}
	    }

	  if (narrow)
	    {
	      inst.instruction |= inst.operands[0].reg;
	      inst.instruction |= inst.operands[1].reg << 3;
	      inst.reloc.type = BFD_RELOC_ARM_THUMB_SHIFT;
	    }
	  else
	    {
	      inst.instruction = THUMB_OP32 (inst.instruction);
	      inst.instruction |= inst.operands[0].reg << r0off;
	      encode_thumb32_shifted_operand (1);
	    }
	}
      else
	switch (inst.instruction)
	  {
	  case T_MNEM_mov:
	    inst.instruction = T_OPCODE_MOV_HR;
	    inst.instruction |= (inst.operands[0].reg & 0x8) << 4;
	    inst.instruction |= (inst.operands[0].reg & 0x7);
	    inst.instruction |= inst.operands[1].reg << 3;
	    break;

	  case T_MNEM_movs:
	    /* We know we have low registers at this point.
	       Generate ADD Rd, Rs, #0.  */
	    inst.instruction = T_OPCODE_ADD_I3;
	    inst.instruction |= inst.operands[0].reg;
	    inst.instruction |= inst.operands[1].reg << 3;
	    break;

	  case T_MNEM_cmp:
	    if (low_regs)
	      {
		inst.instruction = T_OPCODE_CMP_LR;
		inst.instruction |= inst.operands[0].reg;
		inst.instruction |= inst.operands[1].reg << 3;
	      }
	    else
	      {
		inst.instruction = T_OPCODE_CMP_HR;
		inst.instruction |= (inst.operands[0].reg & 0x8) << 4;
		inst.instruction |= (inst.operands[0].reg & 0x7);
		inst.instruction |= inst.operands[1].reg << 3;
	      }
	    break;
	  }
      return;
    }

  inst.instruction = THUMB_OP16 (inst.instruction);
  if (inst.operands[1].isreg)
    {
      if (inst.operands[0].reg < 8 && inst.operands[1].reg < 8)
	{
	  /* A move of two lowregs is encoded as ADD Rd, Rs, #0
	     since a MOV instruction produces unpredictable results.  */
	  if (inst.instruction == T_OPCODE_MOV_I8)
	    inst.instruction = T_OPCODE_ADD_I3;
	  else
	    inst.instruction = T_OPCODE_CMP_LR;

	  inst.instruction |= inst.operands[0].reg;
	  inst.instruction |= inst.operands[1].reg << 3;
	}
      else
	{
	  if (inst.instruction == T_OPCODE_MOV_I8)
	    inst.instruction = T_OPCODE_MOV_HR;
	  else
	    inst.instruction = T_OPCODE_CMP_HR;
	  do_t_cpy ();
	}
    }
  else
    {
      constraint (inst.operands[0].reg > 7,
		  _("only lo regs allowed with immediate"));
      inst.instruction |= inst.operands[0].reg << 8;
      inst.reloc.type = BFD_RELOC_ARM_THUMB_IMM;
    }
}

static void
do_t_mov16 (void)
{
  bfd_vma imm;
  bfd_boolean top;

  top = (inst.instruction & 0x00800000) != 0;
  if (inst.reloc.type == BFD_RELOC_ARM_MOVW)
    {
      constraint (top, _(":lower16: not allowed this instruction"));
      inst.reloc.type = BFD_RELOC_ARM_THUMB_MOVW;
    }
  else if (inst.reloc.type == BFD_RELOC_ARM_MOVT)
    {
      constraint (!top, _(":upper16: not allowed this instruction"));
      inst.reloc.type = BFD_RELOC_ARM_THUMB_MOVT;
    }

  inst.instruction |= inst.operands[0].reg << 8;
  if (inst.reloc.type == BFD_RELOC_UNUSED)
    {
      imm = inst.reloc.exp.X_add_number;
      inst.instruction |= (imm & 0xf000) << 4;
      inst.instruction |= (imm & 0x0800) << 15;
      inst.instruction |= (imm & 0x0700) << 4;
      inst.instruction |= (imm & 0x00ff);
    }
}

static void
do_t_mvn_tst (void)
{
  if (unified_syntax)
    {
      int r0off = (inst.instruction == T_MNEM_mvn
		   || inst.instruction == T_MNEM_mvns) ? 8 : 16;
      bfd_boolean narrow;

      if (inst.size_req == 4
	  || inst.instruction > 0xffff
	  || inst.operands[1].shifted
	  || inst.operands[0].reg > 7 || inst.operands[1].reg > 7)
	narrow = FALSE;
      else if (inst.instruction == T_MNEM_cmn)
	narrow = TRUE;
      else if (THUMB_SETS_FLAGS (inst.instruction)
               && (inst.cond == COND_ALWAYS || inst.instruction != T_MNEM_tst))
	narrow = (current_it_mask == 0);
      else
	narrow = (current_it_mask != 0);

      if (!inst.operands[1].isreg)
	{
	  /* For an immediate, we always generate a 32-bit opcode;
	     section relaxation will shrink it later if possible.  */
	  if (inst.instruction < 0xffff)
	    inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction = (inst.instruction & 0xe1ffffff) | 0x10000000;
	  inst.instruction |= inst.operands[0].reg << r0off;
	  inst.reloc.type = BFD_RELOC_ARM_T32_IMMEDIATE;
	}
      else
	{
	  /* See if we can do this with a 16-bit instruction.  */
	  if (narrow)
	    {
	      inst.instruction = THUMB_OP16 (inst.instruction);
	      inst.instruction |= inst.operands[0].reg;
	      inst.instruction |= inst.operands[1].reg << 3;
	    }
	  else
	    {
	      constraint (inst.operands[1].shifted
			  && inst.operands[1].immisreg,
			  _("shift must be constant"));
	      if (inst.instruction < 0xffff)
		inst.instruction = THUMB_OP32 (inst.instruction);
	      inst.instruction |= inst.operands[0].reg << r0off;
	      encode_thumb32_shifted_operand (1);
	    }
	}
    }
  else
    {
      constraint (inst.instruction > 0xffff
		  || inst.instruction == T_MNEM_mvns, BAD_THUMB32);
      constraint (!inst.operands[1].isreg || inst.operands[1].shifted,
		  _("unshifted register required"));
      constraint (inst.operands[0].reg > 7 || inst.operands[1].reg > 7,
		  BAD_HIREG);

      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= inst.operands[0].reg;
      inst.instruction |= inst.operands[1].reg << 3;
    }
}

static void
do_t_mrs (void)
{
  int flags;

  if (do_vfp_nsyn_mrs () == SUCCESS)
    return;

  flags = inst.operands[1].imm & (PSR_c|PSR_x|PSR_s|PSR_f|SPSR_BIT);
  if (flags == 0)
    {
      constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v7m),
		  _("selected processor does not support "
		    "requested special purpose register"));
    }
  else
    {
      constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v1),
		  _("selected processor does not support "
		    "requested special purpose register %x"));
      /* mrs only accepts CPSR/SPSR/CPSR_all/SPSR_all.  */
      constraint ((flags & ~SPSR_BIT) != (PSR_c|PSR_f),
		  _("'CPSR' or 'SPSR' expected"));
    }
    
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= (flags & SPSR_BIT) >> 2;
  inst.instruction |= inst.operands[1].imm & 0xff;
}

static void
do_t_msr (void)
{
  int flags;

  if (do_vfp_nsyn_msr () == SUCCESS)
    return;

  constraint (!inst.operands[1].isreg,
	      _("Thumb encoding does not support an immediate here"));
  flags = inst.operands[0].imm;
  if (flags & ~0xff)
    {
      constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v1),
		  _("selected processor does not support "
		    "requested special purpose register"));
    }
  else
    {
      constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v7m),
		  _("selected processor does not support "
		    "requested special purpose register"));
      flags |= PSR_f;
    }
  inst.instruction |= (flags & SPSR_BIT) >> 2;
  inst.instruction |= (flags & ~SPSR_BIT) >> 8;
  inst.instruction |= (flags & 0xff);
  inst.instruction |= inst.operands[1].reg << 16;
}

static void
do_t_mul (void)
{
  if (!inst.operands[2].present)
    inst.operands[2].reg = inst.operands[0].reg;

  /* There is no 32-bit MULS and no unconditional 16-bit MUL. */
  if (unified_syntax && inst.instruction == T_MNEM_mul
      && (inst.cond == COND_ALWAYS || inst.operands[0].reg > 7
          || inst.operands[1].reg > 7 || inst.operands[2].reg > 7
          || (inst.operands[0].reg != inst.operands[2].reg &&
              inst.operands[0].reg != inst.operands[1].reg)))

    {
      inst.instruction = THUMB_OP32 (inst.instruction);
      inst.instruction |= inst.operands[0].reg << 8;
      inst.instruction |= inst.operands[1].reg << 16;
      inst.instruction |= inst.operands[2].reg << 0;
    }
  else
    {
      constraint (!unified_syntax
		  && inst.instruction == T_MNEM_muls, BAD_THUMB32);
      constraint (inst.operands[0].reg > 7 || inst.operands[1].reg > 7,
		  BAD_HIREG);

      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= inst.operands[0].reg;

      if (inst.operands[0].reg == inst.operands[1].reg)
	inst.instruction |= inst.operands[2].reg << 3;
      else if (inst.operands[0].reg == inst.operands[2].reg)
	inst.instruction |= inst.operands[1].reg << 3;
      else
	constraint (1, _("dest must overlap one source register"));
    }
}

static void
do_t_mull (void)
{
  inst.instruction |= inst.operands[0].reg << 12;
  inst.instruction |= inst.operands[1].reg << 8;
  inst.instruction |= inst.operands[2].reg << 16;
  inst.instruction |= inst.operands[3].reg;

  if (inst.operands[0].reg == inst.operands[1].reg)
    as_tsktsk (_("rdhi and rdlo must be different"));
}

static void
do_t_nop (void)
{
  if (unified_syntax && (cpu_variant.core & ARM_EXT_V6T2) == ARM_EXT_V6T2)
    {
      if (inst.size_req == 4 || inst.operands[0].imm > 15)
	{
	  inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction |= inst.operands[0].imm;
	}
      else
	{
	  inst.instruction = THUMB_OP16 (inst.instruction);
	  inst.instruction |= inst.operands[0].imm << 4;
	}
    }
  else
    {
      constraint (inst.operands[0].present,
		  _("Thumb does not support NOP with hints"));
      inst.instruction = 0x46c0;
    }
}

static void
do_t_neg (void)
{
  if (unified_syntax)
    {
      bfd_boolean narrow;

      if (THUMB_SETS_FLAGS (inst.instruction))
	narrow = (current_it_mask == 0);
      else
	narrow = (current_it_mask != 0);
      if (inst.operands[0].reg > 7 || inst.operands[1].reg > 7)
	narrow = FALSE;
      if (inst.size_req == 4)
	narrow = FALSE;

      if (!narrow)
	{
	  inst.instruction = THUMB_OP32 (inst.instruction);
	  inst.instruction |= inst.operands[0].reg << 8;
	  inst.instruction |= inst.operands[1].reg << 16;
	}
      else
	{
	  inst.instruction = THUMB_OP16 (inst.instruction);
	  inst.instruction |= inst.operands[0].reg;
	  inst.instruction |= inst.operands[1].reg << 3;
	}
    }
  else
    {
      constraint (inst.operands[0].reg > 7 || inst.operands[1].reg > 7,
		  BAD_HIREG);
      constraint (THUMB_SETS_FLAGS (inst.instruction), BAD_THUMB32);

      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= inst.operands[0].reg;
      inst.instruction |= inst.operands[1].reg << 3;
    }
}

static void
do_t_orn (void)
{
  int Rs;

  Rs = (inst.operands[1].present
	? inst.operands[1].reg    /* Rd, Rs, foo */
	: inst.operands[0].reg);  /* Rd, foo -> Rd, Rd, foo */

  if (!inst.operands[2].isreg)
    {
      inst.instruction = 0xf0600000 | (0x00100000 & inst.instruction);
      inst.instruction |= inst.operands[0].reg << 8;
      inst.instruction |= Rs << 16;
      inst.reloc.type = BFD_RELOC_ARM_T32_IMMEDIATE;
    }
  else
    {
      constraint (inst.operands[2].shifted
		  && inst.operands[2].immisreg,
		  _("shift must be constant"));
      inst.instruction |= inst.operands[0].reg << 8;
      inst.instruction |= Rs << 16;
      encode_thumb32_shifted_operand (2);
    }
}

static void
do_t_pkhbt (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  if (inst.operands[3].present)
    {
      unsigned int val = inst.reloc.exp.X_add_number;
      constraint (inst.reloc.exp.X_op != O_constant,
		  _("expression too complex"));
      inst.instruction |= (val & 0x1c) << 10;
      inst.instruction |= (val & 0x03) << 6;
    }
}

static void
do_t_pkhtb (void)
{
  if (!inst.operands[3].present)
    inst.instruction &= ~0x00000020;
  do_t_pkhbt ();
}

static void
do_t_pld (void)
{
  encode_thumb32_addr_mode (0, /*is_t=*/FALSE, /*is_d=*/FALSE);
}

static void
do_t_push_pop (void)
{
  unsigned mask;
  
  constraint (inst.operands[0].writeback,
	      _("push/pop do not support {reglist}^"));
  constraint (inst.reloc.type != BFD_RELOC_UNUSED,
	      _("expression too complex"));

  mask = inst.operands[0].imm;
  if ((mask & ~0xff) == 0)
    inst.instruction = THUMB_OP16 (inst.instruction) | mask;
  else if ((inst.instruction == T_MNEM_push
	    && (mask & ~0xff) == 1 << REG_LR)
	   || (inst.instruction == T_MNEM_pop
	       && (mask & ~0xff) == 1 << REG_PC))
    {
      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= THUMB_PP_PC_LR;
      inst.instruction |= mask & 0xff;
    }
  else if (unified_syntax)
    {
      inst.instruction = THUMB_OP32 (inst.instruction);
      encode_thumb2_ldmstm(13, mask, TRUE);
    }
  else
    {
      inst.error = _("invalid register list to push/pop instruction");
      return;
    }
}

static void
do_t_rbit (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  /* Rm is bits 3-0 is in of *both* 16-bit halves of the opcode */
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[1].reg << 16;
}

static void
do_t_rd_rm (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg;
}

static void
do_t_rd_rm_rn (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg;
  inst.instruction |= inst.operands[2].reg << 16;
}

static void
do_t_rev (void)
{
  if (inst.operands[0].reg <= 7 && inst.operands[1].reg <= 7
      && inst.size_req != 4)
    {
      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= inst.operands[0].reg;
      inst.instruction |= inst.operands[1].reg << 3;
    }
  else if (unified_syntax)
    {
      inst.instruction = THUMB_OP32 (inst.instruction);
      inst.instruction |= inst.operands[0].reg << 8;
      inst.instruction |= inst.operands[1].reg << 16;
      inst.instruction |= inst.operands[1].reg;
    }
  else
    inst.error = BAD_HIREG;
}

static void
do_t_rsb (void)
{
  int Rd, Rs;

  Rd = inst.operands[0].reg;
  Rs = (inst.operands[1].present
	? inst.operands[1].reg    /* Rd, Rs, foo */
	: inst.operands[0].reg);  /* Rd, foo -> Rd, Rd, foo */

  inst.instruction |= Rd << 8;
  inst.instruction |= Rs << 16;
  if (!inst.operands[2].isreg)
    {
      bfd_boolean narrow;

      if ((inst.instruction & 0x00100000) != 0)
	narrow = (current_it_mask == 0);
      else
	narrow = (current_it_mask != 0);

      if (Rd > 7 || Rs > 7)
	narrow = FALSE;

      if (inst.size_req == 4 || !unified_syntax)
	narrow = FALSE;

      if (inst.reloc.exp.X_op != O_constant
	  || inst.reloc.exp.X_add_number != 0)
	narrow = FALSE;

      /* Turn rsb #0 into 16-bit neg.  We should probably do this via
         relaxation, but it doesn't seem worth the hassle.  */
      if (narrow)
	{
	  inst.reloc.type = BFD_RELOC_UNUSED;
	  inst.instruction = THUMB_OP16 (T_MNEM_negs);
	  inst.instruction |= Rs << 3;
	  inst.instruction |= Rd;
	}
      else
	{
	  inst.instruction = (inst.instruction & 0xe1ffffff) | 0x10000000;
	  inst.reloc.type = BFD_RELOC_ARM_T32_IMMEDIATE;
	}
    }
  else
    encode_thumb32_shifted_operand (2);
}

static void
do_t_setend (void)
{
  constraint (current_it_mask, BAD_NOT_IT);
  if (inst.operands[0].imm)
    inst.instruction |= 0x8;
}

static void
do_t_shift (void)
{
  if (!inst.operands[1].present)
    inst.operands[1].reg = inst.operands[0].reg;

  if (unified_syntax)
    {
      bfd_boolean narrow;
      int shift_kind;

      switch (inst.instruction)
	{
	case T_MNEM_asr:
	case T_MNEM_asrs: shift_kind = SHIFT_ASR; break;
	case T_MNEM_lsl:
	case T_MNEM_lsls: shift_kind = SHIFT_LSL; break;
	case T_MNEM_lsr:
	case T_MNEM_lsrs: shift_kind = SHIFT_LSR; break;
	case T_MNEM_ror:
	case T_MNEM_rors: shift_kind = SHIFT_ROR; break;
	default: abort ();
	}

      if (THUMB_SETS_FLAGS (inst.instruction))
	narrow = (current_it_mask == 0);
      else
	narrow = (current_it_mask != 0);
      if (inst.operands[0].reg > 7 || inst.operands[1].reg > 7)
	narrow = FALSE;
      if (!inst.operands[2].isreg && shift_kind == SHIFT_ROR)
	narrow = FALSE;
      if (inst.operands[2].isreg
	  && (inst.operands[1].reg != inst.operands[0].reg
	      || inst.operands[2].reg > 7))
	narrow = FALSE;
      if (inst.size_req == 4)
	narrow = FALSE;

      if (!narrow)
	{
	  if (inst.operands[2].isreg)
	    {
	      inst.instruction = THUMB_OP32 (inst.instruction);
	      inst.instruction |= inst.operands[0].reg << 8;
	      inst.instruction |= inst.operands[1].reg << 16;
	      inst.instruction |= inst.operands[2].reg;
	    }
	  else
	    {
	      inst.operands[1].shifted = 1;
	      inst.operands[1].shift_kind = shift_kind;
	      inst.instruction = THUMB_OP32 (THUMB_SETS_FLAGS (inst.instruction)
					     ? T_MNEM_movs : T_MNEM_mov);
	      inst.instruction |= inst.operands[0].reg << 8;
	      encode_thumb32_shifted_operand (1);
	      /* Prevent the incorrect generation of an ARM_IMMEDIATE fixup.  */
	      inst.reloc.type = BFD_RELOC_UNUSED;
	    }
	}
      else
	{
	  if (inst.operands[2].isreg)
	    {
	      switch (shift_kind)
		{
		case SHIFT_ASR: inst.instruction = T_OPCODE_ASR_R; break;
		case SHIFT_LSL: inst.instruction = T_OPCODE_LSL_R; break;
		case SHIFT_LSR: inst.instruction = T_OPCODE_LSR_R; break;
		case SHIFT_ROR: inst.instruction = T_OPCODE_ROR_R; break;
		default: abort ();
		}
	  
	      inst.instruction |= inst.operands[0].reg;
	      inst.instruction |= inst.operands[2].reg << 3;
	    }
	  else
	    {
	      switch (shift_kind)
		{
		case SHIFT_ASR: inst.instruction = T_OPCODE_ASR_I; break;
		case SHIFT_LSL: inst.instruction = T_OPCODE_LSL_I; break;
		case SHIFT_LSR: inst.instruction = T_OPCODE_LSR_I; break;
		default: abort ();
		}
	      inst.reloc.type = BFD_RELOC_ARM_THUMB_SHIFT;
	      inst.instruction |= inst.operands[0].reg;
	      inst.instruction |= inst.operands[1].reg << 3;
	    }
	}
    }
  else
    {
      constraint (inst.operands[0].reg > 7
		  || inst.operands[1].reg > 7, BAD_HIREG);
      constraint (THUMB_SETS_FLAGS (inst.instruction), BAD_THUMB32);

      if (inst.operands[2].isreg)  /* Rd, {Rs,} Rn */
	{
	  constraint (inst.operands[2].reg > 7, BAD_HIREG);
	  constraint (inst.operands[0].reg != inst.operands[1].reg,
		      _("source1 and dest must be same register"));

	  switch (inst.instruction)
	    {
	    case T_MNEM_asr: inst.instruction = T_OPCODE_ASR_R; break;
	    case T_MNEM_lsl: inst.instruction = T_OPCODE_LSL_R; break;
	    case T_MNEM_lsr: inst.instruction = T_OPCODE_LSR_R; break;
	    case T_MNEM_ror: inst.instruction = T_OPCODE_ROR_R; break;
	    default: abort ();
	    }
	  
	  inst.instruction |= inst.operands[0].reg;
	  inst.instruction |= inst.operands[2].reg << 3;
	}
      else
	{
	  switch (inst.instruction)
	    {
	    case T_MNEM_asr: inst.instruction = T_OPCODE_ASR_I; break;
	    case T_MNEM_lsl: inst.instruction = T_OPCODE_LSL_I; break;
	    case T_MNEM_lsr: inst.instruction = T_OPCODE_LSR_I; break;
	    case T_MNEM_ror: inst.error = _("ror #imm not supported"); return;
	    default: abort ();
	    }
	  inst.reloc.type = BFD_RELOC_ARM_THUMB_SHIFT;
	  inst.instruction |= inst.operands[0].reg;
	  inst.instruction |= inst.operands[1].reg << 3;
	}
    }
}

static void
do_t_simd (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
}

static void
do_t_smc (void)
{
  unsigned int value = inst.reloc.exp.X_add_number;
  constraint (inst.reloc.exp.X_op != O_constant,
	      _("expression too complex"));
  inst.reloc.type = BFD_RELOC_UNUSED;
  inst.instruction |= (value & 0xf000) >> 12;
  inst.instruction |= (value & 0x0ff0);
  inst.instruction |= (value & 0x000f) << 16;
}

static void
do_t_ssat (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].imm - 1;
  inst.instruction |= inst.operands[2].reg << 16;

  if (inst.operands[3].present)
    {
      constraint (inst.reloc.exp.X_op != O_constant,
		  _("expression too complex"));

      if (inst.reloc.exp.X_add_number != 0)
	{
	  if (inst.operands[3].shift_kind == SHIFT_ASR)
	    inst.instruction |= 0x00200000;  /* sh bit */
	  inst.instruction |= (inst.reloc.exp.X_add_number & 0x1c) << 10;
	  inst.instruction |= (inst.reloc.exp.X_add_number & 0x03) << 6;
	}
      inst.reloc.type = BFD_RELOC_UNUSED;
    }
}

static void
do_t_ssat16 (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].imm - 1;
  inst.instruction |= inst.operands[2].reg << 16;
}

static void
do_t_strex (void)
{
  constraint (!inst.operands[2].isreg || !inst.operands[2].preind
	      || inst.operands[2].postind || inst.operands[2].writeback
	      || inst.operands[2].immisreg || inst.operands[2].shifted
	      || inst.operands[2].negative,
	      BAD_ADDR_MODE);

  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 12;
  inst.instruction |= inst.operands[2].reg << 16;
  inst.reloc.type = BFD_RELOC_ARM_T32_OFFSET_U8;
}

static void
do_t_strexd (void)
{
  if (!inst.operands[2].present)
    inst.operands[2].reg = inst.operands[1].reg + 1;

  constraint (inst.operands[0].reg == inst.operands[1].reg
	      || inst.operands[0].reg == inst.operands[2].reg
	      || inst.operands[0].reg == inst.operands[3].reg
	      || inst.operands[1].reg == inst.operands[2].reg,
	      BAD_OVERLAP);

  inst.instruction |= inst.operands[0].reg;
  inst.instruction |= inst.operands[1].reg << 12;
  inst.instruction |= inst.operands[2].reg << 8;
  inst.instruction |= inst.operands[3].reg << 16;
}

static void
do_t_sxtah (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].reg << 16;
  inst.instruction |= inst.operands[2].reg;
  inst.instruction |= inst.operands[3].imm << 4;
}

static void
do_t_sxth (void)
{
  if (inst.instruction <= 0xffff && inst.size_req != 4
      && inst.operands[0].reg <= 7 && inst.operands[1].reg <= 7
      && (!inst.operands[2].present || inst.operands[2].imm == 0))
    {
      inst.instruction = THUMB_OP16 (inst.instruction);
      inst.instruction |= inst.operands[0].reg;
      inst.instruction |= inst.operands[1].reg << 3;
    }
  else if (unified_syntax)
    {
      if (inst.instruction <= 0xffff)
	inst.instruction = THUMB_OP32 (inst.instruction);
      inst.instruction |= inst.operands[0].reg << 8;
      inst.instruction |= inst.operands[1].reg;
      inst.instruction |= inst.operands[2].imm << 4;
    }
  else
    {
      constraint (inst.operands[2].present && inst.operands[2].imm != 0,
		  _("Thumb encoding does not support rotation"));
      constraint (1, BAD_HIREG);
    }
}

static void
do_t_swi (void)
{
  inst.reloc.type = BFD_RELOC_ARM_SWI;
}

static void
do_t_tb (void)
{
  int half;

  half = (inst.instruction & 0x10) != 0;
  constraint (current_it_mask && current_it_mask != 0x10, BAD_BRANCH);
  constraint (inst.operands[0].immisreg,
	      _("instruction requires register index"));
  constraint (inst.operands[0].imm == 15,
	      _("PC is not a valid index register"));
  constraint (!half && inst.operands[0].shifted,
	      _("instruction does not allow shifted index"));
  inst.instruction |= (inst.operands[0].reg << 16) | inst.operands[0].imm;
}

static void
do_t_usat (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].imm;
  inst.instruction |= inst.operands[2].reg << 16;

  if (inst.operands[3].present)
    {
      constraint (inst.reloc.exp.X_op != O_constant,
		  _("expression too complex"));
      if (inst.reloc.exp.X_add_number != 0)
	{
	  if (inst.operands[3].shift_kind == SHIFT_ASR)
	    inst.instruction |= 0x00200000;  /* sh bit */

	  inst.instruction |= (inst.reloc.exp.X_add_number & 0x1c) << 10;
	  inst.instruction |= (inst.reloc.exp.X_add_number & 0x03) << 6;
	}
      inst.reloc.type = BFD_RELOC_UNUSED;
    }
}

static void
do_t_usat16 (void)
{
  inst.instruction |= inst.operands[0].reg << 8;
  inst.instruction |= inst.operands[1].imm;
  inst.instruction |= inst.operands[2].reg << 16;
}

#endif /* INSNS_TABLE_ONLY */

/* Neon instruction encoder helpers.  */
  
/* Encodings for the different types for various Neon opcodes.  */

/* An "invalid" code for the following tables.  */
#define N_INV -1u

struct neon_tab_entry
{
  unsigned integer;
  unsigned float_or_poly;
  unsigned scalar_or_imm;
};
  
/* Map overloaded Neon opcodes to their respective encodings.  */
#define NEON_ENC_TAB					\
  X(vabd,	0x0000700, 0x1200d00, N_INV),		\
  X(vmax,	0x0000600, 0x0000f00, N_INV),		\
  X(vmin,	0x0000610, 0x0200f00, N_INV),		\
  X(vpadd,	0x0000b10, 0x1000d00, N_INV),		\
  X(vpmax,	0x0000a00, 0x1000f00, N_INV),		\
  X(vpmin,	0x0000a10, 0x1200f00, N_INV),		\
  X(vadd,	0x0000800, 0x0000d00, N_INV),		\
  X(vsub,	0x1000800, 0x0200d00, N_INV),		\
  X(vceq,	0x1000810, 0x0000e00, 0x1b10100),	\
  X(vcge,	0x0000310, 0x1000e00, 0x1b10080),	\
  X(vcgt,	0x0000300, 0x1200e00, 0x1b10000),	\
  /* Register variants of the following two instructions are encoded as
     vcge / vcgt with the operands reversed. */  	\
  X(vclt,	0x0000300, 0x1200e00, 0x1b10200),	\
  X(vcle,	0x0000310, 0x1000e00, 0x1b10180),	\
  X(vfma,	N_INV,     0x0000c10, N_INV),		\
  X(vfms,	N_INV,     0x0200c10, N_INV),		\
  X(vmla,	0x0000900, 0x0000d10, 0x0800040),	\
  X(vmls,	0x1000900, 0x0200d10, 0x0800440),	\
  X(vmul,	0x0000910, 0x1000d10, 0x0800840),	\
  X(vmull,	0x0800c00, 0x0800e00, 0x0800a40), /* polynomial not float.  */ \
  X(vmlal,	0x0800800, N_INV,     0x0800240),	\
  X(vmlsl,	0x0800a00, N_INV,     0x0800640),	\
  X(vqdmlal,	0x0800900, N_INV,     0x0800340),	\
  X(vqdmlsl,	0x0800b00, N_INV,     0x0800740),	\
  X(vqdmull,	0x0800d00, N_INV,     0x0800b40),	\
  X(vqdmulh,    0x0000b00, N_INV,     0x0800c40),	\
  X(vqrdmulh,   0x1000b00, N_INV,     0x0800d40),	\
  X(vshl,	0x0000400, N_INV,     0x0800510),	\
  X(vqshl,	0x0000410, N_INV,     0x0800710),	\
  X(vand,	0x0000110, N_INV,     0x0800030),	\
  X(vbic,	0x0100110, N_INV,     0x0800030),	\
  X(veor,	0x1000110, N_INV,     N_INV),		\
  X(vorn,	0x0300110, N_INV,     0x0800010),	\
  X(vorr,	0x0200110, N_INV,     0x0800010),	\
  X(vmvn,	0x1b00580, N_INV,     0x0800030),	\
  X(vshll,	0x1b20300, N_INV,     0x0800a10), /* max shift, immediate.  */ \
  X(vcvt,       0x1b30600, N_INV,     0x0800e10), /* integer, fixed-point.  */ \
  X(vcvtt,      0x1b30600, N_INV,     0x0800e10), /* single, half-precision.*/ \
  X(vcvtb,      0x1b30600, N_INV,     0x0800e10), /* single, half-precision.*/ \
  X(vdup,       0xe800b10, N_INV,     0x1b00c00), /* arm, scalar.  */ \
  X(vld1,       0x0200000, 0x0a00000, 0x0a00c00), /* interlv, lane, dup.  */ \
  X(vst1,	0x0000000, 0x0800000, N_INV),		\
  X(vld2,	0x0200100, 0x0a00100, 0x0a00d00),	\
  X(vst2,	0x0000100, 0x0800100, N_INV),		\
  X(vld3,	0x0200200, 0x0a00200, 0x0a00e00),	\
  X(vst3,	0x0000200, 0x0800200, N_INV),		\
  X(vld4,	0x0200300, 0x0a00300, 0x0a00f00),	\
  X(vst4,	0x0000300, 0x0800300, N_INV),		\
  X(vmovn,	0x1b20200, N_INV,     N_INV),		\
  X(vtrn,	0x1b20080, N_INV,     N_INV),		\
  X(vqmovn,	0x1b20200, N_INV,     N_INV),		\
  X(vqmovun,	0x1b20240, N_INV,     N_INV),		\
  X(vnmul,      0xe200a40, 0xe200b40, N_INV),		\
  X(vnmla,      0xe100a40, 0xe100b40, N_INV),		\
  X(vnmls,      0xe100a00, 0xe100b00, N_INV),		\
  X(vcmp,	0xeb40a40, 0xeb40b40, N_INV),		\
  X(vcmpz,	0xeb50a40, 0xeb50b40, N_INV),		\
  X(vcmpe,	0xeb40ac0, 0xeb40bc0, N_INV),		\
  X(vcmpez,     0xeb50ac0, 0xeb50bc0, N_INV)

enum neon_opc
{
#define X(OPC,I,F,S) N_MNEM_##OPC
NEON_ENC_TAB
#undef X
};

static const struct neon_tab_entry neon_enc_tab[] =
{
#define X(OPC,I,F,S) { (I), (F), (S) }
NEON_ENC_TAB
#undef X
};

#define NEON_ENC_INTEGER(X) (neon_enc_tab[(X) & 0x0fffffff].integer)
#define NEON_ENC_ARMREG(X)  (neon_enc_tab[(X) & 0x0fffffff].integer)
#define NEON_ENC_POLY(X)    (neon_enc_tab[(X) & 0x0fffffff].float_or_poly)
#define NEON_ENC_FLOAT(X)   (neon_enc_tab[(X) & 0x0fffffff].float_or_poly)
#define NEON_ENC_SCALAR(X)  (neon_enc_tab[(X) & 0x0fffffff].scalar_or_imm)
#define NEON_ENC_IMMED(X)   (neon_enc_tab[(X) & 0x0fffffff].scalar_or_imm)
#define NEON_ENC_INTERLV(X) (neon_enc_tab[(X) & 0x0fffffff].integer)
#define NEON_ENC_LANE(X)    (neon_enc_tab[(X) & 0x0fffffff].float_or_poly)
#define NEON_ENC_DUP(X)     (neon_enc_tab[(X) & 0x0fffffff].scalar_or_imm)
#define NEON_ENC_SINGLE(X) \
  ((neon_enc_tab[(X) & 0x0fffffff].integer) | ((X) & 0xf0000000))
#define NEON_ENC_DOUBLE(X) \
  ((neon_enc_tab[(X) & 0x0fffffff].float_or_poly) | ((X) & 0xf0000000))

/* Define shapes for instruction operands. The following mnemonic characters
   are used in this table:

     F - VFP S<n> register
     D - Neon D<n> register
     Q - Neon Q<n> register
     I - Immediate
     S - Scalar
     R - ARM register
     L - D<n> register list
   
   This table is used to generate various data:
     - enumerations of the form NS_DDR to be used as arguments to
       neon_select_shape.
     - a table classifying shapes into single, double, quad, mixed.
     - a table used to drive neon_select_shape.
*/

#define NEON_SHAPE_DEF			\
  X(3, (D, D, D), DOUBLE),		\
  X(3, (Q, Q, Q), QUAD),		\
  X(3, (D, D, I), DOUBLE),		\
  X(3, (Q, Q, I), QUAD),		\
  X(3, (D, D, S), DOUBLE),		\
  X(3, (Q, Q, S), QUAD),		\
  X(2, (D, D), DOUBLE),			\
  X(2, (Q, Q), QUAD),			\
  X(2, (D, S), DOUBLE),			\
  X(2, (Q, S), QUAD),			\
  X(2, (D, R), DOUBLE),			\
  X(2, (Q, R), QUAD),			\
  X(2, (D, I), DOUBLE),			\
  X(2, (Q, I), QUAD),			\
  X(3, (D, L, D), DOUBLE),		\
  X(2, (D, Q), MIXED),			\
  X(2, (Q, D), MIXED),			\
  X(3, (D, Q, I), MIXED),		\
  X(3, (Q, D, I), MIXED),		\
  X(3, (Q, D, D), MIXED),		\
  X(3, (D, Q, Q), MIXED),		\
  X(3, (Q, Q, D), MIXED),		\
  X(3, (Q, D, S), MIXED),		\
  X(3, (D, Q, S), MIXED),		\
  X(4, (D, D, D, I), DOUBLE),		\
  X(4, (Q, Q, Q, I), QUAD),		\
  X(2, (F, F), SINGLE),			\
  X(3, (F, F, F), SINGLE),		\
  X(2, (F, I), SINGLE),			\
  X(2, (F, D), MIXED),			\
  X(2, (D, F), MIXED),			\
  X(3, (F, F, I), MIXED),		\
  X(4, (R, R, F, F), SINGLE),		\
  X(4, (F, F, R, R), SINGLE),		\
  X(3, (D, R, R), DOUBLE),		\
  X(3, (R, R, D), DOUBLE),		\
  X(2, (S, R), SINGLE),			\
  X(2, (R, S), SINGLE),			\
  X(2, (F, R), SINGLE),			\
  X(2, (R, F), SINGLE)

#define S2(A,B)		NS_##A##B
#define S3(A,B,C)	NS_##A##B##C
#define S4(A,B,C,D)	NS_##A##B##C##D

#define X(N, L, C) S##N L

enum neon_shape
{
  NEON_SHAPE_DEF,
  NS_NULL
};

#undef X
#undef S2
#undef S3
#undef S4

enum neon_shape_class
{
  SC_SINGLE,
  SC_DOUBLE,
  SC_QUAD,
  SC_MIXED
};

#define X(N, L, C) SC_##C

#ifndef INSNS_TABLE_ONLY

static enum neon_shape_class neon_shape_class[] =
{
  NEON_SHAPE_DEF
};

#undef X

enum neon_shape_el
{
  SE_F,
  SE_D,
  SE_Q,
  SE_I,
  SE_S,
  SE_R,
  SE_L
};

/* Register widths of above.  */
static unsigned neon_shape_el_size[] =
{
  32,
  64,
  128,
  0,
  32,
  32,
  0
};

struct neon_shape_info
{
  unsigned els;
  enum neon_shape_el el[NEON_MAX_TYPE_ELS];
};

#define S2(A,B)		{ SE_##A, SE_##B }
#define S3(A,B,C)	{ SE_##A, SE_##B, SE_##C }
#define S4(A,B,C,D)	{ SE_##A, SE_##B, SE_##C, SE_##D }

#define X(N, L, C) { N, S##N L }

static struct neon_shape_info neon_shape_tab[] =
{
  NEON_SHAPE_DEF
};

#undef X
#undef S2
#undef S3
#undef S4

#endif /* INSNS_TABLE_ONLY */

/* Bit masks used in type checking given instructions.
  'N_EQK' means the type must be the same as (or based on in some way) the key
   type, which itself is marked with the 'N_KEY' bit. If the 'N_EQK' bit is
   set, various other bits can be set as well in order to modify the meaning of
   the type constraint.  */

enum neon_type_mask
{
  N_S8   = 0x000001,
  N_S16  = 0x000002,
  N_S32  = 0x000004,
  N_S64  = 0x000008,
  N_U8   = 0x000010,
  N_U16  = 0x000020,
  N_U32  = 0x000040,
  N_U64  = 0x000080,
  N_I8   = 0x000100,
  N_I16  = 0x000200,
  N_I32  = 0x000400,
  N_I64  = 0x000800,
  N_8    = 0x001000,
  N_16   = 0x002000,
  N_32   = 0x004000,
  N_64   = 0x008000,
  N_P8   = 0x010000,
  N_P16  = 0x020000,
  N_F16  = 0x040000,
  N_F32  = 0x080000,
  N_F64  = 0x100000,
  N_KEY  = 0x200000, /* key element (main type specifier).  */
  N_EQK  = 0x400000, /* given operand has the same type & size as the key.  */
  N_VFP  = 0x800000, /* VFP mode: operand size must match register width.  */
  N_DBL  = 0x000001, /* if N_EQK, this operand is twice the size.  */
  N_HLF  = 0x000002, /* if N_EQK, this operand is half the size.  */
  N_SGN  = 0x000004, /* if N_EQK, this operand is forced to be signed.  */
  N_UNS  = 0x000008, /* if N_EQK, this operand is forced to be unsigned.  */
  N_INT  = 0x000010, /* if N_EQK, this operand is forced to be integer.  */
  N_FLT  = 0x000020, /* if N_EQK, this operand is forced to be float.  */
  N_SIZ  = 0x000040, /* if N_EQK, this operand is forced to be size-only.  */
  N_UTYP = 0,
  N_MAX_NONSPECIAL = N_F64
};

#define N_ALLMODS  (N_DBL | N_HLF | N_SGN | N_UNS | N_INT | N_FLT | N_SIZ)

#define N_SU_ALL   (N_S8 | N_S16 | N_S32 | N_S64 | N_U8 | N_U16 | N_U32 | N_U64)
#define N_SU_32    (N_S8 | N_S16 | N_S32 | N_U8 | N_U16 | N_U32)
#define N_SU_16_64 (N_S16 | N_S32 | N_S64 | N_U16 | N_U32 | N_U64)
#define N_SUF_32   (N_SU_32 | N_F32)
#define N_I_ALL    (N_I8 | N_I16 | N_I32 | N_I64)
#define N_IF_32    (N_I8 | N_I16 | N_I32 | N_F32)

/* Pass this as the first type argument to neon_check_type to ignore types
   altogether.  */
#define N_IGNORE_TYPE (N_KEY | N_EQK)

#ifndef INSNS_TABLE_ONLY

/* Select a "shape" for the current instruction (describing register types or
   sizes) from a list of alternatives. Return NS_NULL if the current instruction
   doesn't fit. For non-polymorphic shapes, checking is usually done as a
   function of operand parsing, so this function doesn't need to be called.
   Shapes should be listed in order of decreasing length.  */

static enum neon_shape
neon_select_shape (enum neon_shape shape, ...)
{
  va_list ap;
  enum neon_shape first_shape = shape;

  /* Fix missing optional operands. FIXME: we don't know at this point how
     many arguments we should have, so this makes the assumption that we have
     > 1. This is true of all current Neon opcodes, I think, but may not be
     true in the future.  */
  if (!inst.operands[1].present)
    inst.operands[1] = inst.operands[0];

  va_start (ap, shape);
  
  for (; shape != NS_NULL; shape = va_arg (ap, int))
    {
      unsigned j;
      int matches = 1;

      for (j = 0; j < neon_shape_tab[shape].els; j++)
        {
          if (!inst.operands[j].present)
            {
              matches = 0;
              break;
            }

          switch (neon_shape_tab[shape].el[j])
            {
            case SE_F:
              if (!(inst.operands[j].isreg
                    && inst.operands[j].isvec
                    && inst.operands[j].issingle
                    && !inst.operands[j].isquad))
                matches = 0;
              break;

            case SE_D:
              if (!(inst.operands[j].isreg
                    && inst.operands[j].isvec
                    && !inst.operands[j].isquad
                    && !inst.operands[j].issingle))
                matches = 0;
              break;

            case SE_R:
              if (!(inst.operands[j].isreg
                    && !inst.operands[j].isvec))
                matches = 0;
              break;

            case SE_Q:
              if (!(inst.operands[j].isreg
                    && inst.operands[j].isvec
                    && inst.operands[j].isquad
                    && !inst.operands[j].issingle))
                matches = 0;
              break;

            case SE_I:
              if (!(!inst.operands[j].isreg
                    && !inst.operands[j].isscalar))
                matches = 0;
              break;

            case SE_S:
              if (!(!inst.operands[j].isreg
                    && inst.operands[j].isscalar))
                matches = 0;
              break;

            case SE_L:
              break;
            }
        }
      if (matches)
        break;
    }
  
  va_end (ap);

  if (shape == NS_NULL && first_shape != NS_NULL)
    first_error (_("invalid instruction shape"));

  return shape;
}

/* True if SHAPE is predominantly a quadword operation (most of the time, this
   means the Q bit should be set).  */

static int
neon_quad (enum neon_shape shape)
{
  return neon_shape_class[shape] == SC_QUAD;
}

static void
neon_modify_type_size (unsigned typebits, enum neon_el_type *g_type,
                       unsigned *g_size)
{
  /* Allow modification to be made to types which are constrained to be
     based on the key element, based on bits set alongside N_EQK.  */
  if ((typebits & N_EQK) != 0)
    {
      if ((typebits & N_HLF) != 0)
	*g_size /= 2;
      else if ((typebits & N_DBL) != 0)
	*g_size *= 2;
      if ((typebits & N_SGN) != 0)
	*g_type = NT_signed;
      else if ((typebits & N_UNS) != 0)
        *g_type = NT_unsigned;
      else if ((typebits & N_INT) != 0)
        *g_type = NT_integer;
      else if ((typebits & N_FLT) != 0)
        *g_type = NT_float;
      else if ((typebits & N_SIZ) != 0)
        *g_type = NT_untyped;
    }
}
  
/* Return operand OPNO promoted by bits set in THISARG. KEY should be the "key"
   operand type, i.e. the single type specified in a Neon instruction when it
   is the only one given.  */

static struct neon_type_el
neon_type_promote (struct neon_type_el *key, unsigned thisarg)
{
  struct neon_type_el dest = *key;
  
  assert ((thisarg & N_EQK) != 0);
  
  neon_modify_type_size (thisarg, &dest.type, &dest.size);

  return dest;
}

/* Convert Neon type and size into compact bitmask representation.  */

static enum neon_type_mask
type_chk_of_el_type (enum neon_el_type type, unsigned size)
{
  switch (type)
    {
    case NT_untyped:
      switch (size)
        {
        case 8:  return N_8;
        case 16: return N_16;
        case 32: return N_32;
        case 64: return N_64;
        default: ;
        }
      break;

    case NT_integer:
      switch (size)
        {
        case 8:  return N_I8;
        case 16: return N_I16;
        case 32: return N_I32;
        case 64: return N_I64;
        default: ;
        }
      break;

    case NT_float:
      switch (size)
        {
        case 16: return N_F16;
        case 32: return N_F32;
        case 64: return N_F64;
        default: ;
        }
      break;

    case NT_poly:
      switch (size)
        {
        case 8:  return N_P8;
        case 16: return N_P16;
        default: ;
        }
      break;

    case NT_signed:
      switch (size)
        {
        case 8:  return N_S8;
        case 16: return N_S16;
        case 32: return N_S32;
        case 64: return N_S64;
        default: ;
        }
      break;

    case NT_unsigned:
      switch (size)
        {
        case 8:  return N_U8;
        case 16: return N_U16;
        case 32: return N_U32;
        case 64: return N_U64;
        default: ;
        }
      break;

    default: ;
    }
  
  return N_UTYP;
}

/* Convert compact Neon bitmask type representation to a type and size. Only
   handles the case where a single bit is set in the mask.  */

static int
el_type_of_type_chk (enum neon_el_type *type, unsigned *size,
                     enum neon_type_mask mask)
{
  if ((mask & N_EQK) != 0)
    return FAIL;

  if ((mask & (N_S8 | N_U8 | N_I8 | N_8 | N_P8)) != 0)
    *size = 8;
  else if ((mask & (N_S16 | N_U16 | N_I16 | N_16 | N_P16)) != 0)
    *size = 16;
  else if ((mask & (N_S32 | N_U32 | N_I32 | N_32 | N_F32)) != 0)
    *size = 32;
  else if ((mask & (N_S64 | N_U64 | N_I64 | N_64 | N_F64)) != 0)
    *size = 64;
  else
    return FAIL;

  if ((mask & (N_S8 | N_S16 | N_S32 | N_S64)) != 0)
    *type = NT_signed;
  else if ((mask & (N_U8 | N_U16 | N_U32 | N_U64)) != 0)
    *type = NT_unsigned;
  else if ((mask & (N_I8 | N_I16 | N_I32 | N_I64)) != 0)
    *type = NT_integer;
  else if ((mask & (N_8 | N_16 | N_32 | N_64)) != 0)
    *type = NT_untyped;
  else if ((mask & (N_P8 | N_P16)) != 0)
    *type = NT_poly;
  else if ((mask & (N_F32 | N_F64)) != 0)
    *type = NT_float;
  else
    return FAIL;
  
  return SUCCESS;
}

/* Modify a bitmask of allowed types. This is only needed for type
   relaxation.  */

static unsigned
modify_types_allowed (unsigned allowed, unsigned mods)
{
  unsigned size;
  enum neon_el_type type;
  unsigned destmask;
  int i;
  
  destmask = 0;
  
  for (i = 1; i <= N_MAX_NONSPECIAL; i <<= 1)
    {
      if (el_type_of_type_chk (&type, &size, allowed & i) == SUCCESS)
        {
          neon_modify_type_size (mods, &type, &size);
          destmask |= type_chk_of_el_type (type, size);
        }
    }
  
  return destmask;
}

/* Check type and return type classification.
   The manual states (paraphrase): If one datatype is given, it indicates the
   type given in:
    - the second operand, if there is one
    - the operand, if there is no second operand
    - the result, if there are no operands.
   This isn't quite good enough though, so we use a concept of a "key" datatype
   which is set on a per-instruction basis, which is the one which matters when
   only one data type is written.
   Note: this function has side-effects (e.g. filling in missing operands). All
   Neon instructions should call it before performing bit encoding.  */

static struct neon_type_el
neon_check_type (unsigned els, enum neon_shape ns, ...)
{
  va_list ap;
  unsigned i, pass, key_el = 0;
  unsigned types[NEON_MAX_TYPE_ELS];
  enum neon_el_type k_type = NT_invtype;
  unsigned k_size = -1u;
  struct neon_type_el badtype = {NT_invtype, -1};
  unsigned key_allowed = 0;

  /* Optional registers in Neon instructions are always (not) in operand 1.
     Fill in the missing operand here, if it was omitted.  */
  if (els > 1 && !inst.operands[1].present)
    inst.operands[1] = inst.operands[0];

  /* Suck up all the varargs.  */
  va_start (ap, ns);
  for (i = 0; i < els; i++)
    {
      unsigned thisarg = va_arg (ap, unsigned);
      if (thisarg == N_IGNORE_TYPE)
        {
          va_end (ap);
          return badtype;
        }
      types[i] = thisarg;
      if ((thisarg & N_KEY) != 0)
        key_el = i;
    }
  va_end (ap);

  if (inst.vectype.elems > 0)
    for (i = 0; i < els; i++)
      if (inst.operands[i].vectype.type != NT_invtype)
        {
          first_error (_("types specified in both the mnemonic and operands"));
          return badtype;
        }

  /* Duplicate inst.vectype elements here as necessary.
     FIXME: No idea if this is exactly the same as the ARM assembler,
     particularly when an insn takes one register and one non-register
     operand. */
  if (inst.vectype.elems == 1 && els > 1)
    {
      unsigned j;
      inst.vectype.elems = els;
      inst.vectype.el[key_el] = inst.vectype.el[0];
      for (j = 0; j < els; j++)
        if (j != key_el)
          inst.vectype.el[j] = neon_type_promote (&inst.vectype.el[key_el],
                                                  types[j]);
    }
  else if (inst.vectype.elems == 0 && els > 0)
    {
      unsigned j;
      /* No types were given after the mnemonic, so look for types specified
         after each operand. We allow some flexibility here; as long as the
         "key" operand has a type, we can infer the others.  */
      for (j = 0; j < els; j++)
        if (inst.operands[j].vectype.type != NT_invtype)
          inst.vectype.el[j] = inst.operands[j].vectype;

      if (inst.operands[key_el].vectype.type != NT_invtype)
        {
          for (j = 0; j < els; j++)
            if (inst.operands[j].vectype.type == NT_invtype)
              inst.vectype.el[j] = neon_type_promote (&inst.vectype.el[key_el],
                                                      types[j]);
        }
      else
        {
          first_error (_("operand types can't be inferred"));
          return badtype;
        }
    }
  else if (inst.vectype.elems != els)
    {
      first_error (_("type specifier has the wrong number of parts"));
      return badtype;
    }

  for (pass = 0; pass < 2; pass++)
    {
      for (i = 0; i < els; i++)
        {
          unsigned thisarg = types[i];
          unsigned types_allowed = ((thisarg & N_EQK) != 0 && pass != 0)
            ? modify_types_allowed (key_allowed, thisarg) : thisarg;
          enum neon_el_type g_type = inst.vectype.el[i].type;
          unsigned g_size = inst.vectype.el[i].size;

          /* Decay more-specific signed & unsigned types to sign-insensitive
	     integer types if sign-specific variants are unavailable.  */
          if ((g_type == NT_signed || g_type == NT_unsigned)
	      && (types_allowed & N_SU_ALL) == 0)
	    g_type = NT_integer;

          /* If only untyped args are allowed, decay any more specific types to
	     them. Some instructions only care about signs for some element
	     sizes, so handle that properly.  */
          if ((g_size == 8 && (types_allowed & N_8) != 0)
	      || (g_size == 16 && (types_allowed & N_16) != 0)
	      || (g_size == 32 && (types_allowed & N_32) != 0)
	      || (g_size == 64 && (types_allowed & N_64) != 0))
	    g_type = NT_untyped;

          if (pass == 0)
            {
              if ((thisarg & N_KEY) != 0)
                {
                  k_type = g_type;
                  k_size = g_size;
                  key_allowed = thisarg & ~N_KEY;
                }
            }
          else
            {
              if ((thisarg & N_VFP) != 0)
                {
                  enum neon_shape_el regshape = neon_shape_tab[ns].el[i];
                  unsigned regwidth = neon_shape_el_size[regshape], match;

                  /* In VFP mode, operands must match register widths. If we
                     have a key operand, use its width, else use the width of
                     the current operand.  */
                  if (k_size != -1u)
                    match = k_size;
                  else
                    match = g_size;

                  if (regwidth != match)
                    {
                      first_error (_("operand size must match register width"));
                      return badtype;
                    }
                }
            
              if ((thisarg & N_EQK) == 0)
                {
                  unsigned given_type = type_chk_of_el_type (g_type, g_size);

                  if ((given_type & types_allowed) == 0)
                    {
	              first_error (_("bad type in Neon instruction"));
	              return badtype;
                    }
                }
              else
                {
                  enum neon_el_type mod_k_type = k_type;
                  unsigned mod_k_size = k_size;
                  neon_modify_type_size (thisarg, &mod_k_type, &mod_k_size);
                  if (g_type != mod_k_type || g_size != mod_k_size)
                    {
                      first_error (_("inconsistent types in Neon instruction"));
                      return badtype;
                    }
                }
            }
        }
    }

  return inst.vectype.el[key_el];
}

/* Neon-style VFP instruction forwarding.  */

/* Thumb VFP instructions have 0xE in the condition field.  */

static void
do_vfp_cond_or_thumb (void)
{
  if (thumb_mode)
    inst.instruction |= 0xe0000000;
  else
    inst.instruction |= inst.cond << 28;
}

/* Look up and encode a simple mnemonic, for use as a helper function for the
   Neon-style VFP syntax.  This avoids duplication of bits of the insns table,
   etc.  It is assumed that operand parsing has already been done, and that the
   operands are in the form expected by the given opcode (this isn't necessarily
   the same as the form in which they were parsed, hence some massaging must
   take place before this function is called).
   Checks current arch version against that in the looked-up opcode.  */

static void
do_vfp_nsyn_opcode (const char *opname)
{
  const struct asm_opcode *opcode;
  
  opcode = hash_find (arm_ops_hsh, opname);

  if (!opcode)
    abort ();

  constraint (!ARM_CPU_HAS_FEATURE (cpu_variant,
                thumb_mode ? *opcode->tvariant : *opcode->avariant),
              _(BAD_FPU));

  if (thumb_mode)
    {
      inst.instruction = opcode->tvalue;
      opcode->tencode ();
    }
  else
    {
      inst.instruction = (inst.cond << 28) | opcode->avalue;
      opcode->aencode ();
    }
}

static void
do_vfp_nsyn_add_sub (enum neon_shape rs)
{
  int is_add = (inst.instruction & 0x0fffffff) == N_MNEM_vadd;

  if (rs == NS_FFF)
    {
      if (is_add)
        do_vfp_nsyn_opcode ("fadds");
      else
        do_vfp_nsyn_opcode ("fsubs");
    }
  else
    {
      if (is_add)
        do_vfp_nsyn_opcode ("faddd");
      else
        do_vfp_nsyn_opcode ("fsubd");
    }
}

/* Check operand types to see if this is a VFP instruction, and if so call
   PFN ().  */

static int
try_vfp_nsyn (int args, void (*pfn) (enum neon_shape))
{
  enum neon_shape rs;
  struct neon_type_el et;

  switch (args)
    {
    case 2:
      rs = neon_select_shape (NS_FF, NS_DD, NS_NULL);
      et = neon_check_type (2, rs,
        N_EQK | N_VFP, N_F32 | N_F64 | N_KEY | N_VFP);
      break;
    
    case 3:
      rs = neon_select_shape (NS_FFF, NS_DDD, NS_NULL);
      et = neon_check_type (3, rs,
        N_EQK | N_VFP, N_EQK | N_VFP, N_F32 | N_F64 | N_KEY | N_VFP);
      break;

    default:
      abort ();
    }

  if (et.type != NT_invtype)
    {
      pfn (rs);
      return SUCCESS;
    }
  else
    inst.error = NULL;

  return FAIL;
}

static void
do_vfp_nsyn_mla_mls (enum neon_shape rs)
{
  int is_mla = (inst.instruction & 0x0fffffff) == N_MNEM_vmla;
  
  if (rs == NS_FFF)
    {
      if (is_mla)
        do_vfp_nsyn_opcode ("fmacs");
      else
        do_vfp_nsyn_opcode ("fnmacs");
    }
  else
    {
      if (is_mla)
        do_vfp_nsyn_opcode ("fmacd");
      else
        do_vfp_nsyn_opcode ("fnmacd");
    }
}

static void
do_vfp_nsyn_mul (enum neon_shape rs)
{
  if (rs == NS_FFF)
    do_vfp_nsyn_opcode ("fmuls");
  else
    do_vfp_nsyn_opcode ("fmuld");
}

static void
do_vfp_nsyn_fma (enum neon_shape rs)
{
  int is_fma = (inst.instruction & 0x0fffffff) == N_MNEM_vfma;
  
  if (rs == NS_FFF)
    {
      if (is_fma)
        do_vfp_nsyn_opcode ("ffmacs");
      else
        do_vfp_nsyn_opcode ("fnfmacs");
    }
  else
    {
      if (is_fma)
        do_vfp_nsyn_opcode ("ffmacd");
      else
        do_vfp_nsyn_opcode ("fnfmacd");
    }
}

static void
do_vfp_nsyn_abs_neg (enum neon_shape rs)
{
  int is_neg = (inst.instruction & 0x80) != 0;
  neon_check_type (2, rs, N_EQK | N_VFP, N_F32 | N_F64 | N_VFP | N_KEY);

  if (rs == NS_FF)
    {
      if (is_neg)
        do_vfp_nsyn_opcode ("fnegs");
      else
        do_vfp_nsyn_opcode ("fabss");
    }
  else
    {
      if (is_neg)
        do_vfp_nsyn_opcode ("fnegd");
      else
        do_vfp_nsyn_opcode ("fabsd");
    }
}

/* Encode single-precision (only!) VFP fldm/fstm instructions. Double precision
   insns belong to Neon, and are handled elsewhere.  */

static void
do_vfp_nsyn_ldm_stm (int is_dbmode)
{
  int is_ldm = (inst.instruction & (1 << 20)) != 0;
  if (is_ldm)
    {
      if (is_dbmode)
        do_vfp_nsyn_opcode ("fldmdbs");
      else
        do_vfp_nsyn_opcode ("fldmias");
    }
  else
    {
      if (is_dbmode)
        do_vfp_nsyn_opcode ("fstmdbs");
      else
        do_vfp_nsyn_opcode ("fstmias");
    }
}

static void
do_vfp_nsyn_sqrt (void)
{
  enum neon_shape rs = neon_select_shape (NS_FF, NS_DD, NS_NULL);
  neon_check_type (2, rs, N_EQK | N_VFP, N_F32 | N_F64 | N_KEY | N_VFP);
      
  if (rs == NS_FF)
    do_vfp_nsyn_opcode ("fsqrts");
  else
    do_vfp_nsyn_opcode ("fsqrtd");
}

static void
do_vfp_nsyn_div (void)
{
  enum neon_shape rs = neon_select_shape (NS_FFF, NS_DDD, NS_NULL);
  neon_check_type (3, rs, N_EQK | N_VFP, N_EQK | N_VFP,
    N_F32 | N_F64 | N_KEY | N_VFP);
  
  if (rs == NS_FFF)
    do_vfp_nsyn_opcode ("fdivs");
  else
    do_vfp_nsyn_opcode ("fdivd");
}

static void
do_vfp_nsyn_fnma (void)
{
  enum neon_shape rs = neon_select_shape (NS_FFF, NS_DDD, NS_NULL);
  neon_check_type (3, rs, N_EQK | N_VFP, N_EQK | N_VFP,
    N_F32 | N_F64 | N_KEY | N_VFP);
  
  if (rs == NS_FFF)
    do_vfp_nsyn_opcode ("ffnmas");
  else
    do_vfp_nsyn_opcode ("ffnmad");
}

static void
do_vfp_nsyn_fnms (void)
{
  enum neon_shape rs = neon_select_shape (NS_FFF, NS_DDD, NS_NULL);
  neon_check_type (3, rs, N_EQK | N_VFP, N_EQK | N_VFP,
    N_F32 | N_F64 | N_KEY | N_VFP);
  
  if (rs == NS_FFF)
    do_vfp_nsyn_opcode ("ffnmss");
  else
    do_vfp_nsyn_opcode ("ffnmsd");
}

static void
do_vfp_nsyn_nmul (void)
{
  enum neon_shape rs = neon_select_shape (NS_FFF, NS_DDD, NS_NULL);
  neon_check_type (3, rs, N_EQK | N_VFP, N_EQK | N_VFP,
    N_F32 | N_F64 | N_KEY | N_VFP);
  
  if (rs == NS_FFF)
    {
      inst.instruction = NEON_ENC_SINGLE (inst.instruction);
      do_vfp_sp_dyadic ();
    }
  else
    {
      inst.instruction = NEON_ENC_DOUBLE (inst.instruction);
      do_vfp_dp_rd_rn_rm ();
    }
  do_vfp_cond_or_thumb ();
}

static void
do_vfp_nsyn_cmp (void)
{
  if (inst.operands[1].isreg)
    {
      enum neon_shape rs = neon_select_shape (NS_FF, NS_DD, NS_NULL);
      neon_check_type (2, rs, N_EQK | N_VFP, N_F32 | N_F64 | N_KEY | N_VFP);
      
      if (rs == NS_FF)
        {
          inst.instruction = NEON_ENC_SINGLE (inst.instruction);
          do_vfp_sp_monadic ();
        }
      else
        {
          inst.instruction = NEON_ENC_DOUBLE (inst.instruction);
          do_vfp_dp_rd_rm ();
        }
    }
  else
    {
      enum neon_shape rs = neon_select_shape (NS_FI, NS_DI, NS_NULL);
      neon_check_type (2, rs, N_F32 | N_F64 | N_KEY | N_VFP, N_EQK);

      switch (inst.instruction & 0x0fffffff)
        {
        case N_MNEM_vcmp:
          inst.instruction += N_MNEM_vcmpz - N_MNEM_vcmp;
          break;
        case N_MNEM_vcmpe:
          inst.instruction += N_MNEM_vcmpez - N_MNEM_vcmpe;
          break;
        default:
          abort ();
        }
     
      if (rs == NS_FI)
        {
          inst.instruction = NEON_ENC_SINGLE (inst.instruction);
          do_vfp_sp_compare_z ();
        }
      else
        {
          inst.instruction = NEON_ENC_DOUBLE (inst.instruction);
          do_vfp_dp_rd ();
        }
    }
  do_vfp_cond_or_thumb ();
}

static void
nsyn_insert_sp (void)
{
  inst.operands[1] = inst.operands[0];
  memset (&inst.operands[0], '\0', sizeof (inst.operands[0]));
  inst.operands[0].reg = 13;
  inst.operands[0].isreg = 1;
  inst.operands[0].writeback = 1;
  inst.operands[0].present = 1;
}

static void
do_vfp_nsyn_push (void)
{
  nsyn_insert_sp ();
  if (inst.operands[1].issingle)
    do_vfp_nsyn_opcode ("fstmdbs");
  else
    do_vfp_nsyn_opcode ("fstmdbd");
}

static void
do_vfp_nsyn_pop (void)
{
  nsyn_insert_sp ();
  if (inst.operands[1].issingle)
    do_vfp_nsyn_opcode ("fldmias");
  else
    do_vfp_nsyn_opcode ("fldmiad");
}

/* Fix up Neon data-processing instructions, ORing in the correct bits for
   ARM mode or Thumb mode and moving the encoded bit 24 to bit 28.  */

static unsigned
neon_dp_fixup (unsigned i)
{
  if (thumb_mode)
    {
      /* The U bit is at bit 24 by default. Move to bit 28 in Thumb mode.  */
      if (i & (1 << 24))
        i |= 1 << 28;
      
      i &= ~(1 << 24);
      
      i |= 0xef000000;
    }
  else
    i |= 0xf2000000;
  
  return i;
}

/* Turn a size (8, 16, 32, 64) into the respective bit number minus 3
   (0, 1, 2, 3).  */

static unsigned
neon_logbits (unsigned x)
{
  return ffs (x) - 4;
}

#define LOW4(R) ((R) & 0xf)
#define HI1(R) (((R) >> 4) & 1)

/* Encode insns with bit pattern:

  |28/24|23|22 |21 20|19 16|15 12|11    8|7|6|5|4|3  0|
  |  U  |x |D  |size | Rn  | Rd  |x x x x|N|Q|M|x| Rm |
  
  SIZE is passed in bits. -1 means size field isn't changed, in case it has a
  different meaning for some instruction.  */

static void
neon_three_same (int isquad, int ubit, int size)
{
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg) << 16;
  inst.instruction |= HI1 (inst.operands[1].reg) << 7;
  inst.instruction |= LOW4 (inst.operands[2].reg);
  inst.instruction |= HI1 (inst.operands[2].reg) << 5;
  inst.instruction |= (isquad != 0) << 6;
  inst.instruction |= (ubit != 0) << 24;
  if (size != -1)
    inst.instruction |= neon_logbits (size) << 20;
  
  inst.instruction = neon_dp_fixup (inst.instruction);
}

/* Encode instructions of the form:

  |28/24|23|22|21 20|19 18|17 16|15 12|11      7|6|5|4|3  0|
  |  U  |x |D |x  x |size |x  x | Rd  |x x x x x|Q|M|x| Rm |

  Don't write size if SIZE == -1.  */

static void
neon_two_same (int qbit, int ubit, int size)
{
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg);
  inst.instruction |= HI1 (inst.operands[1].reg) << 5;
  inst.instruction |= (qbit != 0) << 6;
  inst.instruction |= (ubit != 0) << 24;

  if (size != -1)
    inst.instruction |= neon_logbits (size) << 18;

  inst.instruction = neon_dp_fixup (inst.instruction);
}

/* Neon instruction encoders, in approximate order of appearance.  */

static void
do_neon_dyadic_i_su (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  struct neon_type_el et = neon_check_type (3, rs,
    N_EQK, N_EQK, N_SU_32 | N_KEY);
  neon_three_same (neon_quad (rs), et.type == NT_unsigned, et.size);
}

static void
do_neon_dyadic_i64_su (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  struct neon_type_el et = neon_check_type (3, rs,
    N_EQK, N_EQK, N_SU_ALL | N_KEY);
  neon_three_same (neon_quad (rs), et.type == NT_unsigned, et.size);
}

static void
neon_imm_shift (int write_ubit, int uval, int isquad, struct neon_type_el et,
                unsigned immbits)
{
  unsigned size = et.size >> 3;
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg);
  inst.instruction |= HI1 (inst.operands[1].reg) << 5;
  inst.instruction |= (isquad != 0) << 6;
  inst.instruction |= immbits << 16;
  inst.instruction |= (size >> 3) << 7;
  inst.instruction |= (size & 0x7) << 19;
  if (write_ubit)
    inst.instruction |= (uval != 0) << 24;

  inst.instruction = neon_dp_fixup (inst.instruction);
}

static void
do_neon_shl_imm (void)
{
  if (!inst.operands[2].isreg)
    {
      enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_NULL);
      struct neon_type_el et = neon_check_type (2, rs, N_EQK, N_KEY | N_I_ALL);
      inst.instruction = NEON_ENC_IMMED (inst.instruction);
      neon_imm_shift (FALSE, 0, neon_quad (rs), et, inst.operands[2].imm);
    }
  else
    {
      enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
      struct neon_type_el et = neon_check_type (3, rs,
        N_EQK, N_SU_ALL | N_KEY, N_EQK | N_SGN);
      unsigned int tmp;

      /* VSHL/VQSHL 3-register variants have syntax such as:
           vshl.xx Dd, Dm, Dn
         whereas other 3-register operations encoded by neon_three_same have
         syntax like:
           vadd.xx Dd, Dn, Dm
         (i.e. with Dn & Dm reversed). Swap operands[1].reg and operands[2].reg
         here.  */
      tmp = inst.operands[2].reg;
      inst.operands[2].reg = inst.operands[1].reg;
      inst.operands[1].reg = tmp;
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      neon_three_same (neon_quad (rs), et.type == NT_unsigned, et.size);
    }
}

static void
do_neon_qshl_imm (void)
{
  if (!inst.operands[2].isreg)
    {
      enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_NULL);
      struct neon_type_el et = neon_check_type (2, rs, N_EQK, N_SU_ALL | N_KEY);

      inst.instruction = NEON_ENC_IMMED (inst.instruction);
      neon_imm_shift (TRUE, et.type == NT_unsigned, neon_quad (rs), et,
                      inst.operands[2].imm);
    }
  else
    {
      enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
      struct neon_type_el et = neon_check_type (3, rs,
        N_EQK, N_SU_ALL | N_KEY, N_EQK | N_SGN);
      unsigned int tmp;

      /* See note in do_neon_shl_imm.  */
      tmp = inst.operands[2].reg;
      inst.operands[2].reg = inst.operands[1].reg;
      inst.operands[1].reg = tmp;
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      neon_three_same (neon_quad (rs), et.type == NT_unsigned, et.size);
    }
}

static void
do_neon_rshl (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  struct neon_type_el et = neon_check_type (3, rs,
    N_EQK, N_EQK, N_SU_ALL | N_KEY);
  unsigned int tmp;

  tmp = inst.operands[2].reg;
  inst.operands[2].reg = inst.operands[1].reg;
  inst.operands[1].reg = tmp;
  neon_three_same (neon_quad (rs), et.type == NT_unsigned, et.size);
}

static int
neon_cmode_for_logic_imm (unsigned immediate, unsigned *immbits, int size)
{
  /* Handle .I8 pseudo-instructions.  */
  if (size == 8)
    {
      /* Unfortunately, this will make everything apart from zero out-of-range.
         FIXME is this the intended semantics? There doesn't seem much point in
         accepting .I8 if so.  */
      immediate |= immediate << 8;
      size = 16;
    }

  if (size >= 32)
    {
      if (immediate == (immediate & 0x000000ff))
	{
	  *immbits = immediate;
	  return 0x1;
	}
      else if (immediate == (immediate & 0x0000ff00))
	{
	  *immbits = immediate >> 8;
	  return 0x3;
	}
      else if (immediate == (immediate & 0x00ff0000))
	{
	  *immbits = immediate >> 16;
	  return 0x5;
	}
      else if (immediate == (immediate & 0xff000000))
	{
	  *immbits = immediate >> 24;
	  return 0x7;
	}
      if ((immediate & 0xffff) != (immediate >> 16))
	goto bad_immediate;
      immediate &= 0xffff;
    }

  if (immediate == (immediate & 0x000000ff))
    {
      *immbits = immediate;
      return 0x9;
    }
  else if (immediate == (immediate & 0x0000ff00))
    {
      *immbits = immediate >> 8;
      return 0xb;
    }

  bad_immediate:
  first_error (_("immediate value out of range"));
  return FAIL;
}

/* True if IMM has form 0bAAAAAAAABBBBBBBBCCCCCCCCDDDDDDDD for bits
   A, B, C, D.  */

static int
neon_bits_same_in_bytes (unsigned imm)
{
  return ((imm & 0x000000ff) == 0 || (imm & 0x000000ff) == 0x000000ff)
         && ((imm & 0x0000ff00) == 0 || (imm & 0x0000ff00) == 0x0000ff00)
         && ((imm & 0x00ff0000) == 0 || (imm & 0x00ff0000) == 0x00ff0000)
         && ((imm & 0xff000000) == 0 || (imm & 0xff000000) == 0xff000000);
}

/* For immediate of above form, return 0bABCD.  */

static unsigned
neon_squash_bits (unsigned imm)
{
  return (imm & 0x01) | ((imm & 0x0100) >> 7) | ((imm & 0x010000) >> 14)
         | ((imm & 0x01000000) >> 21);
}

/* Compress quarter-float representation to 0b...000 abcdefgh.  */

static unsigned
neon_qfloat_bits (unsigned imm)
{
  return ((imm >> 19) & 0x7f) | ((imm >> 24) & 0x80);
}

/* Returns CMODE. IMMBITS [7:0] is set to bits suitable for inserting into
   the instruction. *OP is passed as the initial value of the op field, and
   may be set to a different value depending on the constant (i.e.
   "MOV I64, 0bAAAAAAAABBBB..." which uses OP = 1 despite being MOV not
   MVN).  If the immediate looks like a repeated parttern then also
   try smaller element sizes.  */

static int
neon_cmode_for_move_imm (unsigned immlo, unsigned immhi, int float_p,
			 unsigned *immbits, int *op, int size,
			 enum neon_el_type type)
{
  /* Only permit float immediates (including 0.0/-0.0) if the operand type is
     float.  */
  if (type == NT_float && !float_p)
    return FAIL;

  if (type == NT_float && is_quarter_float (immlo) && immhi == 0)
    {
      if (size != 32 || *op == 1)
        return FAIL;
      *immbits = neon_qfloat_bits (immlo);
      return 0xf;
    }

  if (size == 64)
    {
      if (neon_bits_same_in_bytes (immhi)
	  && neon_bits_same_in_bytes (immlo))
	{
	  if (*op == 1)
	    return FAIL;
	  *immbits = (neon_squash_bits (immhi) << 4)
		     | neon_squash_bits (immlo);
	  *op = 1;
	  return 0xe;
	}

      if (immhi != immlo)
	return FAIL;
    }

  if (size >= 32)
    {
      if (immlo == (immlo & 0x000000ff))
	{
	  *immbits = immlo;
	  return 0x0;
	}
      else if (immlo == (immlo & 0x0000ff00))
	{
	  *immbits = immlo >> 8;
	  return 0x2;
	}
      else if (immlo == (immlo & 0x00ff0000))
	{
	  *immbits = immlo >> 16;
	  return 0x4;
	}
      else if (immlo == (immlo & 0xff000000))
	{
	  *immbits = immlo >> 24;
	  return 0x6;
	}
      else if (immlo == ((immlo & 0x0000ff00) | 0x000000ff))
	{
	  *immbits = (immlo >> 8) & 0xff;
	  return 0xc;
	}
      else if (immlo == ((immlo & 0x00ff0000) | 0x0000ffff))
	{
	  *immbits = (immlo >> 16) & 0xff;
	  return 0xd;
	}

      if ((immlo & 0xffff) != (immlo >> 16))
	return FAIL;
      immlo &= 0xffff;
    }

  if (size >= 16)
    {
      if (immlo == (immlo & 0x000000ff))
	{
	  *immbits = immlo;
	  return 0x8;
	}
      else if (immlo == (immlo & 0x0000ff00))
	{
	  *immbits = immlo >> 8;
	  return 0xa;
	}

      if ((immlo & 0xff) != (immlo >> 8))
	return FAIL;
      immlo &= 0xff;
    }

  if (immlo == (immlo & 0x000000ff))
    {
      /* Don't allow MVN with 8-bit immediate.  */
      if (*op == 1)
	return FAIL;
      *immbits = immlo;
      return 0xe;
    }

  return FAIL;
}

/* Write immediate bits [7:0] to the following locations:

  |28/24|23     19|18 16|15                    4|3     0|
  |  a  |x x x x x|b c d|x x x x x x x x x x x x|e f g h|

  This function is used by VMOV/VMVN/VORR/VBIC.  */

static void
neon_write_immbits (unsigned immbits)
{
  inst.instruction |= immbits & 0xf;
  inst.instruction |= ((immbits >> 4) & 0x7) << 16;
  inst.instruction |= ((immbits >> 7) & 0x1) << 24;
}

/* Invert low-order SIZE bits of XHI:XLO.  */

static void
neon_invert_size (unsigned *xlo, unsigned *xhi, int size)
{
  unsigned immlo = xlo ? *xlo : 0;
  unsigned immhi = xhi ? *xhi : 0;

  switch (size)
    {
    case 8:
      immlo = (~immlo) & 0xff;
      break;

    case 16:
      immlo = (~immlo) & 0xffff;
      break;

    case 64:
      immhi = (~immhi) & 0xffffffff;
      /* fall through.  */

    case 32:
      immlo = (~immlo) & 0xffffffff;
      break;

    default:
      abort ();
    }

  if (xlo)
    *xlo = immlo;

  if (xhi)
    *xhi = immhi;
}

static void
do_neon_logic (void)
{
  if (inst.operands[2].present && inst.operands[2].isreg)
    {
      enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
      neon_check_type (3, rs, N_IGNORE_TYPE);
      /* U bit and size field were set as part of the bitmask.  */
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      neon_three_same (neon_quad (rs), 0, -1);
    }
  else
    {
      enum neon_shape rs = neon_select_shape (NS_DI, NS_QI, NS_NULL);
      struct neon_type_el et = neon_check_type (2, rs,
        N_I8 | N_I16 | N_I32 | N_I64 | N_F32 | N_KEY, N_EQK);
      enum neon_opc opcode = inst.instruction & 0x0fffffff;
      unsigned immbits;
      int cmode;
      
      if (et.type == NT_invtype)
        return;
      
      inst.instruction = NEON_ENC_IMMED (inst.instruction);

      immbits = inst.operands[1].imm;
      if (et.size == 64)
	{
	  /* .i64 is a pseudo-op, so the immediate must be a repeating
	     pattern.  */
	  if (immbits != (inst.operands[1].regisimm ?
			  inst.operands[1].reg : 0))
	    {
	      /* Set immbits to an invalid constant.  */
	      immbits = 0xdeadbeef;
	    }
	}

      switch (opcode)
        {
        case N_MNEM_vbic:
          cmode = neon_cmode_for_logic_imm (immbits, &immbits, et.size);
          break;
        
        case N_MNEM_vorr:
          cmode = neon_cmode_for_logic_imm (immbits, &immbits, et.size);
          break;
        
        case N_MNEM_vand:
          /* Pseudo-instruction for VBIC.  */
          neon_invert_size (&immbits, 0, et.size);
          cmode = neon_cmode_for_logic_imm (immbits, &immbits, et.size);
          break;
        
        case N_MNEM_vorn:
          /* Pseudo-instruction for VORR.  */
          neon_invert_size (&immbits, 0, et.size);
          cmode = neon_cmode_for_logic_imm (immbits, &immbits, et.size);
          break;
        
        default:
          abort ();
        }

      if (cmode == FAIL)
        return;

      inst.instruction |= neon_quad (rs) << 6;
      inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
      inst.instruction |= HI1 (inst.operands[0].reg) << 22;
      inst.instruction |= cmode << 8;
      neon_write_immbits (immbits);
      
      inst.instruction = neon_dp_fixup (inst.instruction);
    }
}

static void
do_neon_bitfield (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  neon_check_type (3, rs, N_IGNORE_TYPE);
  neon_three_same (neon_quad (rs), 0, -1);
}

static void
neon_dyadic_misc (enum neon_el_type ubit_meaning, unsigned types,
                  unsigned destbits)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  struct neon_type_el et = neon_check_type (3, rs, N_EQK | destbits, N_EQK,
                                            types | N_KEY);
  if (et.type == NT_float)
    {
      inst.instruction = NEON_ENC_FLOAT (inst.instruction);
      neon_three_same (neon_quad (rs), 0, -1);
    }
  else
    {
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      neon_three_same (neon_quad (rs), et.type == ubit_meaning, et.size);
    }
}

static void
do_neon_dyadic_if_su (void)
{
  neon_dyadic_misc (NT_unsigned, N_SUF_32, 0);
}

static void
do_neon_dyadic_if_su_d (void)
{
  /* This version only allow D registers, but that constraint is enforced during
     operand parsing so we don't need to do anything extra here.  */
  neon_dyadic_misc (NT_unsigned, N_SUF_32, 0);
}

static void
do_neon_dyadic_if_i_d (void)
{
  /* The "untyped" case can't happen. Do this to stop the "U" bit being
     affected if we specify unsigned args.  */
  neon_dyadic_misc (NT_untyped, N_IF_32, 0);
}

enum vfp_or_neon_is_neon_bits
{
  NEON_CHECK_CC = 1,
  NEON_CHECK_ARCH = 2
};

/* Call this function if an instruction which may have belonged to the VFP or
   Neon instruction sets, but turned out to be a Neon instruction (due to the
   operand types involved, etc.). We have to check and/or fix-up a couple of
   things:

     - Make sure the user hasn't attempted to make a Neon instruction
       conditional.
     - Alter the value in the condition code field if necessary.
     - Make sure that the arch supports Neon instructions.

   Which of these operations take place depends on bits from enum
   vfp_or_neon_is_neon_bits.

   WARNING: This function has side effects! If NEON_CHECK_CC is used and the
   current instruction's condition is COND_ALWAYS, the condition field is
   changed to inst.uncond_value. This is necessary because instructions shared
   between VFP and Neon may be conditional for the VFP variants only, and the
   unconditional Neon version must have, e.g., 0xF in the condition field.  */

static int
vfp_or_neon_is_neon (unsigned check)
{
  /* Conditions are always legal in Thumb mode (IT blocks).  */
  if (!thumb_mode && (check & NEON_CHECK_CC))
    {
      if (inst.cond != COND_ALWAYS)
        {
          first_error (_(BAD_COND));
          return FAIL;
        }
      if (inst.uncond_value != -1)
        inst.instruction |= inst.uncond_value << 28;
    }
  
  if ((check & NEON_CHECK_ARCH)
      && !ARM_CPU_HAS_FEATURE (cpu_variant, fpu_neon_ext_v1))
    {
      first_error (_(BAD_FPU));
      return FAIL;
    }
  
  return SUCCESS;
}

static void
do_neon_addsub_if_i (void)
{
  if (try_vfp_nsyn (3, do_vfp_nsyn_add_sub) == SUCCESS)
    return;

  if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
    return;

  /* The "untyped" case can't happen. Do this to stop the "U" bit being
     affected if we specify unsigned args.  */
  neon_dyadic_misc (NT_untyped, N_IF_32 | N_I64, 0);
}

/* Swaps operands 1 and 2. If operand 1 (optional arg) was omitted, we want the
   result to be:
     V<op> A,B     (A is operand 0, B is operand 2)
   to mean:
     V<op> A,B,A
   not:
     V<op> A,B,B
   so handle that case specially.  */

static void
neon_exchange_operands (void)
{
  void *scratch = alloca (sizeof (inst.operands[0]));
  if (inst.operands[1].present)
    {
      /* Swap operands[1] and operands[2].  */
      memcpy (scratch, &inst.operands[1], sizeof (inst.operands[0]));
      inst.operands[1] = inst.operands[2];
      memcpy (&inst.operands[2], scratch, sizeof (inst.operands[0]));
    }
  else
    {
      inst.operands[1] = inst.operands[2];
      inst.operands[2] = inst.operands[0];
    }
}

static void
neon_compare (unsigned regtypes, unsigned immtypes, int invert)
{
  if (inst.operands[2].isreg)
    {
      if (invert)
        neon_exchange_operands ();
      neon_dyadic_misc (NT_unsigned, regtypes, N_SIZ);
    }
  else
    {
      enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_NULL);
      struct neon_type_el et = neon_check_type (2, rs,
        N_EQK | N_SIZ, immtypes | N_KEY);

      inst.instruction = NEON_ENC_IMMED (inst.instruction);
      inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
      inst.instruction |= HI1 (inst.operands[0].reg) << 22;
      inst.instruction |= LOW4 (inst.operands[1].reg);
      inst.instruction |= HI1 (inst.operands[1].reg) << 5;
      inst.instruction |= neon_quad (rs) << 6;
      inst.instruction |= (et.type == NT_float) << 10;
      inst.instruction |= neon_logbits (et.size) << 18;
      
      inst.instruction = neon_dp_fixup (inst.instruction);
    }
}

static void
do_neon_cmp (void)
{
  neon_compare (N_SUF_32, N_S8 | N_S16 | N_S32 | N_F32, FALSE);
}

static void
do_neon_cmp_inv (void)
{
  neon_compare (N_SUF_32, N_S8 | N_S16 | N_S32 | N_F32, TRUE);
}

static void
do_neon_ceq (void)
{
  neon_compare (N_IF_32, N_IF_32, FALSE);
}

/* For multiply instructions, we have the possibility of 16-bit or 32-bit
   scalars, which are encoded in 5 bits, M : Rm.
   For 16-bit scalars, the register is encoded in Rm[2:0] and the index in
   M:Rm[3], and for 32-bit scalars, the register is encoded in Rm[3:0] and the
   index in M.  */

static unsigned
neon_scalar_for_mul (unsigned scalar, unsigned elsize)
{
  unsigned regno = NEON_SCALAR_REG (scalar);
  unsigned elno = NEON_SCALAR_INDEX (scalar);

  switch (elsize)
    {
    case 16:
      if (regno > 7 || elno > 3)
        goto bad_scalar;
      return regno | (elno << 3);
    
    case 32:
      if (regno > 15 || elno > 1)
        goto bad_scalar;
      return regno | (elno << 4);

    default:
    bad_scalar:
      first_error (_("scalar out of range for multiply instruction"));
    }

  return 0;
}

/* Encode multiply / multiply-accumulate scalar instructions.  */

static void
neon_mul_mac (struct neon_type_el et, int ubit)
{
  unsigned scalar;

  /* Give a more helpful error message if we have an invalid type.  */
  if (et.type == NT_invtype)
    return;
  
  scalar = neon_scalar_for_mul (inst.operands[2].reg, et.size);
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg) << 16;
  inst.instruction |= HI1 (inst.operands[1].reg) << 7;
  inst.instruction |= LOW4 (scalar);
  inst.instruction |= HI1 (scalar) << 5;
  inst.instruction |= (et.type == NT_float) << 8;
  inst.instruction |= neon_logbits (et.size) << 20;
  inst.instruction |= (ubit != 0) << 24;

  inst.instruction = neon_dp_fixup (inst.instruction);
}

static void
do_neon_mac_maybe_scalar (void)
{
  if (try_vfp_nsyn (3, do_vfp_nsyn_mla_mls) == SUCCESS)
    return;

  if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
    return;

  if (inst.operands[2].isscalar)
    {
      enum neon_shape rs = neon_select_shape (NS_DDS, NS_QQS, NS_NULL);
      struct neon_type_el et = neon_check_type (3, rs,
        N_EQK, N_EQK, N_I16 | N_I32 | N_F32 | N_KEY);
      inst.instruction = NEON_ENC_SCALAR (inst.instruction);
      neon_mul_mac (et, neon_quad (rs));
    }
  else
    {
      /* The "untyped" case can't happen.  Do this to stop the "U" bit being
	 affected if we specify unsigned args.  */
      neon_dyadic_misc (NT_untyped, N_IF_32, 0);
    }
}

static void
do_neon_tst (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  struct neon_type_el et = neon_check_type (3, rs,
    N_EQK, N_EQK, N_8 | N_16 | N_32 | N_KEY);
  neon_three_same (neon_quad (rs), 0, et.size);
}

/* VMUL with 3 registers allows the P8 type. The scalar version supports the
   same types as the MAC equivalents. The polynomial type for this instruction
   is encoded the same as the integer type.  */

static void
do_neon_mul (void)
{
  if (try_vfp_nsyn (3, do_vfp_nsyn_mul) == SUCCESS)
    return;

  if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
    return;

  if (inst.operands[2].isscalar)
    do_neon_mac_maybe_scalar ();
  else
    neon_dyadic_misc (NT_poly, N_I8 | N_I16 | N_I32 | N_F32 | N_P8, 0);
}

static void
do_neon_fma (void)
{
  if (try_vfp_nsyn (3, do_vfp_nsyn_fma) == SUCCESS)
    return;

  if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
    return;

  neon_dyadic_misc (NT_untyped, N_IF_32, 0);
}

static void
do_neon_qdmulh (void)
{
  if (inst.operands[2].isscalar)
    {
      enum neon_shape rs = neon_select_shape (NS_DDS, NS_QQS, NS_NULL);
      struct neon_type_el et = neon_check_type (3, rs,
        N_EQK, N_EQK, N_S16 | N_S32 | N_KEY);
      inst.instruction = NEON_ENC_SCALAR (inst.instruction);
      neon_mul_mac (et, neon_quad (rs));
    }
  else
    {
      enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
      struct neon_type_el et = neon_check_type (3, rs,
        N_EQK, N_EQK, N_S16 | N_S32 | N_KEY);
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      /* The U bit (rounding) comes from bit mask.  */
      neon_three_same (neon_quad (rs), 0, et.size);
    }
}

static void
do_neon_fcmp_absolute (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  neon_check_type (3, rs, N_EQK, N_EQK, N_F32 | N_KEY);
  /* Size field comes from bit mask.  */
  neon_three_same (neon_quad (rs), 1, -1);
}

static void
do_neon_fcmp_absolute_inv (void)
{
  neon_exchange_operands ();
  do_neon_fcmp_absolute ();
}

static void
do_neon_step (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDD, NS_QQQ, NS_NULL);
  neon_check_type (3, rs, N_EQK, N_EQK, N_F32 | N_KEY);
  neon_three_same (neon_quad (rs), 0, -1);
}

static void
do_neon_abs_neg (void)
{
  enum neon_shape rs;
  struct neon_type_el et;
  
  if (try_vfp_nsyn (2, do_vfp_nsyn_abs_neg) == SUCCESS)
    return;

  if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
    return;

  rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  et = neon_check_type (2, rs, N_EQK, N_S8 | N_S16 | N_S32 | N_F32 | N_KEY);
  
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg);
  inst.instruction |= HI1 (inst.operands[1].reg) << 5;
  inst.instruction |= neon_quad (rs) << 6;
  inst.instruction |= (et.type == NT_float) << 10;
  inst.instruction |= neon_logbits (et.size) << 18;
  
  inst.instruction = neon_dp_fixup (inst.instruction);
}

static void
do_neon_sli (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_8 | N_16 | N_32 | N_64 | N_KEY);
  int imm = inst.operands[2].imm;
  constraint (imm < 0 || (unsigned)imm >= et.size,
              _("immediate out of range for insert"));
  neon_imm_shift (FALSE, 0, neon_quad (rs), et, imm);
}

static void
do_neon_sri (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_8 | N_16 | N_32 | N_64 | N_KEY);
  int imm = inst.operands[2].imm;
  constraint (imm < 1 || (unsigned)imm > et.size,
              _("immediate out of range for insert"));
  neon_imm_shift (FALSE, 0, neon_quad (rs), et, et.size - imm);
}

static void
do_neon_qshlu_imm (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK | N_UNS, N_S8 | N_S16 | N_S32 | N_S64 | N_KEY);
  int imm = inst.operands[2].imm;
  constraint (imm < 0 || (unsigned)imm >= et.size,
              _("immediate out of range for shift"));
  /* Only encodes the 'U present' variant of the instruction.
     In this case, signed types have OP (bit 8) set to 0.
     Unsigned types have OP set to 1.  */
  inst.instruction |= (et.type == NT_unsigned) << 8;
  /* The rest of the bits are the same as other immediate shifts.  */
  neon_imm_shift (FALSE, 0, neon_quad (rs), et, imm);
}

static void
do_neon_qmovn (void)
{
  struct neon_type_el et = neon_check_type (2, NS_DQ,
    N_EQK | N_HLF, N_SU_16_64 | N_KEY);
  /* Saturating move where operands can be signed or unsigned, and the
     destination has the same signedness.  */
  inst.instruction = NEON_ENC_INTEGER (inst.instruction);
  if (et.type == NT_unsigned)
    inst.instruction |= 0xc0;
  else
    inst.instruction |= 0x80;
  neon_two_same (0, 1, et.size / 2);
}

static void
do_neon_qmovun (void)
{
  struct neon_type_el et = neon_check_type (2, NS_DQ,
    N_EQK | N_HLF | N_UNS, N_S16 | N_S32 | N_S64 | N_KEY);
  /* Saturating move with unsigned results. Operands must be signed.  */
  inst.instruction = NEON_ENC_INTEGER (inst.instruction);
  neon_two_same (0, 1, et.size / 2);
}

static void
do_neon_rshift_sat_narrow (void)
{
  /* FIXME: Types for narrowing. If operands are signed, results can be signed
     or unsigned. If operands are unsigned, results must also be unsigned.  */
  struct neon_type_el et = neon_check_type (2, NS_DQI,
    N_EQK | N_HLF, N_SU_16_64 | N_KEY);
  int imm = inst.operands[2].imm;
  /* This gets the bounds check, size encoding and immediate bits calculation
     right.  */
  et.size /= 2;
  
  /* VQ{R}SHRN.I<size> <Dd>, <Qm>, #0 is a synonym for
     VQMOVN.I<size> <Dd>, <Qm>.  */
  if (imm == 0)
    {
      inst.operands[2].present = 0;
      inst.instruction = N_MNEM_vqmovn;
      do_neon_qmovn ();
      return;
    }
  
  constraint (imm < 1 || (unsigned)imm > et.size,
              _("immediate out of range"));
  neon_imm_shift (TRUE, et.type == NT_unsigned, 0, et, et.size - imm);
}

static void
do_neon_rshift_sat_narrow_u (void)
{
  /* FIXME: Types for narrowing. If operands are signed, results can be signed
     or unsigned. If operands are unsigned, results must also be unsigned.  */
  struct neon_type_el et = neon_check_type (2, NS_DQI,
    N_EQK | N_HLF | N_UNS, N_S16 | N_S32 | N_S64 | N_KEY);
  int imm = inst.operands[2].imm;
  /* This gets the bounds check, size encoding and immediate bits calculation
     right.  */
  et.size /= 2;

  /* VQSHRUN.I<size> <Dd>, <Qm>, #0 is a synonym for
     VQMOVUN.I<size> <Dd>, <Qm>.  */
  if (imm == 0)
    {
      inst.operands[2].present = 0;
      inst.instruction = N_MNEM_vqmovun;
      do_neon_qmovun ();
      return;
    }

  constraint (imm < 1 || (unsigned)imm > et.size,
              _("immediate out of range"));
  /* FIXME: The manual is kind of unclear about what value U should have in
     VQ{R}SHRUN instructions, but U=0, op=0 definitely encodes VRSHR, so it
     must be 1.  */
  neon_imm_shift (TRUE, 1, 0, et, et.size - imm);
}

static void
do_neon_movn (void)
{
  struct neon_type_el et = neon_check_type (2, NS_DQ,
    N_EQK | N_HLF, N_I16 | N_I32 | N_I64 | N_KEY);
  inst.instruction = NEON_ENC_INTEGER (inst.instruction);
  neon_two_same (0, 1, et.size / 2);
}

static void
do_neon_rshift_narrow (void)
{
  struct neon_type_el et = neon_check_type (2, NS_DQI,
    N_EQK | N_HLF, N_I16 | N_I32 | N_I64 | N_KEY);
  int imm = inst.operands[2].imm;
  /* This gets the bounds check, size encoding and immediate bits calculation
     right.  */
  et.size /= 2;
  
  /* If immediate is zero then we are a pseudo-instruction for
     VMOVN.I<size> <Dd>, <Qm>  */
  if (imm == 0)
    {
      inst.operands[2].present = 0;
      inst.instruction = N_MNEM_vmovn;
      do_neon_movn ();
      return;
    }
  
  constraint (imm < 1 || (unsigned)imm > et.size,
              _("immediate out of range for narrowing operation"));
  neon_imm_shift (FALSE, 0, 0, et, et.size - imm);
}

static void
do_neon_shll (void)
{
  /* FIXME: Type checking when lengthening.  */
  struct neon_type_el et = neon_check_type (2, NS_QDI,
    N_EQK | N_DBL, N_I8 | N_I16 | N_I32 | N_KEY);
  unsigned imm = inst.operands[2].imm;

  if (imm == et.size)
    {
      /* Maximum shift variant.  */
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
      inst.instruction |= HI1 (inst.operands[0].reg) << 22;
      inst.instruction |= LOW4 (inst.operands[1].reg);
      inst.instruction |= HI1 (inst.operands[1].reg) << 5;
      inst.instruction |= neon_logbits (et.size) << 18;
      
      inst.instruction = neon_dp_fixup (inst.instruction);
    }
  else
    {
      /* A more-specific type check for non-max versions.  */
      et = neon_check_type (2, NS_QDI,
        N_EQK | N_DBL, N_SU_32 | N_KEY);
      inst.instruction = NEON_ENC_IMMED (inst.instruction);
      neon_imm_shift (TRUE, et.type == NT_unsigned, 0, et, imm);
    }
}

/* Check the various types for the VCVT instruction, and return which version
   the current instruction is.  */

static int
neon_cvt_flavour (enum neon_shape rs)
{
#define CVT_VAR(C,X,Y)							\
  et = neon_check_type (2, rs, whole_reg | (X), whole_reg | (Y));	\
  if (et.type != NT_invtype)						\
    {									\
      inst.error = NULL;						\
      return (C);							\
    }
  struct neon_type_el et;
  unsigned whole_reg = (rs == NS_FFI || rs == NS_FD || rs == NS_DF
                        || rs == NS_FF) ? N_VFP : 0;
  /* The instruction versions which take an immediate take one register
     argument, which is extended to the width of the full register. Thus the
     "source" and "destination" registers must have the same width.  Hack that
     here by making the size equal to the key (wider, in this case) operand.  */
  unsigned key = (rs == NS_QQI || rs == NS_DDI || rs == NS_FFI) ? N_KEY : 0;
  
  CVT_VAR (0, N_S32, N_F32);
  CVT_VAR (1, N_U32, N_F32);
  CVT_VAR (2, N_F32, N_S32);
  CVT_VAR (3, N_F32, N_U32);
  
  whole_reg = N_VFP;
  
  /* VFP instructions.  */
  CVT_VAR (4, N_F32, N_F64);
  CVT_VAR (5, N_F64, N_F32);
  CVT_VAR (6, N_S32, N_F64 | key);
  CVT_VAR (7, N_U32, N_F64 | key);
  CVT_VAR (8, N_F64 | key, N_S32);
  CVT_VAR (9, N_F64 | key, N_U32);
  /* VFP instructions with bitshift.  */
  CVT_VAR (10, N_F32 | key, N_S16);
  CVT_VAR (11, N_F32 | key, N_U16);
  CVT_VAR (12, N_F64 | key, N_S16);
  CVT_VAR (13, N_F64 | key, N_U16);
  CVT_VAR (14, N_S16, N_F32 | key);
  CVT_VAR (15, N_U16, N_F32 | key);
  CVT_VAR (16, N_S16, N_F64 | key);
  CVT_VAR (17, N_U16, N_F64 | key);

  whole_reg = 0;
  CVT_VAR (18, N_F32, N_F16);
  CVT_VAR (19, N_F16, N_F32);
  
  return -1;
#undef CVT_VAR
}

/* Neon-syntax VFP conversions.  */

static void
do_vfp_nsyn_cvt (enum neon_shape rs, int flavour)
{
  const char *opname = 0;
  
  if (rs == NS_DDI || rs == NS_QQI || rs == NS_FFI)
    {
      /* Conversions with immediate bitshift.  */
      const char *enc[] =
        {
          "ftosls",
          "ftouls",
          "fsltos",
          "fultos",
          NULL,
          NULL,
          "ftosld",
          "ftould",
          "fsltod",
          "fultod",
          "fshtos",
          "fuhtos",
          "fshtod",
          "fuhtod",
          "ftoshs",
          "ftouhs",
          "ftoshd",
          "ftouhd"
        };

      if (flavour >= 0 && flavour < (int) ARRAY_SIZE (enc))
        {
          opname = enc[flavour];
          constraint (inst.operands[0].reg != inst.operands[1].reg,
                      _("operands 0 and 1 must be the same register"));
          inst.operands[1] = inst.operands[2];
          memset (&inst.operands[2], '\0', sizeof (inst.operands[2]));
        }
    }
  else if (rs == NS_QD || rs == NS_DQ)
    {
      /* Conversions between half-percision and single-precision.  */
      if (flavour == 18)
	{
          opname = "fcvtshp";
	}
      else if (flavour == 19)
	{
          opname = "fcvthps";
	}
    }
  else if (rs == NS_FF && (flavour == 18 || flavour == 19))
    {
      /*
       * Conversions between half-percision (in top or bottom half of register)
       * and single-precision.  The routines do_neon_cvtt() and do_neon_cvtb()
       * set or cleared the T bit (0x80) in the inst.instruction to pass that
       * info to say this is for the top half of the register (T bit set) or the
       * bottom half of the register (T bit cleared) information here to know
       * which opname to use.  This is done this way because the call to
       * do_vfp_nsyn_opcode() will set inst.instruction and loose this info.
       */
      if (flavour == 18)
	{
	  if((inst.instruction & 0x80) == 0x80)
	    opname = "fcvtthps";
	  else
	    opname = "fcvtbhps";
	}
      else if(flavour == 19)
	{
	  if((inst.instruction & 0x80) == 0x80)
	    opname = "fcvttshp";
	  else
	    opname = "fcvtbshp";
	}
    }
  else
    {
      /* Conversions without bitshift.  */
      const char *enc[] =
        {
          "ftosizs",
          "ftouizs",
          "fsitos",
          "fuitos",
          "fcvtsd",
          "fcvtds",
          "ftosizd",
          "ftouizd",
          "fsitod",
          "fuitod"
        };

      if (flavour >= 0 && flavour < (int) ARRAY_SIZE (enc))
        opname = enc[flavour];
    }

  if (opname)
    do_vfp_nsyn_opcode (opname);
}

static void
do_vfp_nsyn_cvtr (void)
{
  enum neon_shape rs = neon_select_shape (NS_FF, NS_FD, NS_NULL);
  int flavour = neon_cvt_flavour (rs);
  const char *enc[] =
    {
      "ftosis",
      "ftouis",
      NULL,
      NULL,
      NULL,
      NULL,
      "ftosid",
      "ftouid",
    };

  if (flavour >= 0 && flavour < (int) ARRAY_SIZE (enc))
   {
     if (enc[flavour])
       do_vfp_nsyn_opcode (enc[flavour]);
     else
       first_error (_("invalid instruction shape (using rounding mode)"));
   }
}

static void
do_neon_cvt (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_FFI, NS_DD, NS_QQ,
    NS_FD, NS_DF, NS_FF, NS_QD, NS_DQ, NS_NULL);
  int flavour = neon_cvt_flavour (rs);

  /* VFP rather than Neon conversions.  */
  if (flavour >= 4)
    {
      do_vfp_nsyn_cvt (rs, flavour);
      return;
    }

  switch (rs)
    {
    case NS_DDI:
    case NS_QQI:
      {
        if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
          return;

        /* Fixed-point conversion with #0 immediate is encoded as an
           integer conversion.  */
        if (inst.operands[2].present && inst.operands[2].imm == 0)
          goto int_encode;
        unsigned immbits = 32 - inst.operands[2].imm;
        unsigned enctab[] = { 0x0000100, 0x1000100, 0x0, 0x1000000 };
        inst.instruction = NEON_ENC_IMMED (inst.instruction);
        if (flavour != -1)
          inst.instruction |= enctab[flavour];
        inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
        inst.instruction |= HI1 (inst.operands[0].reg) << 22;
        inst.instruction |= LOW4 (inst.operands[1].reg);
        inst.instruction |= HI1 (inst.operands[1].reg) << 5;
        inst.instruction |= neon_quad (rs) << 6;
        inst.instruction |= 1 << 21;
        inst.instruction |= immbits << 16;

        inst.instruction = neon_dp_fixup (inst.instruction);
      }
      break;

    case NS_DD:
    case NS_QQ:
    int_encode:
      {
        unsigned enctab[] = { 0x100, 0x180, 0x0, 0x080 };

        inst.instruction = NEON_ENC_INTEGER (inst.instruction);

        if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
          return;

        if (flavour != -1)
          inst.instruction |= enctab[flavour];

        inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
        inst.instruction |= HI1 (inst.operands[0].reg) << 22;
        inst.instruction |= LOW4 (inst.operands[1].reg);
        inst.instruction |= HI1 (inst.operands[1].reg) << 5;
        inst.instruction |= neon_quad (rs) << 6;
        inst.instruction |= 2 << 18;

        inst.instruction = neon_dp_fixup (inst.instruction);
      }
    break;

    default:
      /* Some VFP conversions go here (s32 <-> f32, u32 <-> f32).  */
      do_vfp_nsyn_cvt (rs, flavour);
    }
}

static void
do_neon_cvtt (void)
{
  /* set the T bit to say this is for the top half of the register for the
     routine do_vfp_nsyn_cvt() to use to pick the opname */
  inst.instruction |= 0x80;
  do_neon_cvt ();
}

static void
do_neon_cvtb (void)
{
  /* clear the T bit to say this is for the bottom half of the register for the
     routine do_vfp_nsyn_cvt() to use to pick the opname */
  inst.instruction = inst.instruction & ~(0x80);
  do_neon_cvt ();
}

static void
neon_move_immediate (void)
{
  enum neon_shape rs = neon_select_shape (NS_DI, NS_QI, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_I8 | N_I16 | N_I32 | N_I64 | N_F32 | N_KEY, N_EQK);
  unsigned immlo, immhi = 0, immbits;
  int op, cmode, float_p;

  constraint (et.type == NT_invtype,
              _("operand size must be specified for immediate VMOV"));

  /* We start out as an MVN instruction if OP = 1, MOV otherwise.  */
  op = (inst.instruction & (1 << 5)) != 0;

  immlo = inst.operands[1].imm;
  if (inst.operands[1].regisimm)
    immhi = inst.operands[1].reg;

  constraint (et.size < 32 && (immlo & ~((1 << et.size) - 1)) != 0,
              _("immediate has bits set outside the operand size"));

  float_p = inst.operands[1].immisfloat;

  if ((cmode = neon_cmode_for_move_imm (immlo, immhi, float_p, &immbits, &op,
                                        et.size, et.type)) == FAIL)
    {
      /* Invert relevant bits only.  */
      neon_invert_size (&immlo, &immhi, et.size);
      /* Flip from VMOV/VMVN to VMVN/VMOV. Some immediate types are unavailable
         with one or the other; those cases are caught by
         neon_cmode_for_move_imm.  */
      op = !op;
      if ((cmode = neon_cmode_for_move_imm (immlo, immhi, float_p, &immbits,
					    &op, et.size, et.type)) == FAIL)
        {
          first_error (_("immediate out of range"));
          return;
        }
    }

  inst.instruction &= ~(1 << 5);
  inst.instruction |= op << 5;

  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= neon_quad (rs) << 6;
  inst.instruction |= cmode << 8;

  neon_write_immbits (immbits);
}

static void
do_neon_mvn (void)
{
  if (inst.operands[1].isreg)
    {
      enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
      
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
      inst.instruction |= HI1 (inst.operands[0].reg) << 22;
      inst.instruction |= LOW4 (inst.operands[1].reg);
      inst.instruction |= HI1 (inst.operands[1].reg) << 5;
      inst.instruction |= neon_quad (rs) << 6;
    }
  else
    {
      inst.instruction = NEON_ENC_IMMED (inst.instruction);
      neon_move_immediate ();
    }

  inst.instruction = neon_dp_fixup (inst.instruction);
}

/* Encode instructions of form:

  |28/24|23|22|21 20|19 16|15 12|11    8|7|6|5|4|3  0|
  |  U  |x |D |size | Rn  | Rd  |x x x x|N|x|M|x| Rm |

*/

static void
neon_mixed_length (struct neon_type_el et, unsigned size)
{
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg) << 16;
  inst.instruction |= HI1 (inst.operands[1].reg) << 7;
  inst.instruction |= LOW4 (inst.operands[2].reg);
  inst.instruction |= HI1 (inst.operands[2].reg) << 5;
  inst.instruction |= (et.type == NT_unsigned) << 24;
  inst.instruction |= neon_logbits (size) << 20;
  
  inst.instruction = neon_dp_fixup (inst.instruction);
}

static void
do_neon_dyadic_long (void)
{
  /* FIXME: Type checking for lengthening op.  */
  struct neon_type_el et = neon_check_type (3, NS_QDD,
    N_EQK | N_DBL, N_EQK, N_SU_32 | N_KEY);
  neon_mixed_length (et, et.size);
}

static void
do_neon_abal (void)
{
  struct neon_type_el et = neon_check_type (3, NS_QDD,
    N_EQK | N_INT | N_DBL, N_EQK, N_SU_32 | N_KEY);
  neon_mixed_length (et, et.size);
}

static void
neon_mac_reg_scalar_long (unsigned regtypes, unsigned scalartypes)
{
  if (inst.operands[2].isscalar)
    {
      struct neon_type_el et = neon_check_type (3, NS_QDS,
        N_EQK | N_DBL, N_EQK, regtypes | N_KEY);
      inst.instruction = NEON_ENC_SCALAR (inst.instruction);
      neon_mul_mac (et, et.type == NT_unsigned);
    }
  else
    {
      struct neon_type_el et = neon_check_type (3, NS_QDD,
        N_EQK | N_DBL, N_EQK, scalartypes | N_KEY);
      inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      neon_mixed_length (et, et.size);
    }
}

static void
do_neon_mac_maybe_scalar_long (void)
{
  neon_mac_reg_scalar_long (N_S16 | N_S32 | N_U16 | N_U32, N_SU_32);
}

static void
do_neon_dyadic_wide (void)
{
  struct neon_type_el et = neon_check_type (3, NS_QQD,
    N_EQK | N_DBL, N_EQK | N_DBL, N_SU_32 | N_KEY);
  neon_mixed_length (et, et.size);
}

static void
do_neon_dyadic_narrow (void)
{
  struct neon_type_el et = neon_check_type (3, NS_QDD,
    N_EQK | N_DBL, N_EQK, N_I16 | N_I32 | N_I64 | N_KEY);
  /* Operand sign is unimportant, and the U bit is part of the opcode,
     so force the operand type to integer.  */
  et.type = NT_integer;
  neon_mixed_length (et, et.size / 2);
}

static void
do_neon_mul_sat_scalar_long (void)
{
  neon_mac_reg_scalar_long (N_S16 | N_S32, N_S16 | N_S32);
}

static void
do_neon_vmull (void)
{
  if (inst.operands[2].isscalar)
    do_neon_mac_maybe_scalar_long ();
  else
    {
      struct neon_type_el et = neon_check_type (3, NS_QDD,
        N_EQK | N_DBL, N_EQK, N_SU_32 | N_P8 | N_KEY);
      if (et.type == NT_poly)
        inst.instruction = NEON_ENC_POLY (inst.instruction);
      else
        inst.instruction = NEON_ENC_INTEGER (inst.instruction);
      /* For polynomial encoding, size field must be 0b00 and the U bit must be
         zero. Should be OK as-is.  */
      neon_mixed_length (et, et.size);
    }
}

static void
do_neon_ext (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDDI, NS_QQQI, NS_NULL);
  struct neon_type_el et = neon_check_type (3, rs,
    N_EQK, N_EQK, N_8 | N_16 | N_32 | N_64 | N_KEY);
  unsigned imm = (inst.operands[3].imm * et.size) / 8;
  constraint (imm >= (neon_quad (rs) ? 16 : 8), _("shift out of range"));
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg) << 16;
  inst.instruction |= HI1 (inst.operands[1].reg) << 7;
  inst.instruction |= LOW4 (inst.operands[2].reg);
  inst.instruction |= HI1 (inst.operands[2].reg) << 5;
  inst.instruction |= neon_quad (rs) << 6;
  inst.instruction |= imm << 8;
  
  inst.instruction = neon_dp_fixup (inst.instruction);
}

static void
do_neon_rev (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_8 | N_16 | N_32 | N_KEY);
  unsigned op = (inst.instruction >> 7) & 3;
  /* N (width of reversed regions) is encoded as part of the bitmask. We
     extract it here to check the elements to be reversed are smaller.
     Otherwise we'd get a reserved instruction.  */
  unsigned elsize = (op == 2) ? 16 : (op == 1) ? 32 : (op == 0) ? 64 : 0;
  assert (elsize != 0);
  constraint (et.size >= elsize,
              _("elements must be smaller than reversal region"));
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_dup (void)
{
  if (inst.operands[1].isscalar)
    {
      enum neon_shape rs = neon_select_shape (NS_DS, NS_QS, NS_NULL);
      struct neon_type_el et = neon_check_type (2, rs,
        N_EQK, N_8 | N_16 | N_32 | N_KEY);
      unsigned sizebits = et.size >> 3;
      unsigned dm = NEON_SCALAR_REG (inst.operands[1].reg);
      int logsize = neon_logbits (et.size);
      unsigned x = NEON_SCALAR_INDEX (inst.operands[1].reg) << logsize;

      if (vfp_or_neon_is_neon (NEON_CHECK_CC) == FAIL)
        return;

      inst.instruction = NEON_ENC_SCALAR (inst.instruction);
      inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
      inst.instruction |= HI1 (inst.operands[0].reg) << 22;
      inst.instruction |= LOW4 (dm);
      inst.instruction |= HI1 (dm) << 5;
      inst.instruction |= neon_quad (rs) << 6;
      inst.instruction |= x << 17;
      inst.instruction |= sizebits << 16;
      
      inst.instruction = neon_dp_fixup (inst.instruction);
    }
  else
    {
      enum neon_shape rs = neon_select_shape (NS_DR, NS_QR, NS_NULL);
      struct neon_type_el et = neon_check_type (2, rs,
        N_8 | N_16 | N_32 | N_KEY, N_EQK);
      /* Duplicate ARM register to lanes of vector.  */
      inst.instruction = NEON_ENC_ARMREG (inst.instruction);
      switch (et.size)
        {
        case 8:  inst.instruction |= 0x400000; break;
        case 16: inst.instruction |= 0x000020; break;
        case 32: inst.instruction |= 0x000000; break;
        default: break;
        }
      inst.instruction |= LOW4 (inst.operands[1].reg) << 12;
      inst.instruction |= LOW4 (inst.operands[0].reg) << 16;
      inst.instruction |= HI1 (inst.operands[0].reg) << 7;
      inst.instruction |= neon_quad (rs) << 21;
      /* The encoding for this instruction is identical for the ARM and Thumb
         variants, except for the condition field.  */
      do_vfp_cond_or_thumb ();
    }
}

/* VMOV has particularly many variations. It can be one of:
     0. VMOV<c><q> <Qd>, <Qm>
     1. VMOV<c><q> <Dd>, <Dm>
   (Register operations, which are VORR with Rm = Rn.)
     2. VMOV<c><q>.<dt> <Qd>, #<imm>
     3. VMOV<c><q>.<dt> <Dd>, #<imm>
   (Immediate loads.)
     4. VMOV<c><q>.<size> <Dn[x]>, <Rd>
   (ARM register to scalar.)
     5. VMOV<c><q> <Dm>, <Rd>, <Rn>
   (Two ARM registers to vector.)
     6. VMOV<c><q>.<dt> <Rd>, <Dn[x]>
   (Scalar to ARM register.)
     7. VMOV<c><q> <Rd>, <Rn>, <Dm>
   (Vector to two ARM registers.)
     8. VMOV.F32 <Sd>, <Sm>
     9. VMOV.F64 <Dd>, <Dm>
   (VFP register moves.)
    10. VMOV.F32 <Sd>, #imm
    11. VMOV.F64 <Dd>, #imm
   (VFP float immediate load.)
    12. VMOV <Rd>, <Sm>
   (VFP single to ARM reg.)
    13. VMOV <Sd>, <Rm>
   (ARM reg to VFP single.)
    14. VMOV <Rd>, <Re>, <Sn>, <Sm>
   (Two ARM regs to two VFP singles.)
    15. VMOV <Sd>, <Se>, <Rn>, <Rm>
   (Two VFP singles to two ARM regs.)
  
   These cases can be disambiguated using neon_select_shape, except cases 1/9
   and 3/11 which depend on the operand type too.
   
   All the encoded bits are hardcoded by this function.
   
   Cases 4, 6 may be used with VFPv1 and above (only 32-bit transfers!).
   Cases 5, 7 may be used with VFPv2 and above.
   
   FIXME: Some of the checking may be a bit sloppy (in a couple of cases you
   can specify a type where it doesn't make sense to, and is ignored).
*/

static void
do_neon_mov (void)
{
  enum neon_shape rs = neon_select_shape (NS_RRFF, NS_FFRR, NS_DRR, NS_RRD,
    NS_QQ, NS_DD, NS_QI, NS_DI, NS_SR, NS_RS, NS_FF, NS_FI, NS_RF, NS_FR,
    NS_NULL);
  struct neon_type_el et;
  const char *ldconst = 0;

  switch (rs)
    {
    case NS_DD:  /* case 1/9.  */
      et = neon_check_type (2, rs, N_EQK, N_F64 | N_KEY);
      /* It is not an error here if no type is given.  */
      inst.error = NULL;
      if (et.type == NT_float && et.size == 64)
        {
          do_vfp_nsyn_opcode ("fcpyd");
          break;
        }
      /* fall through.  */

    case NS_QQ:  /* case 0/1.  */
      {
        if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
          return;
        /* The architecture manual I have doesn't explicitly state which
           value the U bit should have for register->register moves, but
           the equivalent VORR instruction has U = 0, so do that.  */
        inst.instruction = 0x0200110;
        inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
        inst.instruction |= HI1 (inst.operands[0].reg) << 22;
        inst.instruction |= LOW4 (inst.operands[1].reg);
        inst.instruction |= HI1 (inst.operands[1].reg) << 5;
        inst.instruction |= LOW4 (inst.operands[1].reg) << 16;
        inst.instruction |= HI1 (inst.operands[1].reg) << 7;
        inst.instruction |= neon_quad (rs) << 6;

        inst.instruction = neon_dp_fixup (inst.instruction);
      }
      break;
        
    case NS_DI:  /* case 3/11.  */
      et = neon_check_type (2, rs, N_EQK, N_F64 | N_KEY);
      inst.error = NULL;
      if (et.type == NT_float && et.size == 64)
        {
          /* case 11 (fconstd).  */
          ldconst = "fconstd";
          goto encode_fconstd;
        }
      /* fall through.  */

    case NS_QI:  /* case 2/3.  */
      if (vfp_or_neon_is_neon (NEON_CHECK_CC | NEON_CHECK_ARCH) == FAIL)
        return;
      inst.instruction = 0x0800010;
      neon_move_immediate ();
      inst.instruction = neon_dp_fixup (inst.instruction);
      break;
    
    case NS_SR:  /* case 4.  */
      {
        unsigned bcdebits = 0;
        struct neon_type_el et = neon_check_type (2, NS_NULL,
          N_8 | N_16 | N_32 | N_KEY, N_EQK);
        int logsize = neon_logbits (et.size);
        unsigned dn = NEON_SCALAR_REG (inst.operands[0].reg);
        unsigned x = NEON_SCALAR_INDEX (inst.operands[0].reg);

        constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, fpu_vfp_ext_v1),
                    _(BAD_FPU));
        constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, fpu_neon_ext_v1)
                    && et.size != 32, _(BAD_FPU));
        constraint (et.type == NT_invtype, _("bad type for scalar"));
        constraint (x >= 64 / et.size, _("scalar index out of range"));

        switch (et.size)
          {
          case 8:  bcdebits = 0x8; break;
          case 16: bcdebits = 0x1; break;
          case 32: bcdebits = 0x0; break;
          default: ;
          }

        bcdebits |= x << logsize;

        inst.instruction = 0xe000b10;
        do_vfp_cond_or_thumb ();
        inst.instruction |= LOW4 (dn) << 16;
        inst.instruction |= HI1 (dn) << 7;
        inst.instruction |= inst.operands[1].reg << 12;
        inst.instruction |= (bcdebits & 3) << 5;
        inst.instruction |= (bcdebits >> 2) << 21;
      }
      break;
    
    case NS_DRR:  /* case 5 (fmdrr).  */
      constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, fpu_vfp_ext_v2),
                  _(BAD_FPU));

      inst.instruction = 0xc400b10;
      do_vfp_cond_or_thumb ();
      inst.instruction |= LOW4 (inst.operands[0].reg);
      inst.instruction |= HI1 (inst.operands[0].reg) << 5;
      inst.instruction |= inst.operands[1].reg << 12;
      inst.instruction |= inst.operands[2].reg << 16;
      break;
    
    case NS_RS:  /* case 6.  */
      {
        struct neon_type_el et = neon_check_type (2, NS_NULL,
          N_EQK, N_S8 | N_S16 | N_U8 | N_U16 | N_32 | N_KEY);
        unsigned logsize = neon_logbits (et.size);
        unsigned dn = NEON_SCALAR_REG (inst.operands[1].reg);
        unsigned x = NEON_SCALAR_INDEX (inst.operands[1].reg);
        unsigned abcdebits = 0;

        constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, fpu_vfp_ext_v1),
                    _(BAD_FPU));
        constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, fpu_neon_ext_v1)
                    && et.size != 32, _(BAD_FPU));
        constraint (et.type == NT_invtype, _("bad type for scalar"));
        constraint (x >= 64 / et.size, _("scalar index out of range"));

        switch (et.size)
          {
          case 8:  abcdebits = (et.type == NT_signed) ? 0x08 : 0x18; break;
          case 16: abcdebits = (et.type == NT_signed) ? 0x01 : 0x11; break;
          case 32: abcdebits = 0x00; break;
          default: ;
          }

        abcdebits |= x << logsize;
        inst.instruction = 0xe100b10;
        do_vfp_cond_or_thumb ();
        inst.instruction |= LOW4 (dn) << 16;
        inst.instruction |= HI1 (dn) << 7;
        inst.instruction |= inst.operands[0].reg << 12;
        inst.instruction |= (abcdebits & 3) << 5;
        inst.instruction |= (abcdebits >> 2) << 21;
      }
      break;
    
    case NS_RRD:  /* case 7 (fmrrd).  */
      constraint (!ARM_CPU_HAS_FEATURE (cpu_variant, fpu_vfp_ext_v2),
                  _(BAD_FPU));

      inst.instruction = 0xc500b10;
      do_vfp_cond_or_thumb ();
      inst.instruction |= inst.operands[0].reg << 12;
      inst.instruction |= inst.operands[1].reg << 16;
      inst.instruction |= LOW4 (inst.operands[2].reg);
      inst.instruction |= HI1 (inst.operands[2].reg) << 5;
      break;
    
    case NS_FF:  /* case 8 (fcpys).  */
      do_vfp_nsyn_opcode ("fcpys");
      break;
    
    case NS_FI:  /* case 10 (fconsts).  */
      ldconst = "fconsts";
      encode_fconstd:
      if (is_quarter_float (inst.operands[1].imm))
        {
          inst.operands[1].imm = neon_qfloat_bits (inst.operands[1].imm);
          do_vfp_nsyn_opcode (ldconst);
        }
      else
        first_error (_("immediate out of range"));
      break;
    
    case NS_RF:  /* case 12 (fmrs).  */
      do_vfp_nsyn_opcode ("fmrs");
      break;
    
    case NS_FR:  /* case 13 (fmsr).  */
      do_vfp_nsyn_opcode ("fmsr");
      break;
    
    /* The encoders for the fmrrs and fmsrr instructions expect three operands
       (one of which is a list), but we have parsed four.  Do some fiddling to
       make the operands what do_vfp_reg2_from_sp2 and do_vfp_sp2_from_reg2
       expect.  */
    case NS_RRFF:  /* case 14 (fmrrs).  */
      constraint (inst.operands[3].reg != inst.operands[2].reg + 1,
                  _("VFP registers must be adjacent"));
      inst.operands[2].imm = 2;
      memset (&inst.operands[3], '\0', sizeof (inst.operands[3]));
      do_vfp_nsyn_opcode ("fmrrs");
      break;
    
    case NS_FFRR:  /* case 15 (fmsrr).  */
      constraint (inst.operands[1].reg != inst.operands[0].reg + 1,
                  _("VFP registers must be adjacent"));
      inst.operands[1] = inst.operands[2];
      inst.operands[2] = inst.operands[3];
      inst.operands[0].imm = 2;
      memset (&inst.operands[3], '\0', sizeof (inst.operands[3]));
      do_vfp_nsyn_opcode ("fmsrr");
      break;
    
    default:
      if (inst.error)
	break;
      abort ();
    }
}

static void
do_neon_rshift_round_imm (void)
{
  enum neon_shape rs = neon_select_shape (NS_DDI, NS_QQI, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs, N_EQK, N_SU_ALL | N_KEY);
  int imm = inst.operands[2].imm;

  /* imm == 0 case is encoded as VMOV for V{R}SHR.  */
  if (imm == 0)
    {
      inst.operands[2].present = 0;
      do_neon_mov ();
      return;
    }

  constraint (imm < 1 || (unsigned)imm > et.size,
              _("immediate out of range for shift"));
  neon_imm_shift (TRUE, et.type == NT_unsigned, neon_quad (rs), et,
                  et.size - imm);
}

static void
do_neon_movl (void)
{
  struct neon_type_el et = neon_check_type (2, NS_QD,
    N_EQK | N_DBL, N_SU_32 | N_KEY);
  unsigned sizebits = et.size >> 3;
  inst.instruction |= sizebits << 19;
  neon_two_same (0, et.type == NT_unsigned, -1);
}

static void
do_neon_trn (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_8 | N_16 | N_32 | N_KEY);
  inst.instruction = NEON_ENC_INTEGER (inst.instruction);
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_zip_uzp (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_8 | N_16 | N_32 | N_KEY);
  if (rs == NS_DD && et.size == 32)
    {
      /* Special case: encode as VTRN.32 <Dd>, <Dm>.  */
      inst.instruction = N_MNEM_vtrn;
      do_neon_trn ();
      return;
    }
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_sat_abs_neg (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_S8 | N_S16 | N_S32 | N_KEY);
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_pair_long (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs, N_EQK, N_SU_32 | N_KEY);
  /* Unsigned is encoded in OP field (bit 7) for these instruction.  */
  inst.instruction |= (et.type == NT_unsigned) << 7;
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_recip_est (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK | N_FLT, N_F32 | N_U32 | N_KEY);
  inst.instruction |= (et.type == NT_float) << 8;
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_cls (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_S8 | N_S16 | N_S32 | N_KEY);
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_clz (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK, N_I8 | N_I16 | N_I32 | N_KEY);
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_cnt (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  struct neon_type_el et = neon_check_type (2, rs,
    N_EQK | N_INT, N_8 | N_KEY);
  neon_two_same (neon_quad (rs), 1, et.size);
}

static void
do_neon_swp (void)
{
  enum neon_shape rs = neon_select_shape (NS_DD, NS_QQ, NS_NULL);
  neon_two_same (neon_quad (rs), 1, -1);
}

static void
do_neon_tbl_tbx (void)
{
  unsigned listlenbits;
  neon_check_type (3, NS_DLD, N_EQK, N_EQK, N_8 | N_KEY);
  
  if (inst.operands[1].imm < 1 || inst.operands[1].imm > 4)
    {
      first_error (_("bad list length for table lookup"));
      return;
    }
  
  listlenbits = inst.operands[1].imm - 1;
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= LOW4 (inst.operands[1].reg) << 16;
  inst.instruction |= HI1 (inst.operands[1].reg) << 7;
  inst.instruction |= LOW4 (inst.operands[2].reg);
  inst.instruction |= HI1 (inst.operands[2].reg) << 5;
  inst.instruction |= listlenbits << 8;
  
  inst.instruction = neon_dp_fixup (inst.instruction);
}

static void
do_neon_ldm_stm (void)
{
  /* P, U and L bits are part of bitmask.  */
  int is_dbmode = (inst.instruction & (1 << 24)) != 0;
  unsigned offsetbits = inst.operands[1].imm * 2;

  if (inst.operands[1].issingle)
    {
      do_vfp_nsyn_ldm_stm (is_dbmode);
      return;
    }

  constraint (is_dbmode && !inst.operands[0].writeback,
              _("writeback (!) must be used for VLDMDB and VSTMDB"));

  constraint (inst.operands[1].imm < 1 || inst.operands[1].imm > 16,
              _("register list must contain at least 1 and at most 16 "
                "registers"));

  inst.instruction |= inst.operands[0].reg << 16;
  inst.instruction |= inst.operands[0].writeback << 21;
  inst.instruction |= LOW4 (inst.operands[1].reg) << 12;
  inst.instruction |= HI1 (inst.operands[1].reg) << 22;

  inst.instruction |= offsetbits;
  
  do_vfp_cond_or_thumb ();
}

static void
do_neon_ldr_str (void)
{
  int is_ldr = (inst.instruction & (1 << 20)) != 0;
  
  if (inst.operands[0].issingle)
    {
      if (is_ldr)
        do_vfp_nsyn_opcode ("flds");
      else
        do_vfp_nsyn_opcode ("fsts");
    }
  else
    {
      if (is_ldr)
        do_vfp_nsyn_opcode ("fldd");
      else
        do_vfp_nsyn_opcode ("fstd");
    }
}

/* "interleave" version also handles non-interleaving register VLD1/VST1
   instructions.  */

static void
do_neon_ld_st_interleave (void)
{
  struct neon_type_el et = neon_check_type (1, NS_NULL,
                                            N_8 | N_16 | N_32 | N_64);
  unsigned alignbits = 0;
  unsigned idx;
  /* The bits in this table go:
     0: register stride of one (0) or two (1)
     1,2: register list length, minus one (1, 2, 3, 4).
     3,4: <n> in instruction type, minus one (VLD<n> / VST<n>).
     We use -1 for invalid entries.  */
  const int typetable[] =
    {
      0x7,  -1, 0xa,  -1, 0x6,  -1, 0x2,  -1, /* VLD1 / VST1.  */
       -1,  -1, 0x8, 0x9,  -1,  -1, 0x3,  -1, /* VLD2 / VST2.  */
       -1,  -1,  -1,  -1, 0x4, 0x5,  -1,  -1, /* VLD3 / VST3.  */
       -1,  -1,  -1,  -1,  -1,  -1, 0x0, 0x1  /* VLD4 / VST4.  */
    };
  int typebits;

  if (et.type == NT_invtype)
    return;

  if (inst.operands[1].immisalign)
    switch (inst.operands[1].imm >> 8)
      {
      case 64: alignbits = 1; break;
      case 128:
        if (NEON_REGLIST_LENGTH (inst.operands[0].imm) == 3)
          goto bad_alignment;
        alignbits = 2;
        break;
      case 256:
        if (NEON_REGLIST_LENGTH (inst.operands[0].imm) == 3)
          goto bad_alignment;
        alignbits = 3;
        break;
      default:
      bad_alignment:
        first_error (_("bad alignment"));
        return;
      }

  inst.instruction |= alignbits << 4;
  inst.instruction |= neon_logbits (et.size) << 6;

  /* Bits [4:6] of the immediate in a list specifier encode register stride
     (minus 1) in bit 4, and list length in bits [5:6]. We put the <n> of
     VLD<n>/VST<n> in bits [9:8] of the initial bitmask. Suck it out here, look
     up the right value for "type" in a table based on this value and the given
     list style, then stick it back.  */
  idx = ((inst.operands[0].imm >> 4) & 7)
        | (((inst.instruction >> 8) & 3) << 3);

  typebits = typetable[idx];
  
  constraint (typebits == -1, _("bad list type for instruction"));
  /* Only VLD1/VST1 allows a size of 64.  As the comment above states, the <n>
     of VLD<n>/VST<n> is in bits [9:8] of the initial bitmask. */
  constraint (((inst.instruction >> 8) & 3) != 0 &&
              et.size == 64, _("bad size for instruction"));

  inst.instruction &= ~0xf00;
  inst.instruction |= typebits << 8;
}

/* Check alignment is valid for do_neon_ld_st_lane and do_neon_ld_dup.
   *DO_ALIGN is set to 1 if the relevant alignment bit should be set, 0
   otherwise. The variable arguments are a list of pairs of legal (size, align)
   values, terminated with -1.  */

static int
neon_alignment_bit (int size, int align, int *do_align, ...)
{
  va_list ap;
  int result = FAIL, thissize, thisalign;
    
  if (!inst.operands[1].immisalign)
    {
      *do_align = 0;
      return SUCCESS;
    }
      
  va_start (ap, do_align);

  do
    {
      thissize = va_arg (ap, int);
      if (thissize == -1)
        break;
      thisalign = va_arg (ap, int);

      if (size == thissize && align == thisalign)
        result = SUCCESS;
    }
  while (result != SUCCESS);

  va_end (ap);

  if (result == SUCCESS)
    *do_align = 1;
  else
    first_error (_("unsupported alignment for instruction"));
    
  return result;
}

static void
do_neon_ld_st_lane (void)
{
  struct neon_type_el et = neon_check_type (1, NS_NULL, N_8 | N_16 | N_32);
  int align_good, do_align = 0;
  int logsize = neon_logbits (et.size);
  int align = inst.operands[1].imm >> 8;
  int n = (inst.instruction >> 8) & 3;
  int max_el = 64 / et.size;
  
  if (et.type == NT_invtype)
    return;
  
  constraint (NEON_REGLIST_LENGTH (inst.operands[0].imm) != n + 1,
              _("bad list length"));
  constraint (NEON_LANE (inst.operands[0].imm) >= max_el,
              _("scalar index out of range"));
  constraint (n != 0 && NEON_REG_STRIDE (inst.operands[0].imm) == 2
              && et.size == 8,
              _("stride of 2 unavailable when element size is 8"));
  
  switch (n)
    {
    case 0:  /* VLD1 / VST1.  */
      align_good = neon_alignment_bit (et.size, align, &do_align, 16, 16,
                                       32, 32, -1);
      if (align_good == FAIL)
        return;
      if (do_align)
        {
          unsigned alignbits = 0;
          switch (et.size)
            {
            case 16: alignbits = 0x1; break;
            case 32: alignbits = 0x3; break;
            default: ;
            }
          inst.instruction |= alignbits << 4;
        }
      break;

    case 1:  /* VLD2 / VST2.  */
      align_good = neon_alignment_bit (et.size, align, &do_align, 8, 16, 16, 32,
                                       32, 64, -1);
      if (align_good == FAIL)
        return;
      if (do_align)
        inst.instruction |= 1 << 4;
      break;

    case 2:  /* VLD3 / VST3.  */
      constraint (inst.operands[1].immisalign,
                  _("can't use alignment with this instruction"));
      break;

    case 3:  /* VLD4 / VST4.  */
      align_good = neon_alignment_bit (et.size, align, &do_align, 8, 32,
                                       16, 64, 32, 64, 32, 128, -1);
      if (align_good == FAIL)
        return;
      if (do_align)
        {
          unsigned alignbits = 0;
          switch (et.size)
            {
            case 8:  alignbits = 0x1; break;
            case 16: alignbits = 0x1; break;
            case 32: alignbits = (align == 64) ? 0x1 : 0x2; break;
            default: ;
            }
          inst.instruction |= alignbits << 4;
        }
      break;

    default: ;
    }

  /* Reg stride of 2 is encoded in bit 5 when size==16, bit 6 when size==32.  */
  if (n != 0 && NEON_REG_STRIDE (inst.operands[0].imm) == 2)
    inst.instruction |= 1 << (4 + logsize);
      
  inst.instruction |= NEON_LANE (inst.operands[0].imm) << (logsize + 5);
  inst.instruction |= logsize << 10;
}

/* Encode single n-element structure to all lanes VLD<n> instructions.  */

static void
do_neon_ld_dup (void)
{
  struct neon_type_el et = neon_check_type (1, NS_NULL, N_8 | N_16 | N_32);
  int align_good, do_align = 0;

  if (et.type == NT_invtype)
    return;

  switch ((inst.instruction >> 8) & 3)
    {
    case 0:  /* VLD1.  */
      assert (NEON_REG_STRIDE (inst.operands[0].imm) != 2);
      align_good = neon_alignment_bit (et.size, inst.operands[1].imm >> 8,
                                       &do_align, 16, 16, 32, 32, -1);
      if (align_good == FAIL)
        return;
      switch (NEON_REGLIST_LENGTH (inst.operands[0].imm))
        {
        case 1: break;
        case 2: inst.instruction |= 1 << 5; break;
        default: first_error (_("bad list length")); return;
        }
      inst.instruction |= neon_logbits (et.size) << 6;
      break;

    case 1:  /* VLD2.  */
      align_good = neon_alignment_bit (et.size, inst.operands[1].imm >> 8,
                                       &do_align, 8, 16, 16, 32, 32, 64, -1);
      if (align_good == FAIL)
        return;
      constraint (NEON_REGLIST_LENGTH (inst.operands[0].imm) != 2,
                  _("bad list length"));
      if (NEON_REG_STRIDE (inst.operands[0].imm) == 2)
        inst.instruction |= 1 << 5;
      inst.instruction |= neon_logbits (et.size) << 6;
      break;

    case 2:  /* VLD3.  */
      constraint (inst.operands[1].immisalign,
                  _("can't use alignment with this instruction"));
      constraint (NEON_REGLIST_LENGTH (inst.operands[0].imm) != 3,
                  _("bad list length"));
      if (NEON_REG_STRIDE (inst.operands[0].imm) == 2)
        inst.instruction |= 1 << 5;
      inst.instruction |= neon_logbits (et.size) << 6;
      break;

    case 3:  /* VLD4.  */
      {
        int align = inst.operands[1].imm >> 8;
        align_good = neon_alignment_bit (et.size, align, &do_align, 8, 32,
                                         16, 64, 32, 64, 32, 128, -1);
        if (align_good == FAIL)
          return;
        constraint (NEON_REGLIST_LENGTH (inst.operands[0].imm) != 4,
                    _("bad list length"));
        if (NEON_REG_STRIDE (inst.operands[0].imm) == 2)
          inst.instruction |= 1 << 5;
        if (et.size == 32 && align == 128)
          inst.instruction |= 0x3 << 6;
        else
          inst.instruction |= neon_logbits (et.size) << 6;
      }
      break;

    default: ;
    }

  inst.instruction |= do_align << 4;
}

/* Disambiguate VLD<n> and VST<n> instructions, and fill in common bits (those
   apart from bits [11:4].  */

static void
do_neon_ldx_stx (void)
{
  switch (NEON_LANE (inst.operands[0].imm))
    {
    case NEON_INTERLEAVE_LANES:
      inst.instruction = NEON_ENC_INTERLV (inst.instruction);
      do_neon_ld_st_interleave ();
      break;
    
    case NEON_ALL_LANES:
      inst.instruction = NEON_ENC_DUP (inst.instruction);
      do_neon_ld_dup ();
      break;
    
    default:
      inst.instruction = NEON_ENC_LANE (inst.instruction);
      do_neon_ld_st_lane ();
    }

  /* L bit comes from bit mask.  */
  inst.instruction |= LOW4 (inst.operands[0].reg) << 12;
  inst.instruction |= HI1 (inst.operands[0].reg) << 22;
  inst.instruction |= inst.operands[1].reg << 16;
  
  if (inst.operands[1].postind)
    {
      int postreg = inst.operands[1].imm & 0xf;
      constraint (!inst.operands[1].immisreg,
                  _("post-index must be a register"));
      constraint (postreg == 0xd || postreg == 0xf,
                  _("bad register for post-index"));
      inst.instruction |= postreg;
    }
  else if (inst.operands[1].writeback)
    {
      inst.instruction |= 0xd;
    }
  else
    inst.instruction |= 0xf; 
  
  if (thumb_mode)
    inst.instruction |= 0xf9000000;
  else
    inst.instruction |= 0xf4000000;
}


/* Overall per-instruction processing.	*/

/* We need to be able to fix up arbitrary expressions in some statements.
   This is so that we can handle symbols that are an arbitrary distance from
   the pc.  The most common cases are of the form ((+/-sym -/+ . - 8) & mask),
   which returns part of an address in a form which will be valid for
   a data instruction.	We do this by pushing the expression into a symbol
   in the expr_section, and creating a fix for that.  */

static void
fix_new_arm (fragS *	   frag,
	     int	   where,
	     short int	   size,
	     expressionS * exp,
	     int	   pc_rel,
	     int           pcrel_reloc, /* HACK_GUESS */
	     int	   reloc)
{
  fixS *	   new_fix;

  switch (exp->X_op)
    {
#ifdef NOTYET
    case O_constant:
#endif
    case O_symbol:
#ifdef NOTYET
    case O_add:
    case O_subtract:
#endif
      new_fix = fix_new_exp (frag, where, size, exp, pc_rel, pcrel_reloc, reloc);
      break;
    default:
      new_fix = fix_new (frag,
			 where,
			 size,
			 exp->X_add_symbol,
			 exp->X_subtract_symbol,
			 exp->X_add_number,
			 pc_rel,
			 pcrel_reloc,
			 reloc);
#ifdef NOTYET
      new_fix = fix_new (frag, where, size, make_expr_symbol (exp), 0,
			 pc_rel, reloc);
#endif /* NOTYET */
      break;
    }

  /* Mark whether the fix is to a THUMB instruction, or an ARM
     instruction.  */
  new_fix->tc_fix_data = &thumb_mode;
}

/* Create a frg for an instruction requiring relaxation.  */
static void
output_relax_insn (void)
{
  char * to;
  symbolS *sym;
  int offset;

  /* The size of the instruction is unknown, so tie the debug info to the
     start of the instruction.  */
  dwarf2_emit_insn (0);

  switch (inst.reloc.exp.X_op)
    {
    case O_symbol:
      sym = inst.reloc.exp.X_add_symbol;
      offset = inst.reloc.exp.X_add_number;
      break;
    case O_constant:
      sym = NULL;
      offset = inst.reloc.exp.X_add_number;
      break;
    default:
      /* Avoid make_expr_symbol() if their is no subtract symbol and the
	 symbol is just an undefined symbol or absolute, if so use that in the
	 expression. */
      if (inst.reloc.exp.X_subtract_symbol == NULL &&
	  inst.reloc.exp.X_add_symbol != NULL &&
	  ((inst.reloc.exp.X_add_symbol->sy_nlist.n_type & N_TYPE) == N_UNDF ||
	   (inst.reloc.exp.X_add_symbol->sy_nlist.n_type & N_TYPE) == N_ABS) )
	{
	  sym = inst.reloc.exp.X_add_symbol;
	  offset = inst.reloc.exp.X_add_number;
	}
      else
	{
	  sym = make_expr_symbol (&inst.reloc.exp);
	  offset = 0;
	}
      break;
  }
  to = frag_var (rs_machine_dependent, INSN_SIZE, THUMB_SIZE,
		 inst.relax, sym, offset, NULL/*offset, opcode*/);
  md_number_to_chars (to, inst.instruction, THUMB_SIZE);
}

/* Write a 32-bit thumb instruction to buf.  */
static void
put_thumb32_insn (char * buf, uint32_t insn)
{
  md_number_to_chars (buf, insn >> 16, THUMB_SIZE);
  md_number_to_chars (buf + THUMB_SIZE, insn, THUMB_SIZE);
}
static void
output_inst (const char * str)
{
  char * to = NULL;

  if (inst.error)
    {
      as_bad ("%s -- `%s'", inst.error, str);
      return;
    }
  if (inst.relax) {
      output_relax_insn();
      return;
  }
  if (inst.size == 0)
    return;

  to = frag_more (inst.size);

  if (thumb_mode && (inst.size > THUMB_SIZE))
    {
      assert (inst.size == (2 * THUMB_SIZE));
      put_thumb32_insn (to, inst.instruction);
    }
  else if (inst.size > INSN_SIZE)
    {
      assert (inst.size == (2 * INSN_SIZE));
      md_number_to_chars (to, inst.instruction, INSN_SIZE);
      md_number_to_chars (to + INSN_SIZE, inst.instruction, INSN_SIZE);
    }
  else
    md_number_to_chars (to, inst.instruction, inst.size);

  if (inst.reloc.type != BFD_RELOC_UNUSED)
    fix_new_arm (frag_now, to - frag_now->fr_literal,
		 inst.size, & inst.reloc.exp, inst.reloc.pc_rel,
		 /* HACK_GUESS */ inst.reloc.pcrel_reloc,
		 inst.reloc.type);

  dwarf2_emit_insn (inst.size);
}

#endif /* INSNS_TABLE_ONLY */

/* Tag values used in struct asm_opcode's tag field.  */
enum opcode_tag
{
  OT_unconditional,	/* Instruction cannot be conditionalized.
			   The ARM condition field is still 0xE.  */
  OT_unconditionalF,	/* Instruction cannot be conditionalized
			   and carries 0xF in its ARM condition field.  */
  OT_csuffix,		/* Instruction takes a conditional suffix.  */
  OT_csuffixF,		/* Some forms of the instruction take a conditional
                           suffix, others place 0xF where the condition field
                           would be.  */
  OT_cinfix3,		/* Instruction takes a conditional infix,
			   beginning at character index 3.  (In
			   unified mode, it becomes a suffix.)  */
  OT_cinfix3_deprecated, /* The same as OT_cinfix3.  This is used for
			    tsts, cmps, cmns, and teqs. */
  OT_cinfix3_legacy,	/* Legacy instruction takes a conditional infix at
			   character index 3, even in unified mode.  Used for
			   legacy instructions where suffix and infix forms
			   may be ambiguous.  */
  OT_csuf_or_in3,	/* Instruction takes either a conditional
			   suffix or an infix at character index 3.  */
  OT_odd_infix_unc,	/* This is the unconditional variant of an
			   instruction that takes a conditional infix
			   at an unusual position.  In unified mode,
			   this variant will accept a suffix.  */
  OT_odd_infix_0	/* Values greater than or equal to OT_odd_infix_0
			   are the conditional variants of instructions that
			   take conditional infixes in unusual positions.
			   The infix appears at character index
			   (tag - OT_odd_infix_0).  These are not accepted
			   in unified mode.  */
};

#ifndef INSNS_TABLE_ONLY

/* Subroutine of md_assemble, responsible for looking up the primary
   opcode from the mnemonic the user wrote.  STR points to the
   beginning of the mnemonic.

   This is not simply a hash table lookup, because of conditional
   variants.  Most instructions have conditional variants, which are
   expressed with a _conditional affix_ to the mnemonic.  If we were
   to encode each conditional variant as a literal string in the opcode
   table, it would have approximately 20,000 entries.

   Most mnemonics take this affix as a suffix, and in unified syntax,
   'most' is upgraded to 'all'.  However, in the divided syntax, some
   instructions take the affix as an infix, notably the s-variants of
   the arithmetic instructions.  Of those instructions, all but six
   have the infix appear after the third character of the mnemonic.

   Accordingly, the algorithm for looking up primary opcodes given
   an identifier is:

   1. Look up the identifier in the opcode table.
      If we find a match, go to step U.

   2. Look up the last two characters of the identifier in the
      conditions table.  If we find a match, look up the first N-2
      characters of the identifier in the opcode table.  If we
      find a match, go to step CE.

   3. Look up the fourth and fifth characters of the identifier in
      the conditions table.  If we find a match, extract those
      characters from the identifier, and look up the remaining
      characters in the opcode table.  If we find a match, go
      to step CM.

   4. Fail.

   U. Examine the tag field of the opcode structure, in case this is
      one of the six instructions with its conditional infix in an
      unusual place.  If it is, the tag tells us where to find the
      infix; look it up in the conditions table and set inst.cond
      accordingly.  Otherwise, this is an unconditional instruction.
      Again set inst.cond accordingly.  Return the opcode structure.

  CE. Examine the tag field to make sure this is an instruction that
      should receive a conditional suffix.  If it is not, fail.
      Otherwise, set inst.cond from the suffix we already looked up,
      and return the opcode structure.

  CM. Examine the tag field to make sure this is an instruction that
      should receive a conditional infix after the third character.
      If it is not, fail.  Otherwise, undo the edits to the current
      line of input and proceed as for case CE.  */

static const struct asm_opcode *
opcode_lookup (char **str)
{
  char *end, *base;
  char *affix;
  const struct asm_opcode *opcode;
  const struct asm_cond *cond;
  char save[2];
  bfd_boolean neon_supported;
  
  neon_supported = ARM_CPU_HAS_FEATURE (cpu_variant, fpu_neon_ext_v1);

  /* Scan up to the end of the mnemonic, which must end in white space,
     '.' (in unified mode, or for Neon instructions), or end of string.  */
  for (base = end = *str; *end != '\0'; end++)
    if (*end == ' ' || ((unified_syntax || neon_supported) && *end == '.'))
      break;

  if (end == base)
    return 0;

  /* Handle a possible width suffix and/or Neon type suffix.  */
  if (end[0] == '.')
    {
      int offset = 2;
      
      /* The .w and .n suffixes are only valid if the unified syntax is in
         use.  */
      if (unified_syntax && end[1] == 'w')
	inst.size_req = 4;
      else if (unified_syntax && end[1] == 'n')
	inst.size_req = 2;
      else
        offset = 0;

      inst.vectype.elems = 0;

      *str = end + offset;

      if (end[offset] == '.')      
	{
	  /* See if we have a Neon type suffix (possible in either unified or
             non-unified ARM syntax mode).  */
          if (parse_neon_type (&inst.vectype, str) == FAIL)
	    return 0;
        }
      else if (end[offset] != '\0' && end[offset] != ' ')
        return 0;
    }
  else
    *str = end;

  /* Look for unaffixed or special-case affixed mnemonic.  */
  opcode = hash_find_n (arm_ops_hsh, base, end - base);
  if (opcode)
    {
      /* step U */
      if (opcode->tag < OT_odd_infix_0)
	{
	  inst.cond = COND_ALWAYS;
	  return opcode;
	}

      if (unified_syntax)
	as_warn (_("conditional infixes are deprecated in unified syntax"));
      affix = base + (opcode->tag - OT_odd_infix_0);
      cond = hash_find_n (arm_cond_hsh, affix, 2);
      assert (cond);

      inst.cond = cond->value;
      return opcode;
    }

  /* Cannot have a conditional suffix on a mnemonic of less than two
     characters.  */
  if (end - base < 3)
    return 0;

  /* Look for suffixed mnemonic.  */
  affix = end - 2;
  cond = hash_find_n (arm_cond_hsh, affix, 2);
  opcode = hash_find_n (arm_ops_hsh, base, affix - base);
  if (opcode && cond)
    {
      /* step CE */
      switch (opcode->tag)
	{
	case OT_cinfix3_legacy:
	  /* Ignore conditional suffixes matched on infix only mnemonics.  */
	  break;

	case OT_cinfix3:
	case OT_cinfix3_deprecated:
	case OT_odd_infix_unc:
	  if (!unified_syntax)
	    return 0;
	  /* else fall through */

	case OT_csuffix:
        case OT_csuffixF:
	case OT_csuf_or_in3:
	  inst.cond = cond->value;
	  return opcode;

	case OT_unconditional:
	case OT_unconditionalF:
	  if (thumb_mode)
	    {
	      inst.cond = cond->value;
	    }
	  else
	    {
	      /* delayed diagnostic */
	      inst.error = BAD_COND;
	      inst.cond = COND_ALWAYS;
	    }
	  return opcode;

	default:
	  return 0;
	}
    }

  /* Cannot have a usual-position infix on a mnemonic of less than
     six characters (five would be a suffix).  */
  if (end - base < 6)
    return 0;

  /* Look for infixed mnemonic in the usual position.  */
  affix = base + 3;
  cond = hash_find_n (arm_cond_hsh, affix, 2);
  if (!cond)
    return 0;

  memcpy (save, affix, 2);
  memmove (affix, affix + 2, (end - affix) - 2);
  opcode = hash_find_n (arm_ops_hsh, base, (end - base) - 2);
  memmove (affix + 2, affix, (end - affix) - 2);
  memcpy (affix, save, 2);

  if (opcode
      && (opcode->tag == OT_cinfix3
	  || opcode->tag == OT_cinfix3_deprecated
	  || opcode->tag == OT_csuf_or_in3
	  || opcode->tag == OT_cinfix3_legacy))
    {
      /* step CM */
      if (unified_syntax
	  && (opcode->tag == OT_cinfix3
	      || opcode->tag == OT_cinfix3_deprecated))
	as_warn (_("conditional infixes are deprecated in unified syntax"));

      inst.cond = cond->value;
      return opcode;
    }

  return 0;
}

void
md_assemble (char *str)
{
  char *p = str;
  const struct asm_opcode * opcode;

#ifdef NOTYET
  /* Align the previous label if needed.  */
  if (last_label_seen != NULL)
    {
      symbol_set_frag (last_label_seen, frag_now);
      S_SET_VALUE (last_label_seen, (valueT) frag_now_fix ());
      S_SET_SEGMENT (last_label_seen, now_seg);
    }
#endif /* NOTYET */

  memset (&inst, '\0', sizeof (inst));
  inst.reloc.type = BFD_RELOC_UNUSED;

  opcode = opcode_lookup (&p);
  if (!opcode)
    {
      /* It wasn't an instruction, but it might be a register alias of
	 the form alias .req reg, or a Neon .dn/.qn directive.  */
      if (!create_register_alias (str, p)
          && !create_neon_reg_alias (str, p))
	as_bad (_("bad instruction `%s'"), str);

      return;
    }

  if (opcode->tag == OT_cinfix3_deprecated)
    as_warn (_("s suffix on comparison instruction is deprecated"));

  /* The value which unconditional instructions should have in place of the
     condition field.  */
  inst.uncond_value = (opcode->tag == OT_csuffixF) ? 0xf : -1;

  if (thumb_mode)
    {
      arm_feature_set variant;

      variant = cpu_variant;
      /* Only allow coprocessor instructions on Thumb-2 capable devices.  */
      if (!ARM_CPU_HAS_FEATURE (variant, arm_arch_t2))
	ARM_CLEAR_FEATURE (variant, variant, fpu_any_hard);
      /* Check that this instruction is supported for this CPU.  */
      if (!opcode->tvariant
	  || (thumb_mode == 1
	      && !ARM_CPU_HAS_FEATURE (variant, *opcode->tvariant)
	      && !force_cpusubtype_ALL))
	{
	  as_bad (_("selected processor does not support `%s'"), str);
	  return;
	}
      if (inst.cond != COND_ALWAYS && !unified_syntax
	  && opcode->tencode != do_t_branch)
	{
	  as_bad (_("Thumb does not support conditional execution"));
	  return;
	}

      if (!ARM_CPU_HAS_FEATURE (variant, arm_ext_v6t2) && !inst.size_req)
	{
	  /* Implicit require narrow instructions on Thumb-1.  This avoids
	     relaxation accidentally introducing Thumb-2 instructions.  */
	  if (opcode->tencode != do_t_blx && opcode->tencode != do_t_branch23)
	    inst.size_req = 2;
	}

      /* Check conditional suffixes.  */
      if (current_it_mask)
	{
	  int cond;
	  cond = current_cc ^ ((current_it_mask >> 4) & 1) ^ 1;
	  current_it_mask <<= 1;
	  current_it_mask &= 0x1f;
	  /* The BKPT instruction is unconditional even in an IT block.  */
	  if (!inst.error
	      && cond != inst.cond && opcode->tencode != do_t_bkpt)
	    {
	      as_bad (_("incorrect condition in IT block"));
	      return;
	    }
	}
      else if (inst.cond != COND_ALWAYS && opcode->tencode != do_t_branch)
	{
	  as_bad (_("thumb conditional instruction not in IT block"));
	  return;
	}

      mapping_state (MAP_THUMB);
      inst.instruction = opcode->tvalue;

      if (!parse_operands (p, opcode->operands))
	opcode->tencode ();

      /* Clear current_it_mask at the end of an IT block.  */
      if (current_it_mask == 0x10)
	current_it_mask = 0;

      if (!(inst.error || inst.relax))
	{
	  assert (inst.instruction < 0xe800 || inst.instruction > 0xffff);
	  inst.size = (inst.instruction > 0xffff ? 4 : 2);
	  if (inst.size_req && inst.size_req != inst.size)
	    {
	      as_bad (_("cannot honor width suffix -- `%s'"), str);
	      return;
	    }
	}

      /* Something has gone badly wrong if we try to relax a fixed size
         instruction.  */
      assert (inst.size_req == 0 || !inst.relax);

      ARM_MERGE_FEATURE_SETS (thumb_arch_used, thumb_arch_used,
			      *opcode->tvariant);
      /* Many Thumb-2 instructions also have Thumb-1 variants, so explicitly
	 set those bits when Thumb-2 32-bit instructions are seen.  ie.
	 anything other than bl/blx.
	 This is overly pessimistic for relaxable instructions.  */
      if ((inst.size == 4 && (inst.instruction & 0xf800e800) != 0xf000e800)
	  || inst.relax)
	ARM_MERGE_FEATURE_SETS (thumb_arch_used, thumb_arch_used,
				arm_ext_v6t2);
    }
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v1))
    {
      /* Check that this instruction is supported for this CPU.  */
      if (!opcode->avariant ||
	  (!ARM_CPU_HAS_FEATURE (cpu_variant, *opcode->avariant) &&
	   !force_cpusubtype_ALL))
	{
	  as_bad (_("selected processor does not support `%s'"), str);
	  return;
	}
      /* Allow width suffixes with unified_syntax */
      if (inst.size_req && !unified_syntax)
	{
	  as_bad (_("width suffixes are invalid in ARM mode -- `%s'"), str);
	  return;
	}

      mapping_state (MAP_ARM);
      inst.instruction = opcode->avalue;
      if (opcode->tag == OT_unconditionalF)
	inst.instruction |= 0xF << 28;
      else
	inst.instruction |= inst.cond << 28;
      inst.size = INSN_SIZE;
      if (!parse_operands (p, opcode->operands))
	opcode->aencode ();
      /* Arm mode bx is marked as both v4T and v5 because it's still required
         on a hypothetical non-thumb v5 core.  */
      if (ARM_CPU_HAS_FEATURE (*opcode->avariant, arm_ext_v4t)
	  || ARM_CPU_HAS_FEATURE (*opcode->avariant, arm_ext_v5))
	ARM_MERGE_FEATURE_SETS (arm_arch_used, arm_arch_used, arm_ext_v4t);
      else
	ARM_MERGE_FEATURE_SETS (arm_arch_used, arm_arch_used,
				*opcode->avariant);
    }
  else
    {
      as_bad (_("attempt to use an ARM instruction on a Thumb-only processor "
		"-- `%s'"), str);
      return;
    }
  output_inst (str);

/* FROM Mac OS X port */
  /*
   * If the -g flag is present generate a line number stab for the
   * instruction.
   * 
   * See the detailed comments about stabs in read_a_source_file() for a
   * description of what is going on here.
   */
  if (flagseen['g'] && frchain_now->frch_nsect == text_nsect)
    {
      (void)symbol_new(
	"",
	68 /* N_SLINE */,
	text_nsect,
	logical_input_line /* n_desc, line number */,
	obstack_next_free(&frags) - frag_now->fr_literal,
	frag_now);
    }
  /*
   * If the --gdwarf2 flag is present generate a .loc for this.
   */
  if(debug_type == DEBUG_DWARF2 && frchain_now->frch_nsect == text_nsect){
	dwarf2_loc(dwarf2_file_number, logical_input_line);
  }

  /*
   * We are putting a machine instruction in this section so mark it as
   * containg some machine instructions.
   */
  frchain_now->frch_section.flags |= S_ATTR_SOME_INSTRUCTIONS;
}

/* Various frobbings of labels and their addresses.  */

void
arm_start_line_hook (void)
{
  last_label_seen = NULL;
}

void
arm_frob_label (symbolS * sym)
{
#ifdef NOTYET
  last_label_seen = sym;

  ARM_SET_THUMB (sym, thumb_mode);

#if defined OBJ_COFF || defined OBJ_ELF
  ARM_SET_INTERWORK (sym, support_interwork);
#endif
#endif /* NOTYET */

  /* Note - do not allow local symbols (.Lxxx) to be labeled
     as Thumb functions.  This is because these labels, whilst
     they exist inside Thumb code, are not the entry points for
     possible ARM->Thumb calls.	 Also, these labels can be used
     as part of a computed goto or switch statement.  eg gcc
     can generate code that looks like this:

		ldr  r2, [pc, .Laaa]
		lsl  r3, r3, #2
		ldr  r2, [r3, r2]
		mov  pc, r2

       .Lbbb:  .word .Lxxx
       .Lccc:  .word .Lyyy
       ..etc...
       .Laaa:	.word Lbbb

     The first instruction loads the address of the jump table.
     The second instruction converts a table index into a byte offset.
     The third instruction gets the jump address out of the table.
     The fourth instruction performs the jump.

     If the address stored at .Laaa is that of a symbol which has the
     Thumb_Func bit set, then the linker will arrange for this address
     to have the bottom bit set, which in turn would mean that the
     address computation performed by the third instruction would end
     up with the bottom bit set.  Since the ARM is capable of unaligned
     word loads, the instruction would then load the incorrect address
     out of the jump table, and chaos would ensue.  */
  if (label_is_thumb_function_name
      && (S_GET_NAME (sym)[0] != 'L')
#ifdef NOTYET
      && (bfd_get_section_flags (stdoutput, now_seg) & SEC_CODE) != 0)
#else
      && (frchain_now->frch_nsect == text_nsect))
#endif
    {
      /* When the address of a Thumb function is taken the bottom
	 bit of that address should be set.  This will allow
	 interworking between Arm and Thumb functions to work
	 correctly.  */

      THUMB_SET_FUNC (sym, 1);
      sym->sy_desc |= N_ARM_THUMB_DEF;

      label_is_thumb_function_name = FALSE;
    }

  dwarf2_emit_label (sym);
}

int
arm_data_in_code (void)
{
  if (thumb_mode && ! strncmp (input_line_pointer + 1, "data:", 5))
    {
      *input_line_pointer = '/';
      input_line_pointer += 5;
      *input_line_pointer = 0;
      return 1;
    }

  return 0;
}

char *
arm_canonicalize_symbol_name (char * name)
{
  int len;

  if (thumb_mode && (len = strlen (name)) > 5
      && streq (name + len - 5, "/data"))
    *(name + len - 5) = 0;

  return name;
}

/* Table of all register names defined by default.  The user can
   define additional names with .req.  Note that all register names
   should appear in both upper and lowercase variants.	Some registers
   also have mixed-case names.	*/

#define REGDEF(s,n,t) { #s, n, REG_TYPE_##t, TRUE, 0 }
#define REGNUM(p,n,t) REGDEF(p##n, n, t)
#define REGNUM2(p,n,t) REGDEF(p##n, 2 * n, t)
#define REGSET(p,t) \
  REGNUM(p, 0,t), REGNUM(p, 1,t), REGNUM(p, 2,t), REGNUM(p, 3,t), \
  REGNUM(p, 4,t), REGNUM(p, 5,t), REGNUM(p, 6,t), REGNUM(p, 7,t), \
  REGNUM(p, 8,t), REGNUM(p, 9,t), REGNUM(p,10,t), REGNUM(p,11,t), \
  REGNUM(p,12,t), REGNUM(p,13,t), REGNUM(p,14,t), REGNUM(p,15,t)
#define REGSETH(p,t) \
  REGNUM(p,16,t), REGNUM(p,17,t), REGNUM(p,18,t), REGNUM(p,19,t), \
  REGNUM(p,20,t), REGNUM(p,21,t), REGNUM(p,22,t), REGNUM(p,23,t), \
  REGNUM(p,24,t), REGNUM(p,25,t), REGNUM(p,26,t), REGNUM(p,27,t), \
  REGNUM(p,28,t), REGNUM(p,29,t), REGNUM(p,30,t), REGNUM(p,31,t)
#define REGSET2(p,t) \
  REGNUM2(p, 0,t), REGNUM2(p, 1,t), REGNUM2(p, 2,t), REGNUM2(p, 3,t), \
  REGNUM2(p, 4,t), REGNUM2(p, 5,t), REGNUM2(p, 6,t), REGNUM2(p, 7,t), \
  REGNUM2(p, 8,t), REGNUM2(p, 9,t), REGNUM2(p,10,t), REGNUM2(p,11,t), \
  REGNUM2(p,12,t), REGNUM2(p,13,t), REGNUM2(p,14,t), REGNUM2(p,15,t)

static const struct reg_entry reg_names[] =
{
  /* ARM integer registers.  */
  REGSET(r, RN), REGSET(R, RN),

  /* ATPCS synonyms.  */
  REGDEF(a1,0,RN), REGDEF(a2,1,RN), REGDEF(a3, 2,RN), REGDEF(a4, 3,RN),
  REGDEF(v1,4,RN), REGDEF(v2,5,RN), REGDEF(v3, 6,RN), REGDEF(v4, 7,RN),
  REGDEF(v5,8,RN), REGDEF(v6,9,RN), REGDEF(v7,10,RN), REGDEF(v8,11,RN),

  REGDEF(A1,0,RN), REGDEF(A2,1,RN), REGDEF(A3, 2,RN), REGDEF(A4, 3,RN),
  REGDEF(V1,4,RN), REGDEF(V2,5,RN), REGDEF(V3, 6,RN), REGDEF(V4, 7,RN),
  REGDEF(V5,8,RN), REGDEF(V6,9,RN), REGDEF(V7,10,RN), REGDEF(V8,11,RN),

  /* Well-known aliases.  */
  REGDEF(wr, 7,RN), REGDEF(sb, 9,RN), REGDEF(sl,10,RN), REGDEF(fp,11,RN),
  REGDEF(ip,12,RN), REGDEF(sp,13,RN), REGDEF(lr,14,RN), REGDEF(pc,15,RN),

  REGDEF(WR, 7,RN), REGDEF(SB, 9,RN), REGDEF(SL,10,RN), REGDEF(FP,11,RN),
  REGDEF(IP,12,RN), REGDEF(SP,13,RN), REGDEF(LR,14,RN), REGDEF(PC,15,RN),

  /* Coprocessor numbers.  */
  REGSET(p, CP), REGSET(P, CP),

  /* Coprocessor register numbers.  The "cr" variants are for backward
     compatibility.  */
  REGSET(c,  CN), REGSET(C, CN),
  REGSET(cr, CN), REGSET(CR, CN),

  /* FPA registers.  */
  REGNUM(f,0,FN), REGNUM(f,1,FN), REGNUM(f,2,FN), REGNUM(f,3,FN),
  REGNUM(f,4,FN), REGNUM(f,5,FN), REGNUM(f,6,FN), REGNUM(f,7, FN),

  REGNUM(F,0,FN), REGNUM(F,1,FN), REGNUM(F,2,FN), REGNUM(F,3,FN),
  REGNUM(F,4,FN), REGNUM(F,5,FN), REGNUM(F,6,FN), REGNUM(F,7, FN),

  /* VFP SP registers.	*/
  REGSET(s,VFS),  REGSET(S,VFS),
  REGSETH(s,VFS), REGSETH(S,VFS),

  /* VFP DP Registers.	*/
  REGSET(d,VFD),  REGSET(D,VFD),
  /* Extra Neon DP registers.  */
  REGSETH(d,VFD), REGSETH(D,VFD),

  /* Neon QP registers.  */
  REGSET2(q,NQ),  REGSET2(Q,NQ),

  /* VFP control registers.  */
  REGDEF(fpsid,0,VFC), REGDEF(fpscr,1,VFC), REGDEF(fpexc,8,VFC),
  REGDEF(FPSID,0,VFC), REGDEF(FPSCR,1,VFC), REGDEF(FPEXC,8,VFC),
  REGDEF(mvfr1,6,VFC), REGDEF(mvfr0,7,VFC),
  REGDEF(MVFR1,6,VFC), REGDEF(MVFR0,7,VFC),

  /* Maverick DSP coprocessor registers.  */
  REGSET(mvf,MVF),  REGSET(mvd,MVD),  REGSET(mvfx,MVFX),  REGSET(mvdx,MVDX),
  REGSET(MVF,MVF),  REGSET(MVD,MVD),  REGSET(MVFX,MVFX),  REGSET(MVDX,MVDX),

  REGNUM(mvax,0,MVAX), REGNUM(mvax,1,MVAX),
  REGNUM(mvax,2,MVAX), REGNUM(mvax,3,MVAX),
  REGDEF(dspsc,0,DSPSC),

  REGNUM(MVAX,0,MVAX), REGNUM(MVAX,1,MVAX),
  REGNUM(MVAX,2,MVAX), REGNUM(MVAX,3,MVAX),
  REGDEF(DSPSC,0,DSPSC),

  /* iWMMXt data registers - p0, c0-15.	 */
  REGSET(wr,MMXWR), REGSET(wR,MMXWR), REGSET(WR, MMXWR),

  /* iWMMXt control registers - p1, c0-3.  */
  REGDEF(wcid,	0,MMXWC),  REGDEF(wCID,	 0,MMXWC),  REGDEF(WCID,  0,MMXWC),
  REGDEF(wcon,	1,MMXWC),  REGDEF(wCon,	 1,MMXWC),  REGDEF(WCON,  1,MMXWC),
  REGDEF(wcssf, 2,MMXWC),  REGDEF(wCSSF, 2,MMXWC),  REGDEF(WCSSF, 2,MMXWC),
  REGDEF(wcasf, 3,MMXWC),  REGDEF(wCASF, 3,MMXWC),  REGDEF(WCASF, 3,MMXWC),

  /* iWMMXt scalar (constant/offset) registers - p1, c8-11.  */
  REGDEF(wcgr0, 8,MMXWCG),  REGDEF(wCGR0, 8,MMXWCG),  REGDEF(WCGR0, 8,MMXWCG),
  REGDEF(wcgr1, 9,MMXWCG),  REGDEF(wCGR1, 9,MMXWCG),  REGDEF(WCGR1, 9,MMXWCG),
  REGDEF(wcgr2,10,MMXWCG),  REGDEF(wCGR2,10,MMXWCG),  REGDEF(WCGR2,10,MMXWCG),
  REGDEF(wcgr3,11,MMXWCG),  REGDEF(wCGR3,11,MMXWCG),  REGDEF(WCGR3,11,MMXWCG),

  /* XScale accumulator registers.  */
  REGNUM(acc,0,XSCALE), REGNUM(ACC,0,XSCALE),
};
#undef REGDEF
#undef REGNUM
#undef REGSET

/* Table of all PSR suffixes.  Bare "CPSR" and "SPSR" are handled
   within psr_required_here.  */
static const struct asm_psr psrs[] =
{
  /* Backward compatibility notation.  Note that "all" is no longer
     truly all possible PSR bits.  */
  {"all",  PSR_c | PSR_f},
  {"flg",  PSR_f},
  {"ctl",  PSR_c},

  /* Individual flags.	*/
  {"f",	   PSR_f},
  {"c",	   PSR_c},
  {"x",	   PSR_x},
  {"s",	   PSR_s},
  /* Combinations of flags.  */
  {"fs",   PSR_f | PSR_s},
  {"fx",   PSR_f | PSR_x},
  {"fc",   PSR_f | PSR_c},
  {"sf",   PSR_s | PSR_f},
  {"sx",   PSR_s | PSR_x},
  {"sc",   PSR_s | PSR_c},
  {"xf",   PSR_x | PSR_f},
  {"xs",   PSR_x | PSR_s},
  {"xc",   PSR_x | PSR_c},
  {"cf",   PSR_c | PSR_f},
  {"cs",   PSR_c | PSR_s},
  {"cx",   PSR_c | PSR_x},
  {"fsx",  PSR_f | PSR_s | PSR_x},
  {"fsc",  PSR_f | PSR_s | PSR_c},
  {"fxs",  PSR_f | PSR_x | PSR_s},
  {"fxc",  PSR_f | PSR_x | PSR_c},
  {"fcs",  PSR_f | PSR_c | PSR_s},
  {"fcx",  PSR_f | PSR_c | PSR_x},
  {"sfx",  PSR_s | PSR_f | PSR_x},
  {"sfc",  PSR_s | PSR_f | PSR_c},
  {"sxf",  PSR_s | PSR_x | PSR_f},
  {"sxc",  PSR_s | PSR_x | PSR_c},
  {"scf",  PSR_s | PSR_c | PSR_f},
  {"scx",  PSR_s | PSR_c | PSR_x},
  {"xfs",  PSR_x | PSR_f | PSR_s},
  {"xfc",  PSR_x | PSR_f | PSR_c},
  {"xsf",  PSR_x | PSR_s | PSR_f},
  {"xsc",  PSR_x | PSR_s | PSR_c},
  {"xcf",  PSR_x | PSR_c | PSR_f},
  {"xcs",  PSR_x | PSR_c | PSR_s},
  {"cfs",  PSR_c | PSR_f | PSR_s},
  {"cfx",  PSR_c | PSR_f | PSR_x},
  {"csf",  PSR_c | PSR_s | PSR_f},
  {"csx",  PSR_c | PSR_s | PSR_x},
  {"cxf",  PSR_c | PSR_x | PSR_f},
  {"cxs",  PSR_c | PSR_x | PSR_s},
  {"fsxc", PSR_f | PSR_s | PSR_x | PSR_c},
  {"fscx", PSR_f | PSR_s | PSR_c | PSR_x},
  {"fxsc", PSR_f | PSR_x | PSR_s | PSR_c},
  {"fxcs", PSR_f | PSR_x | PSR_c | PSR_s},
  {"fcsx", PSR_f | PSR_c | PSR_s | PSR_x},
  {"fcxs", PSR_f | PSR_c | PSR_x | PSR_s},
  {"sfxc", PSR_s | PSR_f | PSR_x | PSR_c},
  {"sfcx", PSR_s | PSR_f | PSR_c | PSR_x},
  {"sxfc", PSR_s | PSR_x | PSR_f | PSR_c},
  {"sxcf", PSR_s | PSR_x | PSR_c | PSR_f},
  {"scfx", PSR_s | PSR_c | PSR_f | PSR_x},
  {"scxf", PSR_s | PSR_c | PSR_x | PSR_f},
  {"xfsc", PSR_x | PSR_f | PSR_s | PSR_c},
  {"xfcs", PSR_x | PSR_f | PSR_c | PSR_s},
  {"xsfc", PSR_x | PSR_s | PSR_f | PSR_c},
  {"xscf", PSR_x | PSR_s | PSR_c | PSR_f},
  {"xcfs", PSR_x | PSR_c | PSR_f | PSR_s},
  {"xcsf", PSR_x | PSR_c | PSR_s | PSR_f},
  {"cfsx", PSR_c | PSR_f | PSR_s | PSR_x},
  {"cfxs", PSR_c | PSR_f | PSR_x | PSR_s},
  {"csfx", PSR_c | PSR_s | PSR_f | PSR_x},
  {"csxf", PSR_c | PSR_s | PSR_x | PSR_f},
  {"cxfs", PSR_c | PSR_x | PSR_f | PSR_s},
  {"cxsf", PSR_c | PSR_x | PSR_s | PSR_f},
};

/* Table of V7M psr names.  */
static const struct asm_psr v7m_psrs[] =
{
  {"apsr",	  0 }, {"APSR",		0 },
  {"iapsr",	  1 }, {"IAPSR",	1 },
  {"eapsr",	  2 }, {"EAPSR",	2 },
  {"psr",	  3 }, {"PSR",		3 },
  {"xpsr",	  3 }, {"XPSR",		3 }, {"xPSR",	  3 },
  {"ipsr",	  5 }, {"IPSR",		5 },
  {"epsr",	  6 }, {"EPSR",		6 },
  {"iepsr",	  7 }, {"IEPSR",	7 },
  {"msp",	  8 }, {"MSP",		8 },
  {"psp",	  9 }, {"PSP",		9 },
  {"primask",	  16}, {"PRIMASK",	16},
  {"basepri",	  17}, {"BASEPRI",	17},
  {"basepri_max", 18}, {"BASEPRI_MAX",	18},
  {"faultmask",	  19}, {"FAULTMASK",	19},
  {"control",	  20}, {"CONTROL",	20}
};

/* Table of all shift-in-operand names.	 */
static const struct asm_shift_name shift_names [] =
{
  { "asl", SHIFT_LSL },	 { "ASL", SHIFT_LSL },
  { "lsl", SHIFT_LSL },	 { "LSL", SHIFT_LSL },
  { "lsr", SHIFT_LSR },	 { "LSR", SHIFT_LSR },
  { "asr", SHIFT_ASR },	 { "ASR", SHIFT_ASR },
  { "ror", SHIFT_ROR },	 { "ROR", SHIFT_ROR },
  { "rrx", SHIFT_RRX },	 { "RRX", SHIFT_RRX }
};

/* Table of all conditional affixes.  0xF is not defined as a condition code.  */
static const struct asm_cond conds[] =
{
  {"eq", 0x0},
  {"ne", 0x1},
  {"cs", 0x2}, {"hs", 0x2},
  {"cc", 0x3}, {"ul", 0x3}, {"lo", 0x3},
  {"mi", 0x4},
  {"pl", 0x5},
  {"vs", 0x6},
  {"vc", 0x7},
  {"hi", 0x8},
  {"ls", 0x9},
  {"ge", 0xa},
  {"lt", 0xb},
  {"gt", 0xc},
  {"le", 0xd},
  {"al", 0xe}
};

static struct asm_barrier_opt barrier_opt_names[] =
{
  { "sy",   0xf },
  { "un",   0x7 },
  { "st",   0xe },
  { "unst", 0x6 },
  { "ish",  0xb },
  { "ishst",0xa },
  { "nsh",  0x7 },
  { "nshst",0x6 },
  { "osh",  0x3 },
  { "oshst",0x2 }
};

#endif /* INSNS_TABLE_ONLY */

/* Table of ARM-format instructions.	*/

/* Macros for gluing together operand strings.  N.B. In all cases
   other than OPS0, the trailing OP_stop comes from default
   zero-initialization of the unspecified elements of the array.  */
#define OPS0()		  { OP_stop, }
#define OPS1(a)		  { OP_##a, }
#define OPS2(a,b)	  { OP_##a,OP_##b, }
#define OPS3(a,b,c)	  { OP_##a,OP_##b,OP_##c, }
#define OPS4(a,b,c,d)	  { OP_##a,OP_##b,OP_##c,OP_##d, }
#define OPS5(a,b,c,d,e)	  { OP_##a,OP_##b,OP_##c,OP_##d,OP_##e, }
#define OPS6(a,b,c,d,e,f) { OP_##a,OP_##b,OP_##c,OP_##d,OP_##e,OP_##f, }

/* These macros abstract out the exact format of the mnemonic table and
   save some repeated characters.  */

/* The normal sort of mnemonic; has a Thumb variant; takes a conditional suffix.  */
#define TxCE(mnem, op, top, nops, ops, ae, te) \
  { #mnem, OPS##nops ops, OT_csuffix, 0x##op, top, ARM_VARIANT, \
    THUMB_VARIANT, do_##ae, do_##te }

/* Two variants of the above - TCE for a numeric Thumb opcode, tCE for
   a T_MNEM_xyz enumerator.  */
#define TCE(mnem, aop, top, nops, ops, ae, te) \
       TxCE(mnem, aop, 0x##top, nops, ops, ae, te)
#define tCE(mnem, aop, top, nops, ops, ae, te) \
       TxCE(mnem, aop, T_MNEM_##top, nops, ops, ae, te)

/* Second most common sort of mnemonic: has a Thumb variant, takes a conditional
   infix after the third character.  */
#define TxC3(mnem, op, top, nops, ops, ae, te) \
  { #mnem, OPS##nops ops, OT_cinfix3, 0x##op, top, ARM_VARIANT, \
    THUMB_VARIANT, do_##ae, do_##te }
#define TxC3w(mnem, op, top, nops, ops, ae, te) \
  { #mnem, OPS##nops ops, OT_cinfix3_deprecated, 0x##op, top, ARM_VARIANT, \
    THUMB_VARIANT, do_##ae, do_##te }
#define TC3(mnem, aop, top, nops, ops, ae, te) \
       TxC3(mnem, aop, 0x##top, nops, ops, ae, te)
#define TC3w(mnem, aop, top, nops, ops, ae, te) \
       TxC3w(mnem, aop, 0x##top, nops, ops, ae, te)
#define tC3(mnem, aop, top, nops, ops, ae, te) \
       TxC3(mnem, aop, T_MNEM_##top, nops, ops, ae, te)
#define tC3w(mnem, aop, top, nops, ops, ae, te) \
       TxC3w(mnem, aop, T_MNEM_##top, nops, ops, ae, te)

/* Mnemonic with a conditional infix in an unusual place.  Each and every variant has to
   appear in the condition table.  */
#define TxCM_(m1, m2, m3, op, top, nops, ops, ae, te)	\
  { #m1 #m2 #m3, OPS##nops ops, sizeof(#m2) == 1 ? OT_odd_infix_unc : OT_odd_infix_0 + sizeof(#m1) - 1, \
    0x##op, top, ARM_VARIANT, THUMB_VARIANT, do_##ae, do_##te }

#define TxCM(m1, m2, op, top, nops, ops, ae, te)	\
  TxCM_(m1,   , m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, eq, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, ne, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, cs, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, hs, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, cc, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, ul, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, lo, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, mi, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, pl, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, vs, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, vc, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, hi, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, ls, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, ge, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, lt, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, gt, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, le, m2, op, top, nops, ops, ae, te),	\
  TxCM_(m1, al, m2, op, top, nops, ops, ae, te)

#define TCM(m1,m2, aop, top, nops, ops, ae, te)		\
       TxCM(m1,m2, aop, 0x##top, nops, ops, ae, te)
#define tCM(m1,m2, aop, top, nops, ops, ae, te)			\
       TxCM(m1,m2, aop, T_MNEM_##top, nops, ops, ae, te)

/* Mnemonic that cannot be conditionalized.  The ARM condition-code
   field is still 0xE.  Many of the Thumb variants can be executed
   conditionally, so this is checked separately.  */
#define TUE(mnem, op, top, nops, ops, ae, te)				\
  { #mnem, OPS##nops ops, OT_unconditional, 0x##op, 0x##top, ARM_VARIANT, \
    THUMB_VARIANT, do_##ae, do_##te }

/* Mnemonic that cannot be conditionalized, and bears 0xF in its ARM
   condition code field.  */
#define TUF(mnem, op, top, nops, ops, ae, te)				\
  { #mnem, OPS##nops ops, OT_unconditionalF, 0x##op, 0x##top, ARM_VARIANT, \
    THUMB_VARIANT, do_##ae, do_##te }

/* ARM-only variants of all the above.  */
#define CE(mnem,  op, nops, ops, ae)	\
  { #mnem, OPS##nops ops, OT_csuffix, 0x##op, 0x0, ARM_VARIANT, 0, do_##ae, NULL }

#define C3(mnem, op, nops, ops, ae)	\
  { #mnem, OPS##nops ops, OT_cinfix3, 0x##op, 0x0, ARM_VARIANT, 0, do_##ae, NULL }

/* Legacy mnemonics that always have conditional infix after the third
   character.  */
#define CL(mnem, op, nops, ops, ae)	\
  { #mnem, OPS##nops ops, OT_cinfix3_legacy, \
    0x##op, 0x0, ARM_VARIANT, 0, do_##ae, NULL }

/* Coprocessor instructions.  Isomorphic between Arm and Thumb-2.  */
#define cCE(mnem,  op, nops, ops, ae)	\
  { #mnem, OPS##nops ops, OT_csuffix, 0x##op, 0xe##op, ARM_VARIANT, ARM_VARIANT, do_##ae, do_##ae }

/* Legacy coprocessor instructions where conditional infix and conditional
   suffix are ambiguous.  For consistency this includes all FPA instructions,
   not just the potentially ambiguous ones.  */
#define cCL(mnem, op, nops, ops, ae)	\
  { #mnem, OPS##nops ops, OT_cinfix3_legacy, \
    0x##op, 0xe##op, ARM_VARIANT, ARM_VARIANT, do_##ae, do_##ae }

/* Coprocessor, takes either a suffix or a position-3 infix
   (for an FPA corner case). */
#define C3E(mnem, op, nops, ops, ae) \
  { #mnem, OPS##nops ops, OT_csuf_or_in3, \
    0x##op, 0xe##op, ARM_VARIANT, ARM_VARIANT, do_##ae, do_##ae }

#define xCM_(m1, m2, m3, op, nops, ops, ae)	\
  { #m1 #m2 #m3, OPS##nops ops, \
    sizeof(#m2) == 1 ? OT_odd_infix_unc : OT_odd_infix_0 + sizeof(#m1) - 1, \
    0x##op, 0x0, ARM_VARIANT, 0, do_##ae, NULL }

#define CM(m1, m2, op, nops, ops, ae)	\
  xCM_(m1,   , m2, op, nops, ops, ae),	\
  xCM_(m1, eq, m2, op, nops, ops, ae),	\
  xCM_(m1, ne, m2, op, nops, ops, ae),	\
  xCM_(m1, cs, m2, op, nops, ops, ae),	\
  xCM_(m1, hs, m2, op, nops, ops, ae),	\
  xCM_(m1, cc, m2, op, nops, ops, ae),	\
  xCM_(m1, ul, m2, op, nops, ops, ae),	\
  xCM_(m1, lo, m2, op, nops, ops, ae),	\
  xCM_(m1, mi, m2, op, nops, ops, ae),	\
  xCM_(m1, pl, m2, op, nops, ops, ae),	\
  xCM_(m1, vs, m2, op, nops, ops, ae),	\
  xCM_(m1, vc, m2, op, nops, ops, ae),	\
  xCM_(m1, hi, m2, op, nops, ops, ae),	\
  xCM_(m1, ls, m2, op, nops, ops, ae),	\
  xCM_(m1, ge, m2, op, nops, ops, ae),	\
  xCM_(m1, lt, m2, op, nops, ops, ae),	\
  xCM_(m1, gt, m2, op, nops, ops, ae),	\
  xCM_(m1, le, m2, op, nops, ops, ae),	\
  xCM_(m1, al, m2, op, nops, ops, ae)

#define UE(mnem, op, nops, ops, ae)	\
  { #mnem, OPS##nops ops, OT_unconditional, 0x##op, 0, ARM_VARIANT, 0, do_##ae, NULL }

#define UF(mnem, op, nops, ops, ae)	\
  { #mnem, OPS##nops ops, OT_unconditionalF, 0x##op, 0, ARM_VARIANT, 0, do_##ae, NULL }

/* Neon data-processing. ARM versions are unconditional with cond=0xf.
   The Thumb and ARM variants are mostly the same (bits 0-23 and 24/28), so we
   use the same encoding function for each.  */
#define NUF(mnem, op, nops, ops, enc)					\
  { #mnem, OPS##nops ops, OT_unconditionalF, 0x##op, 0x##op,		\
    ARM_VARIANT, THUMB_VARIANT, do_##enc, do_##enc }

/* Neon data processing, version which indirects through neon_enc_tab for
   the various overloaded versions of opcodes.  */
#define nUF(mnem, op, nops, ops, enc)					\
  { #mnem, OPS##nops ops, OT_unconditionalF, N_MNEM_##op, N_MNEM_##op,	\
    ARM_VARIANT, THUMB_VARIANT, do_##enc, do_##enc }

/* Neon insn with conditional suffix for the ARM version, non-overloaded
   version.  */
#define NCE_tag(mnem, op, nops, ops, enc, tag)				\
  { #mnem, OPS##nops ops, tag, 0x##op, 0x##op, ARM_VARIANT,		\
    THUMB_VARIANT, do_##enc, do_##enc }

#define NCE(mnem, op, nops, ops, enc)					\
  NCE_tag(mnem, op, nops, ops, enc, OT_csuffix)

#define NCEF(mnem, op, nops, ops, enc)					\
  NCE_tag(mnem, op, nops, ops, enc, OT_csuffixF)

/* Neon insn with conditional suffix for the ARM version, overloaded types.  */
#define nCE_tag(mnem, op, nops, ops, enc, tag)				\
  { #mnem, OPS##nops ops, tag, N_MNEM_##op, N_MNEM_##op,		\
    ARM_VARIANT, THUMB_VARIANT, do_##enc, do_##enc }

#define nCE(mnem, op, nops, ops, enc)					\
  nCE_tag(mnem, op, nops, ops, enc, OT_csuffix)

#define nCEF(mnem, op, nops, ops, enc)					\
  nCE_tag(mnem, op, nops, ops, enc, OT_csuffixF)

#define do_0 0

/* Thumb-only, unconditional.  */
#define UT(mnem,  op, nops, ops, te) TUE(mnem,  0, op, nops, ops, 0, te)

static const struct asm_opcode insns[] =
{
#define ARM_VARIANT &arm_ext_v1 /* Core ARM Instructions.  */
#define THUMB_VARIANT &arm_ext_v4t
 /* APPLE LOCAL */
 TUE(trap,	7ffdefe, defe, 0, (), noargs, noargs),

 tCE(and,	0000000, and,      3, (RR, oRR, SH), arit, t_arit3c),
 tC3(ands,	0100000, ands,	   3, (RR, oRR, SH), arit, t_arit3c),
 tCE(eor,	0200000, eor,	   3, (RR, oRR, SH), arit, t_arit3c),
 tC3(eors,	0300000, eors,	   3, (RR, oRR, SH), arit, t_arit3c),
 tCE(sub,	0400000, sub,	   3, (RR, oRR, SH), arit, t_add_sub),
 tC3(subs,	0500000, subs,	   3, (RR, oRR, SH), arit, t_add_sub),
 tCE(add,	0800000, add,	   3, (RR, oRR, SHG), arit, t_add_sub),
 tC3(adds,	0900000, adds,	   3, (RR, oRR, SHG), arit, t_add_sub),
 tCE(adc,	0a00000, adc,	   3, (RR, oRR, SH), arit, t_arit3c),
 tC3(adcs,	0b00000, adcs,	   3, (RR, oRR, SH), arit, t_arit3c),
 tCE(sbc,	0c00000, sbc,	   3, (RR, oRR, SH), arit, t_arit3),
 tC3(sbcs,	0d00000, sbcs,	   3, (RR, oRR, SH), arit, t_arit3),
 tCE(orr,	1800000, orr,	   3, (RR, oRR, SH), arit, t_arit3c),
 tC3(orrs,	1900000, orrs,	   3, (RR, oRR, SH), arit, t_arit3c),
 tCE(bic,	1c00000, bic,	   3, (RR, oRR, SH), arit, t_arit3),
 tC3(bics,	1d00000, bics,	   3, (RR, oRR, SH), arit, t_arit3),

 /* The p-variants of tst/cmp/cmn/teq (below) are the pre-V6 mechanism
    for setting PSR flag bits.  They are obsolete in V6 and do not
    have Thumb equivalents. */
 tCE(tst,	1100000, tst,	   2, (RR, SH),      cmp,  t_mvn_tst),
 tC3w(tsts,	1100000, tst,	   2, (RR, SH),      cmp,  t_mvn_tst),
  CL(tstp,	110f000,     	   2, (RR, SH),      cmp),
 tCE(cmp,	1500000, cmp,	   2, (RR, SH),      cmp,  t_mov_cmp),
 tC3w(cmps,	1500000, cmp,	   2, (RR, SH),      cmp,  t_mov_cmp),
  CL(cmpp,	150f000,     	   2, (RR, SH),      cmp),
 tCE(cmn,	1700000, cmn,	   2, (RR, SH),      cmp,  t_mvn_tst),
 tC3w(cmns,	1700000, cmn,	   2, (RR, SH),      cmp,  t_mvn_tst),
  CL(cmnp,	170f000,     	   2, (RR, SH),      cmp),

 tCE(mov,	1a00000, mov,	   2, (RR, SH),      mov,  t_mov_cmp),
 tC3(movs,	1b00000, movs,	   2, (RR, SH),      mov,  t_mov_cmp),
 tCE(mvn,	1e00000, mvn,	   2, (RR, SH),      mov,  t_mvn_tst),
 tC3(mvns,	1f00000, mvns,	   2, (RR, SH),      mov,  t_mvn_tst),

 tCE(ldr,	4100000, ldr,	   2, (RR, ADDRGLDR),ldst, t_ldst),
 tC3(ldrb,	4500000, ldrb,	   2, (RR, ADDRGLDR),ldst, t_ldst),
 tCE(str,	4000000, str,	   2, (RR, ADDRGLDR),ldst, t_ldst),
 tC3(strb,	4400000, strb,	   2, (RR, ADDRGLDR),ldst, t_ldst),

 tCE(stm,	8800000, stmia,    2, (RRw, REGLST), ldmstm, t_ldmstm),
 tC3(stmia,	8800000, stmia,    2, (RRw, REGLST), ldmstm, t_ldmstm),
 tC3(stmea,	8800000, stmia,    2, (RRw, REGLST), ldmstm, t_ldmstm),
 tCE(ldm,	8900000, ldmia,    2, (RRw, REGLST), ldmstm, t_ldmstm),
 tC3(ldmia,	8900000, ldmia,    2, (RRw, REGLST), ldmstm, t_ldmstm),
 tC3(ldmfd,	8900000, ldmia,    2, (RRw, REGLST), ldmstm, t_ldmstm),

 TCE(swi,	f000000, df00,     1, (EXPi),        swi, t_swi),
 TCE(svc,	f000000, df00,     1, (EXPi),        swi, t_swi),
 tCE(b,		a000000, b,	   1, (EXPr),	     branch, t_branch),
 TCE(bl,	b000000, f000f800, 1, (EXPr),	     bl, t_branch23),

  /* Pseudo ops.  */
 tCE(adr,	28f0000, adr,	   2, (RR, EXP),     adr,  t_adr),
  C3(adrl,	28f0000,           2, (RR, EXP),     adrl),
 tCE(nop,	1a00000, nop,	   1, (oI255c),	     nop,  t_nop),

  /* Thumb-compatibility pseudo ops.  */
 tCE(lsl,	1a00000, lsl,	   3, (RR, oRR, SH), shift, t_shift),
 tC3(lsls,	1b00000, lsls,	   3, (RR, oRR, SH), shift, t_shift),
 tCE(lsr,	1a00020, lsr,	   3, (RR, oRR, SH), shift, t_shift),
 tC3(lsrs,	1b00020, lsrs,	   3, (RR, oRR, SH), shift, t_shift),
 tCE(asr,	1a00040, asr,	   3, (RR, oRR, SH), shift, t_shift),
 tC3(asrs,      1b00040, asrs,     3, (RR, oRR, SH), shift, t_shift),
 tCE(ror,	1a00060, ror,	   3, (RR, oRR, SH), shift, t_shift),
 tC3(rors,	1b00060, rors,	   3, (RR, oRR, SH), shift, t_shift),
 tCE(neg,	2600000, neg,	   2, (RR, RR),      rd_rn, t_neg),
 tC3(negs,	2700000, negs,	   2, (RR, RR),      rd_rn, t_neg),
 tCE(push,	92d0000, push,     1, (REGLST),	     push_pop, t_push_pop),
 tCE(pop,	8bd0000, pop,	   1, (REGLST),	     push_pop, t_push_pop),

 /* These may simplify to neg.  */
 TCE(rsb,	0600000, ebc00000, 3, (RR, oRR, SH), arit, t_rsb),
 TC3(rsbs,	0700000, ebd00000, 3, (RR, oRR, SH), arit, t_rsb),

 TCE(rrx,	1a00060, ea4f0030, 2, (RR, RR),      rd_rm, t_rd_rm),
 TCE(rrxs,	1b00060, ea5f0030, 2, (RR, RR),      rd_rm, t_rd_rm),

#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6
 TCE(cpy,       1a00000, 4600,     2, (RR, RR),      rd_rm, t_cpy),

 /* V1 instructions with no Thumb analogue prior to V6T2.  */
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6t2
 TCE(teq,	1300000, ea900f00, 2, (RR, SH),      cmp,  t_mvn_tst),
 TC3w(teqs,	1300000, ea900f00, 2, (RR, SH),      cmp,  t_mvn_tst),
  CL(teqp,	130f000,           2, (RR, SH),      cmp),

 TC3(ldrt,	4300000, f8500e00, 2, (RR, ADDR),    ldstt, t_ldstt),
 TC3(ldrbt,	4700000, f8100e00, 2, (RR, ADDR),    ldstt, t_ldstt),
 TC3(strt,	4200000, f8400e00, 2, (RR, ADDR),    ldstt, t_ldstt),
 TC3(strbt,	4600000, f8000e00, 2, (RR, ADDR),    ldstt, t_ldstt),

 TC3(stmdb,	9000000, e9000000, 2, (RRw, REGLST), ldmstm, t_ldmstm),
 TC3(stmfd,     9000000, e9000000, 2, (RRw, REGLST), ldmstm, t_ldmstm),

 TC3(ldmdb,	9100000, e9100000, 2, (RRw, REGLST), ldmstm, t_ldmstm),
 TC3(ldmea,	9100000, e9100000, 2, (RRw, REGLST), ldmstm, t_ldmstm),

 /* V1 instructions with no Thumb analogue at all.  */
  CE(rsc,	0e00000,	   3, (RR, oRR, SH), arit),
  C3(rscs,	0f00000,	   3, (RR, oRR, SH), arit),

  C3(stmib,	9800000,	   2, (RRw, REGLST), ldmstm),
  C3(stmfa,	9800000,	   2, (RRw, REGLST), ldmstm),
  C3(stmda,	8000000,	   2, (RRw, REGLST), ldmstm),
  C3(stmed,	8000000,	   2, (RRw, REGLST), ldmstm),
  C3(ldmib,	9900000,	   2, (RRw, REGLST), ldmstm),
  C3(ldmed,	9900000,	   2, (RRw, REGLST), ldmstm),
  C3(ldmda,	8100000,	   2, (RRw, REGLST), ldmstm),
  C3(ldmfa,	8100000,	   2, (RRw, REGLST), ldmstm),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v2	/* ARM 2 - multiplies.	*/
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v4t
 tCE(mul,	0000090, mul,	   3, (RRnpc, RRnpc, oRR), mul, t_mul),
 tC3(muls,	0100090, muls,	   3, (RRnpc, RRnpc, oRR), mul, t_mul),

#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6t2
 TCE(mla,	0200090, fb000000, 4, (RRnpc, RRnpc, RRnpc, RRnpc), mlas, t_mla),
  C3(mlas,	0300090,           4, (RRnpc, RRnpc, RRnpc, RRnpc), mlas),

  /* Generic coprocessor instructions.	*/
 TCE(cdp,	e000000, ee000000, 6, (RCP, I15b, RCN, RCN, RCN, oI7b), cdp,    cdp),
 TCE(ldc,	c100000, ec100000, 3, (RCP, RCN, ADDRGLDC),	        lstc,   lstc),
 TC3(ldcl,	c500000, ec500000, 3, (RCP, RCN, ADDRGLDC),	        lstc,   lstc),
 TCE(stc,	c000000, ec000000, 3, (RCP, RCN, ADDRGLDC),	        lstc,   lstc),
 TC3(stcl,	c400000, ec400000, 3, (RCP, RCN, ADDRGLDC),	        lstc,   lstc),
 TCE(mcr,	e000010, ee000010, 6, (RCP, I7b, RR, RCN, RCN, oI7b),   co_reg, co_reg),
 TCE(mrc,	e100010, ee100010, 6, (RCP, I7b, RR, RCN, RCN, oI7b),   co_reg, co_reg),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v2s /* ARM 3 - swp instructions.  */
  CE(swp,	1000090,           3, (RRnpc, RRnpc, RRnpcb), rd_rm_rn),
  C3(swpb,	1400090,           3, (RRnpc, RRnpc, RRnpcb), rd_rm_rn),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v3	/* ARM 6 Status register instructions.	*/
 TCE(mrs,	10f0000, f3ef8000, 2, (APSR_RR, RVC_PSR), mrs, t_mrs),
 TCE(msr,	120f000, f3808000, 2, (RVC_PSR, RR_EXi), msr, t_msr),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v3m	 /* ARM 7M long multiplies.  */
 TCE(smull,	0c00090, fb800000, 4, (RRnpc, RRnpc, RRnpc, RRnpc), mull, t_mull),
  CM(smull,s,	0d00090,           4, (RRnpc, RRnpc, RRnpc, RRnpc), mull),
 TCE(umull,	0800090, fba00000, 4, (RRnpc, RRnpc, RRnpc, RRnpc), mull, t_mull),
  CM(umull,s,	0900090,           4, (RRnpc, RRnpc, RRnpc, RRnpc), mull),
 TCE(smlal,	0e00090, fbc00000, 4, (RRnpc, RRnpc, RRnpc, RRnpc), mull, t_mull),
  CM(smlal,s,	0f00090,           4, (RRnpc, RRnpc, RRnpc, RRnpc), mull),
 TCE(umlal,	0a00090, fbe00000, 4, (RRnpc, RRnpc, RRnpc, RRnpc), mull, t_mull),
  CM(umlal,s,	0b00090,           4, (RRnpc, RRnpc, RRnpc, RRnpc), mull),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v4	/* ARM Architecture 4.	*/
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v4t
 tC3(ldrh,	01000b0, ldrh,     2, (RR, ADDRGLDRS), ldstv4, t_ldst),
 tC3(strh,	00000b0, strh,     2, (RR, ADDRGLDRS), ldstv4, t_ldst),
 tC3(ldrsh,	01000f0, ldrsh,    2, (RR, ADDRGLDRS), ldstv4, t_ldst),
 tC3(ldrsb,	01000d0, ldrsb,    2, (RR, ADDRGLDRS), ldstv4, t_ldst),
 tCM(ld,sh,	01000f0, ldrsh,    2, (RR, ADDRGLDRS), ldstv4, t_ldst),
 tCM(ld,sb,	01000d0, ldrsb,    2, (RR, ADDRGLDRS), ldstv4, t_ldst),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v4t_5
  /* ARM Architecture 4T.  */
  /* Note: bx (and blx) are required on V5, even if the processor does
     not support Thumb.	 */
 TCE(bx,	12fff10, 4700, 1, (RR),	bx, t_bx),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v5 /*  ARM Architecture 5T.	 */
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v5t
  /* Note: blx has 2 variants; the .value coded here is for
     BLX(2).  Only this variant has conditional execution.  */
 TCE(blx,	12fff30, 4780, 1, (RR_EXr),			    blx,  t_blx),
 TUE(bkpt,	1200070, be00, 1, (oIffffb),			    bkpt, t_bkpt),

#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6t2
 TCE(clz,	16f0f10, fab0f080, 2, (RRnpc, RRnpc),		        rd_rm,  t_clz),
 TUF(ldc2,	c100000, fc100000, 3, (RCP, RCN, ADDRGLDC),	        lstc,	lstc),
 TUF(ldc2l,	c500000, fc500000, 3, (RCP, RCN, ADDRGLDC),		        lstc,	lstc),
 TUF(stc2,	c000000, fc000000, 3, (RCP, RCN, ADDRGLDC),	        lstc,	lstc),
 TUF(stc2l,	c400000, fc400000, 3, (RCP, RCN, ADDRGLDC),		        lstc,	lstc),
 TUF(cdp2,	e000000, fe000000, 6, (RCP, I15b, RCN, RCN, RCN, oI7b), cdp,    cdp),
 TUF(mcr2,	e000010, fe000010, 6, (RCP, I7b, RR, RCN, RCN, oI7b),   co_reg, co_reg),
 TUF(mrc2,	e100010, fe100010, 6, (RCP, I7b, RR, RCN, RCN, oI7b),   co_reg, co_reg),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v5exp /*  ARM Architecture 5TExP.  */
 TCE(smlabb,	1000080, fb100000, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smla, t_mla),
 TCE(smlatb,	10000a0, fb100020, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smla, t_mla),
 TCE(smlabt,	10000c0, fb100010, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smla, t_mla),
 TCE(smlatt,	10000e0, fb100030, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smla, t_mla),

 TCE(smlawb,	1200080, fb300000, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smla, t_mla),
 TCE(smlawt,	12000c0, fb300010, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smla, t_mla),

 TCE(smlalbb,	1400080, fbc00080, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smlal, t_mlal),
 TCE(smlaltb,	14000a0, fbc000a0, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smlal, t_mlal),
 TCE(smlalbt,	14000c0, fbc00090, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smlal, t_mlal),
 TCE(smlaltt,	14000e0, fbc000b0, 4, (RRnpc, RRnpc, RRnpc, RRnpc),   smlal, t_mlal),

 TCE(smulbb,	1600080, fb10f000, 3, (RRnpc, RRnpc, RRnpc),	    smul, t_simd),
 TCE(smultb,	16000a0, fb10f020, 3, (RRnpc, RRnpc, RRnpc),	    smul, t_simd),
 TCE(smulbt,	16000c0, fb10f010, 3, (RRnpc, RRnpc, RRnpc),	    smul, t_simd),
 TCE(smultt,	16000e0, fb10f030, 3, (RRnpc, RRnpc, RRnpc),	    smul, t_simd),

 TCE(smulwb,	12000a0, fb30f000, 3, (RRnpc, RRnpc, RRnpc),	    smul, t_simd),
 TCE(smulwt,	12000e0, fb30f010, 3, (RRnpc, RRnpc, RRnpc),	    smul, t_simd),

 TCE(qadd,	1000050, fa80f080, 3, (RRnpc, RRnpc, RRnpc),	    rd_rm_rn, t_rd_rm_rn),
 TCE(qdadd,	1400050, fa80f090, 3, (RRnpc, RRnpc, RRnpc),	    rd_rm_rn, t_rd_rm_rn),
 TCE(qsub,	1200050, fa80f0a0, 3, (RRnpc, RRnpc, RRnpc),	    rd_rm_rn, t_rd_rm_rn),
 TCE(qdsub,	1600050, fa80f0b0, 3, (RRnpc, RRnpc, RRnpc),	    rd_rm_rn, t_rd_rm_rn),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v5e /*  ARM Architecture 5TE.  */
 TUF(pld,	450f000, f810f000, 1, (ADDR),		     pld,  t_pld),
 TC3(ldrd,	00000d0, e8500000, 3, (RRnpc, oRRnpc, ADDRGLDRS), ldrd, t_ldstd),
 TC3(strd,	00000f0, e8400000, 3, (RRnpc, oRRnpc, ADDRGLDRS), ldrd, t_ldstd),

 TCE(mcrr,	c400000, ec400000, 5, (RCP, I15b, RRnpc, RRnpc, RCN), co_reg2c, co_reg2c),
 TCE(mrrc,	c500000, ec500000, 5, (RCP, I15b, RRnpc, RRnpc, RCN), co_reg2c, co_reg2c),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v5j /*  ARM Architecture 5TEJ.  */
 TCE(bxj,	12fff20, f3c08f00, 1, (RR),			  bxj, t_bxj),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v6 /*  ARM V6.  */
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6
 TUF(cpsie,     1080000, b660,     2, (CPSF, oI31b),              cpsi,   t_cpsi),
 TUF(cpsid,     10c0000, b670,     2, (CPSF, oI31b),              cpsi,   t_cpsi),
 tCE(rev,       6bf0f30, rev,      2, (RRnpc, RRnpc),             rd_rm,  t_rev),
 tCE(rev16,     6bf0fb0, rev16,    2, (RRnpc, RRnpc),             rd_rm,  t_rev),
 tCE(revsh,     6ff0fb0, revsh,    2, (RRnpc, RRnpc),             rd_rm,  t_rev),
 tCE(sxth,      6bf0070, sxth,     3, (RRnpc, RRnpc, oROR),       sxth,   t_sxth),
 tCE(uxth,      6ff0070, uxth,     3, (RRnpc, RRnpc, oROR),       sxth,   t_sxth),
 tCE(sxtb,      6af0070, sxtb,     3, (RRnpc, RRnpc, oROR),       sxth,   t_sxth),
 tCE(uxtb,      6ef0070, uxtb,     3, (RRnpc, RRnpc, oROR),       sxth,   t_sxth),
 TUF(setend,    1010000, b650,     1, (ENDI),                     setend, t_setend),

#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6t2
 TCE(ldrex,	1900f9f, e8500f00, 2, (RRnpc, ADDR),		  ldrex, t_ldrex),
 TCE(strex,	1800f90, e8400000, 3, (RRnpc, RRnpc, ADDR),	   strex,  t_strex),
 TUF(mcrr2,	c400000, fc400000, 5, (RCP, I15b, RRnpc, RRnpc, RCN), co_reg2c, co_reg2c),
 TUF(mrrc2,	c500000, fc500000, 5, (RCP, I15b, RRnpc, RRnpc, RCN), co_reg2c, co_reg2c),

 TCE(ssat,	6a00010, f3000000, 4, (RRnpc, I32, RRnpc, oSHllar),ssat,   t_ssat),
 TCE(usat,	6e00010, f3800000, 4, (RRnpc, I31, RRnpc, oSHllar),usat,   t_usat),

/*  ARM V6 not included in V7M (eg. integer SIMD).  */
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6_notm
 TUF(cps,	1020000, f3af8100, 1, (I31b),			  imm0, t_cps),
 TCE(pkhbt,	6800010, eac00000, 4, (RRnpc, RRnpc, RRnpc, oSHll),   pkhbt, t_pkhbt),
 TCE(pkhtb,	6800050, eac00020, 4, (RRnpc, RRnpc, RRnpc, oSHar),   pkhtb, t_pkhtb),
 TCE(qadd16,	6200f10, fa90f010, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(qadd8,	6200f90, fa80f010, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(qaddsubx,	6200f30, faa0f010, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(qsub16,	6200f70, fad0f010, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(qsub8,	6200ff0, fac0f010, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(qsubaddx,	6200f50, fae0f010, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(sadd16,	6100f10, fa90f000, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(sadd8,	6100f90, fa80f000, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(saddsubx,	6100f30, faa0f000, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(shadd16,	6300f10, fa90f020, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(shadd8,	6300f90, fa80f020, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(shaddsubx, 6300f30, faa0f020, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(shsub16,	6300f70, fad0f020, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(shsub8,	6300ff0, fac0f020, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(shsubaddx, 6300f50, fae0f020, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(ssub16,	6100f70, fad0f000, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(ssub8,	6100ff0, fac0f000, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(ssubaddx,	6100f50, fae0f000, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uadd16,	6500f10, fa90f040, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uadd8,	6500f90, fa80f040, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uaddsubx,	6500f30, faa0f040, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uhadd16,	6700f10, fa90f060, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uhadd8,	6700f90, fa80f060, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uhaddsubx, 6700f30, faa0f060, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uhsub16,	6700f70, fad0f060, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uhsub8,	6700ff0, fac0f060, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uhsubaddx, 6700f50, fae0f060, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uqadd16,	6600f10, fa90f050, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uqadd8,	6600f90, fa80f050, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uqaddsubx, 6600f30, faa0f050, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uqsub16,	6600f70, fad0f050, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uqsub8,	6600ff0, fac0f050, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(uqsubaddx, 6600f50, fae0f050, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(usub16,	6500f70, fad0f040, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(usub8,	6500ff0, fac0f040, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(usubaddx,	6500f50, fae0f040, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TUF(rfeia,	8900a00, e990c000, 1, (RRw),			   rfe, rfe),
  UF(rfeib,	9900a00,           1, (RRw),			   rfe),
  UF(rfeda,	8100a00,           1, (RRw),			   rfe),
 TUF(rfedb,	9100a00, e810c000, 1, (RRw),			   rfe, rfe),
 TUF(rfefd,	8900a00, e990c000, 1, (RRw),			   rfe, rfe),
  UF(rfefa,	9900a00,           1, (RRw),			   rfe),
  UF(rfeea,	8100a00,           1, (RRw),			   rfe),
 TUF(rfeed,	9100a00, e810c000, 1, (RRw),			   rfe, rfe),
 TCE(sxtah,	6b00070, fa00f080, 4, (RRnpc, RRnpc, RRnpc, oROR), sxtah, t_sxtah),
 TCE(sxtab16,	6800070, fa20f080, 4, (RRnpc, RRnpc, RRnpc, oROR), sxtah, t_sxtah),
 TCE(sxtab,	6a00070, fa40f080, 4, (RRnpc, RRnpc, RRnpc, oROR), sxtah, t_sxtah),
 TCE(sxtb16,	68f0070, fa2ff080, 3, (RRnpc, RRnpc, oROR),	   sxth,  t_sxth),
 TCE(uxtah,	6f00070, fa10f080, 4, (RRnpc, RRnpc, RRnpc, oROR), sxtah, t_sxtah),
 TCE(uxtab16,	6c00070, fa30f080, 4, (RRnpc, RRnpc, RRnpc, oROR), sxtah, t_sxtah),
 TCE(uxtab,	6e00070, fa50f080, 4, (RRnpc, RRnpc, RRnpc, oROR), sxtah, t_sxtah),
 TCE(uxtb16,	6cf0070, fa3ff080, 3, (RRnpc, RRnpc, oROR),	   sxth,  t_sxth),
 TCE(sel,	6800fb0, faa0f080, 3, (RRnpc, RRnpc, RRnpc),	   rd_rn_rm, t_simd),
 TCE(smlad,	7000010, fb200000, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smladx,	7000030, fb200010, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smlald,	7400010, fbc000c0, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smlal,t_mlal),
 TCE(smlaldx,	7400030, fbc000d0, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smlal,t_mlal),
 TCE(smlsd,	7000050, fb400000, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smlsdx,	7000070, fb400010, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smlsld,	7400050, fbd000c0, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smlal,t_mlal),
 TCE(smlsldx,	7400070, fbd000d0, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smlal,t_mlal),
 TCE(smmla,	7500010, fb500000, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smmlar,	7500030, fb500010, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smmls,	75000d0, fb600000, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smmlsr,	75000f0, fb600010, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla, t_mla),
 TCE(smmul,	750f010, fb50f000, 3, (RRnpc, RRnpc, RRnpc),	   smul, t_simd),
 TCE(smmulr,	750f030, fb50f010, 3, (RRnpc, RRnpc, RRnpc),	   smul, t_simd),
 TCE(smuad,	700f010, fb20f000, 3, (RRnpc, RRnpc, RRnpc),	   smul, t_simd),
 TCE(smuadx,	700f030, fb20f010, 3, (RRnpc, RRnpc, RRnpc),	   smul, t_simd),
 TCE(smusd,	700f050, fb40f000, 3, (RRnpc, RRnpc, RRnpc),	   smul, t_simd),
 TCE(smusdx,	700f070, fb40f010, 3, (RRnpc, RRnpc, RRnpc),	   smul, t_simd),
 TUF(srsia,	8c00500, e980c000, 2, (oRRw, I31w),		   srs,  srs),
  UF(srsib,	9c00500,           2, (oRRw, I31w),		   srs),
  UF(srsda,	8400500,	   2, (oRRw, I31w),		   srs),
 TUF(srsdb,	9400500, e800c000, 2, (oRRw, I31w),		   srs,  srs),
 TCE(ssat16,	6a00f30, f3200000, 3, (RRnpc, I16, RRnpc),	   ssat16, t_ssat16),
 TCE(umaal,	0400090, fbe00060, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smlal,  t_mlal),
 TCE(usad8,	780f010, fb70f000, 3, (RRnpc, RRnpc, RRnpc),	   smul,   t_simd),
 TCE(usada8,	7800010, fb700000, 4, (RRnpc, RRnpc, RRnpc, RRnpc),smla,   t_mla),
 TCE(usat16,	6e00f30, f3a00000, 3, (RRnpc, I15, RRnpc),	   usat16, t_usat16),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v6k
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6k
 tCE(yield,	320f001, yield,    0, (), noargs, t_hint),
 tCE(wfe,	320f002, wfe,      0, (), noargs, t_hint),
 tCE(wfi,	320f003, wfi,      0, (), noargs, t_hint),
 tCE(sev,	320f004, sev,      0, (), noargs, t_hint),

#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6_notm
 TCE(ldrexd,	1b00f9f, e8d0007f, 3, (RRnpc, oRRnpc, RRnpcb),        ldrexd, t_ldrexd),
 TCE(strexd,	1a00f90, e8c00070, 4, (RRnpc, RRnpc, oRRnpc, RRnpcb), strexd, t_strexd),

#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v6t2
 TCE(ldrexb,	1d00f9f, e8d00f4f, 2, (RRnpc, RRnpcb),	              rd_rn,  rd_rn),
 TCE(ldrexh,	1f00f9f, e8d00f5f, 2, (RRnpc, RRnpcb),	              rd_rn,  rd_rn),
 TCE(strexb,	1c00f90, e8c00f40, 3, (RRnpc, RRnpc, ADDR),           strex,  rm_rd_rn),
 TCE(strexh,	1e00f90, e8c00f50, 3, (RRnpc, RRnpc, ADDR),           strex,  rm_rd_rn),
 TUF(clrex,	57ff01f, f3bf8f2f, 0, (),			      noargs, noargs),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v6z
 TCE(smc,	1600070, f7f08000, 1, (EXPi), smc, t_smc),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v6t2
 TCE(bfc,	7c0001f, f36f0000, 3, (RRnpc, I31, I32),	   bfc, t_bfc),
 TCE(bfi,	7c00010, f3600000, 4, (RRnpc, RRnpc_I0, I31, I32), bfi, t_bfi),
 TCE(sbfx,	7a00050, f3400000, 4, (RR, RR, I31, I32),	   bfx, t_bfx),
 TCE(ubfx,	7e00050, f3c00000, 4, (RR, RR, I31, I32),	   bfx, t_bfx),

 TCE(mls,	0600090, fb000010, 4, (RRnpc, RRnpc, RRnpc, RRnpc), mlas, t_mla),
 TCE(movw,	3000000, f2400000, 2, (RRnpc, HALF),		    mov16, t_mov16),
 TCE(movt,	3400000, f2c00000, 2, (RRnpc, HALF),		    mov16, t_mov16),
 TCE(rbit,	6ff0f30, fa90f0a0, 2, (RR, RR),			    rd_rm, t_rbit),

 TC3(ldrht,	03000b0, f8300e00, 2, (RR, ADDR), ldsttv4, t_ldstt),
 TC3(ldrsht,	03000f0, f9300e00, 2, (RR, ADDR), ldsttv4, t_ldstt),
 TC3(ldrsbt,	03000d0, f9100e00, 2, (RR, ADDR), ldsttv4, t_ldstt),
 TC3(strht,	02000b0, f8200e00, 2, (RR, ADDR), ldsttv4, t_ldstt),

 /* Thumb only instructions.  */
#undef ARM_VARIANT
#define ARM_VARIANT NULL
  UT(cbnz,      b900,    2, (RR, EXP), t_cbz),
  UT(cbz,       b100,    2, (RR, EXP), t_cbz),
 /* ARM does not really have an IT instruction, so always allow it.  */
#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v1
 TUE(it,        0, bf08, 1, (COND),    it, t_it),
 TUE(itt,       0, bf0c, 1, (COND),    it, t_it),
 TUE(ite,       0, bf04, 1, (COND),    it, t_it),
 TUE(ittt,      0, bf0e, 1, (COND),    it, t_it),
 TUE(itet,      0, bf06, 1, (COND),    it, t_it),
 TUE(itte,      0, bf0a, 1, (COND),    it, t_it),
 TUE(itee,      0, bf02, 1, (COND),    it, t_it),
 TUE(itttt,     0, bf0f, 1, (COND),    it, t_it),
 TUE(itett,     0, bf07, 1, (COND),    it, t_it),
 TUE(ittet,     0, bf0b, 1, (COND),    it, t_it),
 TUE(iteet,     0, bf03, 1, (COND),    it, t_it),
 TUE(ittte,     0, bf0d, 1, (COND),    it, t_it),
 TUE(itete,     0, bf05, 1, (COND),    it, t_it),
 TUE(ittee,     0, bf09, 1, (COND),    it, t_it),
 TUE(iteee,     0, bf01, 1, (COND),    it, t_it),

 /* Thumb2 only instructions.  */
#undef ARM_VARIANT
#define ARM_VARIANT NULL

 TCE(addw,	0, f2000000, 3, (RR, RR, EXPi), 0, t_add_sub_w),
 TCE(subw,	0, f2a00000, 3, (RR, RR, EXPi), 0, t_add_sub_w),
 TCE(tbb,       0, e8d0f000, 1, (TB), 0, t_tb),
 TCE(tbh,       0, e8d0f010, 1, (TB), 0, t_tb),
 TCE(orn,	0, ea600000, 3, (RR, oRR, SH), 0, t_orn),
 TCE(orns,	0, ea700000, 3, (RR, oRR, SH), 0, t_orn),

 /* Thumb-2 hardware division instructions (R and M profiles only).  */
#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v7
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_div
 TCE(sdiv,	710f010, fb90f0f0, 3, (RR, oRR, RR), div, t_div),
 TCE(udiv,	730f010, fbb0f0f0, 3, (RR, oRR, RR), div, t_div),

 /* ARM V7 instructions.  */
#undef ARM_VARIANT
#define ARM_VARIANT &arm_ext_v7
#undef THUMB_VARIANT
#define THUMB_VARIANT &arm_ext_v7
 TUF(pldw,	410f000, f830f000, 1, (ADDR),	  pld,	    t_pld),
 TUF(pli,	450f000, f910f000, 1, (ADDR),	  pli,	    t_pld),
 TCE(dbg,	320f0f0, f3af80f0, 1, (I15),	  dbg,	    t_dbg),
 TUF(dmb,	57ff050, f3bf8f50, 1, (oBARRIER), barrier,  t_barrier),
 TUF(dsb,	57ff040, f3bf8f40, 1, (oBARRIER), barrier,  t_barrier),
 TUF(isb,	57ff060, f3bf8f60, 1, (oBARRIER), barrier,  t_barrier),

#undef ARM_VARIANT
#define ARM_VARIANT &fpu_fpa_ext_v1  /* Core FPA instruction set (V1).  */
 cCE(wfs,	e200110, 1, (RR),	     rd),
 cCE(rfs,	e300110, 1, (RR),	     rd),
 cCE(wfc,	e400110, 1, (RR),	     rd),
 cCE(rfc,	e500110, 1, (RR),	     rd),

 cCL(ldfs,	c100100, 2, (RF, ADDRGLDC),  rd_cpaddr),
 cCL(ldfd,	c108100, 2, (RF, ADDRGLDC),  rd_cpaddr),
 cCL(ldfe,	c500100, 2, (RF, ADDRGLDC),  rd_cpaddr),
 cCL(ldfp,	c508100, 2, (RF, ADDRGLDC),  rd_cpaddr),

 cCL(stfs,	c000100, 2, (RF, ADDRGLDC),  rd_cpaddr),
 cCL(stfd,	c008100, 2, (RF, ADDRGLDC),  rd_cpaddr),
 cCL(stfe,	c400100, 2, (RF, ADDRGLDC),  rd_cpaddr),
 cCL(stfp,	c408100, 2, (RF, ADDRGLDC),  rd_cpaddr),

 cCL(mvfs,	e008100, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfsp,	e008120, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfsm,	e008140, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfsz,	e008160, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfd,	e008180, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfdp,	e0081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfdm,	e0081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfdz,	e0081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfe,	e088100, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfep,	e088120, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfem,	e088140, 2, (RF, RF_IF),     rd_rm),
 cCL(mvfez,	e088160, 2, (RF, RF_IF),     rd_rm),

 cCL(mnfs,	e108100, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfsp,	e108120, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfsm,	e108140, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfsz,	e108160, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfd,	e108180, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfdp,	e1081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfdm,	e1081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfdz,	e1081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfe,	e188100, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfep,	e188120, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfem,	e188140, 2, (RF, RF_IF),     rd_rm),
 cCL(mnfez,	e188160, 2, (RF, RF_IF),     rd_rm),

 cCL(abss,	e208100, 2, (RF, RF_IF),     rd_rm),
 cCL(abssp,	e208120, 2, (RF, RF_IF),     rd_rm),
 cCL(abssm,	e208140, 2, (RF, RF_IF),     rd_rm),
 cCL(abssz,	e208160, 2, (RF, RF_IF),     rd_rm),
 cCL(absd,	e208180, 2, (RF, RF_IF),     rd_rm),
 cCL(absdp,	e2081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(absdm,	e2081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(absdz,	e2081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(abse,	e288100, 2, (RF, RF_IF),     rd_rm),
 cCL(absep,	e288120, 2, (RF, RF_IF),     rd_rm),
 cCL(absem,	e288140, 2, (RF, RF_IF),     rd_rm),
 cCL(absez,	e288160, 2, (RF, RF_IF),     rd_rm),

 cCL(rnds,	e308100, 2, (RF, RF_IF),     rd_rm),
 cCL(rndsp,	e308120, 2, (RF, RF_IF),     rd_rm),
 cCL(rndsm,	e308140, 2, (RF, RF_IF),     rd_rm),
 cCL(rndsz,	e308160, 2, (RF, RF_IF),     rd_rm),
 cCL(rndd,	e308180, 2, (RF, RF_IF),     rd_rm),
 cCL(rnddp,	e3081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(rnddm,	e3081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(rnddz,	e3081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(rnde,	e388100, 2, (RF, RF_IF),     rd_rm),
 cCL(rndep,	e388120, 2, (RF, RF_IF),     rd_rm),
 cCL(rndem,	e388140, 2, (RF, RF_IF),     rd_rm),
 cCL(rndez,	e388160, 2, (RF, RF_IF),     rd_rm),

 cCL(sqts,	e408100, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtsp,	e408120, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtsm,	e408140, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtsz,	e408160, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtd,	e408180, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtdp,	e4081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtdm,	e4081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtdz,	e4081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(sqte,	e488100, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtep,	e488120, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtem,	e488140, 2, (RF, RF_IF),     rd_rm),
 cCL(sqtez,	e488160, 2, (RF, RF_IF),     rd_rm),

 cCL(logs,	e508100, 2, (RF, RF_IF),     rd_rm),
 cCL(logsp,	e508120, 2, (RF, RF_IF),     rd_rm),
 cCL(logsm,	e508140, 2, (RF, RF_IF),     rd_rm),
 cCL(logsz,	e508160, 2, (RF, RF_IF),     rd_rm),
 cCL(logd,	e508180, 2, (RF, RF_IF),     rd_rm),
 cCL(logdp,	e5081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(logdm,	e5081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(logdz,	e5081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(loge,	e588100, 2, (RF, RF_IF),     rd_rm),
 cCL(logep,	e588120, 2, (RF, RF_IF),     rd_rm),
 cCL(logem,	e588140, 2, (RF, RF_IF),     rd_rm),
 cCL(logez,	e588160, 2, (RF, RF_IF),     rd_rm),

 cCL(lgns,	e608100, 2, (RF, RF_IF),     rd_rm),
 cCL(lgnsp,	e608120, 2, (RF, RF_IF),     rd_rm),
 cCL(lgnsm,	e608140, 2, (RF, RF_IF),     rd_rm),
 cCL(lgnsz,	e608160, 2, (RF, RF_IF),     rd_rm),
 cCL(lgnd,	e608180, 2, (RF, RF_IF),     rd_rm),
 cCL(lgndp,	e6081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(lgndm,	e6081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(lgndz,	e6081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(lgne,	e688100, 2, (RF, RF_IF),     rd_rm),
 cCL(lgnep,	e688120, 2, (RF, RF_IF),     rd_rm),
 cCL(lgnem,	e688140, 2, (RF, RF_IF),     rd_rm),
 cCL(lgnez,	e688160, 2, (RF, RF_IF),     rd_rm),

 cCL(exps,	e708100, 2, (RF, RF_IF),     rd_rm),
 cCL(expsp,	e708120, 2, (RF, RF_IF),     rd_rm),
 cCL(expsm,	e708140, 2, (RF, RF_IF),     rd_rm),
 cCL(expsz,	e708160, 2, (RF, RF_IF),     rd_rm),
 cCL(expd,	e708180, 2, (RF, RF_IF),     rd_rm),
 cCL(expdp,	e7081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(expdm,	e7081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(expdz,	e7081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(expe,	e788100, 2, (RF, RF_IF),     rd_rm),
 cCL(expep,	e788120, 2, (RF, RF_IF),     rd_rm),
 cCL(expem,	e788140, 2, (RF, RF_IF),     rd_rm),
 cCL(expdz,	e788160, 2, (RF, RF_IF),     rd_rm),

 cCL(sins,	e808100, 2, (RF, RF_IF),     rd_rm),
 cCL(sinsp,	e808120, 2, (RF, RF_IF),     rd_rm),
 cCL(sinsm,	e808140, 2, (RF, RF_IF),     rd_rm),
 cCL(sinsz,	e808160, 2, (RF, RF_IF),     rd_rm),
 cCL(sind,	e808180, 2, (RF, RF_IF),     rd_rm),
 cCL(sindp,	e8081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(sindm,	e8081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(sindz,	e8081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(sine,	e888100, 2, (RF, RF_IF),     rd_rm),
 cCL(sinep,	e888120, 2, (RF, RF_IF),     rd_rm),
 cCL(sinem,	e888140, 2, (RF, RF_IF),     rd_rm),
 cCL(sinez,	e888160, 2, (RF, RF_IF),     rd_rm),

 cCL(coss,	e908100, 2, (RF, RF_IF),     rd_rm),
 cCL(cossp,	e908120, 2, (RF, RF_IF),     rd_rm),
 cCL(cossm,	e908140, 2, (RF, RF_IF),     rd_rm),
 cCL(cossz,	e908160, 2, (RF, RF_IF),     rd_rm),
 cCL(cosd,	e908180, 2, (RF, RF_IF),     rd_rm),
 cCL(cosdp,	e9081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(cosdm,	e9081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(cosdz,	e9081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(cose,	e988100, 2, (RF, RF_IF),     rd_rm),
 cCL(cosep,	e988120, 2, (RF, RF_IF),     rd_rm),
 cCL(cosem,	e988140, 2, (RF, RF_IF),     rd_rm),
 cCL(cosez,	e988160, 2, (RF, RF_IF),     rd_rm),

 cCL(tans,	ea08100, 2, (RF, RF_IF),     rd_rm),
 cCL(tansp,	ea08120, 2, (RF, RF_IF),     rd_rm),
 cCL(tansm,	ea08140, 2, (RF, RF_IF),     rd_rm),
 cCL(tansz,	ea08160, 2, (RF, RF_IF),     rd_rm),
 cCL(tand,	ea08180, 2, (RF, RF_IF),     rd_rm),
 cCL(tandp,	ea081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(tandm,	ea081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(tandz,	ea081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(tane,	ea88100, 2, (RF, RF_IF),     rd_rm),
 cCL(tanep,	ea88120, 2, (RF, RF_IF),     rd_rm),
 cCL(tanem,	ea88140, 2, (RF, RF_IF),     rd_rm),
 cCL(tanez,	ea88160, 2, (RF, RF_IF),     rd_rm),

 cCL(asns,	eb08100, 2, (RF, RF_IF),     rd_rm),
 cCL(asnsp,	eb08120, 2, (RF, RF_IF),     rd_rm),
 cCL(asnsm,	eb08140, 2, (RF, RF_IF),     rd_rm),
 cCL(asnsz,	eb08160, 2, (RF, RF_IF),     rd_rm),
 cCL(asnd,	eb08180, 2, (RF, RF_IF),     rd_rm),
 cCL(asndp,	eb081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(asndm,	eb081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(asndz,	eb081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(asne,	eb88100, 2, (RF, RF_IF),     rd_rm),
 cCL(asnep,	eb88120, 2, (RF, RF_IF),     rd_rm),
 cCL(asnem,	eb88140, 2, (RF, RF_IF),     rd_rm),
 cCL(asnez,	eb88160, 2, (RF, RF_IF),     rd_rm),

 cCL(acss,	ec08100, 2, (RF, RF_IF),     rd_rm),
 cCL(acssp,	ec08120, 2, (RF, RF_IF),     rd_rm),
 cCL(acssm,	ec08140, 2, (RF, RF_IF),     rd_rm),
 cCL(acssz,	ec08160, 2, (RF, RF_IF),     rd_rm),
 cCL(acsd,	ec08180, 2, (RF, RF_IF),     rd_rm),
 cCL(acsdp,	ec081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(acsdm,	ec081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(acsdz,	ec081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(acse,	ec88100, 2, (RF, RF_IF),     rd_rm),
 cCL(acsep,	ec88120, 2, (RF, RF_IF),     rd_rm),
 cCL(acsem,	ec88140, 2, (RF, RF_IF),     rd_rm),
 cCL(acsez,	ec88160, 2, (RF, RF_IF),     rd_rm),

 cCL(atns,	ed08100, 2, (RF, RF_IF),     rd_rm),
 cCL(atnsp,	ed08120, 2, (RF, RF_IF),     rd_rm),
 cCL(atnsm,	ed08140, 2, (RF, RF_IF),     rd_rm),
 cCL(atnsz,	ed08160, 2, (RF, RF_IF),     rd_rm),
 cCL(atnd,	ed08180, 2, (RF, RF_IF),     rd_rm),
 cCL(atndp,	ed081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(atndm,	ed081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(atndz,	ed081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(atne,	ed88100, 2, (RF, RF_IF),     rd_rm),
 cCL(atnep,	ed88120, 2, (RF, RF_IF),     rd_rm),
 cCL(atnem,	ed88140, 2, (RF, RF_IF),     rd_rm),
 cCL(atnez,	ed88160, 2, (RF, RF_IF),     rd_rm),

 cCL(urds,	ee08100, 2, (RF, RF_IF),     rd_rm),
 cCL(urdsp,	ee08120, 2, (RF, RF_IF),     rd_rm),
 cCL(urdsm,	ee08140, 2, (RF, RF_IF),     rd_rm),
 cCL(urdsz,	ee08160, 2, (RF, RF_IF),     rd_rm),
 cCL(urdd,	ee08180, 2, (RF, RF_IF),     rd_rm),
 cCL(urddp,	ee081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(urddm,	ee081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(urddz,	ee081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(urde,	ee88100, 2, (RF, RF_IF),     rd_rm),
 cCL(urdep,	ee88120, 2, (RF, RF_IF),     rd_rm),
 cCL(urdem,	ee88140, 2, (RF, RF_IF),     rd_rm),
 cCL(urdez,	ee88160, 2, (RF, RF_IF),     rd_rm),

 cCL(nrms,	ef08100, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmsp,	ef08120, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmsm,	ef08140, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmsz,	ef08160, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmd,	ef08180, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmdp,	ef081a0, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmdm,	ef081c0, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmdz,	ef081e0, 2, (RF, RF_IF),     rd_rm),
 cCL(nrme,	ef88100, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmep,	ef88120, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmem,	ef88140, 2, (RF, RF_IF),     rd_rm),
 cCL(nrmez,	ef88160, 2, (RF, RF_IF),     rd_rm),

 cCL(adfs,	e000100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfsp,	e000120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfsm,	e000140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfsz,	e000160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfd,	e000180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfdp,	e0001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfdm,	e0001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfdz,	e0001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfe,	e080100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfep,	e080120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfem,	e080140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(adfez,	e080160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(sufs,	e200100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufsp,	e200120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufsm,	e200140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufsz,	e200160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufd,	e200180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufdp,	e2001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufdm,	e2001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufdz,	e2001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufe,	e280100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufep,	e280120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufem,	e280140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(sufez,	e280160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(rsfs,	e300100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfsp,	e300120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfsm,	e300140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfsz,	e300160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfd,	e300180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfdp,	e3001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfdm,	e3001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfdz,	e3001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfe,	e380100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfep,	e380120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfem,	e380140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rsfez,	e380160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(mufs,	e100100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufsp,	e100120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufsm,	e100140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufsz,	e100160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufd,	e100180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufdp,	e1001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufdm,	e1001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufdz,	e1001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufe,	e180100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufep,	e180120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufem,	e180140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(mufez,	e180160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(dvfs,	e400100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfsp,	e400120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfsm,	e400140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfsz,	e400160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfd,	e400180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfdp,	e4001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfdm,	e4001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfdz,	e4001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfe,	e480100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfep,	e480120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfem,	e480140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(dvfez,	e480160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(rdfs,	e500100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfsp,	e500120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfsm,	e500140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfsz,	e500160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfd,	e500180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfdp,	e5001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfdm,	e5001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfdz,	e5001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfe,	e580100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfep,	e580120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfem,	e580140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rdfez,	e580160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(pows,	e600100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powsp,	e600120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powsm,	e600140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powsz,	e600160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powd,	e600180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powdp,	e6001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powdm,	e6001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powdz,	e6001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powe,	e680100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powep,	e680120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powem,	e680140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(powez,	e680160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(rpws,	e700100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwsp,	e700120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwsm,	e700140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwsz,	e700160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwd,	e700180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwdp,	e7001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwdm,	e7001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwdz,	e7001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwe,	e780100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwep,	e780120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwem,	e780140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rpwez,	e780160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(rmfs,	e800100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfsp,	e800120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfsm,	e800140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfsz,	e800160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfd,	e800180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfdp,	e8001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfdm,	e8001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfdz,	e8001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfe,	e880100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfep,	e880120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfem,	e880140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(rmfez,	e880160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(fmls,	e900100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmlsp,	e900120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmlsm,	e900140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmlsz,	e900160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmld,	e900180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmldp,	e9001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmldm,	e9001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmldz,	e9001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmle,	e980100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmlep,	e980120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmlem,	e980140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fmlez,	e980160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(fdvs,	ea00100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvsp,	ea00120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvsm,	ea00140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvsz,	ea00160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvd,	ea00180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvdp,	ea001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvdm,	ea001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvdz,	ea001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdve,	ea80100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvep,	ea80120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvem,	ea80140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(fdvez,	ea80160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(frds,	eb00100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frdsp,	eb00120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frdsm,	eb00140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frdsz,	eb00160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frdd,	eb00180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frddp,	eb001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frddm,	eb001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frddz,	eb001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frde,	eb80100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frdep,	eb80120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frdem,	eb80140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(frdez,	eb80160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCL(pols,	ec00100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(polsp,	ec00120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(polsm,	ec00140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(polsz,	ec00160, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(pold,	ec00180, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(poldp,	ec001a0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(poldm,	ec001c0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(poldz,	ec001e0, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(pole,	ec80100, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(polep,	ec80120, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(polem,	ec80140, 3, (RF, RF, RF_IF), rd_rn_rm),
 cCL(polez,	ec80160, 3, (RF, RF, RF_IF), rd_rn_rm),

 cCE(cmf,	e90f110, 2, (RF, RF_IF),     fpa_cmp),
 C3E(cmfe,	ed0f110, 2, (RF, RF_IF),     fpa_cmp),
 cCE(cnf,	eb0f110, 2, (RF, RF_IF),     fpa_cmp),
 C3E(cnfe,	ef0f110, 2, (RF, RF_IF),     fpa_cmp),

 cCL(flts,	e000110, 2, (RF, RR),	     rn_rd),
 cCL(fltsp,	e000130, 2, (RF, RR),	     rn_rd),
 cCL(fltsm,	e000150, 2, (RF, RR),	     rn_rd),
 cCL(fltsz,	e000170, 2, (RF, RR),	     rn_rd),
 cCL(fltd,	e000190, 2, (RF, RR),	     rn_rd),
 cCL(fltdp,	e0001b0, 2, (RF, RR),	     rn_rd),
 cCL(fltdm,	e0001d0, 2, (RF, RR),	     rn_rd),
 cCL(fltdz,	e0001f0, 2, (RF, RR),	     rn_rd),
 cCL(flte,	e080110, 2, (RF, RR),	     rn_rd),
 cCL(fltep,	e080130, 2, (RF, RR),	     rn_rd),
 cCL(fltem,	e080150, 2, (RF, RR),	     rn_rd),
 cCL(fltez,	e080170, 2, (RF, RR),	     rn_rd),

  /* The implementation of the FIX instruction is broken on some
     assemblers, in that it accepts a precision specifier as well as a
     rounding specifier, despite the fact that this is meaningless.
     To be more compatible, we accept it as well, though of course it
     does not set any bits.  */
 cCE(fix,	e100110, 2, (RR, RF),	     rd_rm),
 cCL(fixp,	e100130, 2, (RR, RF),	     rd_rm),
 cCL(fixm,	e100150, 2, (RR, RF),	     rd_rm),
 cCL(fixz,	e100170, 2, (RR, RF),	     rd_rm),
 cCL(fixsp,	e100130, 2, (RR, RF),	     rd_rm),
 cCL(fixsm,	e100150, 2, (RR, RF),	     rd_rm),
 cCL(fixsz,	e100170, 2, (RR, RF),	     rd_rm),
 cCL(fixdp,	e100130, 2, (RR, RF),	     rd_rm),
 cCL(fixdm,	e100150, 2, (RR, RF),	     rd_rm),
 cCL(fixdz,	e100170, 2, (RR, RF),	     rd_rm),
 cCL(fixep,	e100130, 2, (RR, RF),	     rd_rm),
 cCL(fixem,	e100150, 2, (RR, RF),	     rd_rm),
 cCL(fixez,	e100170, 2, (RR, RF),	     rd_rm),

  /* Instructions that were new with the real FPA, call them V2.  */
#undef ARM_VARIANT
#define ARM_VARIANT &fpu_fpa_ext_v2
 cCE(lfm,	c100200, 3, (RF, I4b, ADDR), fpa_ldmstm),
 cCL(lfmfd,	c900200, 3, (RF, I4b, ADDR), fpa_ldmstm),
 cCL(lfmea,	d100200, 3, (RF, I4b, ADDR), fpa_ldmstm),
 cCE(sfm,	c000200, 3, (RF, I4b, ADDR), fpa_ldmstm),
 cCL(sfmfd,	d000200, 3, (RF, I4b, ADDR), fpa_ldmstm),
 cCL(sfmea,	c800200, 3, (RF, I4b, ADDR), fpa_ldmstm),

#undef ARM_VARIANT
#define ARM_VARIANT &fpu_vfp_ext_v1xd  /* VFP V1xD (single precision).  */
  /* Moves and type conversions.  */
 cCE(fcpys,	eb00a40, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(fmrs,	e100a10, 2, (RR, RVS),	      vfp_reg_from_sp),
 cCE(fmsr,	e000a10, 2, (RVS, RR),	      vfp_sp_from_reg),
 cCE(fmstat,	ef1fa10, 0, (),		      noargs),
 cCE(fsitos,	eb80ac0, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(fuitos,	eb80a40, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(ftosis,	ebd0a40, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(ftosizs,	ebd0ac0, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(ftouis,	ebc0a40, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(ftouizs,	ebc0ac0, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(fmrx,	ef00a10, 2, (RR, RVC),	      rd_rn),
 cCE(vmrs,	ef00a10, 2, (APSR_RR, RVC),   vmrs),
 cCE(fmxr,	ee00a10, 2, (RVC, RR),	      rn_rd),
 cCE(vmsr,	ee00a10, 2, (RVC, RR),	      rn_rd),

  /* Memory operations.	 */
 cCE(flds,	d100a00, 2, (RVS, ADDRGLDC),  vfp_sp_ldst),
 cCE(fsts,	d000a00, 2, (RVS, ADDRGLDC),  vfp_sp_ldst),
 cCE(fldmias,	c900a00, 2, (RRw, VRSLST),    vfp_sp_ldstmia),
 cCE(fldmfds,	c900a00, 2, (RRw, VRSLST),    vfp_sp_ldstmia),
 cCE(fldmdbs,	d300a00, 2, (RRw, VRSLST),    vfp_sp_ldstmdb),
 cCE(fldmeas,	d300a00, 2, (RRw, VRSLST),    vfp_sp_ldstmdb),
 cCE(fldmiax,	c900b00, 2, (RRw, VRDLST),    vfp_xp_ldstmia),
 cCE(fldmfdx,	c900b00, 2, (RRw, VRDLST),    vfp_xp_ldstmia),
 cCE(fldmdbx,	d300b00, 2, (RRw, VRDLST),    vfp_xp_ldstmdb),
 cCE(fldmeax,	d300b00, 2, (RRw, VRDLST),    vfp_xp_ldstmdb),
 cCE(fstmias,	c800a00, 2, (RRw, VRSLST),    vfp_sp_ldstmia),
 cCE(fstmeas,	c800a00, 2, (RRw, VRSLST),    vfp_sp_ldstmia),
 cCE(fstmdbs,	d200a00, 2, (RRw, VRSLST),    vfp_sp_ldstmdb),
 cCE(fstmfds,	d200a00, 2, (RRw, VRSLST),    vfp_sp_ldstmdb),
 cCE(fstmiax,	c800b00, 2, (RRw, VRDLST),    vfp_xp_ldstmia),
 cCE(fstmeax,	c800b00, 2, (RRw, VRDLST),    vfp_xp_ldstmia),
 cCE(fstmdbx,	d200b00, 2, (RRw, VRDLST),    vfp_xp_ldstmdb),
 cCE(fstmfdx,	d200b00, 2, (RRw, VRDLST),    vfp_xp_ldstmdb),

  /* Monadic operations.  */
 cCE(fabss,	eb00ac0, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(fnegs,	eb10a40, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(fsqrts,	eb10ac0, 2, (RVS, RVS),	      vfp_sp_monadic),

  /* Dyadic operations.	 */
 cCE(fadds,	e300a00, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fsubs,	e300a40, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fmuls,	e200a00, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fdivs,	e800a00, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fmacs,	e000a00, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(ffmacs,	ea00a00, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fmscs,	e100a00, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fnmuls,	e200a40, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fnmacs,	e000a40, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fnfmacs,	ea00a40, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(fnmscs,	e100a40, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(ffnmas,	e900a40, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),
 cCE(ffnmss,	e900a00, 3, (RVS, RVS, RVS),  vfp_sp_dyadic),

  /* Comparisons.  */
 cCE(fcmps,	eb40a40, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(fcmpzs,	eb50a40, 1, (RVS),	      vfp_sp_compare_z),
 cCE(fcmpes,	eb40ac0, 2, (RVS, RVS),	      vfp_sp_monadic),
 cCE(fcmpezs,	eb50ac0, 1, (RVS),	      vfp_sp_compare_z),

#undef ARM_VARIANT
#define ARM_VARIANT &fpu_vfp_ext_v1 /* VFP V1 (Double precision).  */
  /* Moves and type conversions.  */
 cCE(fcpyd,	eb00b40, 2, (RVD, RVD),	      vfp_dp_rd_rm),
 cCE(fcvtds,	eb70ac0, 2, (RVD, RVS),	      vfp_dp_sp_cvt),
 cCE(fcvtsd,	eb70bc0, 2, (RVS, RVD),	      vfp_sp_dp_cvt),
 cCE(fmdhr,	e200b10, 2, (RVD, RR),	      vfp_dp_rn_rd),
 cCE(fmdlr,	e000b10, 2, (RVD, RR),	      vfp_dp_rn_rd),
 cCE(fmrdh,	e300b10, 2, (RR, RVD),	      vfp_dp_rd_rn),
 cCE(fmrdl,	e100b10, 2, (RR, RVD),	      vfp_dp_rd_rn),
 cCE(fsitod,	eb80bc0, 2, (RVD, RVS),	      vfp_dp_sp_cvt),
 cCE(fuitod,	eb80b40, 2, (RVD, RVS),	      vfp_dp_sp_cvt),
 cCE(ftosid,	ebd0b40, 2, (RVS, RVD),	      vfp_sp_dp_cvt),
 cCE(ftosizd,	ebd0bc0, 2, (RVS, RVD),	      vfp_sp_dp_cvt),
 cCE(ftouid,	ebc0b40, 2, (RVS, RVD),	      vfp_sp_dp_cvt),
 cCE(ftouizd,	ebc0bc0, 2, (RVS, RVD),	      vfp_sp_dp_cvt),
 cCE(fcvtshp,	0b60700, 2, (RNQ, RVD),	      vfp_sp_hp_cvt),
 cCE(fcvthps,	0b60600, 2, (RVD, RNQ),	      vfp_hp_sp_cvt),
 cCE(fcvttshp,	eb30ac0, 2, (RVS, RVS),	      vfp_t_sp_hp_cvt),
 cCE(fcvtbshp,	eb30a40, 2, (RVS, RVS),	      vfp_b_sp_hp_cvt),
 cCE(fcvtthps,	eb20ac0, 2, (RVS, RVS),	      vfp_t_hp_sp_cvt),
 cCE(fcvtbhps,	eb20a40, 2, (RVS, RVS),	      vfp_b_hp_sp_cvt),

  /* Memory operations.	 */
 cCE(fldd,	d100b00, 2, (RVD, ADDRGLDC),  vfp_dp_ldst),
 cCE(fstd,	d000b00, 2, (RVD, ADDRGLDC),  vfp_dp_ldst),
 cCE(fldmiad,	c900b00, 2, (RRw, VRDLST),    vfp_dp_ldstmia),
 cCE(fldmfdd,	c900b00, 2, (RRw, VRDLST),    vfp_dp_ldstmia),
 cCE(fldmdbd,	d300b00, 2, (RRw, VRDLST),    vfp_dp_ldstmdb),
 cCE(fldmead,	d300b00, 2, (RRw, VRDLST),    vfp_dp_ldstmdb),
 cCE(fstmiad,	c800b00, 2, (RRw, VRDLST),    vfp_dp_ldstmia),
 cCE(fstmead,	c800b00, 2, (RRw, VRDLST),    vfp_dp_ldstmia),
 cCE(fstmdbd,	d200b00, 2, (RRw, VRDLST),    vfp_dp_ldstmdb),
 cCE(fstmfdd,	d200b00, 2, (RRw, VRDLST),    vfp_dp_ldstmdb),

  /* Monadic operations.  */
 cCE(fabsd,	eb00bc0, 2, (RVD, RVD),	      vfp_dp_rd_rm),
 cCE(fnegd,	eb10b40, 2, (RVD, RVD),	      vfp_dp_rd_rm),
 cCE(fsqrtd,	eb10bc0, 2, (RVD, RVD),	      vfp_dp_rd_rm),

  /* Dyadic operations.	 */
 cCE(faddd,	e300b00, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fsubd,	e300b40, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fmuld,	e200b00, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fdivd,	e800b00, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fmacd,	e000b00, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(ffmacd,	ea00b00, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fmscd,	e100b00, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fnmuld,	e200b40, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fnmacd,	e000b40, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fnfmacd,	ea00b40, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(fnmscd,	e100b40, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(ffnmad,	e900b40, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),
 cCE(ffnmsd,	e900b00, 3, (RVD, RVD, RVD),  vfp_dp_rd_rn_rm),

  /* Comparisons.  */
 cCE(fcmpd,	eb40b40, 2, (RVD, RVD),	      vfp_dp_rd_rm),
 cCE(fcmpzd,	eb50b40, 1, (RVD),	      vfp_dp_rd),
 cCE(fcmped,	eb40bc0, 2, (RVD, RVD),	      vfp_dp_rd_rm),
 cCE(fcmpezd,	eb50bc0, 1, (RVD),	      vfp_dp_rd),

#undef ARM_VARIANT
#define ARM_VARIANT &fpu_vfp_ext_v2
 cCE(fmsrr,	c400a10, 3, (VRSLST, RR, RR), vfp_sp2_from_reg2),
 cCE(fmrrs,	c500a10, 3, (RR, RR, VRSLST), vfp_reg2_from_sp2),
 cCE(fmdrr,	c400b10, 3, (RVD, RR, RR),    vfp_dp_rm_rd_rn),
 cCE(fmrrd,	c500b10, 3, (RR, RR, RVD),    vfp_dp_rd_rn_rm),

/* Instructions which may belong to either the Neon or VFP instruction sets.
   Individual encoder functions perform additional architecture checks.  */
#undef ARM_VARIANT
#define ARM_VARIANT &fpu_vfp_ext_v1xd
#undef THUMB_VARIANT
#define THUMB_VARIANT &fpu_vfp_ext_v1xd
  /* These mnemonics are unique to VFP.  */
 NCE(vsqrt,     0,       2, (RVSD, RVSD),       vfp_nsyn_sqrt),
 NCE(vdiv,      0,       3, (RVSD, RVSD, RVSD), vfp_nsyn_div),
 nCE(vnmul,     vnmul,   3, (RVSD, RVSD, RVSD), vfp_nsyn_nmul),
 nCE(vnmla,     vnmla,   3, (RVSD, RVSD, RVSD), vfp_nsyn_nmul),
 nCE(vnmls,     vnmls,   3, (RVSD, RVSD, RVSD), vfp_nsyn_nmul),
 nCE(vcmp,      vcmp,    2, (RVSD, RVSD_I0),    vfp_nsyn_cmp),
 nCE(vcmpe,     vcmpe,   2, (RVSD, RVSD_I0),    vfp_nsyn_cmp),
 NCE(vpush,     0,       1, (VRSDLST),          vfp_nsyn_push),
 NCE(vpop,      0,       1, (VRSDLST),          vfp_nsyn_pop),
 NCE(vcvtr,     0,       2, (RVSD, RVSD),       vfp_nsyn_cvtr),
 NCE(vfnma,     0,       3, (RVSD, RVSD, RVSD), vfp_nsyn_fnma),
 NCE(vfnms,     0,       3, (RVSD, RVSD, RVSD), vfp_nsyn_fnms),

  /* Mnemonics shared by Neon and VFP.  */
 nCEF(vfma,     vfma,    3, (RNSDQ, oRNSDQ, RNSDQ_RNSC), neon_fma),
 nCEF(vfms,     vfms,    3, (RNSDQ, oRNSDQ, RNSDQ_RNSC), neon_fma),

 nCEF(vmul,     vmul,    3, (RNSDQ, oRNSDQ, RNSDQ_RNSC), neon_mul),
 nCEF(vmla,     vmla,    3, (RNSDQ, oRNSDQ, RNSDQ_RNSC), neon_mac_maybe_scalar),
 nCEF(vmls,     vmls,    3, (RNSDQ, oRNSDQ, RNSDQ_RNSC), neon_mac_maybe_scalar),

 nCEF(vadd,     vadd,    3, (RNSDQ, oRNSDQ, RNSDQ), neon_addsub_if_i),
 nCEF(vsub,     vsub,    3, (RNSDQ, oRNSDQ, RNSDQ), neon_addsub_if_i),

 NCEF(vabs,     1b10300, 2, (RNSDQ, RNSDQ), neon_abs_neg),
 NCEF(vneg,     1b10380, 2, (RNSDQ, RNSDQ), neon_abs_neg),

 NCE(vldm,      c900b00, 2, (RRw, VRSDLST), neon_ldm_stm),
 NCE(vldmia,    c900b00, 2, (RRw, VRSDLST), neon_ldm_stm),
 NCE(vldmdb,    d100b00, 2, (RRw, VRSDLST), neon_ldm_stm),
 NCE(vstm,      c800b00, 2, (RRw, VRSDLST), neon_ldm_stm),
 NCE(vstmia,    c800b00, 2, (RRw, VRSDLST), neon_ldm_stm),
 NCE(vstmdb,    d000b00, 2, (RRw, VRSDLST), neon_ldm_stm),
 NCE(vldr,      d100b00, 2, (RVSD, ADDRGLDC), neon_ldr_str),
 NCE(vstr,      d000b00, 2, (RVSD, ADDRGLDC), neon_ldr_str),

 nCEF(vcvt,     vcvt,    3, (RNSDQ, RNSDQ, oI32b), neon_cvt),
 nCEF(vcvtt,    vcvtt,   2, (RVS, RVS), neon_cvtt),
 nCEF(vcvtb,    vcvtt,   2, (RVS, RVS), neon_cvtb),

  /* NOTE: All VMOV encoding is special-cased!  */
 NCE(vmov,      0,       1, (VMOV), neon_mov),
 NCE(vmovq,     0,       1, (VMOV), neon_mov),

#undef THUMB_VARIANT
#define THUMB_VARIANT &fpu_neon_ext_v1
#undef ARM_VARIANT
#define ARM_VARIANT &fpu_neon_ext_v1
  /* Data processing with three registers of the same length.  */
  /* integer ops, valid types S8 S16 S32 U8 U16 U32.  */
 NUF(vaba,      0000710, 3, (RNDQ, RNDQ,  RNDQ), neon_dyadic_i_su),
 NUF(vabaq,     0000710, 3, (RNQ,  RNQ,   RNQ),  neon_dyadic_i_su),
 NUF(vhadd,     0000000, 3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_i_su),
 NUF(vhaddq,    0000000, 3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_i_su),
 NUF(vrhadd,    0000100, 3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_i_su),
 NUF(vrhaddq,   0000100, 3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_i_su),
 NUF(vhsub,     0000200, 3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_i_su),
 NUF(vhsubq,    0000200, 3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_i_su),
  /* integer ops, valid types S8 S16 S32 S64 U8 U16 U32 U64.  */
 NUF(vqadd,     0000010, 3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_i64_su),
 NUF(vqaddq,    0000010, 3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_i64_su),
 NUF(vqsub,     0000210, 3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_i64_su),
 NUF(vqsubq,    0000210, 3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_i64_su),
 NUF(vrshl,     0000500, 3, (RNDQ, oRNDQ, RNDQ), neon_rshl),
 NUF(vrshlq,    0000500, 3, (RNQ,  oRNQ,  RNQ),  neon_rshl),
 NUF(vqrshl,    0000510, 3, (RNDQ, oRNDQ, RNDQ), neon_rshl),
 NUF(vqrshlq,   0000510, 3, (RNQ,  oRNQ,  RNQ),  neon_rshl),
  /* If not immediate, fall back to neon_dyadic_i64_su.
     shl_imm should accept I8 I16 I32 I64,
     qshl_imm should accept S8 S16 S32 S64 U8 U16 U32 U64.  */
 nUF(vshl,      vshl,    3, (RNDQ, oRNDQ, RNDQ_I63b), neon_shl_imm),
 nUF(vshlq,     vshl,    3, (RNQ,  oRNQ,  RNDQ_I63b), neon_shl_imm),
 nUF(vqshl,     vqshl,   3, (RNDQ, oRNDQ, RNDQ_I63b), neon_qshl_imm),
 nUF(vqshlq,    vqshl,   3, (RNQ,  oRNQ,  RNDQ_I63b), neon_qshl_imm),
  /* Logic ops, types optional & ignored.  */
 nUF(vand,      vand,    2, (RNDQ, NILO),        neon_logic),
 nUF(vandq,     vand,    2, (RNQ,  NILO),        neon_logic),
 nUF(vbic,      vbic,    2, (RNDQ, NILO),        neon_logic),
 nUF(vbicq,     vbic,    2, (RNQ,  NILO),        neon_logic),
 nUF(vorr,      vorr,    2, (RNDQ, NILO),        neon_logic),
 nUF(vorrq,     vorr,    2, (RNQ,  NILO),        neon_logic),
 nUF(vorn,      vorn,    2, (RNDQ, NILO),        neon_logic),
 nUF(vornq,     vorn,    2, (RNQ,  NILO),        neon_logic),
 nUF(veor,      veor,    3, (RNDQ, oRNDQ, RNDQ), neon_logic),
 nUF(veorq,     veor,    3, (RNQ,  oRNQ,  RNQ),  neon_logic),
  /* Bitfield ops, untyped.  */
 NUF(vbsl,      1100110, 3, (RNDQ, RNDQ, RNDQ), neon_bitfield),
 NUF(vbslq,     1100110, 3, (RNQ,  RNQ,  RNQ),  neon_bitfield),
 NUF(vbit,      1200110, 3, (RNDQ, RNDQ, RNDQ), neon_bitfield),
 NUF(vbitq,     1200110, 3, (RNQ,  RNQ,  RNQ),  neon_bitfield),
 NUF(vbif,      1300110, 3, (RNDQ, RNDQ, RNDQ), neon_bitfield),
 NUF(vbifq,     1300110, 3, (RNQ,  RNQ,  RNQ),  neon_bitfield),
  /* Int and float variants, types S8 S16 S32 U8 U16 U32 F32.  */
 nUF(vabd,      vabd,    3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_if_su),
 nUF(vabdq,     vabd,    3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_if_su),
 nUF(vmax,      vmax,    3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_if_su),
 nUF(vmaxq,     vmax,    3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_if_su),
 nUF(vmin,      vmin,    3, (RNDQ, oRNDQ, RNDQ), neon_dyadic_if_su),
 nUF(vminq,     vmin,    3, (RNQ,  oRNQ,  RNQ),  neon_dyadic_if_su),
  /* Comparisons. Types S8 S16 S32 U8 U16 U32 F32. Non-immediate versions fall
     back to neon_dyadic_if_su.  */
 nUF(vcge,      vcge,    3, (RNDQ, oRNDQ, RNDQ_I0), neon_cmp),
 nUF(vcgeq,     vcge,    3, (RNQ,  oRNQ,  RNDQ_I0), neon_cmp),
 nUF(vcgt,      vcgt,    3, (RNDQ, oRNDQ, RNDQ_I0), neon_cmp),
 nUF(vcgtq,     vcgt,    3, (RNQ,  oRNQ,  RNDQ_I0), neon_cmp),
 nUF(vclt,      vclt,    3, (RNDQ, oRNDQ, RNDQ_I0), neon_cmp_inv),
 nUF(vcltq,     vclt,    3, (RNQ,  oRNQ,  RNDQ_I0), neon_cmp_inv),
 nUF(vcle,      vcle,    3, (RNDQ, oRNDQ, RNDQ_I0), neon_cmp_inv),
 nUF(vcleq,     vcle,    3, (RNQ,  oRNQ,  RNDQ_I0), neon_cmp_inv),
  /* Comparison. Type I8 I16 I32 F32.  */
 nUF(vceq,      vceq,    3, (RNDQ, oRNDQ, RNDQ_I0), neon_ceq),
 nUF(vceqq,     vceq,    3, (RNQ,  oRNQ,  RNDQ_I0), neon_ceq),
  /* As above, D registers only.  */
 nUF(vpmax,     vpmax,   3, (RND, oRND, RND), neon_dyadic_if_su_d),
 nUF(vpmin,     vpmin,   3, (RND, oRND, RND), neon_dyadic_if_su_d),
  /* Int and float variants, signedness unimportant.  */
 nUF(vmlaq,     vmla,    3, (RNQ,  oRNQ,  RNDQ_RNSC), neon_mac_maybe_scalar),
 nUF(vmlsq,     vmls,    3, (RNQ,  oRNQ,  RNDQ_RNSC), neon_mac_maybe_scalar),
 nUF(vpadd,     vpadd,   3, (RND,  oRND,  RND),       neon_dyadic_if_i_d),
  /* Add/sub take types I8 I16 I32 I64 F32.  */
 nUF(vaddq,     vadd,    3, (RNQ,  oRNQ,  RNQ),  neon_addsub_if_i),
 nUF(vsubq,     vsub,    3, (RNQ,  oRNQ,  RNQ),  neon_addsub_if_i),
  /* vtst takes sizes 8, 16, 32.  */
 NUF(vtst,      0000810, 3, (RNDQ, oRNDQ, RNDQ), neon_tst),
 NUF(vtstq,     0000810, 3, (RNQ,  oRNQ,  RNQ),  neon_tst),
  /* VMUL takes I8 I16 I32 F32 P8.  */
 nUF(vmulq,     vmul,     3, (RNQ,  oRNQ,  RNDQ_RNSC), neon_mul),
  /* VQD{R}MULH takes S16 S32.  */
 nUF(vqdmulh,   vqdmulh,  3, (RNDQ, oRNDQ, RNDQ_RNSC), neon_qdmulh),
 nUF(vqdmulhq,  vqdmulh,  3, (RNQ,  oRNQ,  RNDQ_RNSC), neon_qdmulh),
 nUF(vqrdmulh,  vqrdmulh, 3, (RNDQ, oRNDQ, RNDQ_RNSC), neon_qdmulh),
 nUF(vqrdmulhq, vqrdmulh, 3, (RNQ,  oRNQ,  RNDQ_RNSC), neon_qdmulh),
 NUF(vacge,     0000e10,  3, (RNDQ, oRNDQ, RNDQ), neon_fcmp_absolute),
 NUF(vacgeq,    0000e10,  3, (RNQ,  oRNQ,  RNQ),  neon_fcmp_absolute),
 NUF(vacgt,     0200e10,  3, (RNDQ, oRNDQ, RNDQ), neon_fcmp_absolute),
 NUF(vacgtq,    0200e10,  3, (RNQ,  oRNQ,  RNQ),  neon_fcmp_absolute),
 NUF(vaclt,     0200e10,  3, (RNDQ, oRNDQ, RNDQ), neon_fcmp_absolute_inv),
 NUF(vacltq,    0200e10,  3, (RNQ,  oRNQ,  RNQ),  neon_fcmp_absolute_inv),
 NUF(vacle,     0000e10,  3, (RNDQ, oRNDQ, RNDQ), neon_fcmp_absolute_inv),
 NUF(vacleq,    0000e10,  3, (RNQ,  oRNQ,  RNQ),  neon_fcmp_absolute_inv),
 NUF(vrecps,    0000f10,  3, (RNDQ, oRNDQ, RNDQ), neon_step),
 NUF(vrecpsq,   0000f10,  3, (RNQ,  oRNQ,  RNQ),  neon_step),
 NUF(vrsqrts,   0200f10,  3, (RNDQ, oRNDQ, RNDQ), neon_step),
 NUF(vrsqrtsq,  0200f10,  3, (RNQ,  oRNQ,  RNQ),  neon_step),

  /* Two address, int/float. Types S8 S16 S32 F32.  */
 NUF(vabsq,     1b10300, 2, (RNQ,  RNQ),      neon_abs_neg),
 NUF(vnegq,     1b10380, 2, (RNQ,  RNQ),      neon_abs_neg),

  /* Data processing with two registers and a shift amount.  */
  /* Right shifts, and variants with rounding.
     Types accepted S8 S16 S32 S64 U8 U16 U32 U64.  */
 NUF(vshr,      0800010, 3, (RNDQ, oRNDQ, I64z), neon_rshift_round_imm),
 NUF(vshrq,     0800010, 3, (RNQ,  oRNQ,  I64z), neon_rshift_round_imm),
 NUF(vrshr,     0800210, 3, (RNDQ, oRNDQ, I64z), neon_rshift_round_imm),
 NUF(vrshrq,    0800210, 3, (RNQ,  oRNQ,  I64z), neon_rshift_round_imm),
 NUF(vsra,      0800110, 3, (RNDQ, oRNDQ, I64),  neon_rshift_round_imm),
 NUF(vsraq,     0800110, 3, (RNQ,  oRNQ,  I64),  neon_rshift_round_imm),
 NUF(vrsra,     0800310, 3, (RNDQ, oRNDQ, I64),  neon_rshift_round_imm),
 NUF(vrsraq,    0800310, 3, (RNQ,  oRNQ,  I64),  neon_rshift_round_imm),
  /* Shift and insert. Sizes accepted 8 16 32 64.  */
 NUF(vsli,      1800510, 3, (RNDQ, oRNDQ, I63), neon_sli),
 NUF(vsliq,     1800510, 3, (RNQ,  oRNQ,  I63), neon_sli),
 NUF(vsri,      1800410, 3, (RNDQ, oRNDQ, I64), neon_sri),
 NUF(vsriq,     1800410, 3, (RNQ,  oRNQ,  I64), neon_sri),
  /* QSHL{U} immediate accepts S8 S16 S32 S64 U8 U16 U32 U64.  */
 NUF(vqshlu,    1800610, 3, (RNDQ, oRNDQ, I63), neon_qshlu_imm),
 NUF(vqshluq,   1800610, 3, (RNQ,  oRNQ,  I63), neon_qshlu_imm),
  /* Right shift immediate, saturating & narrowing, with rounding variants.
     Types accepted S16 S32 S64 U16 U32 U64.  */
 NUF(vqshrn,    0800910, 3, (RND, RNQ, I32z), neon_rshift_sat_narrow),
 NUF(vqrshrn,   0800950, 3, (RND, RNQ, I32z), neon_rshift_sat_narrow),
  /* As above, unsigned. Types accepted S16 S32 S64.  */
 NUF(vqshrun,   0800810, 3, (RND, RNQ, I32z), neon_rshift_sat_narrow_u),
 NUF(vqrshrun,  0800850, 3, (RND, RNQ, I32z), neon_rshift_sat_narrow_u),
  /* Right shift narrowing. Types accepted I16 I32 I64.  */
 NUF(vshrn,     0800810, 3, (RND, RNQ, I32z), neon_rshift_narrow),
 NUF(vrshrn,    0800850, 3, (RND, RNQ, I32z), neon_rshift_narrow),
  /* Special case. Types S8 S16 S32 U8 U16 U32. Handles max shift variant.  */
 nUF(vshll,     vshll,   3, (RNQ, RND, I32),  neon_shll),
  /* CVT with optional immediate for fixed-point variant.  */
 nUF(vcvtq,     vcvt,    3, (RNQ, RNQ, oI32b), neon_cvt),

 nUF(vmvn,      vmvn,    2, (RNDQ, RNDQ_IMVNb), neon_mvn),
 nUF(vmvnq,     vmvn,    2, (RNQ,  RNDQ_IMVNb), neon_mvn),

  /* Data processing, three registers of different lengths.  */
  /* Dyadic, long insns. Types S8 S16 S32 U8 U16 U32.  */
 NUF(vabal,     0800500, 3, (RNQ, RND, RND),  neon_abal),
 NUF(vabdl,     0800700, 3, (RNQ, RND, RND),  neon_dyadic_long),
 NUF(vaddl,     0800000, 3, (RNQ, RND, RND),  neon_dyadic_long),
 NUF(vsubl,     0800200, 3, (RNQ, RND, RND),  neon_dyadic_long),
  /* If not scalar, fall back to neon_dyadic_long.
     Vector types as above, scalar types S16 S32 U16 U32.  */
 nUF(vmlal,     vmlal,   3, (RNQ, RND, RND_RNSC), neon_mac_maybe_scalar_long),
 nUF(vmlsl,     vmlsl,   3, (RNQ, RND, RND_RNSC), neon_mac_maybe_scalar_long),
  /* Dyadic, widening insns. Types S8 S16 S32 U8 U16 U32.  */
 NUF(vaddw,     0800100, 3, (RNQ, oRNQ, RND), neon_dyadic_wide),
 NUF(vsubw,     0800300, 3, (RNQ, oRNQ, RND), neon_dyadic_wide),
  /* Dyadic, narrowing insns. Types I16 I32 I64.  */
 NUF(vaddhn,    0800400, 3, (RND, RNQ, RNQ),  neon_dyadic_narrow),
 NUF(vraddhn,   1800400, 3, (RND, RNQ, RNQ),  neon_dyadic_narrow),
 NUF(vsubhn,    0800600, 3, (RND, RNQ, RNQ),  neon_dyadic_narrow),
 NUF(vrsubhn,   1800600, 3, (RND, RNQ, RNQ),  neon_dyadic_narrow),
  /* Saturating doubling multiplies. Types S16 S32.  */
 nUF(vqdmlal,   vqdmlal, 3, (RNQ, RND, RND_RNSC), neon_mul_sat_scalar_long),
 nUF(vqdmlsl,   vqdmlsl, 3, (RNQ, RND, RND_RNSC), neon_mul_sat_scalar_long),
 nUF(vqdmull,   vqdmull, 3, (RNQ, RND, RND_RNSC), neon_mul_sat_scalar_long),
  /* VMULL. Vector types S8 S16 S32 U8 U16 U32 P8, scalar types
     S16 S32 U16 U32.  */
 nUF(vmull,     vmull,   3, (RNQ, RND, RND_RNSC), neon_vmull),

  /* Extract. Size 8.  */
 NUF(vext,      0b00000, 4, (RNDQ, oRNDQ, RNDQ, I15), neon_ext),
 NUF(vextq,     0b00000, 4, (RNQ,  oRNQ,  RNQ,  I15), neon_ext),

  /* Two registers, miscellaneous.  */
  /* Reverse. Sizes 8 16 32 (must be < size in opcode).  */
 NUF(vrev64,    1b00000, 2, (RNDQ, RNDQ),     neon_rev),
 NUF(vrev64q,   1b00000, 2, (RNQ,  RNQ),      neon_rev),
 NUF(vrev32,    1b00080, 2, (RNDQ, RNDQ),     neon_rev),
 NUF(vrev32q,   1b00080, 2, (RNQ,  RNQ),      neon_rev),
 NUF(vrev16,    1b00100, 2, (RNDQ, RNDQ),     neon_rev),
 NUF(vrev16q,   1b00100, 2, (RNQ,  RNQ),      neon_rev),
  /* Vector replicate. Sizes 8 16 32.  */
 nCE(vdup,      vdup,    2, (RNDQ, RR_RNSC),  neon_dup),
 nCE(vdupq,     vdup,    2, (RNQ,  RR_RNSC),  neon_dup),
  /* VMOVL. Types S8 S16 S32 U8 U16 U32.  */
 NUF(vmovl,     0800a10, 2, (RNQ, RND),       neon_movl),
  /* VMOVN. Types I16 I32 I64.  */
 nUF(vmovn,     vmovn,   2, (RND, RNQ),       neon_movn),
  /* VQMOVN. Types S16 S32 S64 U16 U32 U64.  */
 nUF(vqmovn,    vqmovn,  2, (RND, RNQ),       neon_qmovn),
  /* VQMOVUN. Types S16 S32 S64.  */
 nUF(vqmovun,   vqmovun, 2, (RND, RNQ),       neon_qmovun),
  /* VZIP / VUZP. Sizes 8 16 32.  */
 NUF(vzip,      1b20180, 2, (RNDQ, RNDQ),     neon_zip_uzp),
 NUF(vzipq,     1b20180, 2, (RNQ,  RNQ),      neon_zip_uzp),
 NUF(vuzp,      1b20100, 2, (RNDQ, RNDQ),     neon_zip_uzp),
 NUF(vuzpq,     1b20100, 2, (RNQ,  RNQ),      neon_zip_uzp),
  /* VQABS / VQNEG. Types S8 S16 S32.  */
 NUF(vqabs,     1b00700, 2, (RNDQ, RNDQ),     neon_sat_abs_neg),
 NUF(vqabsq,    1b00700, 2, (RNQ,  RNQ),      neon_sat_abs_neg),
 NUF(vqneg,     1b00780, 2, (RNDQ, RNDQ),     neon_sat_abs_neg),
 NUF(vqnegq,    1b00780, 2, (RNQ,  RNQ),      neon_sat_abs_neg),
  /* Pairwise, lengthening. Types S8 S16 S32 U8 U16 U32.  */
 NUF(vpadal,    1b00600, 2, (RNDQ, RNDQ),     neon_pair_long),
 NUF(vpadalq,   1b00600, 2, (RNQ,  RNQ),      neon_pair_long),
 NUF(vpaddl,    1b00200, 2, (RNDQ, RNDQ),     neon_pair_long),
 NUF(vpaddlq,   1b00200, 2, (RNQ,  RNQ),      neon_pair_long),
  /* Reciprocal estimates. Types U32 F32.  */
 NUF(vrecpe,    1b30400, 2, (RNDQ, RNDQ),     neon_recip_est),
 NUF(vrecpeq,   1b30400, 2, (RNQ,  RNQ),      neon_recip_est),
 NUF(vrsqrte,   1b30480, 2, (RNDQ, RNDQ),     neon_recip_est),
 NUF(vrsqrteq,  1b30480, 2, (RNQ,  RNQ),      neon_recip_est),
  /* VCLS. Types S8 S16 S32.  */
 NUF(vcls,      1b00400, 2, (RNDQ, RNDQ),     neon_cls),
 NUF(vclsq,     1b00400, 2, (RNQ,  RNQ),      neon_cls),
  /* VCLZ. Types I8 I16 I32.  */
 NUF(vclz,      1b00480, 2, (RNDQ, RNDQ),     neon_clz),
 NUF(vclzq,     1b00480, 2, (RNQ,  RNQ),      neon_clz),
  /* VCNT. Size 8.  */
 NUF(vcnt,      1b00500, 2, (RNDQ, RNDQ),     neon_cnt),
 NUF(vcntq,     1b00500, 2, (RNQ,  RNQ),      neon_cnt),
  /* Two address, untyped.  */
 NUF(vswp,      1b20000, 2, (RNDQ, RNDQ),     neon_swp),
 NUF(vswpq,     1b20000, 2, (RNQ,  RNQ),      neon_swp),
  /* VTRN. Sizes 8 16 32.  */
 nUF(vtrn,      vtrn,    2, (RNDQ, RNDQ),     neon_trn),
 nUF(vtrnq,     vtrn,    2, (RNQ,  RNQ),      neon_trn),

  /* Table lookup. Size 8.  */
 NUF(vtbl,      1b00800, 3, (RND, NRDLST, RND), neon_tbl_tbx),
 NUF(vtbx,      1b00840, 3, (RND, NRDLST, RND), neon_tbl_tbx),

#undef THUMB_VARIANT
#define THUMB_VARIANT &fpu_vfp_v3_or_neon_ext
#undef ARM_VARIANT
#define ARM_VARIANT &fpu_vfp_v3_or_neon_ext
  /* Neon element/structure load/store.  */
 nUF(vld1,      vld1,    2, (NSTRLST, ADDR),  neon_ldx_stx),
 nUF(vst1,      vst1,    2, (NSTRLST, ADDR),  neon_ldx_stx),
 nUF(vld2,      vld2,    2, (NSTRLST, ADDR),  neon_ldx_stx),
 nUF(vst2,      vst2,    2, (NSTRLST, ADDR),  neon_ldx_stx),
 nUF(vld3,      vld3,    2, (NSTRLST, ADDR),  neon_ldx_stx),
 nUF(vst3,      vst3,    2, (NSTRLST, ADDR),  neon_ldx_stx),
 nUF(vld4,      vld4,    2, (NSTRLST, ADDR),  neon_ldx_stx),
 nUF(vst4,      vst4,    2, (NSTRLST, ADDR),  neon_ldx_stx),

#undef THUMB_VARIANT
#define THUMB_VARIANT &fpu_vfp_ext_v3
#undef ARM_VARIANT
#define ARM_VARIANT &fpu_vfp_ext_v3
 cCE(fconsts,   eb00a00, 2, (RVS, I255),      vfp_sp_const),
 cCE(fconstd,   eb00b00, 2, (RVD, I255),      vfp_dp_const),
 cCE(fshtos,    eba0a40, 2, (RVS, I16z),      vfp_sp_conv_16),
 cCE(fshtod,    eba0b40, 2, (RVD, I16z),      vfp_dp_conv_16),
 cCE(fsltos,    eba0ac0, 2, (RVS, I32),       vfp_sp_conv_32),
 cCE(fsltod,    eba0bc0, 2, (RVD, I32),       vfp_dp_conv_32),
 cCE(fuhtos,    ebb0a40, 2, (RVS, I16z),      vfp_sp_conv_16),
 cCE(fuhtod,    ebb0b40, 2, (RVD, I16z),      vfp_dp_conv_16),
 cCE(fultos,    ebb0ac0, 2, (RVS, I32),       vfp_sp_conv_32),
 cCE(fultod,    ebb0bc0, 2, (RVD, I32),       vfp_dp_conv_32),
 cCE(ftoshs,    ebe0a40, 2, (RVS, I16z),      vfp_sp_conv_16),
 cCE(ftoshd,    ebe0b40, 2, (RVD, I16z),      vfp_dp_conv_16),
 cCE(ftosls,    ebe0ac0, 2, (RVS, I32),       vfp_sp_conv_32),
 cCE(ftosld,    ebe0bc0, 2, (RVD, I32),       vfp_dp_conv_32),
 cCE(ftouhs,    ebf0a40, 2, (RVS, I16z),      vfp_sp_conv_16),
 cCE(ftouhd,    ebf0b40, 2, (RVD, I16z),      vfp_dp_conv_16),
 cCE(ftouls,    ebf0ac0, 2, (RVS, I32),       vfp_sp_conv_32),
 cCE(ftould,    ebf0bc0, 2, (RVD, I32),       vfp_dp_conv_32),

#undef THUMB_VARIANT
#undef ARM_VARIANT
#define ARM_VARIANT &arm_cext_xscale /* Intel XScale extensions.	 */
 cCE(mia,	e200010, 3, (RXA, RRnpc, RRnpc), xsc_mia),
 cCE(miaph,	e280010, 3, (RXA, RRnpc, RRnpc), xsc_mia),
 cCE(miabb,	e2c0010, 3, (RXA, RRnpc, RRnpc), xsc_mia),
 cCE(miabt,	e2d0010, 3, (RXA, RRnpc, RRnpc), xsc_mia),
 cCE(miatb,	e2e0010, 3, (RXA, RRnpc, RRnpc), xsc_mia),
 cCE(miatt,	e2f0010, 3, (RXA, RRnpc, RRnpc), xsc_mia),
 cCE(mar,	c400000, 3, (RXA, RRnpc, RRnpc), xsc_mar),
 cCE(mra,	c500000, 3, (RRnpc, RRnpc, RXA), xsc_mra),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_cext_iwmmxt /* Intel Wireless MMX technology.  */
 cCE(tandcb,	e13f130, 1, (RR),		    iwmmxt_tandorc),
 cCE(tandch,	e53f130, 1, (RR),		    iwmmxt_tandorc),
 cCE(tandcw,	e93f130, 1, (RR),		    iwmmxt_tandorc),
 cCE(tbcstb,	e400010, 2, (RIWR, RR),		    rn_rd),
 cCE(tbcsth,	e400050, 2, (RIWR, RR),		    rn_rd),
 cCE(tbcstw,	e400090, 2, (RIWR, RR),		    rn_rd),
 cCE(textrcb,	e130170, 2, (RR, I7),		    iwmmxt_textrc),
 cCE(textrch,	e530170, 2, (RR, I7),		    iwmmxt_textrc),
 cCE(textrcw,	e930170, 2, (RR, I7),		    iwmmxt_textrc),
 cCE(textrmub,	e100070, 3, (RR, RIWR, I7),	    iwmmxt_textrm),
 cCE(textrmuh,	e500070, 3, (RR, RIWR, I7),	    iwmmxt_textrm),
 cCE(textrmuw,	e900070, 3, (RR, RIWR, I7),	    iwmmxt_textrm),
 cCE(textrmsb,	e100078, 3, (RR, RIWR, I7),	    iwmmxt_textrm),
 cCE(textrmsh,	e500078, 3, (RR, RIWR, I7),	    iwmmxt_textrm),
 cCE(textrmsw,	e900078, 3, (RR, RIWR, I7),	    iwmmxt_textrm),
 cCE(tinsrb,	e600010, 3, (RIWR, RR, I7),	    iwmmxt_tinsr),
 cCE(tinsrh,	e600050, 3, (RIWR, RR, I7),	    iwmmxt_tinsr),
 cCE(tinsrw,	e600090, 3, (RIWR, RR, I7),	    iwmmxt_tinsr),
 cCE(tmcr,	e000110, 2, (RIWC_RIWG, RR),	    rn_rd),
 cCE(tmcrr,	c400000, 3, (RIWR, RR, RR),	    rm_rd_rn),
 cCE(tmia,	e200010, 3, (RIWR, RR, RR),	    iwmmxt_tmia),
 cCE(tmiaph,	e280010, 3, (RIWR, RR, RR),	    iwmmxt_tmia),
 cCE(tmiabb,	e2c0010, 3, (RIWR, RR, RR),	    iwmmxt_tmia),
 cCE(tmiabt,	e2d0010, 3, (RIWR, RR, RR),	    iwmmxt_tmia),
 cCE(tmiatb,	e2e0010, 3, (RIWR, RR, RR),	    iwmmxt_tmia),
 cCE(tmiatt,	e2f0010, 3, (RIWR, RR, RR),	    iwmmxt_tmia),
 cCE(tmovmskb,	e100030, 2, (RR, RIWR),		    rd_rn),
 cCE(tmovmskh,	e500030, 2, (RR, RIWR),		    rd_rn),
 cCE(tmovmskw,	e900030, 2, (RR, RIWR),		    rd_rn),
 cCE(tmrc,	e100110, 2, (RR, RIWC_RIWG),	    rd_rn),
 cCE(tmrrc,	c500000, 3, (RR, RR, RIWR),	    rd_rn_rm),
 cCE(torcb,	e13f150, 1, (RR),		    iwmmxt_tandorc),
 cCE(torch,	e53f150, 1, (RR),		    iwmmxt_tandorc),
 cCE(torcw,	e93f150, 1, (RR),		    iwmmxt_tandorc),
 cCE(waccb,	e0001c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wacch,	e4001c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(waccw,	e8001c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(waddbss,	e300180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddb,	e000180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddbus,	e100180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddhss,	e700180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddh,	e400180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddhus,	e500180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddwss,	eb00180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddw,	e800180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waddwus,	e900180, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(waligni,	e000020, 4, (RIWR, RIWR, RIWR, I7), iwmmxt_waligni),
 cCE(walignr0,	e800020, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(walignr1,	e900020, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(walignr2,	ea00020, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(walignr3,	eb00020, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wand,	e200000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wandn,	e300000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wavg2b,	e800000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wavg2br,	e900000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wavg2h,	ec00000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wavg2hr,	ed00000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpeqb,	e000060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpeqh,	e400060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpeqw,	e800060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpgtub,	e100060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpgtuh,	e500060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpgtuw,	e900060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpgtsb,	e300060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpgtsh,	e700060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wcmpgtsw,	eb00060, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wldrb,	c100000, 2, (RIWR, ADDR),	    iwmmxt_wldstbh),
 cCE(wldrh,	c500000, 2, (RIWR, ADDR),	    iwmmxt_wldstbh),
 cCE(wldrw,	c100100, 2, (RIWR_RIWC, ADDR),	    iwmmxt_wldstw),
 cCE(wldrd,	c500100, 2, (RIWR, ADDR),	    iwmmxt_wldstd),
 cCE(wmacs,	e600100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmacsz,	e700100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmacu,	e400100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmacuz,	e500100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmadds,	ea00100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmaddu,	e800100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmaxsb,	e200160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmaxsh,	e600160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmaxsw,	ea00160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmaxub,	e000160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmaxuh,	e400160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmaxuw,	e800160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wminsb,	e300160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wminsh,	e700160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wminsw,	eb00160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wminub,	e100160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wminuh,	e500160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wminuw,	e900160, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmov,	e000000, 2, (RIWR, RIWR),	    iwmmxt_wmov),
 cCE(wmulsm,	e300100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmulsl,	e200100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmulum,	e100100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wmulul,	e000100, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wor,	e000000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wpackhss,	e700080, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wpackhus,	e500080, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wpackwss,	eb00080, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wpackwus,	e900080, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wpackdss,	ef00080, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wpackdus,	ed00080, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wrorh,	e700040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wrorhg,	e700148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wrorw,	eb00040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wrorwg,	eb00148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wrord,	ef00040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wrordg,	ef00148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsadb,	e000120, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsadbz,	e100120, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsadh,	e400120, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsadhz,	e500120, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wshufh,	e0001e0, 3, (RIWR, RIWR, I255),	    iwmmxt_wshufh),
 cCE(wsllh,	e500040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsllhg,	e500148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsllw,	e900040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsllwg,	e900148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wslld,	ed00040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wslldg,	ed00148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsrah,	e400040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsrahg,	e400148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsraw,	e800040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsrawg,	e800148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsrad,	ec00040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsradg,	ec00148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsrlh,	e600040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsrlhg,	e600148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsrlw,	ea00040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsrlwg,	ea00148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wsrld,	ee00040, 3, (RIWR, RIWR, RIWR_I32z),iwmmxt_wrwrwr_or_imm5),
 cCE(wsrldg,	ee00148, 3, (RIWR, RIWR, RIWG),	    rd_rn_rm),
 cCE(wstrb,	c000000, 2, (RIWR, ADDR),	    iwmmxt_wldstbh),
 cCE(wstrh,	c400000, 2, (RIWR, ADDR),	    iwmmxt_wldstbh),
 cCE(wstrw,	c000100, 2, (RIWR_RIWC, ADDR),	    iwmmxt_wldstw),
 cCE(wstrd,	c400100, 2, (RIWR, ADDR),	    iwmmxt_wldstd),
 cCE(wsubbss,	e3001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubb,	e0001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubbus,	e1001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubhss,	e7001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubh,	e4001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubhus,	e5001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubwss,	eb001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubw,	e8001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wsubwus,	e9001a0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wunpckehub,e0000c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckehuh,e4000c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckehuw,e8000c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckehsb,e2000c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckehsh,e6000c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckehsw,ea000c0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckihb, e1000c0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wunpckihh, e5000c0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wunpckihw, e9000c0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wunpckelub,e0000e0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckeluh,e4000e0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckeluw,e8000e0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckelsb,e2000e0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckelsh,e6000e0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckelsw,ea000e0, 2, (RIWR, RIWR),	    rd_rn),
 cCE(wunpckilb, e1000e0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wunpckilh, e5000e0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wunpckilw, e9000e0, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wxor,	e100000, 3, (RIWR, RIWR, RIWR),	    rd_rn_rm),
 cCE(wzero,	e300000, 1, (RIWR),		    iwmmxt_wzero),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_cext_iwmmxt2 /* Intel Wireless MMX technology, version 2.  */
 cCE(torvscb,   e13f190, 1, (RR),		    iwmmxt_tandorc),
 cCE(torvsch,   e53f190, 1, (RR),		    iwmmxt_tandorc),
 cCE(torvscw,   e93f190, 1, (RR),		    iwmmxt_tandorc),
 cCE(wabsb,     e2001c0, 2, (RIWR, RIWR),           rd_rn),
 cCE(wabsh,     e6001c0, 2, (RIWR, RIWR),           rd_rn),
 cCE(wabsw,     ea001c0, 2, (RIWR, RIWR),           rd_rn),
 cCE(wabsdiffb, e1001c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wabsdiffh, e5001c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wabsdiffw, e9001c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(waddbhusl, e2001a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(waddbhusm, e6001a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(waddhc,    e600180, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(waddwc,    ea00180, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(waddsubhx, ea001a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wavg4,	e400000, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wavg4r,    e500000, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmaddsn,   ee00100, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmaddsx,   eb00100, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmaddun,   ec00100, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmaddux,   e900100, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmerge,    e000080, 4, (RIWR, RIWR, RIWR, I7), iwmmxt_wmerge),
 cCE(wmiabb,    e0000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiabt,    e1000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiatb,    e2000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiatt,    e3000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiabbn,   e4000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiabtn,   e5000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiatbn,   e6000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiattn,   e7000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawbb,   e800120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawbt,   e900120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawtb,   ea00120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawtt,   eb00120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawbbn,  ec00120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawbtn,  ed00120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawtbn,  ee00120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmiawttn,  ef00120, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmulsmr,   ef00100, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmulumr,   ed00100, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmulwumr,  ec000c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmulwsmr,  ee000c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmulwum,   ed000c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmulwsm,   ef000c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wmulwl,    eb000c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiabb,   e8000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiabt,   e9000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiatb,   ea000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiatt,   eb000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiabbn,  ec000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiabtn,  ed000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiatbn,  ee000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmiattn,  ef000a0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmulm,    e100080, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmulmr,   e300080, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmulwm,   ec000e0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wqmulwmr,  ee000e0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),
 cCE(wsubaddhx, ed001c0, 3, (RIWR, RIWR, RIWR),     rd_rn_rm),

#undef ARM_VARIANT
#define ARM_VARIANT &arm_cext_maverick /* Cirrus Maverick instructions.	*/
 cCE(cfldrs,	c100400, 2, (RMF, ADDRGLDC),	      rd_cpaddr),
 cCE(cfldrd,	c500400, 2, (RMD, ADDRGLDC),	      rd_cpaddr),
 cCE(cfldr32,	c100500, 2, (RMFX, ADDRGLDC),	      rd_cpaddr),
 cCE(cfldr64,	c500500, 2, (RMDX, ADDRGLDC),	      rd_cpaddr),
 cCE(cfstrs,	c000400, 2, (RMF, ADDRGLDC),	      rd_cpaddr),
 cCE(cfstrd,	c400400, 2, (RMD, ADDRGLDC),	      rd_cpaddr),
 cCE(cfstr32,	c000500, 2, (RMFX, ADDRGLDC),	      rd_cpaddr),
 cCE(cfstr64,	c400500, 2, (RMDX, ADDRGLDC),	      rd_cpaddr),
 cCE(cfmvsr,	e000450, 2, (RMF, RR),		      rn_rd),
 cCE(cfmvrs,	e100450, 2, (RR, RMF),		      rd_rn),
 cCE(cfmvdlr,	e000410, 2, (RMD, RR),		      rn_rd),
 cCE(cfmvrdl,	e100410, 2, (RR, RMD),		      rd_rn),
 cCE(cfmvdhr,	e000430, 2, (RMD, RR),		      rn_rd),
 cCE(cfmvrdh,	e100430, 2, (RR, RMD),		      rd_rn),
 cCE(cfmv64lr,	e000510, 2, (RMDX, RR),		      rn_rd),
 cCE(cfmvr64l,	e100510, 2, (RR, RMDX),		      rd_rn),
 cCE(cfmv64hr,	e000530, 2, (RMDX, RR),		      rn_rd),
 cCE(cfmvr64h,	e100530, 2, (RR, RMDX),		      rd_rn),
 cCE(cfmval32,	e200440, 2, (RMAX, RMFX),	      rd_rn),
 cCE(cfmv32al,	e100440, 2, (RMFX, RMAX),	      rd_rn),
 cCE(cfmvam32,	e200460, 2, (RMAX, RMFX),	      rd_rn),
 cCE(cfmv32am,	e100460, 2, (RMFX, RMAX),	      rd_rn),
 cCE(cfmvah32,	e200480, 2, (RMAX, RMFX),	      rd_rn),
 cCE(cfmv32ah,	e100480, 2, (RMFX, RMAX),	      rd_rn),
 cCE(cfmva32,	e2004a0, 2, (RMAX, RMFX),	      rd_rn),
 cCE(cfmv32a,	e1004a0, 2, (RMFX, RMAX),	      rd_rn),
 cCE(cfmva64,	e2004c0, 2, (RMAX, RMDX),	      rd_rn),
 cCE(cfmv64a,	e1004c0, 2, (RMDX, RMAX),	      rd_rn),
 cCE(cfmvsc32,	e2004e0, 2, (RMDS, RMDX),	      mav_dspsc),
 cCE(cfmv32sc,	e1004e0, 2, (RMDX, RMDS),	      rd),
 cCE(cfcpys,	e000400, 2, (RMF, RMF),		      rd_rn),
 cCE(cfcpyd,	e000420, 2, (RMD, RMD),		      rd_rn),
 cCE(cfcvtsd,	e000460, 2, (RMD, RMF),		      rd_rn),
 cCE(cfcvtds,	e000440, 2, (RMF, RMD),		      rd_rn),
 cCE(cfcvt32s,	e000480, 2, (RMF, RMFX),	      rd_rn),
 cCE(cfcvt32d,	e0004a0, 2, (RMD, RMFX),	      rd_rn),
 cCE(cfcvt64s,	e0004c0, 2, (RMF, RMDX),	      rd_rn),
 cCE(cfcvt64d,	e0004e0, 2, (RMD, RMDX),	      rd_rn),
 cCE(cfcvts32,	e100580, 2, (RMFX, RMF),	      rd_rn),
 cCE(cfcvtd32,	e1005a0, 2, (RMFX, RMD),	      rd_rn),
 cCE(cftruncs32,e1005c0, 2, (RMFX, RMF),	      rd_rn),
 cCE(cftruncd32,e1005e0, 2, (RMFX, RMD),	      rd_rn),
 cCE(cfrshl32,	e000550, 3, (RMFX, RMFX, RR),	      mav_triple),
 cCE(cfrshl64,	e000570, 3, (RMDX, RMDX, RR),	      mav_triple),
 cCE(cfsh32,	e000500, 3, (RMFX, RMFX, I63s),	      mav_shift),
 cCE(cfsh64,	e200500, 3, (RMDX, RMDX, I63s),	      mav_shift),
 cCE(cfcmps,	e100490, 3, (RR, RMF, RMF),	      rd_rn_rm),
 cCE(cfcmpd,	e1004b0, 3, (RR, RMD, RMD),	      rd_rn_rm),
 cCE(cfcmp32,	e100590, 3, (RR, RMFX, RMFX),	      rd_rn_rm),
 cCE(cfcmp64,	e1005b0, 3, (RR, RMDX, RMDX),	      rd_rn_rm),
 cCE(cfabss,	e300400, 2, (RMF, RMF),		      rd_rn),
 cCE(cfabsd,	e300420, 2, (RMD, RMD),		      rd_rn),
 cCE(cfnegs,	e300440, 2, (RMF, RMF),		      rd_rn),
 cCE(cfnegd,	e300460, 2, (RMD, RMD),		      rd_rn),
 cCE(cfadds,	e300480, 3, (RMF, RMF, RMF),	      rd_rn_rm),
 cCE(cfaddd,	e3004a0, 3, (RMD, RMD, RMD),	      rd_rn_rm),
 cCE(cfsubs,	e3004c0, 3, (RMF, RMF, RMF),	      rd_rn_rm),
 cCE(cfsubd,	e3004e0, 3, (RMD, RMD, RMD),	      rd_rn_rm),
 cCE(cfmuls,	e100400, 3, (RMF, RMF, RMF),	      rd_rn_rm),
 cCE(cfmuld,	e100420, 3, (RMD, RMD, RMD),	      rd_rn_rm),
 cCE(cfabs32,	e300500, 2, (RMFX, RMFX),	      rd_rn),
 cCE(cfabs64,	e300520, 2, (RMDX, RMDX),	      rd_rn),
 cCE(cfneg32,	e300540, 2, (RMFX, RMFX),	      rd_rn),
 cCE(cfneg64,	e300560, 2, (RMDX, RMDX),	      rd_rn),
 cCE(cfadd32,	e300580, 3, (RMFX, RMFX, RMFX),	      rd_rn_rm),
 cCE(cfadd64,	e3005a0, 3, (RMDX, RMDX, RMDX),	      rd_rn_rm),
 cCE(cfsub32,	e3005c0, 3, (RMFX, RMFX, RMFX),	      rd_rn_rm),
 cCE(cfsub64,	e3005e0, 3, (RMDX, RMDX, RMDX),	      rd_rn_rm),
 cCE(cfmul32,	e100500, 3, (RMFX, RMFX, RMFX),	      rd_rn_rm),
 cCE(cfmul64,	e100520, 3, (RMDX, RMDX, RMDX),	      rd_rn_rm),
 cCE(cfmac32,	e100540, 3, (RMFX, RMFX, RMFX),	      rd_rn_rm),
 cCE(cfmsc32,	e100560, 3, (RMFX, RMFX, RMFX),	      rd_rn_rm),
 cCE(cfmadd32,	e000600, 4, (RMAX, RMFX, RMFX, RMFX), mav_quad),
 cCE(cfmsub32,	e100600, 4, (RMAX, RMFX, RMFX, RMFX), mav_quad),
 cCE(cfmadda32, e200600, 4, (RMAX, RMAX, RMFX, RMFX), mav_quad),
 cCE(cfmsuba32, e300600, 4, (RMAX, RMAX, RMFX, RMFX), mav_quad),
};
#undef ARM_VARIANT
#undef THUMB_VARIANT
#undef TCE
#undef TCM
#undef TUE
#undef TUF
#undef TCC
#undef cCE
#undef cCL
#undef C3E
#undef CE
#undef CM
#undef UE
#undef UF
#undef UT
#undef NUF
#undef nUF
#undef NCE
#undef nCE
#undef OPS0
#undef OPS1
#undef OPS2
#undef OPS3
#undef OPS4
#undef OPS5
#undef OPS6
#undef do_0


#ifndef INSNS_TABLE_ONLY

/* MD interface: bits in the object file.  */

/* Turn an integer of n bytes (in val) into a stream of bytes appropriate
   for use in the a.out file, and stores them in the array pointed to by buf.
   This knows about the endian-ness of the target machine and does
   THE RIGHT THING, whatever it is.  Possible values for n are 1 (byte)
   2 (short) and 4 (long)  Floating numbers are put out as a series of
   LITTLENUMS (shorts, here at least).	*/

void
md_number_to_chars (char * buf, signed_expr_t val, int n)
{
  if (target_big_endian)
    number_to_chars_bigendian (buf, val, n);
  else
    number_to_chars_littleendian (buf, val, n);
}

static valueT
md_chars_to_number (char * buf, int n)
{
  valueT result = 0;
  unsigned char * where = (unsigned char *) buf;

  if (target_big_endian)
    {
      while (n--)
	{
	  result <<= 8;
	  result |= (*where++ & 255);
	}
    }
  else
    {
      while (n--)
	{
	  result <<= 8;
	  result |= (where[n] & 255);
	}
    }

  return result;
}

/* MD interface: Sections.  */

/* Estimate the size of a frag before relaxing.  Assume everything fits in
   2 bytes.  */

int
md_estimate_size_before_relax (fragS * fragp,
			       int     segtype ATTRIBUTE_UNUSED)
{
  fragp->fr_var = 2;
  return 2;
}

/* FIXME - Looks like the old way "relaxation" is done in relax_section() in
   layout.c will need to change to drive the arm "relaxation" */
const relax_typeS md_relax_table[] = { {0} };

/* Convert a machine dependent frag.  */

void
md_convert_frag (/* bfd *abfd, segT asec ATTRIBUTE_UNUSED, */ fragS *fragp)
{
  uint32_t insn;
  uint32_t old_op;
  char *buf;
  expressionS exp;
  fixS *fixp;
  int reloc_type;
  int pc_rel;
  int opcode;

  buf = fragp->fr_literal + fragp->fr_fix;

#ifdef NOTYET
  old_op = bfd_get_16(abfd, buf);
#else
  old_op = md_chars_to_number(buf, THUMB_SIZE);
#endif
  if (fragp->fr_symbol) {
      exp.X_op = O_symbol;
      exp.X_add_symbol = fragp->fr_symbol;
  } else {
      exp.X_op = O_constant;
  }
  exp.X_add_number = fragp->fr_offset;
  opcode = fragp->fr_subtype;
  switch (opcode)
    {
    case T_MNEM_ldr_pc:
    case T_MNEM_ldr_pc2:
    case T_MNEM_ldr_sp:
    case T_MNEM_str_sp:
    case T_MNEM_ldr:
    case T_MNEM_ldrb:
    case T_MNEM_ldrh:
    case T_MNEM_str:
    case T_MNEM_strb:
    case T_MNEM_strh:
      if (fragp->fr_var == 4)
	{
	  insn = THUMB_OP32(opcode);
	  if ((old_op >> 12) == 4 || (old_op >> 12) == 9)
	    {
	      insn |= (old_op & 0x700) << 4;
	    }
	  else
	    {
	      insn |= (old_op & 7) << 12;
	      insn |= (old_op & 0x38) << 13;
	    }
	  insn |= 0x00000c00;
	  put_thumb32_insn (buf, insn);
	  reloc_type = BFD_RELOC_ARM_T32_OFFSET_IMM;
	}
      else
	{
	  reloc_type = BFD_RELOC_ARM_THUMB_OFFSET;
	}
      pc_rel = (opcode == T_MNEM_ldr_pc2);
      break;
    case T_MNEM_adr:
      if (fragp->fr_var == 4)
	{
	  insn = THUMB_OP32 (opcode);
	  insn |= (old_op & 0xf0) << 4;
	  put_thumb32_insn (buf, insn);
	  reloc_type = BFD_RELOC_ARM_T32_ADD_PC12;
	}
      else
	{
	  reloc_type = BFD_RELOC_ARM_THUMB_ADD;
	  exp.X_add_number -= 4;
	}
      pc_rel = 1;
      break;
    case T_MNEM_mov:
    case T_MNEM_movs:
    case T_MNEM_cmp:
    case T_MNEM_cmn:
      if (fragp->fr_var == 4)
	{
	  int r0off = (opcode == T_MNEM_mov
		       || opcode == T_MNEM_movs) ? 0 : 8;
	  insn = THUMB_OP32 (opcode);
	  insn = (insn & 0xe1ffffff) | 0x10000000;
	  insn |= (old_op & 0x700) << r0off;
	  put_thumb32_insn (buf, insn);
	  reloc_type = BFD_RELOC_ARM_T32_IMMEDIATE;
	}
      else
	{
	  reloc_type = BFD_RELOC_ARM_THUMB_IMM;
	}
      pc_rel = 0;
      break;
    case T_MNEM_b:
      if (fragp->fr_var == 4)
	{
	  insn = THUMB_OP32(opcode);
	  put_thumb32_insn (buf, insn);
	  reloc_type = BFD_RELOC_THUMB_PCREL_BRANCH25;
	}
      else
	reloc_type = BFD_RELOC_THUMB_PCREL_BRANCH12;
      pc_rel = 1;
      break;
    case T_MNEM_bcond:
      if (fragp->fr_var == 4)
	{
	  insn = THUMB_OP32(opcode);
	  insn |= (old_op & 0xf00) << 14;
	  put_thumb32_insn (buf, insn);
	  reloc_type = BFD_RELOC_THUMB_PCREL_BRANCH20;
	}
      else
	reloc_type = BFD_RELOC_THUMB_PCREL_BRANCH9;
      pc_rel = 1;
      break;
    case T_MNEM_add_sp:
    case T_MNEM_add_pc:
    case T_MNEM_inc_sp:
    case T_MNEM_dec_sp:
      if (fragp->fr_var == 4)
	{
	  /* ??? Choose between add and addw.  */
	  insn = THUMB_OP32 (opcode);
	  insn |= (old_op & 0xf0) << 4;
	  put_thumb32_insn (buf, insn);
	  if (opcode == T_MNEM_add_pc)
	    reloc_type = BFD_RELOC_ARM_T32_IMM12;
	  else
	    reloc_type = BFD_RELOC_ARM_T32_ADD_IMM;
	}
      else
	reloc_type = BFD_RELOC_ARM_THUMB_ADD;
      pc_rel = 0;
      break;

    case T_MNEM_addi:
    case T_MNEM_addis:
    case T_MNEM_subi:
    case T_MNEM_subis:
      if (fragp->fr_var == 4)
	{
	  insn = THUMB_OP32 (opcode);
	  insn |= (old_op & 0xf0) << 4;
	  insn |= (old_op & 0xf) << 16;
	  put_thumb32_insn (buf, insn);
	  if (insn & (1 << 20))
	    reloc_type = BFD_RELOC_ARM_T32_ADD_IMM;
	  else
	    reloc_type = BFD_RELOC_ARM_T32_IMMEDIATE;
	}
      else
	reloc_type = BFD_RELOC_ARM_THUMB_ADD;
      pc_rel = 0;
      break;
    default:
      abort();
    }
  fixp = fix_new_exp (fragp, fragp->fr_fix, fragp->fr_var, &exp, pc_rel,
		      /* HACK GUESS, pcrel_reloc */ FALSE,
		      reloc_type);
  fixp->fx_file = fragp->fr_file;
  fixp->fx_line = fragp->fr_line;
  fragp->fr_fix += fragp->fr_var;
}

/* Return the size of a relaxable immediate operand instruction.
   SHIFT and SIZE specify the form of the allowable immediate.  */
static int
relax_immediate (fragS *fragp, int size, int shift)
{
  offsetT offset;
  offsetT mask;
  offsetT low;

  /* ??? Should be able to do better than this.  */
  if (fragp->fr_symbol)
    return 4;

  low = (1 << shift) - 1;
  mask = (1 << (shift + size)) - (1 << shift);
  offset = fragp->fr_offset;
  /* Force misaligned offsets to 32-bit variant.  */
  if (offset & low)
    return 4;
  if (offset & ~mask)
    return 4;
  return 2;
}

/* Get the address of a symbol during relaxation.  */
static addressT
relaxed_symbol_addr(fragS *fragp, int32_t stretch)
{
  fragS *sym_frag;
  addressT addr;
  symbolS *sym;

  sym = fragp->fr_symbol;
  sym_frag = symbol_get_frag (sym);
  know (S_GET_SEGMENT (sym) != absolute_section
	|| sym_frag == &zero_address_frag);
#ifdef NOTYET
  addr = S_GET_VALUE (sym) + fragp->fr_offset;
#else
  addr = fragp->fr_symbol->sy_nlist.n_value +
	 fragp->fr_symbol->sy_frag->fr_address +
         fragp->fr_offset;
#endif

  /* If frag has yet to be reached on this pass, assume it will
     move by STRETCH just as we did.  If this is not so, it will
     be because some frag between grows, and that will force
     another pass.  */

  if (stretch != 0
      && sym_frag->relax_marker != fragp->relax_marker)
    addr += stretch;

  return addr;
}

/* Return the size of a relaxable adr pseudo-instruction or PC-relative
   load.  */
static int
relax_adr (fragS *fragp, /* HACK asection *sec, */ int32_t stretch)
{
  addressT addr;
  offsetT val;

  /* Assume worst case for symbols not known to be in the same section.  */
  if (!S_IS_DEFINED(fragp->fr_symbol)
#ifdef NOTYET
      || sec != S_GET_SEGMENT (fragp->fr_symbol)
#endif
     )
    return 4;

  val = relaxed_symbol_addr(fragp, stretch);
  addr = fragp->fr_address + fragp->fr_fix;
  addr = (addr + 4) & ~3;
  /* Force misaligned targets to 32-bit variant.  */
  if (val & 3)
    return 4;
  val -= addr;
  if (val < 0 || val > 1020)
    return 4;
  return 2;
}

/* Return the size of a relaxable add/sub immediate instruction.  */
static int
relax_addsub (fragS *fragp /* HACK , asection *sec */)
{
  char *buf;
  int op;

  buf = fragp->fr_literal + fragp->fr_fix;
#ifdef NOTYET
  op = bfd_get_16(sec->owner, buf);
#else
  op = md_chars_to_number(buf, THUMB_SIZE);
#endif
  if ((op & 0xf) == ((op >> 4) & 0xf))
    return relax_immediate (fragp, 8, 0);
  else
    return relax_immediate (fragp, 3, 0);
}


/* Return the size of a relaxable branch instruction.  BITS is the
   size of the offset field in the narrow instruction.  */

static int
relax_branch (fragS *fragp, int nsect, int bits, int32_t stretch)
{
  addressT addr;
  offsetT val;
  offsetT limit;

  /* Assume worst case for symbols not known to be in the same section.  */
  if (!S_IS_DEFINED(fragp->fr_symbol) ||
      (fragp->fr_symbol->sy_nlist.n_type & N_TYPE) != N_SECT ||
      fragp->fr_symbol->sy_nlist.n_sect != nsect)
    return 4;

  val = relaxed_symbol_addr(fragp, stretch);
  addr = fragp->fr_address + fragp->fr_fix + 4;
  val -= addr;

  /* Offset is a signed value *2 */
  limit = 1 << bits;
  if (val >= limit || val < -limit)
    return 4;
  return 2;
}


/* Relax a machine dependent frag.  This returns the amount by which
   the current size of the frag should change.  */

int
arm_relax_frag (int nsect, fragS *fragp, int32_t stretch)
{
  int oldsize;
  int newsize;

  oldsize = fragp->fr_var;
  switch (fragp->fr_subtype)
    {
    case T_MNEM_ldr_pc2:
      newsize = relax_adr(fragp, /* HACK sec, */ stretch);
      break;
    case T_MNEM_ldr_pc:
    case T_MNEM_ldr_sp:
    case T_MNEM_str_sp:
      newsize = relax_immediate(fragp, 8, 2);
      break;
    case T_MNEM_ldr:
    case T_MNEM_str:
      newsize = relax_immediate(fragp, 5, 2);
      break;
    case T_MNEM_ldrh:
    case T_MNEM_strh:
      newsize = relax_immediate(fragp, 5, 1);
      break;
    case T_MNEM_ldrb:
    case T_MNEM_strb:
      newsize = relax_immediate(fragp, 5, 0);
      break;
    case T_MNEM_adr:
      newsize = relax_adr(fragp, /* HACK sec, */ stretch);
      break;
    case T_MNEM_mov:
    case T_MNEM_movs:
    case T_MNEM_cmp:
    case T_MNEM_cmn:
      newsize = relax_immediate(fragp, 8, 0);
      break;
    case T_MNEM_b:
      newsize = relax_branch(fragp, nsect, 11, stretch);
      break;
    case T_MNEM_bcond:
      newsize = relax_branch(fragp, nsect, 8, stretch);
      break;
    case T_MNEM_add_sp:
    case T_MNEM_add_pc:
      newsize = relax_immediate (fragp, 8, 2);
      break;
    case T_MNEM_inc_sp:
    case T_MNEM_dec_sp:
      newsize = relax_immediate (fragp, 7, 2);
      break;
    case T_MNEM_addi:
    case T_MNEM_addis:
    case T_MNEM_subi:
    case T_MNEM_subis:
      newsize = relax_addsub (fragp /*,  HACK sec */);
      break;
    default:
      abort();
    }

  fragp->fr_var = newsize;
  /* Freeze wide instructions that are at or before the same location as
     in the previous pass.  This avoids infinite loops.
     Don't freeze them unconditionally because targets may be artificialy
     misaligned by the expansion of preceeding frags.  */
  if (stretch <= 0 && newsize > 2)
    {
      md_convert_frag (/* sec->owner, sec, */ fragp);
      frag_wane(fragp);
    }

  return newsize - oldsize;
}

/* Round up a section size to the appropriate boundary.	 */

valueT
md_section_align (segT	 segment ATTRIBUTE_UNUSED,
		  valueT size)
{
#if (defined (OBJ_AOUT) || defined (OBJ_MAYBE_AOUT))
  if (OUTPUT_FLAVOR == bfd_target_aout_flavour)
    {
      /* For a.out, force the section size to be aligned.  If we don't do
	 this, BFD will align it for us, but it will not write out the
	 final bytes of the section.  This may be a bug in BFD, but it is
	 easier to fix it here since that is how the other a.out targets
	 work.  */
      int align;

      align = bfd_get_section_alignment (stdoutput, segment);
      size = ((size + (1 << align) - 1) & ((valueT) -1 << align));
    }
#endif

  return size;
}

#ifdef NOTYET
/* This is called from HANDLE_ALIGN in write.c.	 Fill in the contents
   of an rs_align_code fragment.  */

void
arm_handle_align (fragS * fragP)
{
  static char const arm_noop[4] = { 0x00, 0x00, 0xa0, 0xe1 };
  static char const thumb_noop[2] = { 0xc0, 0x46 };
  static char const arm_bigend_noop[4] = { 0xe1, 0xa0, 0x00, 0x00 };
  static char const thumb_bigend_noop[2] = { 0x46, 0xc0 };

  int bytes, fix, noop_size;
  char * p;
  const char * noop;

  if (fragP->fr_type != rs_align_code)
    return;

  bytes = fragP->fr_next->fr_address - fragP->fr_address - fragP->fr_fix;
  p = fragP->fr_literal + fragP->fr_fix;
  fix = 0;

  if (bytes > MAX_MEM_FOR_RS_ALIGN_CODE)
    bytes &= MAX_MEM_FOR_RS_ALIGN_CODE;

  if (fragP->tc_frag_data)
    {
      if (target_big_endian)
	noop = thumb_bigend_noop;
      else
	noop = thumb_noop;
      noop_size = sizeof (thumb_noop);
    }
  else
    {
      if (target_big_endian)
	noop = arm_bigend_noop;
      else
	noop = arm_noop;
      noop_size = sizeof (arm_noop);
    }

  if (bytes & (noop_size - 1))
    {
      fix = bytes & (noop_size - 1);
      memset (p, 0, fix);
      p += fix;
      bytes -= fix;
    }

  while (bytes >= noop_size)
    {
      memcpy (p, noop, noop_size);
      p += noop_size;
      bytes -= noop_size;
      fix += noop_size;
    }

  fragP->fr_fix += fix;
  fragP->fr_var = noop_size;
}

/* Called from md_do_align.  Used to create an alignment
   frag in a code section.  */

void
arm_frag_align_code (int n, int max)
{
  char * p;

  /* We assume that there will never be a requirement
     to support alignments greater than 32 bytes.  */
  if (max > MAX_MEM_FOR_RS_ALIGN_CODE)
    as_fatal (_("alignments greater than 32 bytes not supported in .text sections."));

  p = frag_var (rs_align_code,
		MAX_MEM_FOR_RS_ALIGN_CODE,
		1,
		(relax_substateT) max,
		(symbolS *) NULL,
		(offsetT) n,
		(char *) NULL);
  *p = 0;
}

/* Perform target specific initialisation of a frag.  */

void
arm_init_frag (fragS * fragP)
{
  /* Record whether this frag is in an ARM or a THUMB area.  */
  fragP->tc_frag_data = thumb_mode;
}
#endif /* NOTYET */

/* MD interface: Symbol and relocation handling.  */

/* Return the address within the segment that a PC-relative fixup is
   relative to.  For ARM, PC-relative fixups applied to instructions
   are generally relative to the location of the fixup plus 8 bytes.
   Thumb branches are offset by 4, and Thumb loads relative to PC
   require special handling.  */

int32_t
md_pcrel_from_section (fixS * fixP, segT seg)
{
  offsetT base = fixP->fx_where + fixP->fx_frag->fr_address;

#ifdef NOTYET
  /* If this is pc-relative and we are going to emit a relocation
     then we just want to put out any pipeline compensation that the linker
     will need.  Otherwise we want to use the calculated base.
     For WinCE we skip the bias for externals as well, since this
     is how the MS ARM-CE assembler behaves and we want to be compatible.  */
  if (fixP->fx_pcrel 
      && ((fixP->fx_addsy && S_GET_SEGMENT (fixP->fx_addsy) != seg)
	  || (arm_force_relocation (fixP)
#ifdef TE_WINCE
	      && !S_IS_EXTERNAL (fixP->fx_addsy)
#endif
	      )))
    base = 0;
#endif /* NOTYET */

  switch (fixP->fx_r_type)
    {
      /* PC relative addressing on the Thumb is slightly odd as the
	 bottom two bits of the PC are forced to zero for the
	 calculation.  This happens *after* application of the
	 pipeline offset.  However, Thumb adrl already adjusts for
	 this, so we need not do it again.  */
    case BFD_RELOC_ARM_THUMB_ADD:
      return base & ~3;

    case BFD_RELOC_ARM_THUMB_OFFSET:
    case BFD_RELOC_ARM_T32_OFFSET_IMM:
    case BFD_RELOC_ARM_T32_ADD_PC12:
    case BFD_RELOC_ARM_T32_CP_OFF_IMM:
      return (base + 4) & ~3;

      /* Thumb branches are simply offset by +4.  */
    case BFD_RELOC_THUMB_PCREL_BRANCH7:
    case BFD_RELOC_THUMB_PCREL_BRANCH9:
    case BFD_RELOC_THUMB_PCREL_BRANCH12:
    case BFD_RELOC_THUMB_PCREL_BRANCH20:
    case BFD_RELOC_THUMB_PCREL_BRANCH23:
    case BFD_RELOC_THUMB_PCREL_BRANCH25:
    case BFD_RELOC_THUMB_PCREL_BLX:
      return base + 4;

      /* ARM mode branches are offset by +8.  However, the Windows CE
	 loader expects the relocation not to take this into account.  */
    case BFD_RELOC_ARM_PCREL_BRANCH:
    case BFD_RELOC_ARM_PCREL_CALL:
    case BFD_RELOC_ARM_PCREL_JUMP:
    case BFD_RELOC_ARM_PCREL_BLX:
    case BFD_RELOC_ARM_PLT32:
#ifdef TE_WINCE
      /* When handling fixups immediately, because we have already 
         discovered the value of a symbol, or the address of the frag involved
	 we must account for the offset by +8, as the OS loader will never see the reloc.
         see fixup_segment() in write.c
         The S_IS_EXTERNAL test handles the case of global symbols.
         Those need the calculated base, not just the pipe compensation the linker will need.  */
      if (fixP->fx_pcrel
	  && fixP->fx_addsy != NULL
	  && (S_GET_SEGMENT (fixP->fx_addsy) == seg)
	  && (S_IS_EXTERNAL (fixP->fx_addsy) || !arm_force_relocation (fixP)))
	return base + 8;
      return base;
#else
      return base + 8;
#endif

      /* ARM mode loads relative to PC are also offset by +8.  Unlike
	 branches, the Windows CE loader *does* expect the relocation
	 to take this into account.  */
    case BFD_RELOC_ARM_OFFSET_IMM:
    case BFD_RELOC_ARM_OFFSET_IMM8:
    case BFD_RELOC_ARM_HWLITERAL:
    case BFD_RELOC_ARM_LITERAL:
    case BFD_RELOC_ARM_CP_OFF_IMM:
      return base + 8;


      /* Other PC-relative relocations are un-offset.  */
    default:
      return base;
    }
}

/* Under ELF we need to default _GLOBAL_OFFSET_TABLE.
   Otherwise we have no need to default values of symbols.  */

symbolS *
md_undefined_symbol (char * name ATTRIBUTE_UNUSED)
{
#ifdef OBJ_ELF
  if (name[0] == '_' && name[1] == 'G'
      && streq (name, GLOBAL_OFFSET_TABLE_NAME))
    {
      if (!GOT_symbol)
	{
	  if (symbol_find (name))
	    as_bad ("GOT already in the symbol table");

	  GOT_symbol = symbol_new (name, undefined_section,
				   (valueT) 0, & zero_address_frag);
	}

      return GOT_symbol;
    }
#endif

  return 0;
}

/* Subroutine of md_apply_fix.	 Check to see if an immediate can be
   computed as two separate immediate values, added together.  We
   already know that this value cannot be computed by just one ARM
   instruction.	 */

static unsigned int
validate_immediate_twopart (unsigned int   val,
			    unsigned int * highpart)
{
  unsigned int a;
  unsigned int i;

  for (i = 0; i < 32; i += 2)
    if (((a = rotate_left (val, i)) & 0xff) != 0)
      {
	if (a & 0xff00)
	  {
	    if (a & ~ 0xffff)
	      continue;
	    * highpart = (a  >> 8) | ((i + 24) << 7);
	  }
	else if (a & 0xff0000)
	  {
	    if (a & 0xff000000)
	      continue;
	    * highpart = (a >> 16) | ((i + 16) << 7);
	  }
	else
	  {
	    assert (a & 0xff000000);
	    * highpart = (a >> 24) | ((i + 8) << 7);
	  }

	return (a & 0xff) | (i << 7);
      }

  return FAIL;
}

static int
validate_offset_imm (unsigned int val, int hwse)
{
  if ((hwse && val > 255) || val > 4095)
    return FAIL;
  return val;
}

/* Subroutine of md_apply_fix.	 Do those data_ops which can take a
   negative immediate constant by altering the instruction.  A bit of
   a hack really.
	MOV <-> MVN
	AND <-> BIC
	ADC <-> SBC
	by inverting the second operand, and
	ADD <-> SUB
	CMP <-> CMN
	by negating the second operand.	 */

static int
negate_data_op (uint32_t * instruction,
		uint32_t	value)
{
  int op, new_inst;
  uint32_t negated, inverted;

  negated = encode_arm_immediate (-value);
  inverted = encode_arm_immediate (~value);

  op = (*instruction >> DATA_OP_SHIFT) & 0xf;
  switch (op)
    {
      /* First negates.	 */
    case OPCODE_SUB:		 /* ADD <-> SUB	 */
      new_inst = OPCODE_ADD;
      value = negated;
      break;

    case OPCODE_ADD:
      new_inst = OPCODE_SUB;
      value = negated;
      break;

    case OPCODE_CMP:		 /* CMP <-> CMN	 */
      new_inst = OPCODE_CMN;
      value = negated;
      break;

    case OPCODE_CMN:
      new_inst = OPCODE_CMP;
      value = negated;
      break;

      /* Now Inverted ops.  */
    case OPCODE_MOV:		 /* MOV <-> MVN	 */
      new_inst = OPCODE_MVN;
      value = inverted;
      break;

    case OPCODE_MVN:
      new_inst = OPCODE_MOV;
      value = inverted;
      break;

    case OPCODE_AND:		 /* AND <-> BIC	 */
      new_inst = OPCODE_BIC;
      value = inverted;
      break;

    case OPCODE_BIC:
      new_inst = OPCODE_AND;
      value = inverted;
      break;

    case OPCODE_ADC:		  /* ADC <-> SBC  */
      new_inst = OPCODE_SBC;
      value = inverted;
      break;

    case OPCODE_SBC:
      new_inst = OPCODE_ADC;
      value = inverted;
      break;

      /* We cannot do anything.	 */
    default:
      return FAIL;
    }

  if (value == (unsigned) FAIL)
    return FAIL;

  *instruction &= OPCODE_MASK;
  *instruction |= new_inst << DATA_OP_SHIFT;
  return value;
}

/* Like negate_data_op, but for Thumb-2.   */

static unsigned int
thumb32_negate_data_op (offsetT *instruction, unsigned int value)
{
  int op, new_inst;
  int rd;
  unsigned int negated, inverted;

  negated = encode_thumb32_immediate (-value);
  inverted = encode_thumb32_immediate (~value);

  rd = (*instruction >> 8) & 0xf;
  op = (*instruction >> T2_DATA_OP_SHIFT) & 0xf;
  switch (op)
    {
      /* ADD <-> SUB.  Includes CMP <-> CMN.  */
    case T2_OPCODE_SUB:
      new_inst = T2_OPCODE_ADD;
      value = negated;
      break;

    case T2_OPCODE_ADD:
      new_inst = T2_OPCODE_SUB;
      value = negated;
      break;

      /* ORR <-> ORN.  Includes MOV <-> MVN.  */
    case T2_OPCODE_ORR:
      new_inst = T2_OPCODE_ORN;
      value = inverted;
      break;

    case T2_OPCODE_ORN:
      new_inst = T2_OPCODE_ORR;
      value = inverted;
      break;

      /* AND <-> BIC.  TST has no inverted equivalent.  */
    case T2_OPCODE_AND:
      new_inst = T2_OPCODE_BIC;
      if (rd == 15)
	value = FAIL;
      else
	value = inverted;
      break;

    case T2_OPCODE_BIC:
      new_inst = T2_OPCODE_AND;
      value = inverted;
      break;

      /* ADC <-> SBC  */
    case T2_OPCODE_ADC:
      new_inst = T2_OPCODE_SBC;
      value = inverted;
      break;

    case T2_OPCODE_SBC:
      new_inst = T2_OPCODE_ADC;
      value = inverted;
      break;

      /* We cannot do anything.	 */
    default:
      return FAIL;
    }

  if (value == (unsigned int)FAIL)
    return FAIL;

  *instruction &= T2_OPCODE_MASK;
  *instruction |= new_inst << T2_DATA_OP_SHIFT;
  return value;
}

/* Read a 32-bit thumb instruction from buf.  */
static uint32_t
get_thumb32_insn (char * buf)
{
  uint32_t insn;
  insn = md_chars_to_number (buf, THUMB_SIZE) << 16;
  insn |= md_chars_to_number (buf + THUMB_SIZE, THUMB_SIZE);

  return insn;
}

/* We usually want to set the low bit on the address of thumb function
   symbols.  In particular .word foo - . should have the low bit set.
   Generic code tries to fold the difference of two symbols to
   a constant.  Prevent this and force a relocation when the first symbols
   is a thumb function.  */
int
arm_optimize_expr (expressionS *l, operatorT op, expressionS *r)
{
#ifdef NOTYET
  if (op == O_subtract
      && l->X_op == O_symbol
      && r->X_op == O_symbol
      && THUMB_IS_FUNC (l->X_add_symbol))
    {
      l->X_op = O_subtract;
      l->X_op_symbol = r->X_add_symbol;
      l->X_add_number -= r->X_add_number;
      return 1;
    }
#endif /* NOTYET */
  /* Process as normal.  */
  return 0;
}

void
md_apply_fix (fixS *	fixP,
	       valueT * valP,
	       segT	seg)
{
  offsetT	 value = * valP;
  offsetT	 newval;
  unsigned int	 newimm;
  uint32_t	 temp;
  int		 sign;
  char *	 buf = fixP->fx_where + fixP->fx_frag->fr_literal;

  assert (fixP->fx_r_type <= BFD_RELOC_UNUSED);

  /* Note whether this will delete the relocation.  */

  if (fixP->fx_addsy == 0 && !fixP->fx_pcrel)
    fixP->fx_done = 1;

  /* On a 64-bit host, silently truncate 'value' to 32 bits for
     consistency with the behavior on 32-bit hosts.  Remember value
     for emit_reloc.  */
  value &= 0xffffffff;
  value ^= 0x80000000;
  value -= 0x80000000; 

  *valP = value;
  fixP->fx_addnumber = value;

  /* Same treatment for fixP->fx_offset.  */
  fixP->fx_offset &= 0xffffffff;
  fixP->fx_offset ^= 0x80000000;
  fixP->fx_offset -= 0x80000000;

  switch (fixP->fx_r_type)
    {
#ifdef NOTYET
    case BFD_RELOC_NONE:
      /* This will need to go in the object file.  */
      fixP->fx_done = 0;
      break;
#endif

    case BFD_RELOC_ARM_IMMEDIATE:
      /* We claim that this fixup has been processed here,
	 even if in fact we generate an error because we do
	 not have a reloc for it, so tc_gen_reloc will reject it.  */
      fixP->fx_done = 1;

      if (fixP->fx_addsy
	  && ! S_IS_DEFINED (fixP->fx_addsy))
	{
	  as_bad_where (fixP->fx_file, fixP->fx_line,
			_("undefined symbol %s used as an immediate value"),
			S_GET_NAME (fixP->fx_addsy));
	  break;
	}

      newimm = encode_arm_immediate (value);
      temp = md_chars_to_number (buf, INSN_SIZE);

      /* If the instruction will fail, see if we can fix things up by
	 changing the opcode.  */
      if (newimm == (unsigned int) FAIL
	  && (newimm = negate_data_op (&temp, value)) == (unsigned int) FAIL)
	{
	  as_bad_where (fixP->fx_file, fixP->fx_line,
			_("invalid constant (0x%x) after fixup"),
			(uint32_t) value);
	  break;
	}

      newimm |= (temp & 0xfffff000);
      md_number_to_chars (buf, (valueT) newimm, INSN_SIZE);
      break;

    case BFD_RELOC_ARM_ADRL_IMMEDIATE:
      {
	unsigned int highpart = 0;
	unsigned int newinsn  = 0xe1a00000; /* nop.  */

	newimm = encode_arm_immediate (value);
	temp = md_chars_to_number (buf, INSN_SIZE);

	/* If the instruction will fail, see if we can fix things up by
	   changing the opcode.	 */
	if (newimm == (unsigned int) FAIL
	    && (newimm = negate_data_op (& temp, value)) == (unsigned int) FAIL)
	  {
	    /* No ?  OK - try using two ADD instructions to generate
	       the value.  */
	    newimm = validate_immediate_twopart (value, & highpart);

	    /* Yes - then make sure that the second instruction is
	       also an add.  */
	    if (newimm != (unsigned int) FAIL)
	      newinsn = temp;
	    /* Still No ?  Try using a negated value.  */
	    else if ((newimm = validate_immediate_twopart (- value, & highpart)) != (unsigned int) FAIL)
	      temp = newinsn = (temp & OPCODE_MASK) | OPCODE_SUB << DATA_OP_SHIFT;
	    /* Otherwise - give up.  */
	    else
	      {
		as_bad_where (fixP->fx_file, fixP->fx_line,
			      _("unable to compute ADRL instructions for PC offset of 0x%x"),
			      (int32_t) value);
		break;
	      }

	    /* Replace the first operand in the 2nd instruction (which
	       is the PC) with the destination register.  We have
	       already added in the PC in the first instruction and we
	       do not want to do it again.  */
	    newinsn &= ~ 0xf0000;
	    newinsn |= ((newinsn & 0x0f000) << 4);
	  }

	newimm |= (temp & 0xfffff000);
	md_number_to_chars (buf, (valueT) newimm, INSN_SIZE);

	highpart |= (newinsn & 0xfffff000);
	md_number_to_chars (buf + INSN_SIZE, (valueT) highpart, INSN_SIZE);
      }
      break;

    case BFD_RELOC_ARM_OFFSET_IMM:
#ifdef NOTYET
      if (!fixP->fx_done && seg->use_rela_p)
#else
      if (!fixP->fx_done && 0)
#endif
	value = 0;

    case BFD_RELOC_ARM_LITERAL:
      sign = value >= 0;

      if (value < 0)
	value = - value;

      if (validate_offset_imm (value, 0) == FAIL)
	{
	  if (fixP->fx_r_type == BFD_RELOC_ARM_LITERAL)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid literal constant: pool needs to be closer"));
	  else
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("bad immediate value for offset (%d)"),
			  (int32_t) value);
	  break;
	}

      newval = md_chars_to_number (buf, INSN_SIZE);
      newval &= 0xff7ff000;
      newval |= value | (sign ? INDEX_UP : 0);
      md_number_to_chars (buf, newval, INSN_SIZE);
      break;

    case BFD_RELOC_ARM_OFFSET_IMM8:
    case BFD_RELOC_ARM_HWLITERAL:
      sign = value >= 0;

      if (value < 0)
	value = - value;

      if (validate_offset_imm (value, 1) == FAIL)
	{
	  if (fixP->fx_r_type == BFD_RELOC_ARM_HWLITERAL)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid literal constant: pool needs to be closer"));
	  else
	    as_bad_where (fixP->fx_file, fixP->fx_line,
	                  _("bad immediate value for 8-bit offset (%d)"),
		          (int32_t) value);
	  break;
	}

      newval = md_chars_to_number (buf, INSN_SIZE);
      newval &= 0xff7ff0f0;
      newval |= ((value >> 4) << 8) | (value & 0xf) | (sign ? INDEX_UP : 0);
      md_number_to_chars (buf, newval, INSN_SIZE);
      break;

    case BFD_RELOC_ARM_T32_OFFSET_U8:
      if (value < 0 || value > 1020 || value % 4 != 0)
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("bad immediate value for offset (%d)"), (int32_t) value);
      value /= 4;

      newval = md_chars_to_number (buf+2, THUMB_SIZE);
      newval |= value;
      md_number_to_chars (buf+2, newval, THUMB_SIZE);
      break;

    case BFD_RELOC_ARM_T32_OFFSET_IMM:
      /* This is a complicated relocation used for all varieties of Thumb32
	 load/store instruction with immediate offset:

	 1110 100P u1WL NNNN XXXX YYYY iiii iiii - +/-(U) pre/post(P) 8-bit,
	                                           *4, optional writeback(W)
						   (doubleword load/store)

	 1111 100S uTTL 1111 XXXX iiii iiii iiii - +/-(U) 12-bit PC-rel
	 1111 100S 0TTL NNNN XXXX 1Pu1 iiii iiii - +/-(U) pre/post(P) 8-bit
	 1111 100S 0TTL NNNN XXXX 1110 iiii iiii - positive 8-bit (T instruction)
	 1111 100S 1TTL NNNN XXXX iiii iiii iiii - positive 12-bit
	 1111 100S 0TTL NNNN XXXX 1100 iiii iiii - negative 8-bit

	 Uppercase letters indicate bits that are already encoded at
	 this point.  Lowercase letters are our problem.  For the
	 second block of instructions, the secondary opcode nybble
	 (bits 8..11) is present, and bit 23 is zero, even if this is
	 a PC-relative operation.  */
      newval = md_chars_to_number (buf, THUMB_SIZE);
      newval <<= 16;
      newval |= md_chars_to_number (buf+THUMB_SIZE, THUMB_SIZE);

      if ((newval & 0xf0000000) == 0xe0000000)
	{
	  /* Doubleword load/store: 8-bit offset, scaled by 4.  */
	  if (value >= 0)
	    newval |= (1 << 23);
	  else
	    value = -value;
	  if (value % 4 != 0)
	    {
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("offset not a multiple of 4"));
	      break;
	    }
	  value /= 4;
	  if (value > 0xff)
	    {
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("offset out of range"));
	      break;
	    }
	  newval &= ~0xff;
	}
      else if ((newval & 0x000f0000) == 0x000f0000)
	{
	  /* PC-relative, 12-bit offset.  */
	  if (value >= 0)
	    newval |= (1 << 23);
	  else
	    value = -value;
	  if (value > 0xfff)
	    {
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("offset out of range"));
	      break;
	    }
	  newval &= ~0xfff;
	}
      else if ((newval & 0x00000100) == 0x00000100)
	{
	  /* Writeback: 8-bit, +/- offset.  */
	  if (value >= 0)
	    newval |= (1 << 9);
	  else
	    value = -value;
	  if (value > 0xff)
	    {
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("offset out of range"));
	      break;
	    }
	  newval &= ~0xff;
	}
      else if ((newval & 0x00000f00) == 0x00000e00)
	{
	  /* T-instruction: positive 8-bit offset.  */
	  if (value < 0 || value > 0xff)
	    {
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("offset out of range"));
	      break;
	    }
	  newval &= ~0xff;
	  newval |= value;
	}
      else
	{
	  /* Positive 12-bit or negative 8-bit offset.  */
	  int limit;
	  if (value >= 0)
	    {
	      newval |= (1 << 23);
	      limit = 0xfff;
	    }
	  else
	    {
	      value = -value;
	      limit = 0xff;
	    }
	  if (value > limit)
	    {
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("offset out of range"));
	      break;
	    }
	  newval &= ~limit;
	}

      newval |= value;
      md_number_to_chars (buf, (newval >> 16) & 0xffff, THUMB_SIZE);
      md_number_to_chars (buf + THUMB_SIZE, newval & 0xffff, THUMB_SIZE);
      break;

    case BFD_RELOC_ARM_SHIFT_IMM:
      newval = md_chars_to_number (buf, INSN_SIZE);
      if (((uint32_t) value) > 32
	  || (value == 32
	      && (((newval & 0x60) == 0) || (newval & 0x60) == 0x60)))
	{
	  as_bad_where (fixP->fx_file, fixP->fx_line,
			_("shift expression is too large"));
	  break;
	}

      if (value == 0)
	/* Shifts of zero must be done as lsl.	*/
	newval &= ~0x60;
      else if (value == 32)
	value = 0;
      newval &= 0xfffff07f;
      newval |= (value & 0x1f) << 7;
      md_number_to_chars (buf, newval, INSN_SIZE);
      break;

    case BFD_RELOC_ARM_T32_IMMEDIATE:
    case BFD_RELOC_ARM_T32_ADD_IMM:
    case BFD_RELOC_ARM_T32_IMM12:
    case BFD_RELOC_ARM_T32_ADD_PC12:
      /* We claim that this fixup has been processed here,
	 even if in fact we generate an error because we do
	 not have a reloc for it, so tc_gen_reloc will reject it.  */
      fixP->fx_done = 1;

      if (fixP->fx_addsy
	  && ! S_IS_DEFINED (fixP->fx_addsy))
	{
	  as_bad_where (fixP->fx_file, fixP->fx_line,
			_("undefined symbol %s used as an immediate value"),
			S_GET_NAME (fixP->fx_addsy));
	  break;
	}

      newval = md_chars_to_number (buf, THUMB_SIZE);
      newval <<= 16;
      newval |= md_chars_to_number (buf+2, THUMB_SIZE);

      newimm = FAIL;
      if (fixP->fx_r_type == BFD_RELOC_ARM_T32_IMMEDIATE
	  || fixP->fx_r_type == BFD_RELOC_ARM_T32_ADD_IMM)
	{
	  newimm = encode_thumb32_immediate (value);
	  if (newimm == (unsigned int) FAIL)
	    newimm = thumb32_negate_data_op (&newval, value);
	}
      if (fixP->fx_r_type != BFD_RELOC_ARM_T32_IMMEDIATE
	  && newimm == (unsigned int) FAIL)
	{
	  /* Turn add/sum into addw/subw.  */
	  if (fixP->fx_r_type == BFD_RELOC_ARM_T32_ADD_IMM)
	    newval = (newval & 0xfeffffff) | 0x02000000;

	  /* 12 bit immediate for addw/subw.  */
	  if (value < 0)
	    {
	      value = -value;
	      newval ^= 0x00a00000;
	    }
	  if (value > 0xfff)
	    newimm = (unsigned int) FAIL;
	  else
	    newimm = value;
	}

      if (newimm == (unsigned int)FAIL)
	{
	  as_bad_where (fixP->fx_file, fixP->fx_line,
			_("invalid constant (0x%x) after fixup"),
			(uint32_t) value);
	  break;
	}

      newval |= (newimm & 0x800) << 15;
      newval |= (newimm & 0x700) << 4;
      newval |= (newimm & 0x0ff);

      md_number_to_chars (buf,   (valueT) ((newval >> 16) & 0xffff), THUMB_SIZE);
      md_number_to_chars (buf+2, (valueT) (newval & 0xffff), THUMB_SIZE);
      break;

    case BFD_RELOC_ARM_SMC:
      if (((uint32_t) value) > 0xffff)
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("invalid smc expression"));
      newval = md_chars_to_number (buf, INSN_SIZE);
      newval |= (value & 0xf) | ((value & 0xfff0) << 4);
      md_number_to_chars (buf, newval, INSN_SIZE);
      break;

    case BFD_RELOC_ARM_SWI:
      if (*((int*)fixP->tc_fix_data) != 0)
	{
	  if (((uint32_t) value) > 0xff)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid swi expression"));
	  newval = md_chars_to_number (buf, THUMB_SIZE);
	  newval |= value;
	  md_number_to_chars (buf, newval, THUMB_SIZE);
	}
      else
	{
	  if (((uint32_t) value) > 0x00ffffff)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid swi expression"));
	  newval = md_chars_to_number (buf, INSN_SIZE);
	  newval |= value;
	  md_number_to_chars (buf, newval, INSN_SIZE);
	}
      break;

    case BFD_RELOC_ARM_MULTI:
      if (((uint32_t) value) > 0xffff)
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("invalid expression in load/store multiple"));
      newval = value | md_chars_to_number (buf, INSN_SIZE);
      md_number_to_chars (buf, newval, INSN_SIZE);
      break;

#ifdef OBJ_ELF
    case BFD_RELOC_ARM_PCREL_CALL:
      newval = md_chars_to_number (buf, INSN_SIZE);
      if ((newval & 0xf0000000) == 0xf0000000)
	temp = 1;
      else
	temp = 3;
      goto arm_branch_common;

    case BFD_RELOC_ARM_PCREL_JUMP:
    case BFD_RELOC_ARM_PLT32:
#endif
    case BFD_RELOC_ARM_PCREL_BRANCH:
      temp = 3;
      goto arm_branch_common;

    case BFD_RELOC_ARM_PCREL_BLX:
      temp = 1;
#ifndef NOTYET
      /* Our linker wants the same reloc for bl and blx.  */
	fixP->fx_r_type = BFD_RELOC_ARM_PCREL_BRANCH;
#endif
    arm_branch_common:
      /* We are going to store value (shifted right by two) in the
	 instruction, in a 24 bit, signed field.  Bits 26 through 32 either
	 all clear or all set and bit 0 must be clear.  For B/BL bit 1 must
	 also be be clear.  */
      if (value & temp)
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("misaligned branch destination"));
      if ((value & (offsetT)0xfe000000) != (offsetT)0
	  && (value & (offsetT)0xfe000000) != (offsetT)0xfe000000)
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("branch out of range"));

#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	{
	  newval = md_chars_to_number (buf, INSN_SIZE);
	  newval |= (value >> 2) & 0x00ffffff;
	  /* Set the H bit on BLX instructions.  */
	  if (temp == 1)
	    {
	      if (value & 2)
		newval |= 0x01000000;
	      else
		newval &= ~0x01000000;
	    }
	  md_number_to_chars (buf, newval, INSN_SIZE);
	}
      break;

    case BFD_RELOC_THUMB_PCREL_BRANCH7: /* CBZ */
      /* CBZ can only branch forward.  */

      /* Attempts to use CBZ to branch to the next instruction
         (which, strictly speaking, are prohibited) will be turned into
         no-ops.

	 FIXME: It may be better to remove the instruction completely and
	 perform relaxation.  */
      if (value == -2)
	{
	  newval = md_chars_to_number (buf, THUMB_SIZE);
	  newval = 0xbf00; /* NOP encoding T1 */
	  md_number_to_chars (buf, newval, THUMB_SIZE);
	}
      else
	{
	  if (value & ~0x7e)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
		          _("branch out of range"));

#ifdef NOTYET
          if (fixP->fx_done || !seg->use_rela_p)
#else
          if (fixP->fx_done || !0)
#endif
	    {
	      newval = md_chars_to_number (buf, THUMB_SIZE);
	      newval |= ((value & 0x3e) << 2) | ((value & 0x40) << 3);
	      md_number_to_chars (buf, newval, THUMB_SIZE);
	    }
	}
      break;

    case BFD_RELOC_THUMB_PCREL_BRANCH9: /* Conditional branch.	*/
      if ((value & ~0xff) && ((value & ~0xff) != ~0xff))
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("branch out of range"));

#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	{
	  newval = md_chars_to_number (buf, THUMB_SIZE);
	  newval |= (value & 0x1ff) >> 1;
	  md_number_to_chars (buf, newval, THUMB_SIZE);
	}
      break;

    case BFD_RELOC_THUMB_PCREL_BRANCH12: /* Unconditional branch.  */
      if ((value & ~0x7ff) && ((value & ~0x7ff) != ~0x7ff))
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("branch out of range"));

#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	{
	  newval = md_chars_to_number (buf, THUMB_SIZE);
	  newval |= (value & 0xfff) >> 1;
	  md_number_to_chars (buf, newval, THUMB_SIZE);
	}
      break;

    case BFD_RELOC_THUMB_PCREL_BRANCH20:
      if ((value & ~0x1fffff) && ((value & ~0x1fffff) != ~0x1fffff))
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("conditional branch out of range"));

#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	{
	  offsetT newval2;
	  addressT S, J1, J2, lo, hi;

	  S  = (value & 0x00100000) >> 20;
	  J2 = (value & 0x00080000) >> 19;
	  J1 = (value & 0x00040000) >> 18;
	  hi = (value & 0x0003f000) >> 12;
	  lo = (value & 0x00000ffe) >> 1;

	  newval   = md_chars_to_number (buf, THUMB_SIZE);
	  newval2  = md_chars_to_number (buf + THUMB_SIZE, THUMB_SIZE);
	  newval  |= (S << 10) | hi;
	  newval2 |= (J1 << 13) | (J2 << 11) | lo;
	  md_number_to_chars (buf, newval, THUMB_SIZE);
	  md_number_to_chars (buf + THUMB_SIZE, newval2, THUMB_SIZE);
	}
      break;

    case BFD_RELOC_THUMB_PCREL_BLX:
    case BFD_RELOC_THUMB_PCREL_BRANCH23:
      if ((value & ~0x3fffff) && ((value & ~0x3fffff) != ~0x3fffff))
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("branch out of range"));

      if (fixP->fx_r_type == BFD_RELOC_THUMB_PCREL_BLX)
	/* For a BLX instruction, make sure that the relocation is rounded up
	   to a word boundary.  This follows the semantics of the instruction
	   which specifies that bit 1 of the target address will come from bit
	   1 of the base address.  */
	value = (value + 2) & ~ 2;

#ifndef NOTYET
	/* Our linker wants the same reloc for bl and blx.  */
	fixP->fx_r_type = BFD_RELOC_THUMB_PCREL_BRANCH23;
#endif

#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	{
	  offsetT newval2;

	  newval   = md_chars_to_number (buf, THUMB_SIZE);
	  newval2  = md_chars_to_number (buf + THUMB_SIZE, THUMB_SIZE);
	  newval  |= (value & 0x7fffff) >> 12;
	  newval2 |= (value & 0xfff) >> 1;
	  md_number_to_chars (buf, newval, THUMB_SIZE);
	  md_number_to_chars (buf + THUMB_SIZE, newval2, THUMB_SIZE);
	}
      break;

    case BFD_RELOC_THUMB_PCREL_BRANCH25:
      if ((value & ~0x1ffffff) && ((value & ~0x1ffffff) != ~0x1ffffff))
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("branch out of range"));
#ifndef NOTYET
	/* Our linker wants the same reloc for bl and blx.  */
	fixP->fx_r_type = BFD_RELOC_THUMB_PCREL_BRANCH23;
#endif

#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	{
	  offsetT newval2;
	  addressT S, I1, I2, lo, hi;

	  S  = (value & 0x01000000) >> 24;
	  I1 = (value & 0x00800000) >> 23;
	  I2 = (value & 0x00400000) >> 22;
	  hi = (value & 0x003ff000) >> 12;
	  lo = (value & 0x00000ffe) >> 1;

	  I1 = !(I1 ^ S);
	  I2 = !(I2 ^ S);

	  newval   = md_chars_to_number (buf, THUMB_SIZE);
	  newval2  = md_chars_to_number (buf + THUMB_SIZE, THUMB_SIZE);
	  newval  |= (S << 10) | hi;
	  newval2 |= (I1 << 13) | (I2 << 11) | lo;
	  md_number_to_chars (buf, newval, THUMB_SIZE);
	  md_number_to_chars (buf + THUMB_SIZE, newval2, THUMB_SIZE);
	}
      break;

    case BFD_RELOC_8:
#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	md_number_to_chars (buf, value, 1);
      break;

    case BFD_RELOC_16:
#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	md_number_to_chars (buf, value, 2);
      break;

#ifdef OBJ_ELF
    case BFD_RELOC_ARM_TLS_GD32:
    case BFD_RELOC_ARM_TLS_LE32:
    case BFD_RELOC_ARM_TLS_IE32:
    case BFD_RELOC_ARM_TLS_LDM32:
    case BFD_RELOC_ARM_TLS_LDO32:
      S_SET_THREAD_LOCAL (fixP->fx_addsy);
      /* fall through */

    case BFD_RELOC_ARM_GOT32:
    case BFD_RELOC_ARM_GOTOFF:
    case BFD_RELOC_ARM_TARGET2:
#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	md_number_to_chars (buf, 0, 4);
      break;
#endif

    case BFD_RELOC_RVA:
    case BFD_RELOC_32:
    case BFD_RELOC_ARM_TARGET1:
    case BFD_RELOC_ARM_ROSEGREL32:
    case BFD_RELOC_ARM_SBREL32:
    case BFD_RELOC_32_PCREL:
#ifdef TE_PE
    case BFD_RELOC_32_SECREL:
#endif
#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
#ifdef TE_WINCE
	/* For WinCE we only do this for pcrel fixups.  */
	if (fixP->fx_done || fixP->fx_pcrel)
#endif
	  md_number_to_chars (buf, value, 4);
      break;

#ifdef OBJ_ELF
    case BFD_RELOC_ARM_PREL31:
#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#else
      if (fixP->fx_done || !0)
#endif
	{
	  newval = md_chars_to_number (buf, 4) & 0x80000000;
	  if ((value ^ (value >> 1)) & 0x40000000)
	    {
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("rel31 relocation overflow"));
	    }
	  newval |= value & 0x7fffffff;
	  md_number_to_chars (buf, newval, 4);
	}
      break;
#endif

    case BFD_RELOC_ARM_CP_OFF_IMM:
    case BFD_RELOC_ARM_T32_CP_OFF_IMM:
      if (value < -1023 || value > 1023 || (value & 3))
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("co-processor offset out of range"));
    cp_off_common:
      sign = value >= 0;
      if (value < 0)
	value = -value;
      if (fixP->fx_r_type == BFD_RELOC_ARM_CP_OFF_IMM
	  || fixP->fx_r_type == BFD_RELOC_ARM_CP_OFF_IMM_S2)
	newval = md_chars_to_number (buf, INSN_SIZE);
      else
	newval = get_thumb32_insn (buf);
      newval &= 0xff7fff00;
      newval |= (value >> 2) | (sign ? INDEX_UP : 0);
      if (fixP->fx_r_type == BFD_RELOC_ARM_CP_OFF_IMM
	  || fixP->fx_r_type == BFD_RELOC_ARM_CP_OFF_IMM_S2)
	md_number_to_chars (buf, newval, INSN_SIZE);
      else
	put_thumb32_insn (buf, newval);
      break;

    case BFD_RELOC_ARM_CP_OFF_IMM_S2:
    case BFD_RELOC_ARM_T32_CP_OFF_IMM_S2:
      if (value < -255 || value > 255)
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("co-processor offset out of range"));
      value *= 4;
      goto cp_off_common;

    case BFD_RELOC_ARM_THUMB_OFFSET:
      newval = md_chars_to_number (buf, THUMB_SIZE);
      /* Exactly what ranges, and where the offset is inserted depends
	 on the type of instruction, we can establish this from the
	 top 4 bits.  */
      switch (newval >> 12)
	{
	case 4: /* PC load.  */
	  /* Thumb PC loads are somewhat odd, bit 1 of the PC is
	     forced to zero for these loads; md_pcrel_from has already
	     compensated for this.  */
	  if (value & 3)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid offset, target not word aligned (0x%08x)"),
			  (((uint32_t) fixP->fx_frag->fr_address
			    + (uint32_t) fixP->fx_where) & ~3)
			  + (uint32_t) value);

	  if (value & ~0x3fc)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid offset, value too big (0x%08x)"),
			  (int32_t) value);

	  newval |= value >> 2;
	  break;

	case 9: /* SP load/store.  */
	  if (value & ~0x3fc)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid offset, value too big (0x%08x)"),
			  (int32_t) value);
	  newval |= value >> 2;
	  break;

	case 6: /* Word load/store.  */
	  if (value & ~0x7c)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid offset, value too big (0x%08x)"),
			  (int32_t) value);
	  newval |= value << 4; /* 6 - 2.  */
	  break;

	case 7: /* Byte load/store.  */
	  if (value & ~0x1f)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid offset, value too big (0x%08x)"),
			  (int32_t) value);
	  newval |= value << 6;
	  break;

	case 8: /* Halfword load/store.	 */
	  if (value & ~0x3e)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
			  _("invalid offset, value too big (0x%08x)"),
			  (int32_t) value);
	  newval |= value << 5; /* 6 - 1.  */
	  break;

	default:
	  as_bad_where (fixP->fx_file, fixP->fx_line,
			"Unable to process relocation for thumb opcode: %x",
			(uint32_t) newval);
	  break;
	}
      md_number_to_chars (buf, newval, THUMB_SIZE);
      break;

    case BFD_RELOC_ARM_THUMB_ADD:
      /* This is a complicated relocation, since we use it for all of
	 the following immediate relocations:

	    3bit ADD/SUB
	    8bit ADD/SUB
	    9bit ADD/SUB SP word-aligned
	   10bit ADD PC/SP word-aligned

	 The type of instruction being processed is encoded in the
	 instruction field:

	   0x8000  SUB
	   0x0100  second operand was present in assembly code
	   0x00F0  Rd
	   0x000F  Rs
      */
      newval = md_chars_to_number (buf, THUMB_SIZE);
      {
	int rd = (newval >> 4) & 0xf;
	int rs = newval & 0xf;
	int subtract = !!(newval & 0x8000);
	int two_operand = !!(newval & 0x0100);

	/* Check for HI regs, only very restricted cases allowed:
	   Adjusting SP, and using PC or SP to get an address.	*/
	if ((rd > 7 && (rd != REG_SP || rs != REG_SP))
	    || (rs > 7 && rs != REG_SP && rs != REG_PC))
	  as_bad_where (fixP->fx_file, fixP->fx_line,
			_("invalid Hi register with immediate"));

	/* If value is negative, choose the opposite instruction.  */
	if (value < 0)
	  {
	    value = -value;
	    subtract = !subtract;
	    if (value < 0)
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("immediate value out of range"));
	  }

	if (rd == REG_SP)
	  {
	    if (value & ~0x1fc)
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("invalid immediate for stack address calculation"));
	    newval = subtract ? T_OPCODE_SUB_ST : T_OPCODE_ADD_ST;
	    newval |= value >> 2;
	  }
	else if (rs == REG_PC || rs == REG_SP)
	  {
	    if (subtract || value & ~0x3fc)
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("invalid immediate for address calculation (value = 0x%08x)"),
			    (uint32_t) value);
	    newval = (rs == REG_PC ? T_OPCODE_ADD_PC : T_OPCODE_ADD_SP);
	    newval |= rd << 8;
	    newval |= value >> 2;
	  }
	else if ((rs == rd) && (!two_operand || (value & ~0x7)))
	  {
	    if (value & ~0xff)
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("immediate value out of range"));
	    newval = subtract ? T_OPCODE_SUB_I8 : T_OPCODE_ADD_I8;
	    newval |= (rd << 8) | value;
	  }
	else
	  {
	    if (value & ~0x7)
	      as_bad_where (fixP->fx_file, fixP->fx_line,
			    _("immediate value out of range"));
	    newval = subtract ? T_OPCODE_SUB_I3 : T_OPCODE_ADD_I3;
	    newval |= rd | (rs << 3) | (value << 6);
	  }
      }
      md_number_to_chars (buf, newval, THUMB_SIZE);
      break;

    case BFD_RELOC_ARM_THUMB_IMM:
      newval = md_chars_to_number (buf, THUMB_SIZE);
      if (value < 0 || value > 255)
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("invalid immediate: %d is too large"),
		      (int32_t) value);
      newval |= value;
      md_number_to_chars (buf, newval, THUMB_SIZE);
      break;

    case BFD_RELOC_ARM_THUMB_SHIFT:
      /* 5bit shift value (0..32).  LSL cannot take 32.	 */
      newval = md_chars_to_number (buf, THUMB_SIZE) & 0xf83f;
      temp = newval & 0xf800;
      if (value < 0 || value > 32 || (value == 32 && temp == T_OPCODE_LSL_I))
	as_bad_where (fixP->fx_file, fixP->fx_line,
		      _("invalid shift value: %d"), (int32_t) value);
      /* Shifts of zero must be encoded as LSL.	 */
      if (value == 0)
	newval = (newval & 0x003f) | T_OPCODE_LSL_I;
      /* Shifts of 32 are encoded as zero.  */
      else if (value == 32)
	value = 0;
      newval |= value << 6;
      md_number_to_chars (buf, newval, THUMB_SIZE);
      break;

#ifdef NOTYET
    case BFD_RELOC_VTABLE_INHERIT:
    case BFD_RELOC_VTABLE_ENTRY:
      fixP->fx_done = 0;
      return;
#endif

    case BFD_RELOC_ARM_MOVW:
    case BFD_RELOC_ARM_MOVT:
    case BFD_RELOC_ARM_THUMB_MOVW:
    case BFD_RELOC_ARM_THUMB_MOVT:
#ifdef NOTYET
      if (fixP->fx_done || !seg->use_rela_p)
#endif
	{
#ifdef NOTYET
	  /* REL format relocations are limited to a 16-bit addend.  */
	  if (!fixP->fx_done)
	    {
	      if (value < -0x1000 || value > 0xffff)
		  as_bad_where (fixP->fx_file, fixP->fx_line,
				_("offset too big"));
	    }
	  else
#endif
	    if (fixP->fx_r_type == BFD_RELOC_ARM_MOVT
		   || fixP->fx_r_type == BFD_RELOC_ARM_THUMB_MOVT)
	    {
	      value >>= 16;
	    }

	  if (fixP->fx_r_type == BFD_RELOC_ARM_THUMB_MOVW
	      || fixP->fx_r_type == BFD_RELOC_ARM_THUMB_MOVT)
	    {
	      newval = get_thumb32_insn (buf);
	      newval &= 0xfbf08f00;
	      newval |= (value & 0xf000) << 4;
	      newval |= (value & 0x0800) << 15;
	      newval |= (value & 0x0700) << 4;
	      newval |= (value & 0x00ff);
	      put_thumb32_insn (buf, newval);
	    }
	  else
	    {
	      newval = md_chars_to_number (buf, 4);
	      newval &= 0xfff0f000;
	      newval |= value & 0x0fff;
	      newval |= (value & 0xf000) << 4;
	      md_number_to_chars (buf, newval, 4);
	    }
	}
      return;

   case BFD_RELOC_ARM_ALU_PC_G0_NC:
   case BFD_RELOC_ARM_ALU_PC_G0:
   case BFD_RELOC_ARM_ALU_PC_G1_NC:
   case BFD_RELOC_ARM_ALU_PC_G1:
   case BFD_RELOC_ARM_ALU_PC_G2:
   case BFD_RELOC_ARM_ALU_SB_G0_NC:
   case BFD_RELOC_ARM_ALU_SB_G0:
   case BFD_RELOC_ARM_ALU_SB_G1_NC:
   case BFD_RELOC_ARM_ALU_SB_G1:
   case BFD_RELOC_ARM_ALU_SB_G2:
     assert (!fixP->fx_done);
#ifdef NOTYET
     if (!seg->use_rela_p)
#else
     if (!0)
#endif
       {
         bfd_vma insn;
         bfd_vma encoded_addend;
         bfd_vma addend_abs = abs ((int)value);

         /* Check that the absolute value of the addend can be
            expressed as an 8-bit constant plus a rotation.  */
         encoded_addend = encode_arm_immediate (addend_abs);
         if (encoded_addend == (unsigned int) FAIL)
	   as_bad_where (fixP->fx_file, fixP->fx_line,
	                 _("the offset 0x%08x is not representable"),
                         (uint32_t)addend_abs);

         /* Extract the instruction.  */
         insn = md_chars_to_number (buf, INSN_SIZE);

         /* If the addend is positive, use an ADD instruction.
            Otherwise use a SUB.  Take care not to destroy the S bit.  */
         insn &= 0xff1fffff;
         if (value < 0)
           insn |= 1 << 22;
         else
           insn |= 1 << 23;

         /* Place the encoded addend into the first 12 bits of the
            instruction.  */
         insn &= 0xfffff000;
         insn |= encoded_addend;
   
         /* Update the instruction.  */  
         md_number_to_chars (buf, insn, INSN_SIZE);
       }
     break;

    case BFD_RELOC_ARM_LDR_PC_G0:
    case BFD_RELOC_ARM_LDR_PC_G1:
    case BFD_RELOC_ARM_LDR_PC_G2:
    case BFD_RELOC_ARM_LDR_SB_G0:
    case BFD_RELOC_ARM_LDR_SB_G1:
    case BFD_RELOC_ARM_LDR_SB_G2:
      assert (!fixP->fx_done);
#ifdef NOTYET
      if (!seg->use_rela_p)
#else
      if (!0)
#endif
        {
          bfd_vma insn;
          bfd_vma addend_abs = abs ((int)value);

          /* Check that the absolute value of the addend can be
             encoded in 12 bits.  */
          if (addend_abs >= 0x1000)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
	  	          _("bad offset 0x%08x (only 12 bits available for the magnitude)"),
                          (uint32_t)addend_abs);

          /* Extract the instruction.  */
          insn = md_chars_to_number (buf, INSN_SIZE);

          /* If the addend is negative, clear bit 23 of the instruction.
             Otherwise set it.  */
          if (value < 0)
            insn &= ~(1 << 23);
          else
            insn |= 1 << 23;

          /* Place the absolute value of the addend into the first 12 bits
             of the instruction.  */
          insn &= 0xfffff000;
          insn |= addend_abs;
    
          /* Update the instruction.  */  
          md_number_to_chars (buf, insn, INSN_SIZE);
        }
      break;

    case BFD_RELOC_ARM_LDRS_PC_G0:
    case BFD_RELOC_ARM_LDRS_PC_G1:
    case BFD_RELOC_ARM_LDRS_PC_G2:
    case BFD_RELOC_ARM_LDRS_SB_G0:
    case BFD_RELOC_ARM_LDRS_SB_G1:
    case BFD_RELOC_ARM_LDRS_SB_G2:
      assert (!fixP->fx_done);
#ifdef NOTYET
      if (!seg->use_rela_p)
#else
      if (!0)
#endif
        {
          bfd_vma insn;
          bfd_vma addend_abs = abs ((int)value);

          /* Check that the absolute value of the addend can be
             encoded in 8 bits.  */
          if (addend_abs >= 0x100)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
	  	          _("bad offset 0x%08x (only 8 bits available for the magnitude)"),
                          (uint32_t)addend_abs);

          /* Extract the instruction.  */
          insn = md_chars_to_number (buf, INSN_SIZE);

          /* If the addend is negative, clear bit 23 of the instruction.
             Otherwise set it.  */
          if (value < 0)
            insn &= ~(1 << 23);
          else
            insn |= 1 << 23;

          /* Place the first four bits of the absolute value of the addend
             into the first 4 bits of the instruction, and the remaining
             four into bits 8 .. 11.  */
          insn &= 0xfffff0f0;
          insn |= (addend_abs & 0xf) | ((addend_abs & 0xf0) << 4);
    
          /* Update the instruction.  */  
          md_number_to_chars (buf, insn, INSN_SIZE);
        }
      break;

    case BFD_RELOC_ARM_LDC_PC_G0:
    case BFD_RELOC_ARM_LDC_PC_G1:
    case BFD_RELOC_ARM_LDC_PC_G2:
    case BFD_RELOC_ARM_LDC_SB_G0:
    case BFD_RELOC_ARM_LDC_SB_G1:
    case BFD_RELOC_ARM_LDC_SB_G2:
      assert (!fixP->fx_done);
#ifdef NOTYET
      if (!seg->use_rela_p)
#else
      if (!0)
#endif
        {
          bfd_vma insn;
          bfd_vma addend_abs = abs ((int)value);

          /* Check that the absolute value of the addend is a multiple of
             four and, when divided by four, fits in 8 bits.  */
          if (addend_abs & 0x3)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
	  	          _("bad offset 0x%08x (must be word-aligned)"),
                          (uint32_t)addend_abs);

          if ((addend_abs >> 2) > 0xff)
	    as_bad_where (fixP->fx_file, fixP->fx_line,
	  	          _("bad offset 0x%08x (must be an 8-bit number of words)"),
                          (uint32_t)addend_abs);

          /* Extract the instruction.  */
          insn = md_chars_to_number (buf, INSN_SIZE);

          /* If the addend is negative, clear bit 23 of the instruction.
             Otherwise set it.  */
          if (value < 0)
            insn &= ~(1 << 23);
          else
            insn |= 1 << 23;

          /* Place the addend (divided by four) into the first eight
             bits of the instruction.  */
          insn &= 0xfffffff0;
          insn |= addend_abs >> 2;
    
          /* Update the instruction.  */  
          md_number_to_chars (buf, insn, INSN_SIZE);
        }
      break;

    case BFD_RELOC_UNUSED:
    default:
      as_bad_where (fixP->fx_file, fixP->fx_line,
		    _("bad relocation fixup type (%d)"), fixP->fx_r_type);
    }
#ifndef NOTYET
  /* Don't allow relocations to escape into the object file that aren't
     supported by the linker.  */
  if (fixP->fx_addsy != NULL
      && fixP->fx_r_type != ARM_THUMB_RELOC_BR22
      && fixP->fx_r_type != ARM_RELOC_BR24)
    as_bad_where (fixP->fx_file, fixP->fx_line,
		  _("unsupported relocation on symbol %s"),
		  S_GET_NAME (fixP->fx_addsy));
#endif
}

int
arm_force_relocation (struct fix * fixp)
{
#if defined (OBJ_COFF) && defined (TE_PE)
  if (fixp->fx_r_type == BFD_RELOC_RVA)
    return 1;
#endif

#ifdef NeXT_MOD
  if (fixp->fx_r_type == BFD_RELOC_ARM_PCREL_BRANCH
      || fixp->fx_r_type == BFD_RELOC_ARM_PCREL_BLX
      || fixp->fx_r_type == BFD_RELOC_THUMB_PCREL_BLX
      || fixp->fx_r_type == BFD_RELOC_THUMB_PCREL_BRANCH23
      || fixp->fx_r_type == BFD_RELOC_THUMB_PCREL_BRANCH25)
    {
      if (fixp->fx_addsy != NULL)
	{
	  const char *name = S_GET_NAME (fixp->fx_addsy);
	  if (! flagseen ['L'] && name && name[0] == 'L')
	    return 0;
	}
      return 1;
    }
#endif

  /* Resolve these relocations even if the symbol is extern or weak.  */
  if (fixp->fx_r_type == BFD_RELOC_ARM_IMMEDIATE
      || fixp->fx_r_type == BFD_RELOC_ARM_OFFSET_IMM
      || fixp->fx_r_type == BFD_RELOC_ARM_ADRL_IMMEDIATE
      || fixp->fx_r_type == BFD_RELOC_ARM_T32_ADD_IMM
      || fixp->fx_r_type == BFD_RELOC_ARM_T32_IMMEDIATE
      || fixp->fx_r_type == BFD_RELOC_ARM_T32_IMM12
      || fixp->fx_r_type == BFD_RELOC_ARM_T32_ADD_PC12)
    return 0;

  /* Always leave these relocations for the linker.  */
  if ((fixp->fx_r_type >= BFD_RELOC_ARM_ALU_PC_G0_NC
       && fixp->fx_r_type <= BFD_RELOC_ARM_LDC_SB_G2)
      || fixp->fx_r_type == BFD_RELOC_ARM_LDR_PC_G0)
    return 1;

#ifdef NOTYET
  /* Always generate relocations against function symbols.  */
  if (fixp->fx_r_type == BFD_RELOC_32
      && fixp->fx_addsy
      && (symbol_get_bfdsym (fixp->fx_addsy)->flags & BSF_FUNCTION))
    return 1;

  return generic_force_reloc (fixp);
#else
  return 0;
#endif
}

/* MD interface: Finalization.	*/

/* A good place to do this, although this was probably not intended
   for this kind of use.  We need to dump the literal pool before
   references are made to a null symbol pointer.  */

#ifdef NOTYET
void
arm_cleanup (void)
{
  literal_pool * pool;

  for (pool = list_of_pools; pool; pool = pool->next)
    {
      /* Put it at the end of the relevent section.  */
      subseg_set (pool->section, pool->sub_section);
#ifdef OBJ_ELF
      arm_elf_change_section ();
#endif
      s_ltorg (0);
    }
}
#endif /* NOTYET */

/* MD interface: Initialization.  */

static void
set_constant_flonums (void)
{
  int i;

  for (i = 0; i < NUM_FLOAT_VALS; i++)
    if (atof_ieee ((char *) fp_const[i], 'x', fp_values[i]) == NULL)
      abort ();
}

/* Auto-select Thumb mode if it's the only available instruction set for the
   given architecture.  */

#ifdef NOTYET
static void
autoselect_thumb_from_cpu_variant (void)
{
  if (!ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v1))
    opcode_select (16);
}
#endif /* NOTYET */

void
md_begin (void)
{
#ifdef NOTYET
  unsigned mach;
#endif
  unsigned int i;

  if (	 (arm_ops_hsh = hash_new ()) == NULL
      || (arm_cond_hsh = hash_new ()) == NULL
      || (arm_shift_hsh = hash_new ()) == NULL
      || (arm_psr_hsh = hash_new ()) == NULL
      || (arm_v7m_psr_hsh = hash_new ()) == NULL
      || (arm_reg_hsh = hash_new ()) == NULL
      || (arm_reloc_hsh = hash_new ()) == NULL
      || (arm_barrier_opt_hsh = hash_new ()) == NULL)
    as_fatal (_("virtual memory exhausted"));

  for (i = 0; i < sizeof (insns) / sizeof (struct asm_opcode); i++)
    hash_insert (arm_ops_hsh, insns[i].template, (PTR) (insns + i));
  for (i = 0; i < sizeof (conds) / sizeof (struct asm_cond); i++)
    hash_insert (arm_cond_hsh, conds[i].template, (PTR) (conds + i));
  for (i = 0; i < sizeof (shift_names) / sizeof (struct asm_shift_name); i++)
    hash_insert (arm_shift_hsh, shift_names[i].name, (PTR) (shift_names + i));
  for (i = 0; i < sizeof (psrs) / sizeof (struct asm_psr); i++)
    hash_insert (arm_psr_hsh, psrs[i].template, (PTR) (psrs + i));
  for (i = 0; i < sizeof (v7m_psrs) / sizeof (struct asm_psr); i++)
    hash_insert (arm_v7m_psr_hsh, v7m_psrs[i].template, (PTR) (v7m_psrs + i));
  for (i = 0; i < sizeof (reg_names) / sizeof (struct reg_entry); i++)
    hash_insert (arm_reg_hsh, reg_names[i].name, (PTR) (reg_names + i));
  for (i = 0;
       i < sizeof (barrier_opt_names) / sizeof (struct asm_barrier_opt);
       i++)
    hash_insert (arm_barrier_opt_hsh, barrier_opt_names[i].template,
		 (PTR) (barrier_opt_names + i));
#ifdef OBJ_ELF
  for (i = 0; i < sizeof (reloc_names) / sizeof (struct reloc_entry); i++)
    hash_insert (arm_reloc_hsh, reloc_names[i].name, (PTR) (reloc_names + i));
#endif

  set_constant_flonums ();

#ifdef NOTYET
  /* Set the cpu variant based on the command-line options.  We prefer
     -mcpu= over -march= if both are set (as for GCC); and we prefer
     -mfpu= over any other way of setting the floating point unit.
     Use of legacy options with new options are faulted.  */
  if (legacy_cpu)
    {
      if (mcpu_cpu_opt || march_cpu_opt)
	as_bad (_("use of old and new-style options to set CPU type"));

      mcpu_cpu_opt = legacy_cpu;
    }
  else if (!mcpu_cpu_opt)
    mcpu_cpu_opt = march_cpu_opt;

  if (legacy_fpu)
    {
      if (mfpu_opt)
	as_bad (_("use of old and new-style options to set FPU type"));

      mfpu_opt = legacy_fpu;
    }
  else if (!mfpu_opt)
    {
#if !(defined (TE_LINUX) || defined (TE_NetBSD) || defined (TE_VXWORKS))
      /* Some environments specify a default FPU.  If they don't, infer it
	 from the processor.  */
      if (mcpu_fpu_opt)
	mfpu_opt = mcpu_fpu_opt;
      else
	mfpu_opt = march_fpu_opt;
#else
      mfpu_opt = &fpu_default;
#endif
    }

  if (!mfpu_opt)
    {
      if (mcpu_cpu_opt != NULL)
	mfpu_opt = &fpu_default;
      else if (mcpu_fpu_opt != NULL && ARM_CPU_HAS_FEATURE (*mcpu_fpu_opt, arm_ext_v5))
	mfpu_opt = &fpu_arch_vfp_v2;
      else
	mfpu_opt = &fpu_arch_fpa;
    }

#ifdef CPU_DEFAULT
  if (!mcpu_cpu_opt)
    {
      mcpu_cpu_opt = &cpu_default;
      selected_cpu = cpu_default;
    }
#else
  if (mcpu_cpu_opt)
    selected_cpu = *mcpu_cpu_opt;
  else
    mcpu_cpu_opt = &arm_arch_any;
#endif

  ARM_MERGE_FEATURE_SETS (cpu_variant, *mcpu_cpu_opt, *mfpu_opt);

  autoselect_thumb_from_cpu_variant ();

  arm_arch_used = thumb_arch_used = arm_arch_none;

#if defined OBJ_COFF || defined OBJ_ELF
  {
    unsigned int flags = 0;

#if defined OBJ_ELF
    flags = meabi_flags;

    switch (meabi_flags)
      {
      case EF_ARM_EABI_UNKNOWN:
#endif
	/* Set the flags in the private structure.  */
	if (uses_apcs_26)      flags |= F_APCS26;
	if (support_interwork) flags |= F_INTERWORK;
	if (uses_apcs_float)   flags |= F_APCS_FLOAT;
	if (pic_code)	       flags |= F_PIC;
	if (!ARM_CPU_HAS_FEATURE (cpu_variant, fpu_any_hard))
	  flags |= F_SOFT_FLOAT;

	switch (mfloat_abi_opt)
	  {
	  case ARM_FLOAT_ABI_SOFT:
	  case ARM_FLOAT_ABI_SOFTFP:
	    flags |= F_SOFT_FLOAT;
	    break;

	  case ARM_FLOAT_ABI_HARD:
	    if (flags & F_SOFT_FLOAT)
	      as_bad (_("hard-float conflicts with specified fpu"));
	    break;
	  }

	/* Using pure-endian doubles (even if soft-float).	*/
	if (ARM_CPU_HAS_FEATURE (cpu_variant, fpu_endian_pure))
	  flags |= F_VFP_FLOAT;

#if defined OBJ_ELF
	if (ARM_CPU_HAS_FEATURE (cpu_variant, fpu_arch_maverick))
	    flags |= EF_ARM_MAVERICK_FLOAT;
	break;

      case EF_ARM_EABI_VER4:
      case EF_ARM_EABI_VER5:
	/* No additional flags to set.	*/
	break;

      default:
	abort ();
      }
#endif
    bfd_set_private_flags (stdoutput, flags);

    /* We have run out flags in the COFF header to encode the
       status of ATPCS support, so instead we create a dummy,
       empty, debug section called .arm.atpcs.	*/
    if (atpcs)
      {
	asection * sec;

	sec = bfd_make_section (stdoutput, ".arm.atpcs");

	if (sec != NULL)
	  {
	    bfd_set_section_flags
	      (stdoutput, sec, SEC_READONLY | SEC_DEBUGGING /* | SEC_HAS_CONTENTS */);
	    bfd_set_section_size (stdoutput, sec, 0);
	    bfd_set_section_contents (stdoutput, sec, NULL, 0, 0);
	  }
      }
  }
#endif

  /* Record the CPU type as well.  */
  if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_cext_iwmmxt2))
    mach = bfd_mach_arm_iWMMXt2;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_cext_iwmmxt))
    mach = bfd_mach_arm_iWMMXt;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_cext_xscale))
    mach = bfd_mach_arm_XScale;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_cext_maverick))
    mach = bfd_mach_arm_ep9312;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v5e))
    mach = bfd_mach_arm_5TE;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v5))
    {
      if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v4t))
	mach = bfd_mach_arm_5T;
      else
	mach = bfd_mach_arm_5;
    }
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v4))
    {
      if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v4t))
	mach = bfd_mach_arm_4T;
      else
	mach = bfd_mach_arm_4;
    }
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v3m))
    mach = bfd_mach_arm_3M;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v3))
    mach = bfd_mach_arm_3;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v2s))
    mach = bfd_mach_arm_2a;
  else if (ARM_CPU_HAS_FEATURE (cpu_variant, arm_ext_v2))
    mach = bfd_mach_arm_2;
  else
    mach = bfd_mach_arm_unknown;

  bfd_set_arch_mach (stdoutput, TARGET_ARCH, mach);
#endif /* NOTYET */

  if (force_cpusubtype_ALL)
    {
      cpu_variant = arm_arch_full;
      archflag_cpusubtype = CPU_SUBTYPE_ARM_ALL;
    }

  switch (archflag_cpusubtype)
    {
      case CPU_SUBTYPE_ARM_V5TEJ:
	{
	  static const arm_feature_set arm_arch_v5tej = ARM_ARCH_V5TEJ;
	  cpu_variant = arm_arch_v5tej;
	}
	break;
      case CPU_SUBTYPE_ARM_XSCALE:
	{
	  static const arm_feature_set arm_arch_xscale = ARM_ARCH_XSCALE;
	  cpu_variant = arm_arch_xscale;
	}
	break;
      case CPU_SUBTYPE_ARM_V6:
	{
	  static const arm_feature_set arm_arch_v6zk_vfp_v2 =
	    ARM_FEATURE (ARM_AEXT_V6ZK, FPU_VFP_V2);
	  cpu_variant = arm_arch_v6zk_vfp_v2;
	}
	break;
      case CPU_SUBTYPE_ARM_V7:
      case CPU_SUBTYPE_ARM_V7F:
      case CPU_SUBTYPE_ARM_V7S:
      case CPU_SUBTYPE_ARM_V7K:
	{
	  static const arm_feature_set arm_arch_v7_vfp_v3_plus_neon_v1 =
	    ARM_FEATURE (ARM_AEXT_V7_ARM | ARM_EXT_V7M | ARM_EXT_DIV,
			 FPU_VFP_V3 | FPU_NEON_EXT_V1);
	  cpu_variant = arm_arch_v7_vfp_v3_plus_neon_v1;
	}
	break;
    }
}

/*
 * md_end() is called from main() in as.c after assembly ends.  It is used
 * to allow target machine dependent clean up.
 */
void
md_end(void)
{
}

/*
 * md_parse_option() is called from main() in as.c to parse target machine
 * dependent command line options.  This routine returns 0 if it is passed an
 * option that is not recognized non-zero otherwise.
 */
int
md_parse_option(
char **argP,
int *cntP,
char ***vecP)
{
	switch(**argP) {
	default:
	    break;
	}
	return(0);
}

/*
 * md_number_to_imm() is the target machine dependent routine that puts out
 * a binary value of size 4, 2, or 1 bytes into the specified buffer with
 * reguard to a possible relocation entry (the fixP->fx_r_type field in the fixS
 * structure pointed to by fixP) for the section with the ordinal nsect.  This
 * is done in the target machine's byte sex using it's relocation types.
 * In this case the byte order is little endian.
 */
void
md_number_to_imm(
unsigned char *buf,
signed_expr_t val,
int nbytes,
fixS *fixP,
int nsect)
{
#if 0
    int sign;
    signed_target_addr_t newval;
#endif

	if(fixP->fx_r_type == NO_RELOC ||
	   fixP->fx_r_type == ARM_RELOC_VANILLA){
	    switch(nbytes){
	    case 8:
		*buf++ = val & 0xff;
		*buf++ = (val >> 8) & 0xff;
		*buf++ = (val >> 16) & 0xff;
		*buf++ = (val >> 24) & 0xff;
		*buf++ = (val >> 32) & 0xff;
		*buf++ = (val >> 40) & 0xff;
		*buf++ = (val >> 48) & 0xff;
		*buf++ = (val >> 56) & 0xff;
		break;
	    case 4:
		*buf++ = val & 0xff;
		*buf++ = (val >> 8) & 0xff;
		*buf++ = (val >> 16) & 0xff;
		*buf++ = (val >> 24) & 0xff;
		break;
	    case 2:
		*buf++ = val & 0xff;
		*buf++ = (val >> 8) & 0xff;
		break;
	    case 1:
		*buf = val & 0xff;
		break;
	    default:
		abort();
	    }
	    return;
	}
	switch(fixP->fx_r_type){
#if 0
	case ARM_RELOC_BR24:
	    if(fixP->fx_pcrel)
/* GUESS this should be 4 not 8 which seems to disassemble correctly for local
   defined labels.  But this seems to be off by 8 for external undefined labels
   and the target address is not 0 but 0xfffffff8 */
		val += 4;
	    if((val & 0xfc000000) && ((val & 0xfc000000) != 0xfc000000)){
		layout_file = fixP->file;
		layout_line = fixP->line;
		as_warn("Fixup of %u too large for field width of 26 bits",val);
	    }
	    if((val & 0x3) != 0){
		layout_file = fixP->file;
		layout_line = fixP->line;
		as_warn("Fixup of %u is not to a 4 byte address", val);
	    }
	    buf[0] = (val >> 2) & 0xff;
	    buf[1] = (val >> 10) & 0xff;
	    buf[2] = (val >> 18) & 0xff;
	    /* buf[3] has the opcode part of the instruction */
	    break;

/* Code taken and modified from tc-arm.c md_apply_fix3() line 11473 */
	case BFD_RELOC_ARM_OFFSET_IMM:
/* GUESS this needs 4 added to val.  Which then better matches what the FSF GAS
   produces for an ldr instruction */
	    val += 4; 

	    sign = val >= 0;

	    if(val < 0)
		val = - val;

	    if(validate_offset_imm(val, 0) == FAIL){
		layout_file = fixP->file;
		layout_line = fixP->line;
		as_warn("bad immediate value for offset (%d)", (int32_t) val);
		break;
	    }

	    newval = (buf[3] << 24) | (buf[2] << 16) | (buf[1] << 8) | buf[0];

	    newval &= 0xff7ff000;
	    newval |= val | (sign ? INDEX_UP : 0);

	    *buf++ = newval & 0xff;
	    *buf++ = (newval >> 8) & 0xff;
	    *buf++ = (newval >> 16) & 0xff;
	    *buf++ = (newval >> 24) & 0xff;

	    break;
#endif

	case BFD_RELOC_ARM_ADRL_IMMEDIATE:
	default:
	  {
	    valueT newval = val;

	    /* Die if we have more bytes than md_apply_fix3 knows how to
	       handle.  */
	    if (sizeof (valueT) < nbytes)
	      abort ();

	    md_apply_fix (fixP, &newval, now_seg);
	  }
	}
}
#endif /* INSNS_TABLE_ONLY */
                                                                  osxcross/build/cctools-877.5-ld64-253.3_4f8ad51/cctools/as/arm_as-app.o                             0100644 0000000 0000000 00000036770 13101126700 023213  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        ELF         >                              @     @   W)    )    )    )    )    )    )    )    )    )    )    )    )    )    )    )                H$        H        H    Hu                        H    Hu        ffffff.     H    Huff.     UAVSH    
wS$    H    HHH    D0x                    f     H    HCH;C   HHHKD0A  AA	t(Q   A9  A.~   A   fHCH;CsHHHK Hc    uH    Au  f+  =        /   /<     A/  HCH;C   HHHK *t8  H    AH    HCH;CsCHHHK t*u!HCH;Cs.HHHK8t*/u/
u    H    H        1        p/t?u8u3H          	C    
   4%H    A  A=           1    o  H    HCH;CsHHHK 
u6  A:  A:   =    )            HCH;CZ  HHHK k  H
sA   HHHK Hc      HCH;CrH    AuT  HCH;C  HHHKD0A  A\         A\   e         HCH;C  HHHKD0A	   A"      c  HCH;C  HHHKD0                H    HCH;CsGHHHKD0A
  A  A*uHCH;Cs$HHHK8t /uH    AH            A    g  ;   A;    A!   A
4  n   H        A\   !  "A   "   H               H        A;             
   H        1    A"     A"          A"     A  A[]DA7wkH      Hb  UHHHKD0AtA
tHCH;CrH    A        "  AFwAD      1D      A
4      
   t    
   
   H            A  H    H    AH    ADH    AlA"uU               A"   N      u=     D  ;  H    A/   aA'u[HCH;C3  HHHK        1                H        D5      Ic        t!tC       	   	      t"
t		             y   1ts@ HCH;CsHHHK Hc    u   H    u    1    A
     
u DH           A       u=t             u   H    "ffff.     HCH;CsHHHK 
t{H
r
tlBH               H        A.   IuhH    HCH;CsHHHK 
t    1            A
   D[A^]yA/   tH        H    1    1         UAVS    
   $    H    H    H9  HPH    0
    *uHH9s  HHH    HY  /P  HPH    HH    H    H9Hu  H    H-    H9  A;   HQH      
	t
  9  .n X  HH93  HFH    H:H      HHu  =        @/      /  H9  HQH    q*t  fff.         HH9t[HJH    *tt

HuH9t4HBH    Rt/t,H    H    H-        1    H    HHH    @ E@/t-u&u!HFH    @~    uH  HFH    @~H    H-    H97	  =           1      H    HHH    x n                 S  H    H    H97  HJH    2  ~
  Hc      H9E  HHH=    1HHuX  H    H;      HHH    H   \p         \            H    H;    t HHH    	  P         H    H;    tHHH                  
  H    H         HH9HtHJH    
u  :uh:   =                        HHH    @
    1    "   z              d  ;:  .  !P
H  H     n    \   .  "%          "         /P"     "uWHAH    A"           H        ;     H/[   C     HHyH=    Ht
tH9Ht        R  
(      A
   t    H            D  CwAD       1      "uZ               "     H    u=         HBH    @r/   m'uhH9tHAH    Yu1    1            1                H            !      Hc          H    H    ffff.     H9   HJH    H2H       HuHQ
   @
t~H9t!HHH5    
tcHHu    >tpH    H    H)HtHQH    	
t#HHu    1                        1    
   [A^]tu       H    @2           H        .   /   tHBH    @rfffff.     H    H    G    GH    HG    G((    G    G,                H        W)                    fffff.     HH    G    G    HGH    G(    G)    G,                                                                                                                                                                                               $._ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 ; .file  End of file in string: inserted '"' Unknown escape '\%c' in string: Ignored End of file in string: '"' inserted End of file in '/' '*' string: */ inserted End-of-file after a ': \000 inserted (%d) EOF in comment:  Newline inserted EOF in Comment: Newline inserted .line  End-of-File not at end of a line  Debian clang version 3.5.0-10 (tags/RELEASE_350/final) (based on LLVM 3.5.0)               zR x            5         0       8	   ABA    P          ABA    p                        E            .rela.text .comment .bss .note.GNU-stack .rela.eh_frame .shstrtab .strtab .symtab .rela.rodata .data .rodata.str1.16 .rodata.str1.1                                                                                         @       %                                                   p                                  `                     h                                                          p      T                             X                     p                                    S                      p;                                f      2                      B                             v      2               b      9                                  0                     N                                                                                        /                                                         *                      =      x                           9                                                          K                            0                          C                      @      .                                                                        w             	       &                 j     4                                     0                  @                  (                               ]             B                                                                                                                                                	                      
                                                    5      ~     @      8	           
                        E            P                                                                                                                  L                      6                                                                  lex __uflow save_scrub_context restore_scrub_context md_line_comment_chars md_comment_chars symbol_chars add_newlines .L.str do_scrub_next_char as_warn do_scrub_begin out_string scrub_last_string do_scrub_next_char_from_string scrub_string out_buf sprintf old_state scrub_file ungetc ../app.c .L.str9                                                                                  "                    )                    0                    7                    >                    E             |       L             l       S             \       Z             L       a             <       h             ,       o                    u             ;       |             $                    (                 
   A                                                              %                    V                    V                    W                           
                                                    
             &                    I                  X                    _            $      j            $      ~            ,                                    (               !                       *            K                                       !               0                                    
      y       "            G         !   M                  g                                                      
                                                                        P                    i                                                      
      U                         (            (      9         !                                       ,                                 !               0               !               (      )                  4                   8                   I            ,      O                  \         !   a      
      	       h                        ,                                                            
      -       %            :            0      K            0      ]         !   c                  w                                                                              ,                                    K                                  !   .      
      @      3      
             :             @                  F            ,      L                  W                   [            A      c            <      q                    y                                                                                      	      
             	            &	         !   ,	                  R	                  m	            	         !   	            (      	                  	                   	                   	            

      
             
            
                  E
         !   L
      
             V
            h
      
             o
            
                  
            X       
            
            
            
                                    "            6            =            W                                                                          2            0      E            l                                                      
      y                                                                                                             +                  7      
            >            J            $      U            $      h            ,      n                  t            (                                                                                      	                        8                  L                  W            ^            k                  
      U                                                                         (                                                                              +            ,      1                  <            E      
      	       L            \            ,      b                                          0                  ,                                                (                                                              P            u                              0                  0                                          
      -                                                 ,                                    K                         7            W            g      
             n            v      
      @      {      
                                                        ,                                                       A                  <                                                                                                     H            `      
             n            u                              
                                                                   
                                                                   (                                                              1            S            \                  e            ,      o            $      y            L                  <                  0                                    (                                     <                  H                  ,                                                ,                  $                  L                  <                   0                    =                   \                                                                (                   0                   8             }      @                   H                   P                   X             
      `             G      h             3      p             3      x             3                   3                                                         J                                                                  4             @      T             
      t             P                                 osxcross/build/cctools-877.5-ld64-253.3_4f8ad51/cctools/as/arm_as-arm.o                             0100644 0000000 0000000 00002320230 13101126706 023205  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        ELF         >                             @     @   AWAVATSHIIA   ODt]F  Xwo#c:G  $    x  ptrtst  A   dn  A   H    @HT$H    HtH    C?A    1tGE1
I    t\   Lt    fffff.         HD9|      =        E1D  I=     Ht\   Lt    fD      I|$t\
=     t       fff.            CD9|nJ\|
AE1"ffff.     I=     HA3   Lt    
D      EfA    A    LH[A\A^A_ffffff.     =     t        ffff.         uG   fff.         1    @     1    @     1    @ AWAVSL=    Lf.     HH    H wHr  A? t/H=    L    IMt&A~
 t0    1L    L    1    >    1L    -H=    L    I>    I~Ht    L    H    [A^A_        1    @ P=     t    u    1            X    P=     u    @u    1           X    P     u*=     t/    u    1            u=     tX    1Z        @u    1           Xf     =     u
                USPH    8    t1=     u    @u    1               WH    "uH    @H    HH    @(H     u
HH    H    KH[]        UAWAVSPL=        AH    D3H    ,   HH     A.uA    L    HHu   11E1A    L    HH    D3H        H    H    MH[A^A_]     1L    D3H[A^A_]        f     P   111    X    f     USPH        @    H    t(    H    t    1HH[]    1    H    @(H[]         UAWAVAUATSH8IL|$0W                                                                LuA   #    Lu1Lfff.     H  u,fff.     H  tHS..uIM)  .u1t5C1nu       H\$0Zwu                  HHD$0t) t!.f  Ht$0     N  H=    LL    IMt!AF             I	  HkH=       H    IH=    L)LH    IM  M  AF  H$          AE<    u    1    AFHcLH=           @    MF  AFu    1    AF   D    5    H    HH tX y EIN H   uu#Q    tm=    tn    ue    I9N0tZ        IVHt5u#J    t&H                8      .  %   H    	u"IF0    H9t    H9t
       H     J      4 5    H=     T  19A      I9F02        I   IoH=       H    HD$ H   fAGfD$.MoH)HHLH    H=    ILL    ILHH    fD$.fAGMt6AFw'    uw    1    HD$ H\$0LH    LH]                  t%    I9F0t    1H8[A\A]A^A_]    AF    H|$0Iv  uAV0=    u
        H=         uKuG   =      w           t'9t#    1LH8[A\A]A^A_]        Iv         v	5    u  #      u             AN    AVu   H%   	           H|$0Iv  uAV(IF    t!@    '=       AE	    @	    H5    Ht    1L    `  =     t 1        umD    E1   =    )      H    =           D5    D=          H       uL    D    H=     ueL    MtYA@uID    PH           5        |   H                  IE1    H$                 5    =     t   H         H       HuR\   H    H{=     t
   L,   L    .    H{5    =     t       
       5    tqH=    GP)    L    MI =    u4$        .H    H    -    t$DL$D$IA    H@P    =        =     t@H    @\;    u.D    L    AIPA)        D       =    u#H    @\;    u=    5        H    HP   H8[A\A]A^A_]fffff.     UHAWAVAUATSHII       L    12  A} '  I]H=    H    H   M)I]HIL}ILeI)HLLLL    C, AwAW	L HEt*    IL$f.     HH0QHuLLL    L}tAwAW	Lr A$t     IL$HH0QHuLLL       t(AwAW	L!     1H       He[A\A]A^A_]f.     UHAWAVAUATSH   IH8LmE E    EE       L    A   t#       L    E1A   t  MuLuI]E1H[      H DXtv    tjLfHKHDHu_tH=    HL)L    IMt1H]AG	D9  IGH$  HMH HE      uAwILuW)p)`H    L5        H`         xuH        H    HEH    Du)H    HEH    H=     u#H        H    HMH    t+E1    1    DHe[A\A]A^A_]E1    AHpHEHE    L}H}Hu u(Et
E1    E}*  HEHEHE[uHHHME  E1    YL0D}H8I)LH H       HH HHII)LIcH(LH    B3 H0p1EHEH HELD IMt!Ht1       IEKHHHH=     uH        LuAL0t2    Lff.     HH0HUHJHMZuLH8H(      Aw} u	1H LD$ IM   H            IEH HJHH
H       uwHHEHW)P)@H    H        H@         X  H        H    HEH    6  H=     uH        MLuAt/    L     HH0HUHJHMZuLH8H(    A   Au} tLmE1LD HHt*M       HCAMHIM HH=     yH        iE1    Uu)H    HEH    H=     u#H        H    HEH    tE1    L0D}AD}PM]uHHEE1         u            D        D     Hcu-Au'        un    J          ?    A    t	A   =    D    A u           H        	        W          ffff.         u    t    	    H                  !          fffff.     AWAVS                     =       H=    H          H=         u~H    H    IMtmH    uGA.t>L    Hx    I        1LL    L    HL    H    H        [A^A_    =    u"    t+    =   |H        H        	    fUAWAVAUATSH  ILl$HH|$p uHH|$pAM 5j  L1E11HT$`1HT$X1E1  Li  Li  HD$pA     uHD$pA     H        A  L^i  Ld$p|  HD D<        Lh  AH=     T  H        D  Ld$@LMLl$HAAHD$8tD<          Ah  AH=        Ld$@  H        A   Dt$0Ic@H        $  L|$8    H=     o  H        _  H    AH=     D  H        D  H        Ld$@6  r2H=     upH        cH        ALd$@^  H$D  H$P  H$  t#IcH        	H       L$  I$IDPtf    LtZHHkHKDHu_tH=    HL)L    Ht%H$  HHHt
tIx	   L$  L$   H$   H$     1 Ht$PL|$8f  $  tH=     N  H        >  H$  H$   H$  IcH          H        A   A$,J  LuL$  HUHD$(H DPtt    tkHL$PiLHIT$LHDPIu_ItH=    HL)L    Ht!H$  HHHLd$@tux	 t+L$  Ld$@H=       H          @AIcH        L|$8H$  HD$pDLd$@x  @IcH        E ,%  HH$  H$X  H$X  H$  H$`        $`     HL$PDqH$d  H$X  H$  IcH4    $  	|#,    	   H    ,    L|$8,u]HH$  H$  H$  H$      1   $     H=     u"H        H=     uH        Ld$@H\$PL|$8c  @    A,uEHH$  H$  1   D ^  H=    u_    L$  A]uIL|$pLl$HL|$8  H        w^  H=     WH        GH        I^  H=     )H        Ht$PH$$  H$  H$  HcH          H        AH H\$PUrLd$pH    HL$XHL$`~'	    tHL$p,Xb  HHL$p0Fdwu$    HD$pHD$xH|$xHT$lH$   1 AAq  I$   '  AH=     La  H        a  fD      1    HcAL r^   f     G
rqwi/  0sAtHD<    KAka    s6fD  H    t"<       uH        f.     H    ca  HD$pH$  H$  HT$lH$  1 AA'  $  0/  AH=     `  H        `  HD$pH$  H$  HT$lH$     { AA&  I$  k/  AH=     LQ`  H        A`  HD$pH$P  H$P  HT$lH$X     
 AAo&  I$X  /  AH=     L_  H        _  HD$pH$h  H$h  HT$lH$p      AA"&  I$p  .  AH=     Lo_  H        __  HD$pH$  H$  HT$lH$  	   ( AA%  I$  .  AH=     L^  H        ^  HD$pIwHHD$pW)$p  )$`  H    H        H$`           $x  9"  %  H    HD$pH    H=     -"  H        "  HD$pIwHHD$pW)$  )$  H    H        H$           $  !  \%  H    HD$pH    H=     !  H        z!  H=     A]  H        ]  HD$p[h]  HHD$pH$  H$  HT$lH$  1< AAH  $  I  AH=     ]  H        ]  HD$pH$   H$   HT$lH$       AA/  I$   N?  AH=     L\  H        \  HD$pH$   H$   HT$lH$      ` AAD/  I$   ?  AH=     L6\  H        &\  HD$pH$   H$   HT$lH$       AA.  I$   >  AH=     L[  H        [  HD$pH$   H$   HT$lH$      ~ AA.  I$   j>  AH=     LT[  H        D[  HD$pH$   H$   HT$lH$       AA].  I$   >  AH=     LZ  H        Z  HD$pH$  H$  HT$lH$      AA.  I$  =  AH=     LrZ  H        bZ  HD$pH$  H$  H$     1. A*Z  $  Z  C  H=     Y  H        Y  HD$pH$   H$   HT$lH$(  
    AAM-  I$(  =  AH=     LY  H        {Y  HD$pH$8  H$8  HT$lH$@     D AA -  I$@  <  AH=     LY  H        
Y  HD$pH$P  H$P  HT$lH$X      AA,  I$X  x<  AH=     LX  H        X  HD$pH$h  H$h  HT$lH$p     b AAf,  I$p  ,<  AH=     L8X  H        (X  HD$pH$  H$  HT$lH$      AA,  I$  ;  AH=     LW  H        W  HD$pH$  H$  HT$lH$      AA+  I$  ;  AH=     LVW  H        FW  HD$pH$  H$  HT$lH$      AA+  I$  H;  AH=     LV  H        V  HD$pH$  H$  HT$lH$      AA2+  I$  :  AH=     LtV  H        dV  HD$pH$  H$  HT$lH$     - AA*  I$  :  AH=     LV  H        U  HD$pH$   H$   HT$lH$(      AA*  I$(  d:  AH=     LU  H        U  HD$pH$8  H$8  HT$lH$@     K AAK*  I$@  :  AH=     L!U  H        U  Ld$@E1Ld$p.  HD H4    H|$p1gHD H4    H|$p   NIHl H    H|$p   H AA)  LHD H4    H|$p   b AHD$pH$  $     E1{    HL$uHH$  HD$H$  H$  H$     	 AA#  HD H    HL$H    H$AD$ 1HD$(1HD$1HD$8H\$PtAtQDAA9Ht$(tVM     $  tD$  HL$H$  HL$8ADEA)AAHt$(N  L|$0$  @9<  @t(HL$89$  v<  HL$8H 9$  `<  AAtH|$@9@=<  Ht$(T$$Ld$@H$  $  -u+DAEtZT$ t^9   ?  A   H\$P:  EL$ t8A   L|$0  9  tD$ u,   3/A   L|$0s  D$          n?  At
A`K  T$ HH$  H$  H$  1 NK  $  9?  tHHT$89$  ?  EHt$8H H|$@99$  >  u>  EtHT$9>  E)AA   H\$PL|$0EA   HT$@H  LH$  ,#H  HH$  $  H$  H$  H$   AALd$@T$$I   D$ wD$    fAH=     nLd$@HD$pH$0  H$0  HT$lH$     G R  H$  =5  H=     H0     HD$pH$  H$  HT$lH$      AA   I$  ukHD H    H$  HH$   6  HD$pH$   H$   HT$lH$      AAt)I$  5  H=     LuH        HD$pIwHHD$pW)$  )$  H    H        H$           $    H        H    HD$pH    :  IH\ H,    HD$pH$(  H$(  H$     1 >=  $  -=  8  H=     =  H         =  IH\ H,    HD$pH$X  H$X  H$H     1	 =  $H  =  7  H=     d=  H        T=  IH\ H,    HD$pH$  H$  H$x     1 =  $x  =  b7  H=     =  H        =  IH\ H,    HD$pH$  H$  H$     1	 T>  $  C>  	7  H=     &>  H        >  HD$pH$  H$  H$  H$     1 ?  $  ?  6  H=     ?  H        ?  HD$pH$0  H$0  HT$lH$      AAt)I$  X2  H=     LuH        H|$p0x AH        AK  IH\ HD$pH$0  H$0  HT$lH$      AAt#$    H=     uH        HD$pwHHD$pW)$  )$p  H-    H        H$p           $    c5  H    HD$pH-    H=     6  H        6  IH\ HD$pH$0  H$0  HT$lH$      AAt#$    H=     uH            HD$pU  ]  P      HD$p    I      HD$p)  )  I,      HD$pm  m  Ip      HD$p    I      HD$p    I  H\$PHD$pH      HD$p'  '  I*      HD$pk  k  In      HD$p    I      HD$p    I      HD$p7  7  I:      HD$p{  {  I~      HD$p    I  HD$pIwHHD$pW)$P  )$@  H    H        H$@           $X  f  J%  H    HD$pH    H=     Z  H        J  HD$pIwHHD$pW)$  )$  H    H        H$           $  
  $  H    HD$pH    H=     
  H        
  H|$pz 
  Ld$@Ld$pA$:  L|$8H\$PID$1  H|$p11~ 
  H|$pH1   1~ LDHh
  H|$p      H|$p      ~ 1LD3
  H    uHD$pwHHD$pW        H    HD$pH                         h  {  H    HD$pH    H=     #  HE  Hl$pE #uH    	   H          	   H    ,  =      ,  ,  E1HD$p12  Hl$p       H    E1u        H    A   0  IH]    H X  _  HHl$pLIH\$p    H HkD  HMHDHuH=    HH)H    H	  H        g*  H\$PH\$pH$  [  L|$8Ld$@LsL$  HkD    II$DhtqA    MtdfD  LHLmHUDPHu_HtH=    LL)L    Ht L$  HHHtux	 =  L$  H        Ll$HHD$pH$0  H$0  HT$lH$  
   9 AAt#$  *  H=     uH        H|$pq A7IH\ HD$pH$0  H$0  HT$lH$  1 AAt#$    H=     uH        Hl$p       H    AR  L|B  IH\ HD$pH$0  H$0  HT$lH$  1@ AAt#$  k  H=     uH            HD$p      HD$pH$@  H$@  HT$lH$H  1 At)I$H  )  H=     LuH        I    uHD$pwHHD$pW        H    HD$pH                         |  H        H    HD$p^(  HD$pH$X  H$X  HT$lH$`  1 At)I$`  )  H=     LuH        HD$pHwHHD$pW        H    H                           H        H    HD$pH    H#@  Hl HD$pH$0  H$0  HT$lH$      AAt#$  (  H=     uH        Lt$pAA?  Hl$8ILd$@MfLd$pH    E1~  MH\$PLt$pID    H DX  A    L  HKHDHu_tH=    HL)L    H  H\$pH	  @HT         	       MH\$PLt$pID    H DXg  A    LV   HKHDHu_tH=    HL)L    H  H\$pH	  @HL         H\$PMLl$HFHD$pIwHHD$pW)$  )$  H    H        H$           $  `    H    HD$pH    H=     T  H        D  HD$pIwHHD$pW)$  )$  H    H        H$           $     i  H    HD$pH    H=        H           HD$p{<  IHHHL$pPwHHD$pHW)$  )$   H    H        H$            $    H        H    HD$pH    H        L<  H|$p   H|$p   
H|$p   q ;  HH\$p       H    %  H        AHIH\$p    H Hkff.     HMHDHuH=    HH)H    AH  Hl$pDxLxHt,uHSK!u HD     HD$pM  HT$@MHHD$p  HD H    H$   HHL$x2!  H    H$  HH$0  ,  7
  H    HD$pH    H=     "  Lw:  A  H    HD$pH    H=       HE:  H        H        H\$PMLl$H:  3  H    HD$pH    H=     %  H        %  H=     A9  H        9  H=     A9  H        9  H=     A9  H        u9  H=     Aa9  H        Q9  H=     A=9  H        -9  H    HD$pH    HCJ    IHb
  H    HLHH    uJD5HD$pB|5    Ld$pH    HL$pH    tH$p  HL  H        }8  H    HL$pH    4H$  H L  H        =8    IHHD$pW)$  )$  H    H        H$           $  r  H            IHHD$pW)$  )$  H    H        H$           $  V  H            IHHD$pW)$  )$   H    H        H$            $  :  H        c    IHHD$pW)$0  )$   H    H        H$            $8    H        G  y  IHHD$pW)$P  )$@  H    H        H$@           $X    H        +  P  IHHD$pW)$p  )$`  H    H        H$`           $x    H          +  IHHD$pW)$  )$  H    H        H$           $    H            IHHD$pW)$  )$  H    H        H$           $    H            IHHD$pW)$  )$  H    H        H$           $    H            IHHD$pW)$  )$  H    H        H$           $  v  H            IHHD$pW)$  )$   H    H        H$            $  Z  H          e  IHHD$pW)$0  )$   H    H        H$            $8  >  H        g  #v  AD$:g  L|$8H\$PID$ILDLd$pA    1ffffff.     M} L    IIcLLH    uA,:  HI
r%3  H        H\$PS2  HT$@MW)$0  )$   L=    H        H$            $8  u#H        H    HD$pL=    U  1  H    HD$pL=    H=     +  H          IHD H    H$  HH$  HL$pD<    T$l}#,    			@@	    1!q  H    HHL$p   L.HD H    H$  HH$  A  HD H    H$\  HH$P    HD H    H$t  HH$h    HD H    H$  HH$    H    HD$pH      ((  HpH(  AH=     R$  H    H    7H            HHD$pW)$  )$  H-    H        H$           $     I  H    HD$pH-    H=     x  H        h    HHD$pW)$  )$p  H-    H        H$p           $  V  H        H    HD$pH-      H    HL$pH      H$   L&  H        A.  $8      H$0      H$0  x   L    HHLLl$HtV}         E1tA1Hff.     2D0  9uHH~$  IHA~HH    HD$pH    H$      Ld$@ut$  ujH$  Hy]H$0                E1u:1H@ 2D0  9uHH~'  IHA~H    HD$pH    H        AH>-  H=     A*-  H        -  H=     A-  H        ,  H=     A,  H        ,  H=     A,  H        ,  H=     A,  H        ,  H=     Av,  H        f,  H=     AR,  H        B,  H=     A.,  H        ,  H=     A
,  H        +  H=     A+  H        +  H=     A+  H        +  H=     A+  H        +  H=     Az+  H        j+  H=     AV+  H        F+  H=     A2+  H        "+  H=     A+  H        *  H=     A*  H        *  H        H|$p1HZ A    L    p   q  HC    Ks  HHCp  Lu4H    HD$pH    H=     L2	  H        "	  H    HD$pH    L	  u4H    HD$pH    H=     L%	  H        	  H    HD$pH    L  u4H    HD$pH    H=     L	  H        	  H    HD$pH    L  u4H    HD$pH    H=     L	  H          H    HD$pH    L  u4H    HD$pH    H=     L	  H          H    HD$pH    L  u4H    HD$pH    H=     L  H          H    HD$pH    L  u4H    HD$pH    H=     L  H          H    HD$pH    L  u4H    HD$pH    H=     L  H          H    HD$pH    L  u4H    HD$pH    H=     L  H          H    HD$pH    L  u4H    HD$pH    H=     L  H          H    HD$pH    L  u4H    HD$pH    H=     L  H          H    HD$pH    L  u4H    HD$pH    H=     L  H          H    HD$pH    L  H|$pDZ Ld$@b&  IA${d  Ll$HMIl$    HD$8H Dh  AI1L@    H  f     IIl$IL$DHu_tH=    HH)    HH  HHHt	6  x	 ,  Dxt>E9f  A^@ D9}$   As    1    A	   DEs    1D    E9    1    A	E I1,t   -U  I,$HD$8H DhELm      HuIL$LBW)$  )$  H    L%        H$           $  %  .L%    H    tD=     H($  ($                         HH$  H9HIcH!t#!       1    H$  D	AA$+j|^X}H\$PMLl$HtAH=     Ld$@  H        v  AH=     S  H        C  H        H    ALd$@H-  HEHD$pH1Hl$pMmc  O  8ntvu<!7zh  dHr          H    HD$pH-    H=       H        {  H        H_"  H    HL$pH    H$P  HHHLq  H        "  H    HL$pH    H$  HL1  H        !  H    HL$pH    H$  HHH L  H        !  H    HL$pH    NH$  H=   L  H        U!    H    HD$pH    H=     H        H        $   tH           H$  H*  H           H        $   tH           H$  H  H           H        $   tH        h   H$  HHH  H        B   H        $8   tH           H$0  HQ  H          H        $X   tH          H$P  H 
  H          H        $x   tH          H$p  HHH   H        i  H        $   tH        D  H$  H!x  H        "  H        $   tH          H$  H@1  H          H        $   tH          H$  HH@H      H          H        $   tH        h  H$  HHH@   H        B  H        $   tH          H$  HArUH          H        $8   tH          H$0  H=   rH          HL     AH    HL$pL=    &  H        H\$PMMp  HD H    H$   HH$     HD H    H$   HH$     HD H    H$   HH$   j  HD H    H$   HH$   E  HD H    H$   HH$      HD H    H$  HH$    HD H    H$,  HH$     HD H    H$D  HH$8    HD H    H$\  HH$P    HD H    H$t  HH$h  g  HD H    H$  HH$  B  HD H    H$  HH$    HD H    H$  HH$    HD H    H$  HH$    HD H    H$  HH$    HD H    H$,  HH$     HD H    H$D  HH$8  d  L| J4    H$  HH$0  Hl$pB    D$l|B#<    				B    E ,uHHl$pHcIHH$0  H$0  HT$lH$     2_ Ht#$    H=     uH        J    B        B         AL
HD H    H$  HH$    HD H    H$  HH$0  HL$pD<    L$l}#<    				    Lh    q   E	 uH
H	    IuE HMHBW        H    H-                         uH        H    L  u,H    H=     tL~  H        Lk  H    H    =     L    H        5  HD H    H$  HH$0  HL$pD<    L$l}#4    			       HL H    H$L  H2H$@   HL H    H$d  H2H$X  HT$p    T$l}#,    			@@	    ALUH    H$  HH$0  HD$pD<    D$l}#4    				    LLAH=       H\$P  H=     g  H        W    H=       H            H=       H          1  H=     P  H        @    H=       H             H=     	  H          H    HL$pH-      L$  I@I    H        $    H        $  9  H=     A   H          
  HW)$  )$  L5    H        H$           $     H        L5    H0  I H       LH IHD$p    L
  Ll$HL|$8;
  JD!HD$p,
  H    HL$pH-    u9L$  I!   D<    L?H    HL$pH-    t`H        AL  H        AH=
  L5    H=     :
  H        *
  H$     H        H    HD$pH    2H$  H   L  H        8  L0  IHL H    H$  HH$  HD$pD<    T$l}#,    			@@	    ]H
  HHD$pLAH=     1  H        !  A   +~V@~W(wbHH      Hr+H        HrH      Hs/A   A   u,ut HD$p$H        AH        AHT H4    H$  H>H$  Ht$p          AH$  HU H$(  HT$pDAA~  HD$pH$0  H$0  HT$lH$8  1V AAt1$8  t?AH=     L  H          H=     At!L  H$<  HE H$0    H        L  H$L  HU H$X  HT$pDAA  HD$pH$`  H$`  HT$lH$h  	   BU AAt1$h  t?AH=     L#  H          H=     At!L  H$l  HE H$`    H        L  H$|  HU H$  HT$pDAA   HD$pH$  H$  HT$lH$     kT AAt1$  t?AH=     LL  H        <  H=     At!L$  H$  HE H$     H        L  H$  HU H$  HT$pDAAtD<        LHD$pH$  H$  HT$lH$     S AAt1$  t?AH=     La  H        Q  H=     At|L9  H$  HE H$  HD$pD<    D$l}#4    				    LH        L  H$  L$  L$     L|$8Ld$@HD         H    	    A,RM~L$  In@    H DhLd$@tv    tmHL$PiLHIVLHDPIu_ItH=    HL)L    Ht$H$  HHHt	x	 +L$   L|$8H$  H$0  H$0  H$  H$  	   _Q t#$     H=     uH        Ld$@L$  ID    IIDXteA$    MtWfLLcHKDHu_tH=    LL)L    Ht L$  HHHtux	 T  L$  H=     H        Ld$@H$  H$0  H$  ,lL{L$  HT     $  	|#<    H4    Ht$Pvt$0		   <    HkD    HD$(H Dhz  A    Mi  LHLeHUDPHu_HtH=    LL)L    H'  L$  HHH    M	  H$0  H M  H        H\$PM8
  H        H   Ll$HL|$8W        H-    H                         
  
  H    HD$pH-    H[        Q  H        H\$PHl$pLd$@|H    L5    tH        AH$  H   H        A`AH=     uH        Ld$@H\$PLl$HHD$p^%    HHD$pDIT$    ET$$t~m  Ac  AH=     Ld$@H          HD$pE1LH        L  H    H$  HH$0  HD$pIHHHHtA)t,u2H=    HH)    HtHH\$pDxEt=A|H        HD         E1        E1LHT     H;L$@MuH\$pAH\$PLb  @HL         A$,AHD$PDpHH$  H$P  H$P  H$@     1K t$@  cH=     FH        6H=       rH          HL$pAH=     u3H        &AH=     u$  H    H    Ld$@H\$PtAHH$  Ht$@Ld$@  2}HHH$    L  KRHD$pA   AH=     <  H\$PL  H    HD$pH    H@    AE ,P  LuL$  HUI$DPLd$@H\$Ptj    Mt^LLL}HUDPIu_ItH=    LL)L    Ht L$  HHHtux	 L$  H        Ll$HL|$8  HT     }  HHD$pAAH=     t
H\$PH        H\$Px	 L$  HcD$0H,L4    A#H\$PuIA uMgM       L    u
	  fIA$d*D,-1 wH     Hs   euEu.uH$0  s   L    H   $0  $2  	 tE1]HDE1AH<$Hl$8H/H|$DHT$pDEA	A	g      >   ~9    H$  H$0  H$0  H$  H$  	   G L|$8Dt$0t$  tEH=     uH        H$  D. +H=     B  Ld$@t  H$  H$0  H$      $  	|#<    H    		   <    ,LqL$  Hq@HD$(H Dp/    LHHH]HuDpHu@_HtH=    HL)L    HH$  HHHLd$@t	x	 @HL$PIHcH        ,8LuL$  HUHD$(H DP^    QHL$PDyLHHSHHDPHu_HtH=    HL)L    HH$  HHHLd$@t	x	 @IcH    HD$P    AAH$       L|$8Dt$0H        Ld$@*H        Ll$H/A    H        MHL$`   9uL;d$ptHcB|( t}Ld$pHD$XH    HcH$    E1HcHiIDALHD$p8 H    tHuH            HH  [A\A]A^A_]H=     uH        H        H        H    HD$pH-    H=     uH        H    HD$pH-    H=     `H        PfD  H        @ SH    u8H     Lt(H    @\;    uH    K     H[    ffffff.     AVSP1=     t=L5    I~           uA/H    HHH    @    H[A^f.     AVSPH=     t)H    |HLt    L    uA HH[A^fff.     G       UAWAVAUATSH(HLc{J|;P    tBL;PBl;QBL;QBl;P	HK HtD$    HL$D$     HcK(HL$Dc<A:  bA$$/  $    A   E1{  A$ Hc4       	           A$rVA$  A   {S  A$ Hc4    t		    p  	   A   E1{[  A IcD,       	D	             {   1A'  tA(  A Ic#4       	              8		      t        I|R=     t       
       AE   A!  D=  E1A   /      I|R=     t       
       AAAG      {                    A    A   {                 A   A   {q                       I|R=     t-       +    I|R=     t-       +       A  Dl F          AG   E1   HHL$A          I|R=     tc       AI   a    I|R=     tV         AJ   f    I|R=     tA       AW   ?       AI   A   '         AJ          AW   sSD,$HL$E1HE    HK@HH8KHH@CCH([A\A]A^A_]UAWAVATSAIEgAG<=:  *$W  $       I      -  $    IcG=        ALPADQ      I    IcG(  H     I  w  IcG(k  H      I  P     A(    ;     I  +  IcG(  H   ALQADP	1IG    tH     A(  H     A(                 I    IcG(  Hl w  I        a  I     IO QHI@HIcO(HEtAWL3PLtIcH#  IIcWHDHH)H  I           I G$   G9       IO QHI@HIcO(HEtAWL3PLtIcHIcGH  I+H)H  I        tjI G$uYG9uQ    IO QHI@HIcO(HEtAWL3PLtIcHIcGH   I+H)H  }AoErLL    D)[A\A^A_] ffff.     HcGHHO3t<tO9@w,$    Hw  r0  sHHH @ sHffffff.     1ffff.     1ffff.     UAWAVAUATSHID&MI~McnHuA~1 uANDA D&EfHIcF IF AN3nnwfMcO\)P   1    $    MDAL1    fffff.     	   n  vh  IF8H    AF@        1    I~ tAF3sH[A\A]A^A_]IF8H    AF@    I~    H    1HH[A\A]A^A_]    DD	     v  MDALt)IF8H    AF@        1L    I   |)IF8H    AF@        1L    I      CL)PCT)Q	Ct)R	CL)S  DAL   |/IF8H    AF@        1LM    MI      CL)PCT)Q	Ct)R	CL)S}  DAL   |/IF8H    AF@        1LM    MI    m  CL)PCT)Q	Ct)R	CL)Sh  =     '  7  	u,IF8H    AF@        1L    I       CL)PCT)Q	Ct)R	CL)S   LLANDHt    V  D    MEq  BD-PHBT-QH	JD-RHD$BD-RBt-Sl  suI    r  b  CT)PHCL)QH	Ct)RHCT)S]  CL)SCT)R	Ct)Q	CL)P	L AA   A  D		Hch  r  CL)SCT)R	Ct)Q	CL)P	L   EH	Hc    CL)SCT)R	Ct)Q	CL)P	   EH   		Hc    CL)SCT)R	Ct)Q	CL)P	    EH 	Hc    A  Aw1IF8H    AF@        1LL    IIAN3!uIIAF3    
  CT)PHCL)QH	Kl)RCt)RCT)S	  LHELHAI     IF8H    AF@    tH    dLHELHAI     IF8H    AF@          ]  A  A  w	LHt|IF8H    AF@        1LL    A IIGA   A  r3IF8H    AF@        1LL    A IIILHILAV3         Ct)PC|)Q	Ct)R	C|)S    CD)PHCL)Q	CL)R	L!LH%  II   I	I	   LL	    C|)PHCt)QH	Cl)RHC|)S  BD-QHBT-PH	JD-RHD$BD-SBt-R	HH	AF3AH  A   X  I      DL
  vA,
D9     A  AND1HA    1
  L\$L    I
  IF8H    AF@    I~    H    1H        L
  CL)PCT)Q	Ct)R	CL)SG
  A   
  IF8H    AF@        
  IFP8 Q
  A   r-IF8H    AF@        1LL    II=     0  CD)PCL)Q	D	Hc   (  =     
  L|$L\$CD)PC\)Q~
      
  CL)PC\)Q
  =     +  CL)PCD)Q&  =       CD)PGl)Q  A Aw-IF8H    AF@        1LL    II=       CD)PHCL)QH	IAH	   (  A Aw-IF8H    AF@        1LL    II=       CD)PHCL)QH	II  I	     AF3   MIt-IF8H    AF@        1L    A II M!t1   I9t'IF8H    AF@        1L    I    m  CL)PCT)Q	Ct)R	CL)Sh  A   r-IF8H    AF@        1LL    II=     
  CD)PCL)Q	CD)R	CL)S	HcLHII  I	I	      
  CT)PHCL)QH	Kl)RCt)RCT)S
  A$   =w-IF8H    AF@        1LL    IIAF3LHD1AA1HHLHH  II  HI    
  C|)PHCT)QH	K|)RH|$C\)RC|)S
  A  =     
        Y  A  w	LHt*IF8H    AF@        1DL    ILH?H>LHK|R=     
  CL)RHCt)SH	H	       =     }
       A  Aw-IF8H    AF@        1LL    IILHH?LHH%      
  Ct)PHC|)QH	Kl)RCt)RC\)S
      {
  CL)PHCT)QH	HCt)RH	HCL)Sv
      w
  CL)PHCT)QH	HCt)RH	HCL)Sr
  CT)QHCL)PH	Ct)SHCT)RH	LHH	I I!LHHH   LHH   H	L	H p  AH	H	H   L        CT)QHCL)PH	Kl)RCt)SCT)R	LHH  H	II  I	   L	        Ct)SC|)R	Ct)Q	C|)P	Hc   CD)SHCL)R	CL)Q	L!LH%  II   I	I	   LLK  C|)QHCt)PH	Cl)SHC|)RH	HH	I H!I H!HI?I   I  I	I	  LLH   L          CL)SCT)R	Ct)Q	CL)P	LHcLHH H	  A  H         I|-R=     tF   HH[A\A]A^A_]        I|R H I!=     t%        HH[A\A]A^A_]         	D    E   CD)PCL)Q	CD)R	LFL)S      ?It-IF8H    AF@        1LL    II      CT)PCL)Q
  D    )	  A  L\$D@DD	   vAv	D    EH|$  CD)PCL)Q	CD)R	GL)S  CL)SCT)R	Ct)Q	CL)P	A wHc  HH`t
H`  IF8H    AF@        %  A   r-IF8H    AF@        1LL    II=     t2CD)PCL)Q	CD)R	CL)S	D	Hc  CD)SCL)R	CD)Q	CL)P	D	Hc  L|$L\$CD)QC\)P	AAHHH$II   ruAuAw  Dr!IF8H    AF@        1    E  L$$  CL)QC\)P	A   r0IF8H    AF@        1DL    I    D	Hc       CL)QCD)P	?  A wA u1%   u*IF8H    AF@        1DL    IA uE1	EuH?II	=       	  CD)QGl)PA	LLHHHws$    At0IF8H    AF@    I0AvD    1    It$IF8H    AF@        1D    IM	$IF8H    AF@        1D    H=          L    CD)QHCL)PH	IAH	   ,  CD)QHCL)PH	II  I	  CD)SCL)R	CD)Q	CL)P	HcLHII  I	I	  CT)QHCL)PH	Kl)RCt)SCT)R	HH	I H!I L9uDHH   LHEHHII@6  IF8H    AF@        	  HH   H   Q  LHEIIH        EHH 	  C|)QHCT)PH	K|)RH|$C\)SC|)R	H
H	H	HIL	L	H (  H	   L        CL)SHCt)RH	H	          i  Ct)QHC|)PH	Kl)RCt)SC\)R	LH
H   H	H	LHH    II   I	I	I	   Lt        =     t   H     H  CL)SHCT)RH	HCt)QH	HCL)PH	I  I!ICL)SHCT)RH	HCt)QH	HCL)PH	I I!LHHII	AA   A  IcL	L	t   L       L    H	  	  CD)SCL)R	CD)Q	LFL)PIA	  1  EA1    DD	   n  v^  H\$L$$IuIH\$Ht!IF8H    AF@        1    E     HEH  k  EH\$uHH%t#IF8H    AF@        1    A      HDH	HH	^     L    ,    =     t   H|$H       H|$H    CD)SCL)R	CD)Q	GL)PA	  D1    	     v  E  1A LD    LHEIIH   i     EHH   MH\$HA9    H   r!IF8H    AF@        1    E 8   0  HE  CD)QCL)P	D	Hc   
	D1    	   vv	D1      x     $      J  D			D9     A        aCT)QCL)P	LH>HI@II	I	t
   +     6  H     HH?H>HHH   	EA1    DD	   vv	Dx     $      !  Hr!IF8H    AF@        1    E      HEAD	HH	H	H|$=     t
   H     U  HI  I!IIM	t   LL       LL    wH   H   _  A   v   L	HL  D   	D9u   AL  EAA           A   vA,
D9     AI  It$IF8H    AF@        1D    IM	yA r$IF8H    AF@        1D    IM	CIt$IF8H    AF@        1D    IM	
AA    )A	  LHD   EIIH9~NIF8H    AF@        1    D			D9     A  HH   EHH )HcH!H	HH   Lt        =     t   H    1   H      @ .   %     `  @  	1  tAA	18  DD	   tt
  w$   t, v41     rE         		       1D@D@	   tt	=  w   t'= v0 r            		tfAA  @ D% D   	AA A	EIc   Lt        D	K|=THc=     uz   IF8H    AF@             @ .   %     `  @  	1  t:AA	A A	EIct              IF8H    AF@        1DD   	D9Au   AEAAL         At#vA,D9u!   AgAA    )A	QID			D9u   AL*D   	D9ALu   A   wo$    H       H   Eu*N1!  `   @     `  @EHAt H/H!HH	EHGt;Au5Hu HH!H   Ey
IH   I  E?AEt6D%   I	D p  EA   t+    )IF8H    AF@        1D    AH	H	=     t   H|$H    s   H|$H    \SG31E%"w]H`      Hr"   HrT@rEJu+HHt    =     uHt Lt      s[;[ff.     AVSP    H    Htz    H    Hti    H    HtX    H    HtG    H    Ht6    H    Ht%    H    Ht    H    E1HuE1    1    fH=    I    I        I81I: u    H=    H    H        HH   uH=                H=                H=                H=                H=                H=                H=                H=                H=                H=                H=                H=                E11fff.     H=    H    H        HH0  u1    H=    I    I        II  uf     H=    H    H        HH5  uH=    H5            H=    H5            H=    H5            H=    H5            H=    H5            H=    H5            H=    H5            H=    H5            H=    H5            H=    H5            A    1H<    x   L    HtHI~=     tH            K    w=$    HM   #H     H      H     H    H[A^    fffffff.     1ffff.     SHHA3u   $    u\$swHt$HO]VHHGH_>HHGHHGHH GHH(GHH0GH8_H[        ffffff.             t            	    5    @t&H    	    u`           	    @tH 	           ffff.                 DD           D         <    A   =     AA   tE=        A	     AA   D      9        AA	A	D             t3H        		           G     #5    uB      A        	    9   AD	    H        D9u     		    D%  =  uH        		    AtH        H            AAA	D    AuA0D    D9u!	    =     tH        H         wuEtAuH        1    t1 EADD	
	f.     SD    5    @=    AD             @  =     AuA       5    C  =    6  Ak  b  Y  AAK       t        DD			5    [  t@     H        [D    A  Auu  t@  /  A&u!  u  t  @  K  A&u!  u  t  @    A D      t@        B        tF  H        [    A9  DAA	A	  A|A	     |    AD			5           [AuH        [Au/   @     =       H        [uz      D5        F   I  5    AC  :  1          DD		  H        [ #4       5      t@        G     A9u&DAA	A	A D  D    [%  =  uH        [ AD	<    =    tH        [    	5    u05    [=        H        [H        [?     H        [  @  3H    H=      H        [    A  D H     AD			5           Atp    [DD	 D      D9u_	5    [ wudtufH        [    H   AD		=    [             [D9u	H        [1    t1 E	
		    [D  US            DD           D     =    4    A   =     @   t@AAAD   @   D D    =       9   ?    AA	A	D       5        t;H        ^  		           G   3    #    uFwrA}l9   6    eD%  =  u H           H           		    @t H           H               A	D    uA0H        f=     tH        P wutuH        31    t1 ED	
		    []                    t#        u`           	    t    	           S              =+  t=,     H=    1       =        =       =          =          tH Ht~=E  uw=     u=  w9=,  t2  #    u/        	r'H        [H        [H        [      	/=     t*tf              	    [=  w         %    	           G   [    uH        [=  w         5    	5    tH        [    5    5    u05    [=     tH        [ wutuH        [1    t1 E	
	S        t:   '  t(     D    Aw[=    @P                 tZ    	Hw]H   B  B	  1D    At=     (      tQ1U  H        [H F   E  B    =        O      @     (  t$u uAu=    u     [   %  D=     A   (  =     01AD@D    A@E5    A9Eu  $    @      @=     '  @ @  @        AA	D    AtO    [     r  (        A	A   D    [	           [		    	    [#    AA	A   D        G   [%   @  A  (  '  @=     t@f                  @     A   @A   `E    tA	AE	D    [(  u       AA	D	D	5    [@tQ    A	AB  D    ['  DAA	    D	 F      [DAA	    D	 E      [              u,        1D	    	           [ AD    D    tH        [    D    D    uA0D    [=     tH        [ wutuH        [1    t1 ED	
	g                    t#        u`           	    t    	           P                u11g                 	    t#       t        tE      t@1@u.           HE1        H        tK                @  	   	    t)u `    X=     u
       X	           X     S               u5  w            1  f      %         @           5           r       5           |q   =    rH        [=                     #           5    ]  3   V  G                    11[               u   1        %   =   u=          V  H        [H        [H        [  u'u  t;          =     t!      |    w  g  o     ^     `         P   P    H        [r:H        [    	          Z   Z  |            H        [         H        [  "  >  D      	    u       [    [   &       R   R             	           [tYH        [ x          \   \  |@t@H        [ p          T   T  Mu     H   H  ^5    t@          > h  uS     X   X  5    		    [              	           [    fD          	            t  @         tk    5      @    tt
   ts:    1    t    1       st    1        P=     tH        X    tH        X           =    =    z         h            =    =:  0  @   :  ^  T      1                /      w    =   rH        X5     :        #    :     u    1                         1       uW    tN=:       	    XH        X   tftr    d@@0t7=  w         =    5        X        		4u    1                  	        Xf               ff.            D         tB   =    Bu           H                   tB   =    Bu           H                	                  H    @             u%u!w         	    `@     @t%            I                     H           	    D      	                         H    f.         t   #          	             u<    t3     =        t9}4	    	        tH            F          f.                 D    	        t    	           fffff.     USPD    Au            u'    ="  ?A      [          	r;H          '     rd   s_A   k5         tH                    m  H        S  E1     A    =     <       tD    D    DD	1G    AEtE9=    E=    t.t*tKAU  B$        @  @     tHAA	AE	D    D    h  E"  A&            +  DD	       'AD    D    A   H                      @  @        A   A      A  A  D	    	  "       #            ]      E	D    =        H                =          1A                   D	AA	D       9u]"              A   A  O  #     %                      H            w   Et
A   H                T    #     %         @  @             1       		    H[]6     H        1    t1 EADD	
		                @  @  6  u+    A  A  		    e            f            	    ffffff.         ug     =     D    A   t5    =    =    tH	w?u7	    		=            	rH        D		=             tH            		                     W                      tH        =     tH        5         t>=2  u @  t=1  u>   u6      @	             	        u!                 H         =            D5    	    5    @t@   H        =     @   t@=    A=     usH5    Hugb]uU    AAuC        	@B  =                u%0    %           G   =     tH         wutuH        1    t1 E	
		                    @                 @     =    u  O                	        	    ff.     P    t%=     uNH    HuB% (                  	    tH        ]H        X t@    5    1u.           HE1        H        tK                @  	   	    t)u `    X=     u
       X	           XD  5    5    5        t(    	    tu:H        H        t)%   t2u.H        H         t!u(H        t$H        H        H                   E   f.             t            5    		    9u         t    1        u                uP=)  uI=    =        5    twww9t9t		      =*  utH                	rH              	    5    9u	5    9u	    H            P        9u+         u    1                	    	    	    Xff.                 	        	    fffff.                 	    	    	        	                     	H    	        0t&t       t.uH        H 	                   Hr#;t=     t    A       #   f            	    	    	        	                       u9t
5    9uH        5    			    ff.     PH       H HtH    HuH        W        H        H=            H   H        Hp HxHDH6udH Vu[H        X    tmH=            H   H        Hp HxHDH6u	H VtitH    Z`0    P    Z`(         	 u        %  @ 	    XH        XH        X         PH       H HtH    HuH        W        H        H=            H?  H        Hp HxHDH6uhH Vu_H        X    tqH=            H   H        Hp HxHDH6uH V   tH    Z`0    P    Z`(          O t"tN     	 tH        X  @ tC       	    	    XH        XH        XH        X    D  PH    tVH=            H   H        Hp HxHDH6u	H Vtst6H    Z`0                t%H 	    X    P    Z`(                      XH        X    f.     PH    tZH=            H   H        Hp HxHDH6uH V   t<H    Z`0    t=           r6u?H        X    P    Z`(H        X  @ tI          		H%  	    XH        XH        X    @             	    	=    	=    5     5    t9u    1    9t	9t9t    1    ffffff.                 	    	        9u    1    f.     P    	        u1   J             uH        X            t#       t        tE      t@1@u.           HE1        H        t%            @u(       X    @=     u
       XfD  P    u    1        	    Xf.         u    	    H        fD  P    t%    u    1        	    X=    u4       "   tB   =    Bu           XH        XH        Xf               	    ffff.                 		    ff.                     	    	    fffff.                 	5        	    9u    1    f.                 	    	        fffff.                     	    f                 	        f                     	    f     P    t tH        XH        XtH        X           	   5          t01u!           HE1        tX                @  	   	    t6u-`    XH        X=     u
       X	           XfD  111U  D  P    tH        X    tH9    uUuH        X    tEu	P        tYH    5    9u+ (  t!    0H        XH        XtH 9t9u    1                        uH        X    	    t#       t        tE      t@1@u.           HE1        H        t%            @u(       X    @=     u
       Xf             t    A    uH            	        t)    	    tu;H        H        t*   t2u.H        H         t-u4H        
	           E   H                    E                    	    	    	         P    u    1        	    Xf.     P    u(    u    1        	    XH        Xfff.                     t           =     tH            uW    u	=    uC    t:    0    	     tO               u    tH            u=    t    	    H        ffffff.             	w*=    t!         		        u%         		    H        @                 
	    f                   w&=    tww    tj5    t`5    u4  w         		    	        t2    t(H             		    H             =     t    ffffff.     =     tH        =     t    f.             uJ@uE    t:=     u=H    Hu1        	            H        H               #    =  u+            	        L   H                    uZ@uU    tJ        9tF9tB=     uEH5    Hu9    		            H        H        H        fff.       #    =  u6            	    	        L   H        fff.                   	            tFu
`    	    t    	                        	    	        tb=     tH        H    Ht7      u        HH
 p  	H	                             	            tFu
`    	    t    	                                	        tb=     tH        H    Ht7      u        HH
 p  	H	            fff.         	     =     tH            	    fffff.                 	            tFu
`    	    t    	                            	            t3=     tH            
		    ffff.         t=            	        u8`     #        	        	    	    t    	           fff.             u	        	    	        t3=     tH            
		    fff.                 	        f                     t        fD              	        
	    fffff.                 	        	    fffff.         t=    tH                       u	    t  -     fff.                   	                     	    	    D              	        f                     	    f              t=    u                 D      tH            tH9    uuH        H                	    fffff.             t    9u&H        uH        H        	    	        tH        H    tQ9    uBuH            9t3q9t,H 9t$    	H	    H        H        f     H        u	Q    5    9t3    9t)H 9t!9t5    		H	    H        ffff.                 	    	            C           ff.     =     tH                      			    f.             !rH                  		    fff.             !rH                
			    D      u
               !rH                      		         u
               !rH                5    	
			                !|H                    	  	    D          !|H                5    	
			    f           @     tpuH        uquH            	    u       	%   	    fffff.                qus   u&H        pu-r   tH                	        	    u5           p  				    D              		    ffff.     P    t%=     uqH    Hue% (                      uH        X    	    tH        ]H        X t@    5    1u.           HE1        H        t%            @u(       X    @=     u
       X     =     tH            rH        	               K   f             D  =     tH                r5        u*tt
t
  	    	        uH            		        F   f.         u    tH        H            uH            u   tH            		                 D    t    u7H           #    		  `        G   	        tH                    u
0    =     tH         wutuH        1    t1 E	
		5                 t            	    	    @         t            	        fD  P    t tH        XH        XtH        X           	   5          t01u!           HE1        tX                @  	   	    tMu-`    7H        X=     u!       	           %    Xffffff.         	         	             t$       `utH            	    f.             t$       `utH            	    f.         	                	        0t&t       t.uH                               Hr#;t=     t    A       #   fffff.                     @             	    ffffff.     P                Q1  $         @  @       tq=        H    H      u1    tkHcH5       u
HH5    u    t        H    	        0t4t       t=u-H        XH        XH 	       X            Hr);t$=     t    A   X        #   XfD          	     		    f                 		    f        	    	    fPH    HH    HtH    HuH        W        H        H=            Ht}H        Hp HxHDH6u	H VtEt*H    Z`0        H	    X    P    Z`(H        X                	    	        0t't       t$uFH                       Hr/;t*=     t    A   H            #   fffff.     H        t            HH H
%  @ 			        H    t;    HH H
%  @ 	    	            H        ffff.     H    HH 5    t    5        	    |9    t=     t     H=     u0H        #    HH%  		        	    fff.     H    tAHH                 ~E    t=     t,    *H        H=     u1H        $    HH  		        	                 	    		     		            	    ffff.         |9    t=     t     H=     u*H            		        |8    t=     t    H=     u%H            		        |9    t=     t     H=     u*H            		             	                	        |8    t=     t    H=     u'H            		    fD      |9    t=     t     H=     u*H            		        |8    t=     t    H=     u)H            		    fff.         |9    t=     t     H=     u*H            		        |8    t=     t    H=     u)H            		    fff.             t       )       =    tH                   |4    tt     H=     u,H            		        |3    tt    H=     u'H            		            t       )       =    tH                   |4    tt     H=     u,H            		        |3    tt    H=     u'H            		            	     		    f             	     		    f             	     		    f             	     		    f         |9    t=     t     H=     u*H            		                    0t't       t$uFH                       Hr/;t*=     t    A   H            #   fff.     H    HH 5    t    5        	    |9    t=     t     H=     u0H        #    HH%  		        	    ffffff.     H    tAHH                 ~E    t=     t,    *H        H=     u1H        $    HH  		        	    ff.         |9    t=     t     H=     u*H            		        |9    t=     t     H=     u*H            		        |8    t=     t    H=     u%H            		    fD      |8    t=     t    H=     u)H            		    fD  =    u5         	    	    	    H        fD  =    u5            	     		    H        fD      |9    t=     t     H=     u&H            		        |9    t=     t     H=     u*H            		        |8    t=     t    H=     u)H            		    fD  S      (   1u           1j  H=    u            Ht`H        Hp HxHDH6u	H Vt(tH    [`0    P    [`(H        [         S   1(   1u           A   1Li  H=    u            Ht`H        Hp HxHDH6u	H Vt(tH    [`0    P    [`(H        [    D  S   1(   1Lt           A   1h      HHHI%   uS        		    5     				=            =     t   	            [fS             (   1\s           1g      HHHI%              5     				=            (   1r          @ 1g      6t	8       HI%   u5        		w        i            |9    t=     t     H=     u,H            		    =     t   	            [    fffff.     P                W                     H=    t            Ht`H        Hp HxHDH6u	H Vt(tH    Z`0    P    Z`(H        X    fff.     P                W                     H=    t            Ht`H        Hp HxHDH6u	H Vt(tH    Z`0    P    Z`(H        X    fff.     HH      (   1o  z  W)D$0)D$ )D$)$H$    HD$    HD$0    HD$8    wuHH4HtUH=        H   H        Hp HxHDH6u	H VtJt+H    P0HHH=     uH        HH    P    P(HHH        HH        S   1(   1n           A   1c  H=    u            Ht`H        Hp HxHDH6u	H Vt(tH    [`0    P    [`(H        [    D  S   1(   1n           A   1\b  H=    u            Ht`H        Hp HxHDH6u	H Vt(tH    [`0    P    [`(H        [    D  S   1(   1\m           A   1a  t##    H=    u\uc    hH        =     u!=           t		        tp     1[t  u                HtmH        Hp HxHDH6u	H VttH    [`0H        [    P    [`(H        [    S   1(   1l           A   1\`  tH=    uT    RH        =     u!=           t		        tZ    tu[           HtH        Hp HxHDH6u	H VttH    [`0H        [    P    [`(    	 1[Wr  H        [    D  S   1(   1j           A   1,_  t.#    H=                 H        =     u!=    ,      t		                        (   15j       @   @ A ( 1u^      HHI        * HH[k  u                HtH        Hp HxHDH6u	H VttH    [`0H        [    P    [`(     1[p  H        [    ff.     S   1(   1i           A   1\]  t##    H=    u\uc    hH        =     u!=           t		        tp     1[o  u                HtmH        Hp HxHDH6u	H VttH    [`0H        [    P    [`(H        [    USP      (   1g           1\     -                1[  H=    r            H  H        Hp HxHDH6  H V  H        d  H        =     u!=    +      t		                (   1f       @  ( 1[  HH     5    	5    	 * H@
			    E    E	    =     A     	   0             H<  H        Hp HxHDH6   H V   H                   H   H        Hp HxHDH6uWH VuNH                   H   H        Hp HxHDH6u	H Vt[tH    H[]`0    P    H[]`(H        '       H        H        H[]     P           tn   H=                  H  H        Hp HxHDH6  H V  H        X    t      H   H        X          Hy  H        Hp HxHDH6	  H V   H        X        H&  H        Hp HxHDH6   H V   H        X    	H    
    	HH   	H  @ 		    =     tw   |H        X        HtuH        Hp HxHDH6u	H Vt=tH    Z`0    P    Z`(    	    XH        X    P   #        H=    tt    t                Ht`H        Hp HxHDH6u	H Vt(tH    Z`0    P    Z`(H        X     SH0      1D$ (   D$   D$   D$   $         A   A   ]a  l                 ;    7  H                W            HHH  H4    c    KrdK6  D    Eu!=    U      t		          5        @j  b      HHI        D    Eu#=    ]      t	        f  tH            		=    	 * H@		   E         	       g  Kw!            >                      HD        ;      H                W            HHH  H4    t	  HH4    .  H=     x  H        h  K\  =  	4  HH4    H=        H  H        Hp HxHDH6   H V   H          H                  H=       H          H=       H        v  m              HDH=        HI  H        Hp HxHDH6uH V   tH    H0[`0    P    H0[`(    )    HHI        tH            		=    	 * H@			    E    tJ%   	       =H        0H=     u&H        H           5    H0[    D      D@ %    4@ AVSHH"   #   1D$@(   D$8&   D$0'   D$(   D$    D$%   D$$   D$   $       !   A   A   k[      C!   I   @   $            @   0 1O  H        L9upH=            H.	  H        Hp HxHDH63  H V&  H        H=       HH[A^    u!=    ?      t		              	    	< 			* H@	  D	          @   0 1YN  H            L9                >   ~9   %   	    H=        H  H        Hp HxHDH6  H V  H        =     u!=          t		                [      =     }     	     H=     	H        H=            H  H        Hp HxHDH6  H V  H            9             W            H=            H0  H        Hp HxHDH65  H V(  H            9    H                                         W            H=            Hm  H        Hp HxHDH6r  H Ve  H        J          @@=     u    @    	 	    	    	]          PP=     u    P    	    	    	 	       (    p    @ 1|J  HH     EE         5             H           (     @ 3@  1J  HHH     EE         D            H        H=            HY  H        Hp HxHDH6ubH VuYH        >H=            H  H        Hp HxHDH6uH V  tH    HH[A^`0    P    HH[A^`(H        H        H=     H        H=     uH        eH        UH        EH        5H        %   E1@   19      A         DE1@   19        A            H=     H        H=     vH        fH        VH        FH        6H        &H        uA   D	      =     u           		    `		zu   A   DDD	    =     u    D   AA   A	A	    `	D		=    %        ffffff.     S1   (   1Q       @   @ Aw   1E  HH * H    =    	    		    	=     @			t     E    E	    =     t   	          [ffffff.     S1   (   1P       @   @ A   1D  HH * H    =    	    		    	=     @			t     E    E	    =     t   	          [ffffff.     S1   (   1O       @   @ A   1C  II 5    D    D    5    * HA    D	5    			5    EA @A	D		At"A    E  E  E	    =     t   	          [     S      1   (   1_N       @    A @ 1B  II     5    5            HLI* H    B    				     @			At"A    E  E  E	    =           	            (   1BM       @    1A      HLI* HD            AA @AHHH%  8 B4    	D				D		    =     t   	             [fS      1   (   1OL       @    A @ 1@  II     5    5            HLI* H    B    				     @			At"A    E  E  E	    =                    (   1:K       @    1?      HLIA* HD        =    AA @AHHH%  8 B    	D				D		A	    =     t%   	          [ S       1   (   1:J       ` 1>      H%H@D    * H    =        AA @D					D		    =        AA   A	A   D    [      (   1lI      (   @ 1=    H #    HR4    5        @u1    @E=    9E  $    ?s             [uT	   ?            	   @X     |G   9'  %   9  %   9  %   9  9u 	  9  %   9q  H=     ;  H        [@`  N   |G   9  %   9N  %   9T  %   9^  9u 	  9L  %   9   H=       H        [    	 	  9  %   9   R      9   %   9   %   9   %   9   9tH=     
  H        [	 	  9to%   9      V       9tA%   9u
   ,%   9u
   %   9      * H@	    	p   					    =     t%   	          [9H=     uH        [        S1   (   1lE       ` 19  * H        		5        AA @			D		    =     t   	          [       w  1K  ffffff.     w    1M  ffffff.     w       |M  fff.         1_M  ffffff.        w  1oK  ffffff.          1OK  ffffff.     S1   (   1C       @   @ A p  1,8  H * H    5    	5    		    	=     @		t"    E    E	    =     t%   	          [ffffff.     S    tj      (   1B       @   @ A   1 7      HHI        * HH[LD  1   (   1yB       @   @ A   16  H     HH4I* H    <    	5    		    	=     @		t"    E    E	    =     t%   	          [f.     S1   (   1lA       @   @ A  ( 15  * H        	    =     @					   =     t   	    [D  SH     t?    D$    )$                D$    ($-                                1   (   1<@       @   @ A  ( 1|4  * H        	    =     @					   =     t   	    H [S1   (   1?       @   @ A  ( 13  * H        		5        AA @			D		    =     t   	          [fff.     S      (   1>       @    12  HH           )   A* H    AAA5    AA @HHH%  8 			    D		D		A	    =     t,   	   "%    [H        [       [fff.     S      (   1=       @    11         HH 9   * HD    DAA    AA @HHH%  8 			5    	D	D		    =     t    	   H        [       [ffffff.     S      (   1<       @    10         HH )   * HD    DAA    AA @HHH%  8 			    	D	D		    =     t%   	   H        [       [S      (   1;      @    1/         HH 9   DAD    * HD    DAA    AA @HHH%  8 			D		D	D		    =     t    	   H        [       [ffff.     P       @    1.  HH!5       c  )Y  AHH5    AAA    AA H  8 		    D		D		A	    =        %   	      %        1          @    1.  II!    HH4R   A   DDD    5    =    AA E    AE  E  ED		D			   =     t   	    XH        X       Xf.     P      
 @    14-  H!       1  )'  HH    AAA=    AA H%  8 		    D		D		   =     t   	    X%        2         
 @    1t,  H!    HLI5    =    AA D    AE    EB    	D			   =     t   	    XH        Xfffff.     P       @    1+  H!       2  )(  II    =    AA HA  8 	D	    		D		    =        %   	      %        /          @    1*  H!    HLI5    =    AA D    AE    EB    	D			   =     t   	H        X       Xffffff.     S       @    1$*  H     9       HHI    4    	    	 	    E    E	    =                     @ w   1r)      HLIA        AA HHH%  8 B    				D		A	    =     t%   	          [P    tr      (   1P4      HHI    4    	5    	 * H@		    (    H%H@        6      =     t%   	          XP       @   @ Aw   1'  II         	5    AAA    AA E    AE  EA  DE	D		D		D	    =     t   	          XP       @   @ Aw   1&  II         	5    AAA    AA E    AE  EA  DE	D		D		D	    =     t   	          XUSP    tV       @   @ Af   1&      HHI        HH[]>3         @   @ Aw   1%  II     HLI    AAA5    =    AA A    E  E  EB    D				D			    =     t   	          H[]fff.     P       @  @ Aw   1$  II         	5    AAA    AA E    AE  EA  DE	D		D		D	    =     t   	          XP       @   @ A   1#  H!        	    		    	     E    E		    =     t%   	          XUSP    tV       @   @ A   1#      HHI        HH[]>0         @   @ A   1"  II     HLI    AAA5    =    AA A    E  E  EB    D				D			    =     t   	          H[]fff.     USP    tH[]       @   @ Aw ! 1!  II     HHIu
L    L    5    AAA    =    AA A    E  E  EA D				D			    =     t   	          H[]D  S      (   1I,       @   @ A   1   H     * H   9sv    5    	5    		    	 			    =     t"   	   H        [       [S      (   1Y+       @  p  1  5       t    tH 9   * H    		5    	=     @		   t"    E    E	    =     t %   	   H        [       [fD  UAVS         	   (   1)*  A     @  p  1Dm  HH         EED    Eu!=      5    t		5    AA    HHI-        A * DH@H%  D						E    t}%   	          
      (   1)      p    @ 1V  H     HHI         t&u           u  @         	    	* H		    =     t       	    H=     uH        [A^]     P       @ w   1d  HH      5    =    AA 			D		    =     t   	          XfD  P       @    1  H!    HLI5    =    AA D    AE    EB    	D			   =     t   	    Xff.     P       @    1  II!    HH4R   A   DDD    5    =    AA E    AE  E  ED		D			   =     t   	    XfP      
 @    1T  H!    HLI5    =    AA D    AE    EB    	D			   =     t   	    Xff.     S      (   1I%       @  p  1  H u u    0   [  * H    5    	5    	=     @		   t"    E    E	    =     t%   	          [f.     S      (   1I$       @    1  H * H    5    	5    	=     @		   t"    E    E	    =     t%   	          [@ S      (   1i#       @ w   1  II 5    * H        			     @		   At$A    E  E  E	    =     t   	          [S      (   1y"       @ @ ( 1  II 5    * H        			     @		   At$A    E  E  E	    =     t   	          [S      (   1!       @    1  H * H    5    	5    	=     @		   t"    E    E	    =     t%   	          [@ S      (   1        @    1  H * H    5    	5    	=     @		   t"    E    E	    =     t%   	          [@ S      (   1      @    1  H * H    5    	5    	=     @		   t"    E    E	    =     t%   	          [@ P      (   1  * H        	    	 @		   =     t   	    Xf.     S      (   1i       @  p  1  H     HH4I* H    <    	5    	=     @		   t"    E    E	    =     t%   	          [fP        @   @ A   1      HrH=        H        X        	    		    	  		    =     t   	          XUAWAVSH8           H%H@           (    p  1  HD$0    G      !  H $    5    D$$    HT$0   A   A    1        @               H%H@        1   (      1                 @     <      `0   ?      H%H@           (    p  1  HHH D$4        EADE@   1  -        9u>9~  D5    V  M  D  H        p  H        `  5    D$D$@   D$    $    HT$0   A   A   1        `       l       ^        H          -    D$(D$    D$    D$@   D$    $@   HT$0   A    A   1a  a      ``  t                   H             u    `    @uH=       H          H         E@ E	    =        	?HsH        r  t@uH        Y      	    <    A$    D$$    HT$4   A   A    1D     |$4      0         `@uzt	         E@ E	{9          E@ E	KH        SH        FH        9    E@ E        L$0	            	    	         t"t'    u$H        LtH        5	        =     t          H8[A^A_]H=     AH        1D$D$@   D$    $    HT$4   A   A   1D  |$4                  H        D$(D$    D$    D$@   D$    $@   HT$4   A    A   1DY  Y|$4 t= t!t1u&   1u   A@       D	        tuAO               AOA
A	A	D=    ff.             	       		    D      |9    t=     t     H=     u*H            		               	             	   +     		    @     |9    t=     t     H=     u*H            		       +         	    f        	    +     		    @     |9    t=     t     H=     u*H            		        +         	    f            	    f            	    ffffff.             9uH            	    ffffff.     =    tH        ff.                     @             	        f                 	        f                     	    f                 	        	    fffff.     S5    5    $   =     tD       	        0t(t       t+uH        [H        [            [fD  H    HH t    =    uq               	HH	        0t(t       t=Hu+H                   H                    Hr#;t=     t    A       #                       t^tW _   		   	
%    	   5       	    	            	    0t't       t)uH        H                    Hr#;t=     t    A       #   D              		    ff.         t'            	            tv            	           1      r7   sN        %           MH               %  p            s%	        		       ffff.                 	       		                			    ffffff.                 	        	    fffff.         	                    	    f                     p			    f.                 	    	        fffff.     UAWAVAUATSH   |$t')D$)$)T$)\$ )d$0)l$@)t$P)|$`LL$LD$HL$HT$r#    u                H    HL$H$   H$   H$   $   0   $      E1Atq1$   E1fffff.     (wHcH$   $   @ H$   HZH$     ` =	  Tp    DEH9r-           t19 p  H9r      =    EH    J      A1A   A9   LpJ    HH   @ t\t	HH!HHDt   4t   (t    t   @IEf     H L!H	H    HA9be  U  M  1tt=     tH    H       rCHH    y tHAH    HC9 tH)H,    HH(9HuEK<        d  1A   f.                LpJ    HH   @ tdt	HH!IMDDDt   :t   .t   " t   @IEffffff.     H L!H	H    HR9j  Lt$HD$D$1HD$1HD$1  E1f     FDpEA  @ D  HD$D  EADDEAEAD D$D@D$1   fff.     !  @ V  A    u2A   "" u$A    DD uA@      @    uF   u<   u2   u(      u        f.     DAEDEumE   E   |$ $  |$ u~  $    A?7  A   A`  A+  A    K       A?!A   A-  Au\A     A@  A     A?!A   A   AunA       A@   A      A    A      A?!A   A   AuEA      A@   A   }A utA@   oA   AtcA@uA   UA uLA   GA u>A   9A@u0A   +A u"A @  A   AtAuA   E1D	  B    B    J@   Eu
   u5u
    u& u
 @  u@u   t        HL$tRA   t/HL$HJ<        |$D9<    n  EtUA   l$   DA    EL$EL$EHD$DHT$|$  f     |$  $    ?/       T      |  Dl$|$   Au5   Au*   Au   A uA@   H\$D 9  9$    ?                        @                        ?P      uy      ?:   tzug    n@ug   b@u[   V@uO   J@uC   > u7   2 u+ @  & u    u    u@   1   IA9@HD$HD$HD$H       H=        H        {H=     ugH        ZH=     uPH        CH=     u9H        ,H=     u"H        H=     uH        H    H   [A\A]A^A_]ffffff.     HHt')D$)L$)T$)\$)d$),$)t$)|$ LL$LD$HL$       HD$HD$@HD$PHD$8D$40   D$0   DL$0fff.     A(wIcHL$@ADL$0    HL$8HAHD$8	t?A(wMcLD$@ADL$0fLD$8I@HD$89uA90u   1HHH=     uH        HH    1HHSHPt')D$)L$)T$)\$)d$),$)t$)|$ LL$LD$HL$HT$Ht$    u                HD$HD$@HD$`HD$8D$40   D$0   A(   E1ffffff.     H4L    A   1f.     H    tnH        HwM$        4     &    

   fEEA;rEu@HcL$0H(wHHD$@IL$0@ HD$8HHHL$8 ('(   E1Et(tH    HuH        HP[fD    II     AAA u   w)Aw#AA	2AuwAw	AA	E1H=     uH                	    	EAEA D	D			A    E  E  E		    =     t   	          ff.     UAWAVAUATSH      (   1A    (   @ 1D0IE   MI     D$D%    -    #    AwDDtH        
  D<$HL$LD$DE  uzAA?"At*Au*E.H           A@   E
A    |$ D$D<$HL$LD$DE   tw    T$	5    	* DH@			L$p   			5    H[A\A]A^A_]H=     uH                 S|$uS  u] uS      >   ~9u4u0A   A8     	   [A@     t         t         t                  t         t   u   t   um      r_A8A  							A       9   A    9u1[   9u   [   9u   [   9u   [   9u   [  9u   [9uLA|9u!   [9u-A8t'      9u	1
   [9t[fUAWAVSPA1   (   1A  @          @ 1DA    H   HI    * DH    =        AA @					D		    =        %   	      HH H<I* DHD9-        	    		=    	-     @			t     E    E	    =     t%   	             H[A^A_]USH    tWc      "      L$    )$                L$    ($        (   1p       @ @ 1HH     HHI5    <    	=    	 * H@
			    E    E	    =     t`   	   R                                   @   H[]       H[]    UAWAVAUATSPAAD$A   rADADA    tADADD   E1   1D.tH          A@   1DDtH        A     A      1DtH        R     1DDtH        A   $           1DttH        A              1DAtH        A     EA        1DDtH        A        @  1DDtH        A   R       1DDtH        A   !     @  1DDstH        A	     A        1DD;tH        A
           1DD
tH        A          1DDtH        A   V        1DDtH        A   %       1DDwtH        A            1DDFtH        A           1DDtH        A            1DDtH        A   d         1DtH        A   4         1DAtH        A   DH[A\A]A^A_]    SHcH<    t:    L            Atu>H        [H        [t0   t9u5H        [	t9H        [ tYuaH        [t#tH        [@tKH        [tJ       A@tV   HH        [tIH        [ tZH        [       A@t           E   [ 	      D	        E   [tH        [t   tH        [        A@t<=     tH        [H    HrH        [H	            [ffffff.     UAWAVSPAA   5    Et        Gt     r*H             H                EtEH    H=                 	             H=    1        	   vv 	t    	  N1    @ 	   vv.	t$    	  -         H    Ht6            9  u9  tH  HuHuZ       1H                      H    H  H      H    HH   u2       1        H      H         1Hto5    H    t;H=    Hk1fff.     9u uuH9UuH9}t/H 9r#Hs1     > uH9Vt
H 9r9u==  vH              H    D              HH    H  H                 E          uED     1H[A^A_]f.     UAWAVSPA   #-     tH        t4%   =   uH        sVEtQ    1I    =tH        Et+s&!   )t    1I    LJ    tE           |%   Ett&        5t"                           	  @-        E E		    H[A^A_]     UAVSH AHHHPHCW)D$)$H-    H        H<$         T$H    H-    uH    HuH        uXHT$HHHwvIcH    5    	4        5    	4        @,u-HD$IcH    H t        @H1H [A^]AWAVATSPII    uCsIw)!t#   I   HIWAGAL%    IH        L         AGu-H    IL%       H=     u_H        Rt(u#H        H    IL%       %H    IL%    1H        H[A\A^A_    ff.     UAWAVSPII.       H    A  @ tn       H    E1tU    H H HKHHu_tH=    HH)H    HH   IA   H]H_uSH    H Hffffff.     HKHHu_tH=    HH)H    Ht@,    H XtH          	 HHD	IH[A^A_]fffff.     UAWAVAUATSHxL/D$D    AE {u It.uGHt$D$D      LH        s  Ht$H|$D$D          VHt$1uD$D             t=     tH|$    H|$H|$        \$,1HD$81HD$ 1HD$0    Ht$0HT$8t$DLl$HH|$HHT$DHL$P  AA  D$P  A9  |$DD|A9ANEDAHT$0D  Ll$HDt-HD$ u$    1l$H    Hl$   HD$ A	HD$8AE -   L$0It$DLl$`1H|$`HL$h1    D$hk  ;D$,  |$DD9  Ll$`A96fffff.     ADDu~A	A9~HL$8D$0AE L$0DI,\$,x\  9T  HD$(@~1fD    9|HD$L(  H           H=        D$DH    H       H=        H           H=        H           H=     uzH        mH=     uH        D$DH    H    >H=     u/H        "H        H        Hx[A\A]A^A_]    ffffff.     UAWAVATSH AIIH+D    H Dht\A$    tQHfD  HMHDHu_tH=    HH)H    HtI/HHHtu	x	 tiI       L  I,   HIH<$1L       D$toH           @IcH                H        I1,   HI1LDH [A\A^A_]   HD$w$uH    H   rH        >H        1    )HHH	H5                   1H [A\A^A_]D  UAWAVAUATSPAt$II    IIE If     LHM LuDHuHH)   H=    H    H   DAV  X$      AF tIE  IIE DP         Lffff.     HMHDHu_tH=    HL)L    H   HHHt	   x	    @T$HcH        T  H        H[A\A]A^A_]t?H        t(H        tH        AF tI    AtINLB   IW        L%    L5                         uH        L%    u?L%    H=     H        H        H-    L%    T$HcH#    	       I/1    UAWAVAUATSH   AHLm Ll$XAE [   t$,Hl$ M}L|$XImD    H0DntxA    tn\$ILfHLH]HUDVIu_ItH=    HL)L    HM|$tH\$XHHHtux	   L|$XH           	  =u
ILl$X'       HcH                 uAE wILl$XW        H    L-                         7	  u6H    HD$XH       H=     /	  H        	  H    HD$XH    HE 1	  @t$,HcH    L,            ,  HuHt$X  AM M-uHT$HHl$XP  AE HT$+uHHl$XHHI DPt|    tsMEMHHH]HMDHu_tH=    HIL)    HMLEM|$t"H\$XHHHt
tHx	   Ht$X:   HFHD$X    MtwHHt$XHW)D$@)D$0H-    H        H|$0         D$Hu`H        H    HD$XH-      AE @t%AE HHt$X   :uKL$Ll$HF1ab  H    HD$XH-    H=     \  H        L  #   N#:   L$Ll$HFDd$HHDHt$XH    E1L3L    IMcLHL    uBD- :  IHA
rH           7      t
vM)  MHHt$XW        H-    H5                         uXH        H    HD$XH-         H    H\$XH-    ,  H           p     H    HD$XH-       H=     A  H        1  @HT$    AM ,t$,   IMHHl$XH|$X      0  H\$XML   H    H\$XH-    Mt$,HT$|I H       LH HD HD$X      Dt$  HD)HD$X  D$@HT$    A#E AE Mt$,]   HCHD$XC,   LsLt$XC{Hl$    IHCHD$XKwHH\$XHW)D$p)D$`H    H        H|$`         L$x   H        H    HD$XH       H           T  !Hl$ uHH\$XAMAE 0u   AE         H        HD$XAE  (  AM tDH             uQH    HD$XH    H=     uOH        BIt$,AI-uDHH\$X h  AE AH    HD$XH    T  H           X  +uHH\$XIII DP~      q  LHHkHKDHu_tH=    HL)L    H5  Hl$XHHH    I  Dt$W        H-    H                         u(H        H    HD$XH-       T  u]H    HD$XH-       H=     )  H          HL$pH   y  H              H    H\$XH-    A  A  K    r  x	   Lt$XAE @t%AE ILt$XL    Atw	   ILt$XW        H    L5                         uIH        H    HD$XH       H   [A\A]A^A_]H           u/H    HD$XH       H=     uH        H    HD$XH    UJ    
}umHHD$XAE]H           TK        Ll$L$HT$   Ld$E   K        yH           HAE J    t

AE E ,Lt$,HH\$XH|$X      h    Ll$LL$t$,OH           ifUAWAVAUATSHxIHT$AII.Hl$@H] D    H DX   A$    t~HfHKHDHu_tH=    HH)H    HHtBH\$@A   A   A   E	A         I.AAu,Ht$@
   H    wHL$@H9ttIAM'  A AGH    IG  AuOM	t>A   =E	A   t%A	uE	A	   s	DE	AA9  HEHt0D`HE11H\$p.   T$H$|$t$H|$HHt$p  t'H=     uH        t$|$H$T$~|$huELd$HH\$pH\$@t$@|$T$tKAH=        H           H=     |$T$uH        t$H$LH @[uhHCHD$@Au#@t:AH=     uqH        dAH=     uTH        G@D A]uKHH\$@MHD$tA7AWfAEgAOHtD(IDeDHx[A\A]A^A_]Ld$    t'H$|$t$AAwHH\$@HH$|$t$W)D$0)D$ L%    H        H|$          D$8u H        H    HD$@L%    Su7H    HD$@L%    AH=     $H        H    H\$@L%    t$AH=     H        A]HH\$@T$0Ld$t$|$H$w@ UAWAVAUATSHH|$L.Ll$HR  H4$G     1ffff.     Ll$AE .4  I]H\$AmL    L8A   CDg       H Bo0dt=fuNI]H\$IEA       ADGu`   pt3su6A   =ILl$A   @   hA   it  A   ur  A   ILl$L
   HHt$    HA8$  H    H  HT$B D4B LHJ   %       H4$	@ Ll$IAE .   I]H\$AmL    L0CDfu.    H B     sJILl$L
   HHt$    HA8wMH    Hs=LO __uILl$u3I]H\$IEADFu    1    ,H4$@    1uLl$H$L(1H[A\A]A^A_]UAWAVATSAAHH=    H    Htx
 ti1    {H    Hx    ILH           HLe D}Du	E
 HE    H=    LH    Ht*    HD9u@	1D9t1    1H    H[A\A^A_]                                                                                                        `                                                                                   
                                                                                          &                       %   ;   5   /           (                       '   <   6   0           )   =   7   1           +                       *   >   8   2           -                       ,   ?   9   3           .   @   :   4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         @ # eE dDfF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         x                       x                       p                                             @                                @  P                      @ P         0      O          P    0    0  _  _  ]      0  O  _    o        @  P    - ` p  `  p    @        M        O _                                                                                                                                                                                                                            	                      
                                                                                                                                                                                                                                                                                                                                           	                      
                                                                                                                                                                                                                                                                                                                                           	                      
                                                                                                                                                                                                                                                   	                      
                                                                  	                      
                                                                                                                                                          	                      
                                                                                                                                                                                                                                                                                                                                  	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                        
                     
                     
                      
                     
                     
                     
                     
                     
                     
                                                                                                                                                                                                                   	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                            	                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                            	                     	                     	                     
                     
                     
                                                                                                                                                                                                                                                                                                                                                                                                                               	               	                                                                                                                                                                       	                                                                                                                        
               	                                                            
                                             	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        	               
                                                                                                                                                                 @                           @                                                                                                                                       Z>        	                                          Z>       
                                          Z>                                                 Z>                                                 Z>       ?                                          Z>       @                                          Z?                                                 Z?       	                                          Z>       
                                           Z>                                                 Z>       8                                          Z>       9                                          Z>       /                                          Z>       0                                          Z>                                                 Z>                                                 >        E                                          >        E                                          >                                                   >                                                  >                                                  >                                                   >                                                  >                                                  >                                                   >        '                                          >        (                                          >        +                                          >        ,                                          A        A                                          A        E                                          A        @;                                          A        D<                                                  :                                                  :                                                  :                                                                                                                                                                                                E                                                    E                                                    F                                                   F                                                   D       (                                          D       (                                            Y         H                                          Z>       #                                          Z>       $                                          Z>      %                                          Z>      &                                          Z>                                                Z>                                                Z>      6                                          Z>      7                                                  &-                                                  '.                                                  2                                                  1                                          Z>                                                 Z>                                                        0 O                                               0 _                                                 F                                          >                                                 >                                                 >                                                   @        C P                                        @        G                                         @        B @                                        @        F                                                                                                                                                                                                                                                    Z>                                                   Z>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Z     	  )                                          Z     	 *                                              	                                                	                                             <U                                               C                                                 C         P                                        C                                                  C         @                                        ;U                                             ;U                                                 	                                                  	                                             NM                                                MQ                                                    	                                               	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                               	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	 	                                                	                                               	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	 
                                              	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                                 	                                             B                                                 B        =                                          B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                 B                                                         G                                          P       G                                          X                                                                                                  C                                                 C         P                                        C                                                  C         @                                        <U                                               ;U                                             ;U                                                                                               
                                                                                              0                                                0                                              0                                                                                          
                                                                                                                                                                                          
                                                                                              0                                             
  0                                              0                                                                                                                                                                                                                                @        E                                         [B         P                                        [B         @                                        <       @                                        <       P                                                                                        HV       `                                          HV       p                                                k3                                                k4                                                o5                                          d     kD                                          d     oG                                          d     jC                                          d     nF                                          I        P                                          @        P                                        @        @                                        <       @                                        <       P                                        3c     j                                           1c     n                                          =                                                  a     h                                          b     h                                                b                                              b                                              b                                              b                                              b                                              b                                              a                                               a                                               a                                               c                                               c                                               c                                               c                                               c                                               c                                               a                                               a                                               a                                               e@                                              e@                                              e@                                              g`                                              g`                                              g`                                              g`                                              g`                                              g`                                              fP                                              fP                                              fP                                              fP                                              fP                                              fP                                              e@                                              e@                                              e@                                                                                                                                                                                                                                                                                                                                                                                                                                                            d     k                                         d     h                                         d     j@                                        d     h/                                        d     o                                        d     l0                                        d     nP                                        d     l?                                              h                                             p                                                p                                               t                                              t                                              p  @                                             p @                                             t                                              t                                              u  P                                             u P                                             u  `                                             u `                                             u P                                             uP                                             p                                               p                                              p @                                             p@                                        \2      P                                          \2      P                                             \2      P                                             \2      P                                           /      j                                               	 `                                              x p                                             x  p                                        .      n                                                   2I                                                  " 2J                                                  2 2K                                                  B 2L                                          [                                               [     p                                                O                                               _                                        @      @                                        @      P                                                W/                                        E                                                 13      |  o                                        O13     |  `                                        13     z  @                                        13     ~                                              	                                           G        0  @                                        G        4                                                o                                        @        0                                        @        0                                        @                                                @                                                 D                                                     D                                                     K                                                     K                                                     K                                                     K                                                     K                                                     K           
                                          K                                                     K                                                     K                                                     K                                                     K                                                     K                                                     K                                                     K           	                                          K                                                     E                                                   E                                                  L                                                   L                                                  Z>          `                                        Z>          p                                        Z     q                                        Z     s                                        @        A 0                                        @        E                                         .       2                                        e       WP                                        e       W@                                        e       W`                                                                                                 0                                                @                                                P                                        C                                                C                                               C        P                                        C       P                                        C                                                 C                                                C        @                                        C       @                                        R                                                R                                                R      @                                         R      `                                         R                                               R                                               R                                               R                                               R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                                R                                                R      @                                         R      `                                         R                                               R                                               R                                               R                                               R       (                                        R       (                                        R      @(                                        R      `(                                        R       0                                        R       0                                        R      @0                                        R      `0                                        R      0                                        R      0                                        R      0                                        R      0                                        R       8                                        R       8                                        R      @8                                        R      `8                                        R       @                                        R       @                                        R      @@                                        R      `@                                        R      @                                        R      @                                        R      @                                        R      @                                        R       H                                        R       H                                        R      @H                                        R      `H                                        R       P                                        R       P                                        R      @P                                        R      `P                                        R      P                                        R      P                                        R      P                                        R      P                                        R       X                                        R       X                                        R      @X                                        R      `X                                        R       `                                        R       `                                        R      @`                                        R      ``                                        R      `                                        R      `                                        R      `                                        R      `                                        R       h                                        R       h                                        R      @h                                        R      `h                                        R       p                                        R       p                                        R      @p                                        R      `p                                        R      p                                        R      p                                        R      p                                        R      p                                        R       x                                        R       x                                        R      @x                                        R      `x                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                               R                                               R      @                                        R      `                                        R                                                R                                                R      @                                         R      `                                         R                                               R                                               R                                               R                                               R                                              R                                              R     @                                        R     `                                        R                                                R                                                R      @                                         R      `                                         R                                               R                                               R                                               R                                               R      (                                        R      (                                        R     @(                                        R     `(                                        R       0                                        R       0                                        R      @0                                        R      `0                                        R      0                                        R      0                                        R      0                                        R      0                                        R      8                                        R      8                                        R     @8                                        R     `8                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                              R                                              R     @                                        R     `                                        R       @                                        R       @                                        R      @@                                        R      `@                                        R      @                                        R      @                                        R      @                                        R      @                                        R      H                                        R      H                                        R     @H                                        R     `H                                        R       P                                        R       P                                        R      @P                                        R      `P                                        R      P                                        R      P                                        R      P                                        R      P                                        R      X                                        R      X                                        R     @X                                        R     `X                                        R       `                                        R       `                                        R      @`                                        R      ``                                        R      `                                        R      `                                        R      `                                        R      `                                        R      h                                        R      h                                        R     @h                                        R     `h                                        R       p                                        R       p                                        R      @p                                        R      `p                                        R      p                                        R      p                                        R      p                                        R      p                                        R      x                                        R      x                                        R     @x                                        R     `x                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                              R                                              R     @                                        R     `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                              R                                              R     @                                        R     `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                              R                                              R     @                                        R     `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                              R                                              R     @                                        R     `                                        R                                               R                                               R      @                                        R      `                                        R                                              R                                              R                                              R                                              R                                              R                                              R     @                                        R     `                                        R                                              R                                              R                                              R                                                                                                     0                                                P                                                p                                                                                                                                                                                                                                                                                             0                                              P                                              p                                                                                              0                                               P                                               p                                               0                                               P                                               p                                               0                                               P                                               p                                               0                                               P                                               p                                        :@                                                :@                                                :@                                                :@                                                 :@                                                 :@                                                       @
                                               
                                               
                                                                                               
                                              @
                                              @
                                              
                                              @
                                              
                                               
                                        N       
                                               
                                               
                                        C        
                                        C        
                                                 
                                                
                                                
0                                                
0                                                                                                                                                0                                                0                                                
                                                
                                                
                                                 
                                                                                                                                                                                                                                                  
                                              @
                                              
                                               
0                                              @
0                                               
                                                
                                               
                                                
                                               
                                              @
                                               @
                                               @
                                              @
                                              @
                                               
                                              @@
                                               P@
                                              @
                                               P
                                        		       @                                        	      p
                                        	      p                                        	                                                	                                                	       0                                        	                                               	                                              	      @                                        	      @                                        	                                              	      @                                        	                                              	      p`                                         	      ``                                               0
                                              0@
                                               
                                               @
                                        	C                                                	C                                                                                                                                                         0                                                0                                                                                                                                                                                                                                          		                                               		      @                                        		                                              			       0                                        			      @0                                        			                                                			                                               			                                                			                                               			                                               			      @                                         			      @                                         			      @                                        			      @                                        			      @                                        			                                               		      @@                                        	       P@                                        		      @                                        	       P                                              
@                                              
P                                        	      @                                        	      P                                                                                                                                                      2  3                                                B  4                                                R  5                                           #      b  6                                           #        8                                                                                                                                                                                                                                                                                                                    `%                                                   `%                                                   `%                                                  `%                                                   `%                                                  `     c                                              `     s                                                    0                                               8                                                                                                                                                                                                                                                                                                                                         C                                                C                                                 W     3  #                                                 C  $                                                 C  $                                           (                                                      (                                                           q                                                 q                                            _                                                    ^                                                    _                                                  ^                                                  _                                                   ^                                                   _                                                  ^                                                  _     !                                            ^     !                                            _     P                                             ^     P                                             _     Q                                            ^     Q                                            _*                                                  ^*                                                  _*                                                  ^*                                                  !                                                   !                                                   !                                                   !                                                   !                                                    !                                                    !                                                   !                                                   _                                                  ^                                                                                                                                                                                                                                                  0                                              0                                        _                                                    ^                                                    _                                                   ^                                                   _     !                                              ^     !                                              _"        	                                           ^"        	                                           _"        
                                           ^"        
                                           _"                                                   ^"                                                   _"                                                   ^"                                                   _"                                                   ^"                                                   
]
     A                                              
]
     Q                                              ^&                                                   ^&                                                  
]
     1                                              ^     a                                              ^     q                                              _                                                 ^                                                 ^&                                                  _&                                                  ^&                                                  _&                                                  ^&                                                  _                                                 ^                                                 _                                                ^                                                _                                                ^                                                _                                                 ^                                                 _                                                 ^                                                 _                                                ^                                                      0                                               8                                        _8                                                ^8                                                _8     !                                          ^8     !                                          _7                                               ^7                                               _7     1                                          ^7     1                                          _5     Q                                         ^5     Q                                         _7     A                                         ^7     A                                         _5     a                                         ^5     a                                         
4      	                                         
4      P	                                         
4                                               
4      P                                         
4                                               
4      P                                         
3     !  "                                           W     1  #                                           )        !                                           )        !                                           

     P                                           

     p                                           

                                                  

                                                 
'     1                                             
'     A                                             ^
                                                ^
     0                                           
     @                                           
     @                                          
     `                                           
     `                                          
'     Q                                             
'     a                                             
'     q                                             
'     !                                             _.                                                 ^.                                                                                                                                                                                                                                                                                                                                                     $      b  &                                           $      b  &                                           
       
                                         
        /                                           
        1                                           
      !  2                                                                                                                                                                                                                                               p                                                p                                                x                                               x                                               `                                                `                                                                                                                                                  @0                                               @0                                               H0                                              H0                                              @                                                @                                                H                                               H                                               P                                                P                                                                                                                                                      0                                                   0                                           

                                               

      @                                         @      q  '                                            @        (                                            @        )                                            @        *                                            @        +                                            @        ,                                            @        -                                            @        .                                           9        
                                        	9                                                0      @
                                        	0      @                                        3      
                                        	3                                              0      @
                                        	0      @                                        3      
                                        	3                                              0      @
                                        	0      @                                        3      
                                        	3                                              0      @
                                        	0      @                                        3      
                                        	3                                                                                                    (                                              ,                                              -                                              .                                              /                                                 @                                                 P                                               ?0                                               ?0S                                               ?0                                                @                                               P @                                              	  @                                        -      0p                                        -      0pS                                        -      0p                                        -      p                                         -      p P                                        -      p                                         -      x                                         -      x P                                        -      x                                         -       `                                        -      P `                                        -     	  `                                        T                                                         @                                                                                              (                                              ,                                              -                                              .                                              /                                               0                                                0 P                                               0                                         T                                                        P                                               ?P                                               ?PS                                               ?P                                                                                               @                                                                                             0                                                                                                                                           p                                              @                                              P                                                                                                                                                                                  -                                                                                                                                                                                                                                                                                                           0                                                                                                                                                                                                                                                  `                                                ` @                                              `                                               `                                               ` P                                              `                                               ` 0                                              ` p                                              `                                         @                                                  @          P                                        S@                                                @        P                                               `                                               p                                               @                                               P                                                                                                                                            `                                               ``                                              `                                              `                                               `@                                              `                                              `0                                              `p                                              `                                              `                                              `P                                              `                                                                                                  0                                                                                                                                                                                                                                                p                                               P                                                                                                                                                                                                                                    +      @ p                                              Hp                                        +      @                                               H                                        +      @                                               H                                                                                                                                              @                                               P                                        9                                               +      @ P                                              HP                                        +      @                                               H                                        +      @                                               H                                        +      @ @                                              H@                                        +      @                                               H                                        +      @                                               H                                        +      @ `                                              H`                                        +      @                                               H                                        +      @                                               H                                        @                                                   @          @                                        S@                                                 @        @                                              0                                                                                                                                           p                                              @                                              P                                                                                                                                                                                                                                           @                                                                                                                                                 `                                                                                                                                              P                                                                                                                                                @                                                                                                                                                 `                                                                                                                                              P                                                                                                                                                   0                                               ?                                               ?S                                               ?                                                                                               `                                                                                                                                           P                                                                                                                                           `                                              `                                                                                                                                             @                                                 P                                                                                                                                                                                                                                    -                                                    
                                                
                                               
                                                
  0                                             
  @                                             
  P                                             
  `                                             
  p                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                               
                                               
                                               
                                               
                                               
                                               
                                               
                                                                                                0                                                                                                                                                                                    C      @                                          C      @  P                                        C      P                                          C      P  P                                        C      @                                           C      @  @                                        C      P                                           C      P  @                                              E P                                               E P                                              A                                                A                                               C 0                                               C 0                                              Q                                                Q                                               S 0                                               S 0                                              D @                                               D @                                              F `                                               F `                                              H                                                H                                               J                                                J                                               L                                                L                                               N                                                N                                               @                                                 B                                                 F `                                               D @                                               H                                                J                                                L                                                N                                                X                                               Z                                               \                                               ^                                              U P                                              W p                                         6     P                                           6     P                                                I                                              K                                              Y                                              [                                               @  0                                              B  0                                              D @0                                              F `0                                             H 0                                             J 0                                             L 0                                             N 0                                             @                                               B                                                P  0                                              R  0                                              T @0                                              V `0                                             X 0                                             Z 0                                             \ 0                                             ^ 0                                             P                                               R                                               T @                                             V `                                            `                                               `                                              `                                               `  0                                                     
    
                                               	    @   	   @ 	   @     @
   @  
 @  	 @   @   @    @   @          0   0   0       0   
                                                               @@
 @ @
@ 
 @
@@
@

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          @                             
            	                                                                                                                                                                                                                                                   @A@A          @ @    CCB (`p F@@@@   h x  V ^ H H           @C@CCC@B@B C C   @AAAA  ` p      @  B  0@0.0 1.0 2.0 3.0 4.0 5.0 0.5 10.0 ARM register expected bad or missing co-processor number co-processor register expected FPA register expected VFP single precision register expected VFP/Neon double precision register expected Neon quad precision register expected VFP single or double precision register expected Neon double or quad precision register expected VFP single, double or Neon quad precision register expected VFP system register expected Maverick MVF register expected Maverick MVD register expected Maverick MVFX register expected Maverick MVDX register expected Maverick MVAX register expected Maverick DSPSC register expected iWMMXt data register expected iWMMXt control register expected iWMMXt scalar register expected XScale accumulator register expected bad call to MD_ATOF() req dn qn unreq bss arm thumb code force_thumb thumb_func thumb_set even syntax word 2byte 4byte 8byte file loc loc_mark_labels extend ldouble packed bad instruction `%s' s suffix on comparison instruction is deprecated selected processor does not support `%s' Thumb does not support conditional execution incorrect condition in IT block thumb conditional instruction not in IT block cannot honor width suffix -- `%s' width suffixes are invalid in ARM mode -- `%s' attempt to use an ARM instruction on a Thumb-only processor -- `%s'  data: /data undefined symbol %s used as an immediate value invalid constant (0x%x) after fixup unable to compute ADRL instructions for PC offset of 0x%x invalid literal constant: pool needs to be closer bad immediate value for offset (%d) bad immediate value for 8-bit offset (%d) offset not a multiple of 4 offset out of range shift expression is too large invalid smc expression invalid swi expression invalid expression in load/store multiple misaligned branch destination branch out of range conditional branch out of range co-processor offset out of range invalid offset, target not word aligned (0x%08x) invalid offset, value too big (0x%08x) Unable to process relocation for thumb opcode: %x invalid Hi register with immediate immediate value out of range invalid immediate for stack address calculation invalid immediate for address calculation (value = 0x%08x) invalid immediate: %d is too large invalid shift value: %d the offset 0x%08x is not representable bad offset 0x%08x (only 12 bits available for the magnitude) bad offset 0x%08x (only 8 bits available for the magnitude) bad offset 0x%08x (must be word-aligned) bad offset 0x%08x (must be an 8-bit number of words) bad relocation fixup type (%d) unsupported relocation on symbol %s virtual memory exhausted sy un st unst ish ishst nsh nshst osh oshst r0 r1 r2 r3 r4 r5 r6 r7 r8 r9 r10 r11 r12 r13 r14 r15 R0 R1 R2 R3 R4 R5 R6 R7 R8 R9 R10 R11 R12 R13 R14 R15 a1 a2 a3 a4 v1 v2 v3 v4 v5 v6 v7 v8 A1 A2 A3 A4 V1 V2 V3 V4 V5 V6 V7 V8 wr sb sl fp ip sp lr pc WR SB SL FP IP SP LR PC p0 p1 p2 p3 p4 p5 p6 p7 p8 p9 p10 p11 p12 p13 p14 p15 P0 P1 P2 P3 P4 P5 P6 P7 P8 P9 P10 P11 P12 P13 P14 P15 c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 c10 c11 c12 c13 c14 c15 C0 C1 C2 C3 C4 C5 C6 C7 C8 C9 C10 C11 C12 C13 C14 C15 cr0 cr1 cr2 cr3 cr4 cr5 cr6 cr7 cr8 cr9 cr10 cr11 cr12 cr13 cr14 cr15 CR0 CR1 CR2 CR3 CR4 CR5 CR6 CR7 CR8 CR9 CR10 CR11 CR12 CR13 CR14 CR15 f0 f1 f2 f3 f4 f5 f6 f7 F0 F1 F2 F3 F4 F5 F6 F7 s0 s1 s2 s3 s4 s5 s6 s7 s8 s9 s10 s11 s12 s13 s14 s15 S0 S1 S2 S3 S4 S5 S6 S7 S8 S9 S10 S11 S12 S13 S14 S15 s16 s17 s18 s19 s20 s21 s22 s23 s24 s25 s26 s27 s28 s29 s30 s31 S16 S17 S18 S19 S20 S21 S22 S23 S24 S25 S26 S27 S28 S29 S30 S31 d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 d10 d11 d12 d13 d14 d15 D0 D1 D2 D3 D4 D5 D6 D7 D8 D9 D10 D11 D12 D13 D14 D15 d16 d17 d18 d19 d20 d21 d22 d23 d24 d25 d26 d27 d28 d29 d30 d31 D16 D17 D18 D19 D20 D21 D22 D23 D24 D25 D26 D27 D28 D29 D30 D31 q0 q1 q2 q3 q4 q5 q6 q7 q8 q9 q10 q11 q12 q13 q14 q15 Q0 Q1 Q2 Q3 Q4 Q5 Q6 Q7 Q8 Q9 Q10 Q11 Q12 Q13 Q14 Q15 fpsid fpscr fpexc FPSID FPSCR FPEXC mvfr1 mvfr0 MVFR1 MVFR0 mvf0 mvf1 mvf2 mvf3 mvf4 mvf5 mvf6 mvf7 mvf8 mvf9 mvf10 mvf11 mvf12 mvf13 mvf14 mvf15 mvd0 mvd1 mvd2 mvd3 mvd4 mvd5 mvd6 mvd7 mvd8 mvd9 mvd10 mvd11 mvd12 mvd13 mvd14 mvd15 mvfx0 mvfx1 mvfx2 mvfx3 mvfx4 mvfx5 mvfx6 mvfx7 mvfx8 mvfx9 mvfx10 mvfx11 mvfx12 mvfx13 mvfx14 mvfx15 mvdx0 mvdx1 mvdx2 mvdx3 mvdx4 mvdx5 mvdx6 mvdx7 mvdx8 mvdx9 mvdx10 mvdx11 mvdx12 mvdx13 mvdx14 mvdx15 MVF0 MVF1 MVF2 MVF3 MVF4 MVF5 MVF6 MVF7 MVF8 MVF9 MVF10 MVF11 MVF12 MVF13 MVF14 MVF15 MVD0 MVD1 MVD2 MVD3 MVD4 MVD5 MVD6 MVD7 MVD8 MVD9 MVD10 MVD11 MVD12 MVD13 MVD14 MVD15 MVFX0 MVFX1 MVFX2 MVFX3 MVFX4 MVFX5 MVFX6 MVFX7 MVFX8 MVFX9 MVFX10 MVFX11 MVFX12 MVFX13 MVFX14 MVFX15 MVDX0 MVDX1 MVDX2 MVDX3 MVDX4 MVDX5 MVDX6 MVDX7 MVDX8 MVDX9 MVDX10 MVDX11 MVDX12 MVDX13 MVDX14 MVDX15 mvax0 mvax1 mvax2 mvax3 dspsc MVAX0 MVAX1 MVAX2 MVAX3 DSPSC wr0 wr1 wr2 wr3 wr4 wr5 wr6 wr7 wr8 wr9 wr10 wr11 wr12 wr13 wr14 wr15 wR0 wR1 wR2 wR3 wR4 wR5 wR6 wR7 wR8 wR9 wR10 wR11 wR12 wR13 wR14 wR15 WR0 WR1 WR2 WR3 WR4 WR5 WR6 WR7 WR8 WR9 WR10 WR11 WR12 WR13 WR14 WR15 wcid wCID WCID wcon wCon WCON wcssf wCSSF WCSSF wcasf wCASF WCASF wcgr0 wCGR0 WCGR0 wcgr1 wCGR1 WCGR1 wcgr2 wCGR2 WCGR2 wcgr3 wCGR3 WCGR3 acc0 ACC0 apsr APSR iapsr IAPSR eapsr EAPSR psr PSR xpsr XPSR xPSR ipsr IPSR epsr EPSR iepsr IEPSR msp MSP psp PSP primask PRIMASK basepri BASEPRI basepri_max BASEPRI_MAX faultmask FAULTMASK control CONTROL all flg ctl f c x s fs fx fc sf sx sc xf xs xc cf cs cx fsx fsc fxs fxc fcs fcx sfx sfc sxf sxc scf scx xfs xfc xsf xsc xcf xcs cfs cfx csf csx cxf cxs fsxc fscx fxsc fxcs fcsx fcxs sfxc sfcx sxfc sxcf scfx scxf xfsc xfcs xsfc xscf xcfs xcsf cfsx cfxs csfx csxf cxfs cxsf asl ASL lsl LSL lsr LSR asr ASR ror ROR rrx RRX eq ne hs cc ul lo mi pl vs vc hi ls ge lt gt le al trap and ands eor eors sub subs add adds adc adcs sbc sbcs orr orrs bic bics tst tsts tstp cmp cmps cmpp cmn cmns cmnp mov movs mvn mvns ldr ldrb str strb stm stmia stmea ldm ldmia ldmfd swi svc b bl adr adrl nop lsls lsrs asrs rors neg negs push pop rsb rsbs rrxs cpy teq teqs teqp ldrt ldrbt strt strbt stmdb stmfd ldmdb ldmea rsc rscs stmib stmfa stmda stmed ldmib ldmed ldmda ldmfa mul muls mla mlas cdp ldc ldcl stc stcl mcr mrc swp swpb mrs msr smull smulls smulleqs smullnes smullcss smullhss smullccs smulluls smulllos smullmis smullpls smullvss smullvcs smullhis smulllss smullges smulllts smullgts smullles smullals umull umulls umulleqs umullnes umullcss umullhss umullccs umulluls umulllos umullmis umullpls umullvss umullvcs umullhis umulllss umullges umulllts umullgts umullles umullals smlal smlals smlaleqs smlalnes smlalcss smlalhss smlalccs smlaluls smlallos smlalmis smlalpls smlalvss smlalvcs smlalhis smlallss smlalges smlallts smlalgts smlalles smlalals umlal umlals umlaleqs umlalnes umlalcss umlalhss umlalccs umlaluls umlallos umlalmis umlalpls umlalvss umlalvcs umlalhis umlallss umlalges umlallts umlalgts umlalles umlalals ldrh strh ldrsh ldrsb ldsh ldeqsh ldnesh ldcssh ldhssh ldccsh ldulsh ldlosh ldmish ldplsh ldvssh ldvcsh ldhish ldlssh ldgesh ldltsh ldgtsh ldlesh ldalsh ldsb ldeqsb ldnesb ldcssb ldhssb ldccsb ldulsb ldlosb ldmisb ldplsb ldvssb ldvcsb ldhisb ldlssb ldgesb ldltsb ldgtsb ldlesb ldalsb bx blx bkpt clz ldc2 ldc2l stc2 stc2l cdp2 mcr2 mrc2 smlabb smlatb smlabt smlatt smlawb smlawt smlalbb smlaltb smlalbt smlaltt smulbb smultb smulbt smultt smulwb smulwt qadd qdadd qsub qdsub pld ldrd strd mcrr mrrc bxj cpsie cpsid rev rev16 revsh sxth uxth sxtb uxtb setend ldrex strex mcrr2 mrrc2 ssat usat cps pkhbt pkhtb qadd16 qadd8 qaddsubx qsub16 qsub8 qsubaddx sadd16 sadd8 saddsubx shadd16 shadd8 shaddsubx shsub16 shsub8 shsubaddx ssub16 ssub8 ssubaddx uadd16 uadd8 uaddsubx uhadd16 uhadd8 uhaddsubx uhsub16 uhsub8 uhsubaddx uqadd16 uqadd8 uqaddsubx uqsub16 uqsub8 uqsubaddx usub16 usub8 usubaddx rfeia rfeib rfeda rfedb rfefd rfefa rfeea rfeed sxtah sxtab16 sxtab sxtb16 uxtah uxtab16 uxtab uxtb16 sel smlad smladx smlald smlaldx smlsd smlsdx smlsld smlsldx smmla smmlar smmls smmlsr smmul smmulr smuad smuadx smusd smusdx srsia srsib srsda srsdb ssat16 umaal usad8 usada8 usat16 yield wfe wfi sev ldrexd strexd ldrexb ldrexh strexb strexh clrex smc bfc bfi sbfx ubfx mls movw movt rbit ldrht ldrsht ldrsbt strht cbnz cbz it itt ite ittt itet itte itee itttt itett ittet iteet ittte itete ittee iteee addw subw tbb tbh orn orns sdiv udiv pldw pli dbg dmb dsb isb wfs rfs wfc rfc ldfs ldfd ldfe ldfp stfs stfd stfe stfp mvfs mvfsp mvfsm mvfsz mvfd mvfdp mvfdm mvfdz mvfe mvfep mvfem mvfez mnfs mnfsp mnfsm mnfsz mnfd mnfdp mnfdm mnfdz mnfe mnfep mnfem mnfez abss abssp abssm abssz absd absdp absdm absdz abse absep absem absez rnds rndsp rndsm rndsz rndd rnddp rnddm rnddz rnde rndep rndem rndez sqts sqtsp sqtsm sqtsz sqtd sqtdp sqtdm sqtdz sqte sqtep sqtem sqtez logs logsp logsm logsz logd logdp logdm logdz loge logep logem logez lgns lgnsp lgnsm lgnsz lgnd lgndp lgndm lgndz lgne lgnep lgnem lgnez exps expsp expsm expsz expd expdp expdm expdz expe expep expem sins sinsp sinsm sinsz sind sindp sindm sindz sine sinep sinem sinez coss cossp cossm cossz cosd cosdp cosdm cosdz cose cosep cosem cosez tans tansp tansm tansz tand tandp tandm tandz tane tanep tanem tanez asns asnsp asnsm asnsz asnd asndp asndm asndz asne asnep asnem asnez acss acssp acssm acssz acsd acsdp acsdm acsdz acse acsep acsem acsez atns atnsp atnsm atnsz atnd atndp atndm atndz atne atnep atnem atnez urds urdsp urdsm urdsz urdd urddp urddm urddz urde urdep urdem urdez nrms nrmsp nrmsm nrmsz nrmd nrmdp nrmdm nrmdz nrme nrmep nrmem nrmez adfs adfsp adfsm adfsz adfd adfdp adfdm adfdz adfe adfep adfem adfez sufs sufsp sufsm sufsz sufd sufdp sufdm sufdz sufe sufep sufem sufez rsfs rsfsp rsfsm rsfsz rsfd rsfdp rsfdm rsfdz rsfe rsfep rsfem rsfez mufs mufsp mufsm mufsz mufd mufdp mufdm mufdz mufe mufep mufem mufez dvfs dvfsp dvfsm dvfsz dvfd dvfdp dvfdm dvfdz dvfe dvfep dvfem dvfez rdfs rdfsp rdfsm rdfsz rdfd rdfdp rdfdm rdfdz rdfe rdfep rdfem rdfez pows powsp powsm powsz powd powdp powdm powdz powe powep powem powez rpws rpwsp rpwsm rpwsz rpwd rpwdp rpwdm rpwdz rpwe rpwep rpwem rpwez rmfs rmfsp rmfsm rmfsz rmfd rmfdp rmfdm rmfdz rmfe rmfep rmfem rmfez fmls fmlsp fmlsm fmlsz fmld fmldp fmldm fmldz fmle fmlep fmlem fmlez fdvs fdvsp fdvsm fdvsz fdvd fdvdp fdvdm fdvdz fdve fdvep fdvem fdvez frds frdsp frdsm frdsz frdd frddp frddm frddz frde frdep frdem frdez pols polsp polsm polsz pold poldp poldm poldz pole polep polem polez cmf cmfe cnf cnfe flts fltsp fltsm fltsz fltd fltdp fltdm fltdz flte fltep fltem fltez fix fixp fixm fixz fixsp fixsm fixsz fixdp fixdm fixdz fixep fixem fixez lfm lfmfd lfmea sfm sfmfd sfmea fcpys fmrs fmsr fmstat fsitos fuitos ftosis ftosizs ftouis ftouizs fmrx vmrs fmxr vmsr flds fsts fldmias fldmfds fldmdbs fldmeas fldmiax fldmfdx fldmdbx fldmeax fstmias fstmeas fstmdbs fstmfds fstmiax fstmeax fstmdbx fstmfdx fabss fnegs fsqrts fadds fsubs fmuls fdivs fmacs ffmacs fmscs fnmuls fnmacs fnfmacs fnmscs ffnmas ffnmss fcmps fcmpzs fcmpes fcmpezs fcpyd fcvtds fcvtsd fmdhr fmdlr fmrdh fmrdl fsitod fuitod ftosid ftosizd ftouid ftouizd fcvtshp fcvthps fcvttshp fcvtbshp fcvtthps fcvtbhps fldd fstd fldmiad fldmfdd fldmdbd fldmead fstmiad fstmead fstmdbd fstmfdd fabsd fnegd fsqrtd faddd fsubd fmuld fdivd fmacd ffmacd fmscd fnmuld fnmacd fnfmacd fnmscd ffnmad ffnmsd fcmpd fcmpzd fcmped fcmpezd fmsrr fmrrs fmdrr fmrrd vsqrt vdiv vnmul vnmla vnmls vcmp vcmpe vpush vpop vcvtr vfnma vfnms vfma vfms vmul vmla vmls vadd vsub vabs vneg vldm vldmia vldmdb vstm vstmia vstmdb vldr vstr vcvt vcvtt vcvtb vmov vmovq vaba vabaq vhadd vhaddq vrhadd vrhaddq vhsub vhsubq vqadd vqaddq vqsub vqsubq vrshl vrshlq vqrshl vqrshlq vshl vshlq vqshl vqshlq vand vandq vbic vbicq vorr vorrq vorn vornq veor veorq vbsl vbslq vbit vbitq vbif vbifq vabd vabdq vmax vmaxq vmin vminq vcge vcgeq vcgt vcgtq vclt vcltq vcle vcleq vceq vceqq vpmax vpmin vmlaq vmlsq vpadd vaddq vsubq vtst vtstq vmulq vqdmulh vqdmulhq vqrdmulh vqrdmulhq vacge vacgeq vacgt vacgtq vaclt vacltq vacle vacleq vrecps vrecpsq vrsqrts vrsqrtsq vabsq vnegq vshr vshrq vrshr vrshrq vsra vsraq vrsra vrsraq vsli vsliq vsri vsriq vqshlu vqshluq vqshrn vqrshrn vqshrun vqrshrun vshrn vrshrn vshll vcvtq vmvn vmvnq vabal vabdl vaddl vsubl vmlal vmlsl vaddw vsubw vaddhn vraddhn vsubhn vrsubhn vqdmlal vqdmlsl vqdmull vmull vext vextq vrev64 vrev64q vrev32 vrev32q vrev16 vrev16q vdup vdupq vmovl vmovn vqmovn vqmovun vzip vzipq vuzp vuzpq vqabs vqabsq vqneg vqnegq vpadal vpadalq vpaddl vpaddlq vrecpe vrecpeq vrsqrte vrsqrteq vcls vclsq vclz vclzq vcnt vcntq vswp vswpq vtrn vtrnq vtbl vtbx vld1 vst1 vld2 vst2 vld3 vst3 vld4 vst4 fconsts fconstd fshtos fshtod fsltos fsltod fuhtos fuhtod fultos fultod ftoshs ftoshd ftosls ftosld ftouhs ftouhd ftouls ftould mia miaph miabb miabt miatb miatt mar mra tandcb tandch tandcw tbcstb tbcsth tbcstw textrcb textrch textrcw textrmub textrmuh textrmuw textrmsb textrmsh textrmsw tinsrb tinsrh tinsrw tmcr tmcrr tmia tmiaph tmiabb tmiabt tmiatb tmiatt tmovmskb tmovmskh tmovmskw tmrc tmrrc torcb torch torcw waccb wacch waccw waddbss waddb waddbus waddhss waddh waddhus waddwss waddw waddwus waligni walignr0 walignr1 walignr2 walignr3 wand wandn wavg2b wavg2br wavg2h wavg2hr wcmpeqb wcmpeqh wcmpeqw wcmpgtub wcmpgtuh wcmpgtuw wcmpgtsb wcmpgtsh wcmpgtsw wldrb wldrh wldrw wldrd wmacs wmacsz wmacu wmacuz wmadds wmaddu wmaxsb wmaxsh wmaxsw wmaxub wmaxuh wmaxuw wminsb wminsh wminsw wminub wminuh wminuw wmov wmulsm wmulsl wmulum wmulul wor wpackhss wpackhus wpackwss wpackwus wpackdss wpackdus wrorh wrorhg wrorw wrorwg wrord wrordg wsadb wsadbz wsadh wsadhz wshufh wsllh wsllhg wsllw wsllwg wslld wslldg wsrah wsrahg wsraw wsrawg wsrad wsradg wsrlh wsrlhg wsrlw wsrlwg wsrld wsrldg wstrb wstrh wstrw wstrd wsubbss wsubb wsubbus wsubhss wsubh wsubhus wsubwss wsubw wsubwus wunpckehub wunpckehuh wunpckehuw wunpckehsb wunpckehsh wunpckehsw wunpckihb wunpckihh wunpckihw wunpckelub wunpckeluh wunpckeluw wunpckelsb wunpckelsh wunpckelsw wunpckilb wunpckilh wunpckilw wxor wzero torvscb torvsch torvscw wabsb wabsh wabsw wabsdiffb wabsdiffh wabsdiffw waddbhusl waddbhusm waddhc waddwc waddsubhx wavg4 wavg4r wmaddsn wmaddsx wmaddun wmaddux wmerge wmiabb wmiabt wmiatb wmiatt wmiabbn wmiabtn wmiatbn wmiattn wmiawbb wmiawbt wmiawtb wmiawtt wmiawbbn wmiawbtn wmiawtbn wmiawttn wmulsmr wmulumr wmulwumr wmulwsmr wmulwum wmulwsm wmulwl wqmiabb wqmiabt wqmiatb wqmiatt wqmiabbn wqmiabtn wqmiatbn wqmiattn wqmulm wqmulmr wqmulwm wqmulwmr wsubaddhx cfldrs cfldrd cfldr32 cfldr64 cfstrs cfstrd cfstr32 cfstr64 cfmvsr cfmvrs cfmvdlr cfmvrdl cfmvdhr cfmvrdh cfmv64lr cfmvr64l cfmv64hr cfmvr64h cfmval32 cfmv32al cfmvam32 cfmv32am cfmvah32 cfmv32ah cfmva32 cfmv32a cfmva64 cfmv64a cfmvsc32 cfmv32sc cfcpys cfcpyd cfcvtsd cfcvtds cfcvt32s cfcvt32d cfcvt64s cfcvt64d cfcvts32 cfcvtd32 cftruncs32 cftruncd32 cfrshl32 cfrshl64 cfsh32 cfsh64 cfcmps cfcmpd cfcmp32 cfcmp64 cfabss cfabsd cfnegs cfnegd cfadds cfaddd cfsubs cfsubd cfmuls cfmuld cfabs32 cfabs64 cfneg32 cfneg64 cfadd32 cfadd64 cfsub32 cfsub64 cfmul32 cfmul64 cfmac32 cfmsc32 cfmadd32 cfmsub32 cfmadda32 cfmsuba32 immediate operand requires iWMMXt2 instruction does not support unindexed addressing pc may not be used with write-back instruction does not support writeback instruction cannot be conditional only r15 allowed here registers may not be the same D register out of range for selected VFP version post-index must be a register bad register for post-index bad list length scalar index out of range stride of 2 unavailable when element size is 8 can't use alignment with this instruction unsupported alignment for instruction types specified in both the mnemonic and operands operand types can't be inferred type specifier has the wrong number of parts operand size must match register width bad type in Neon instruction inconsistent types in Neon instruction bad alignment bad list type for instruction bad size for instruction bad list length for table lookup invalid instruction shape selected FPU does not support instruction elements must be smaller than reversal region shift out of range scalar out of range for multiply instruction operand size must be specified for immediate VMOV immediate has bits set outside the operand size immediate out of range immediate out of range for narrowing operation immediate out of range for shift immediate out of range for insert bad type for scalar VFP registers must be adjacent operands 0 and 1 must be the same register writeback (!) must be used for VLDMDB and VSTMDB register list must contain at least 1 and at most 16 registers invalid instruction shape (using rounding mode) only two consecutive VFP SP registers allowed here this addressing mode requires base-register writeback operand 1 must be FPSCR this instruction does not support indexing bad barrier type '[' expected after PLI mnemonic post-indexed expression used in preload instruction writeback used in preload instruction unindexed addressing used in preload instruction instruction does not accept preindexed addressing instruction does not accept unindexed addressing destination register same as write-back base source register same as write-back base shift must be constant shift by register not allowed in thumb mode expression too complex branch must be last instruction in IT block instruction requires register index PC is not a valid index register instruction does not allow shifted index PC not allowed as destination instruction not allowed in IT block lo register required this instruction requires a post-indexed address instruction does not accept scaled register index :lower16: not allowed this instruction :upper16: not allowed this instruction :upper16: not allowed instruction bit-field extends past end of register even register required can only store two consecutive registers r14 not allowed here r14 not allowed as first register when second register is omitted can only load two consecutive registers SRS base register must be r13 instruction does not accept this addressing mode offset must be zero in ARM encoding Thumb encoding does not support rotation selected processor does not support 'A' form of this instruction Thumb does not support the 2-argument form of this instruction use of r15 in bxj is not really useful Instruction does not support =N addresses cannot use register index with PC-relative addressing cannot use register index with this instruction Thumb does not support negative register indexing Thumb does not support register post-indexing Thumb does not support register indexing with writeback Thumb supports only LSL in shifted register indexing cannot use writeback with PC-relative addressing cannot use writeback with this instruction cannot use post-indexing with PC-relative addressing cannot use post-indexing with this instruction first destination register must be even '[' expected base register written back, and overlaps second destination register index register overlaps destination register '[' expected after PLD mnemonic rdhi and rdlo must be different use of r15 in blx in ARM mode is not really useful the only suffix valid here is '(plt)' use of r15 in bx in ARM mode is not really useful invalid pseudo operation constant expression expected literal pool insertion failed L0 rdhi, rdlo and rm must all be different Thumb encoding does not support an immediate here selected processor does not support requested special purpose register selected processor does not support requested special purpose register %x 'CPSR' or 'SPSR' expected Rn must not overlap other operands rd and rm should be different in mla instruction not supported in Thumb16 mode dest must overlap one source register Rd and Rm should be different in mul push/pop do not support {reglist}^ invalid register list to push/pop instruction SP not allowed in register list LR and PC should not both be in register list base register should not be in register list when written back PC not allowed in register list value stored for r%d is UNPREDICTABLE source1 and dest must be same register ror #imm not supported Thumb does not support NOP with hints Thumb load/store multiple does not support {reglist}^ Thumb-2 instruction only valid in unified syntax this instruction will write back the base register this instruction will not write back the base register writeback of base register is UNPREDICTABLE writeback of base register when in register list is UNPREDICTABLE if writeback register is in list, it must be the lowest reg in the list Thumb does not support this addressing mode byte or halfword not valid for base register r15 based store not allowed invalid base register for register offset only lo regs allowed with immediate unshifted register required dest and source1 must be the same register only SUBS PC, LR, #const allowed %s -- `%s' immediate value is out of range unrecognized relocation suffix iWMMXt data or control register expected APSR_ unhandled operand code %d r15 not allowed here bad arguments to instruction syntax error garbage following instruction shift expression expected 'LSL' or 'ASR' required 'LSL' required 'ASR' required unknown group relocation pc_g0_nc pc_g0 pc_g1_nc pc_g1 pc_g2 sb_g0_nc sb_g0 sb_g1_nc sb_g1 sb_g2 invalid rotation invalid constant alignment must be constant this group relocation is not allowed on this instruction ']' expected '}' expected at end of 'option' field cannot combine index with option cannot combine pre- and post-indexing register stride must be 1 or 2 mismatched element/structure types in list don't use Rn-Rm syntax with non-unit stride error parsing element/structure list expected } can't redefine type for operand only D registers may be indexed can't change index for operand constant expression required only one type should be specified for operand vector type expected unexpected character `%c' in type specifier bad size %d in type specifier expecting { register out of range in list invalid register list register list not in ascending order register range not in ascending order non-contiguous register range bad range in register list Warning: duplicated register (r%d) in register list Warning: register range not in ascending order missing `}' invalid register mask ',' expected invalid shift condition required SPSR CPSR flag for {c}psr instruction expected missing rotation field after comma rotation can only be 0, 8, 16, or 24 BE LE valid endian specifiers are be or le unrecognized CPS flag missing CPS flags invalid FPA immediate expression :lower16: :upper16: immediate expression requires a # prefix bad expression can't use Neon quad register here expected <Rm> or <Dm> or <Qm> operand parse error expected comma 0x scalar must have an index register operand expected, but got scalar instruction is always unconditional %s%s .real_start_of  .dn   .qn  bad type for register expression must be constant can't redefine the type of a register alias you must specify a single type only can't redefine the index of a scalar alias scalar index must be constant expecting ] attempt to redefine typed alias ignoring attempt to redefine built-in register '%s' ignoring redefinition of register alias '%s'  .req  unknown register '%s' -- .req ignored conditional infixes are deprecated in unified syntax unified divided unrecognized syntax mode "%s" expected comma after name "%s" selected processor does not support THUMB opcodes selected processor does not support ARM opcodes invalid operand to .code directive (%d) (expecting 16 or 32) .bss directive not supported, use .zerofill for Mach-O files invalid syntax for .unreq directive unknown register alias '%s' ignoring attempt to undefine built-in register '%s' invalid syntax for .qn directive invalid syntax for .dn directive invalid syntax for .req directive                                         Debian clang version 3.5.0-10 (tags/RELEASE_350/final) (based on LLVM 3.5.0)          zR x  $             BBB A(D@   D                 X                 l                                                              BBA                            /    A          /    A         w    A                   ,          AAA   $   L          ABB A(A0   t          A         h    AAA   0         	   ABB B(B0A8Dp            v   ACM              ACP   $                8      R          L          BBA    l      >       0         Jk   ABB B(B0A8G                          Q    A           V    BAA             D    BAA                    0   4         ABB B(B0A8D`  (   h      ]   ABB B(A0                           q                                       0         &   ABB B(B0A8DP               A     0      .   BAA      P                d                x          AD                                                               A           Y   AA                             A     0      I   A     H                \      H   A   p         A                           ^   A                                         9                9                 ,                          (      6          <      (          P      v          d      R          x         AAA            !                                =                                o                                         $      U          8      ;   A   L                `      _          t                      e    A         2                H                                H                U                 h   A            A   (          A   <         A   P      q          d      F          x      *   A         &    A         *                    A         #                %                2          	      F          	      2          ,	      '          @	      '          T	      '          h	      *   A   |	                	         A   	               	      =          	      &    A   	      D    A   	      0          
                
      |          0
      '          D
                X
                l
      &          
      x          
      I          
                
      T          
      }          
                
      x                                           4      "          H      x          \      c          p                      t                '                *                2                2                T                -                +          $      '          8      '          L      ;          `      b          t      _                                c                )                                F                D                 K                ]          (      i          <      K          P      W          d      r          x                      #                (   A         G                                o                6                }                         ,      <          @      :          T      1   A   h                |                      F                F                                                                !                j   A         7          0      .          D      .          X          A   l                      P                S                                                O                #                                y                 z          4                H                \                p                      7                7                7                7                                                                
         $      Z          8      J          L      J          `      
         t          A               A               A              A               A             A         	   DP             A     (          A     @      ?   A     X      +   A     p         A           ?   A           =   AAA            O   A             A            AD@                                      ,      
   BAD`     L         A     d         A     |         A              A              A              A               A                                                     0                D                X                l          A           v   A               A           /   AD0                A              A                A               A     0         A     H         A   \      r   A   p         A         p   A               A             A             A         T   AAA                A             A          T   AAA      @         AAA      `          A     x         A           (   ABA              A             A             A             A              A               A     0          A     H          A     `          A     x          A               A           v    A             A               A$            ABB A(D`         ;          $      }          8      <          L      ~          `      <          t      ~                                !                1                                                '                 '                '          (      2          <          A     T                h               |      %                #               9                !                2                                '                6                2       0   0      q
   ABB B(B0A8G    d          DP   x         AD`            %      0            ABB B(B0A8DP           n   A  $            ABB A(A0            AAD0  0   <      I   ABB B(B0A8A@     p         A  $         v   ABB A(A0$         X   ABB A(A0             ABA D@ $         5   BBB A(A0$   $      2   ABB A(A00   L         ABB B(B0A8D ,            ABB B(A0DP   0            ABB B(B0A8A@  0         ~   ABB B(B0A8G 0            ABB B(B0A8D 0   L         ABB B(B0A8DP  (             ABB B(A0   .rela.text .comment .bss .note.GNU-stack .rela.eh_frame .shstrtab .strtab .symtab .rela.rodata .rela.data .rodata.cst16 .rodata.str1.1                                                                                      @                                                         x/     K                         e                                                        `                      {                                                         h                             X                                                      S                      }     h                         y      2               g     G\                            k                     0                                         0               P     N                                                                                       /                                                       *                       	     x                          9                      H                                   K                           .         }                C                                                                                                                    g                      `                 HQ                 PQ                 XQ                 @Q                 0                 P             M                     P                 P             j    P                 P             P    P             f                 -    P             	                 O    P             M    P                 P             Z    P                 P                 P                 P                               3     P                 P                 (                 @                 P                 X                 8                 H             l    `                  `O                 X                                  p      v                                                  ,           `      6           P                      F           P     D       ^         ]            	     K       v          #       u    @      9       w     0             9           9                  &                 &       .	           H                                   H                 =           `      0       /    p            "         <       	                p    @     j          @                P                                                  @     '       C    p     '                '       0         2       C                               *                    `     2                %                #               9       5	    0     !       f                                      0      x       }         b       -          H                ;      ;         (      F          *          P                             v          2                6       $         '           P      e                             p
     r                 h      \                           _       2          q           `g                3     =      e    1     ?      e    U            %    V            4    `y            
     @z            
	    `V                V                 {            l    P9               ?            x     ?            g    p     (      w    PJ           N    @I               V            b    @V                V                @h            k    `k            ;    j                n                Y                0Z     /          -     ?      `                    P6     O      )    8            ^     @~               P                0                i     T           ?     
          r            S	    s                .     +      {     l     T      `	    f            i    w                 X     v      E	    0t            l	    t            0    N               @_               px            B    o           ;    c           i    0\           Q    P`               b     r      G    `K               v            A    L           :     e     p      B    P]            $    P^            !	    `[            [     |     v            p}            	    |                 W                m           1    u            R    @                       (       -         x       '    p            ^          *      N    0     1                =           0                @                0             	    P      U       	          !                '                *       	         )                !       
                     P      R                                  2           `      F                 '                T       R           }                -                          g                                 `          2                 '                                6                        u    P      Y                                F                K       U    P	     i            
     W       l    `      >       n           R       -                     p                         *                 D                  G                  %           P     "                        U     p      U       &                         :       ~         ;           `     o       Z    p      ^                 I       q    P     _                                                                  2                 2           
                      I                       S                    P             (    P      F           0                                       v       	               "          c                 t       U                                           #           P             	    P      '       9    `      |       8          o                 &                       K           '       x          F       H                          +                  T       [    @     c                        U    @     2       y                 0         }       6                     p     '       @           x           @     '            `     7       H         7           p     }           0     ~                ~                       {    P!                                 #     Z                       	                      "     
      	    $     
          @                @     y                           '                +     	      )    %                ,                ,                &                0*                `)            5     %                #     J       s         .           p#     J            `     #           0     ;                <       
         <       [         z                O                 .       7                    @            i    P     S                 P                7                 7       $         7       W    `                                P                     !       '    p                     1       ~         X                     0                  X     Q                 Q             =    (Q             .    Q                 Q                  Q             [    8Q                 0Q                              ;
                                      `Q      :                           $                      v      >
         5                      W    `     q
      Q         n                              I          @                                                  %      r                                                q
          ~                     G    0                     Jk      9    P     2          P           *                                             |    pJ      0          p      5          p      /       r    `             #          w       
    p             
                 I    P             	                     `                  0      h       A          /       k    p                                                ~    N                              w                     P                0      4                        x    H                                                                                                                               	                      
                                                                       D       *    `      V       &
                 f           Q       c                 6          ]                                  H       b          `       
                                   ?                 2                 ~            &      T          	                        h
    @      .                       E                 0                                    #    p                                                                                  @    @              
                 
          q                 @                        
    p                                                 @                                    l                     w                     a                     R                                          )                     F                                                               {                     	                                                               g                                          >                     =                                          {	                     T                                          `                     ]
                                          A                     
                                          L                     
                                                                                                         \                                                                                    !                     P
                                                                                                         L                                                               u                                          2                                          >                                                                                    N                                                                                     
                     
                                           w                                                               ?                      
                                                               F                                                                                                          U                                                               X                                                                                    e                      do_t_clz do_neon_clz do_t_cbz do_vfp_sp_compare_z arm_ext_v6z strcpy strncpy memcpy do_t_cpy do_neon_ldx_stx do_t_blx do_blx md_apply_fix do_t_bfx do_bfx md_target_byte_sex do_t_strex do_strex do_t_ldrex do_ldrex do_neon_tbl_tbx do_t_bx do_bx s_syntax unified_syntax md_estimate_size_before_relax do_iwmmxt_wldstw do_neon_rshift_narrow do_neon_rshift_sat_narrow do_neon_dyadic_narrow frchain_now frag_now fix_new symbol_new hash_new do_t_add_sub_w do_iwmmxt_wmov do_mov do_neon_mov do_neon_cmp_inv do_neon_fcmp_absolute_inv arm_ext_div do_t_div do_div do_vfp_nsyn_div do_t_rev do_neon_rev do_neon_dyadic_i_su do_neon_dyadic_if_su do_neon_dyadic_i64_su do_neon_rshift_sat_narrow_u arm_cext_iwmmxt fpu_vfp_v3_or_neon_ext do_neon_ext do_vfp_t_hp_sp_cvt do_vfp_hp_sp_cvt do_vfp_b_hp_sp_cvt do_vfp_dp_sp_cvt do_vfp_t_sp_hp_cvt do_vfp_sp_hp_cvt do_vfp_b_sp_hp_cvt do_vfp_sp_dp_cvt do_neon_cvt do_neon_cvtt do_t_ldstt do_ldstt do_t_mvn_tst do_neon_tst do_vfp_sp_const fp_const do_vfp_dp_const inst parse_vfp_reg_list do_neon_recip_est do_t_ldst do_vfp_sp_ldst do_vfp_dp_ldst do_ldst do_vfp_nsyn_sqrt abort hash_insert symbol_table_insert do_t_bkpt do_bkpt do_t_hint do_neon_cnt cpu_variant do_arit do_t_rbit neon_alignment_bit do_t_it do_it do_mav_shift do_t_shift do_shift parse_shift pseudo_set s_thumb_set text_nsect do_t_pkhbt do_pkhbt do_t_usat do_usat do_t_ssat do_ssat arm_ext_v5t arm_ext_v4t s_bss v7m_psrs do_srs do_vmrs do_t_mrs do_mrs md_line_comment_chars md_comment_chars md_number_to_chars do_t_cps insns float_cons do_vfp_nsyn_fnms list_of_pools dwarf2_directive_loc_mark_labels do_neon_cls reg_expected_msgs do_noargs frags fp_values barrier_opt_names shift_names reg_names gen_to_words conds parse_operands do_mlas create_register_alias insert_reg_alias create_neon_reg_alias arm_ext_v2s neon_cvt_flavour do_vfp_nsyn_cvtr do_neon_ldr_str parse_psr do_iwmmxt_tinsr do_t_msr do_msr arm_optimize_expr input_line_pointer do_t_barrier do_barrier dwarf2_file_number do_rd_cpaddr do_t_adr do_adr frag_var do_xsc_mar parse_typed_reg_or_scalar do_neon_mac_maybe_scalar s_unreq s_req do_neon_ceq do_neon_zip_uzp fix_new_exp arm_ext_v5exp do_neon_swp do_neon_dup do_vfp_reg_from_sp do_vfp_nsyn_pop do_t_push_pop do_push_pop do_t_nop do_nop strcmp strncmp strcasecmp strncasecmp do_t_mov_cmp do_cmp do_vfp_nsyn_cmp do_neon_cmp do_fpa_cmp do_neon_step do_cdp do_iwmmxt_wzero do_neon_qmovn do_neon_movn do_neon_mvn do_neon_qmovun dwarf2_emit_insn do_neon_trn do_t_orn as_warn do_t_rd_rm_rn do_rd_rm_rn do_vfp_dp_rd_rn do_rd_rn do_vfp_dp_rm_rd_rn do_rm_rd_rn s_qn md_parse_option md_pcrel_from_section arm_force_relocation in_my_get_expression get_absolute_expression md_begin parse_address_main md_section_align frag_align s_even strlen flagseen last_label_seen s_dn number_to_chars_bigendian number_to_chars_littleendian target_big_endian hash_find_n generic_bignum find_or_make_literal_pool.latest_pool_num do_t_ldmstm do_ldmstm do_fpa_ldmstm encode_thumb2_ldmstm do_neon_ldm_stm arm_ext_v6_notm do_iwmmxt_textrm s_arm do_vfp_dp_rd_rn_rm do_rd_rn_rm do_t_rd_rm do_vfp_dp_rd_rm do_rd_rm do_neon_qshlu_imm md_number_to_imm do_neon_qshl_imm do_neon_shl_imm neon_cmode_for_move_imm do_neon_rshift_round_imm arm_ext_v3m do_neon_movl strtoul do_smul do_vfp_nsyn_nmul do_t_mul do_mul do_neon_mul do_adrl move_or_literal_pool make_expr_symbol md_undefined_symbol do_neon_vmull do_t_mull do_mull do_neon_shll do_neon_rshl dwarf2_emit_label arm_frob_label do_bl as_fatal do_smlal do_t_mlal do_neon_abal current_it_mask arm_start_line_hook arm_cext_maverick arm_ext_v6k do_t_bxj do_bxj arm_ext_v5j do_t_swi do_swi do_t_cpsi do_cpsi do_neon_sri do_iwmmxt_waligni do_neon_sli do_pli do_t_bfi do_bfi do_neon_addsub_if_i do_t_sxth do_sxth do_vfp_nsyn_push arm_barrier_opt_hsh arm_shift_hsh arm_ops_hsh arm_psr_hsh arm_v7m_psr_hsh arm_reg_hsh arm_cond_hsh arm_reloc_hsh do_neon_qdmulh do_iwmmxt_wshufh do_t_branch do_branch do_iwmmxt_wldstbh do_t_sxtah do_sxtah do_neon_pair_long do_neon_mul_sat_scalar_long do_neon_mac_maybe_scalar_long do_neon_dyadic_long now_subseg now_seg do_co_reg do_vfp_sp_from_reg do_t_neg do_neon_sat_abs_neg do_neon_abs_neg do_t_dbg do_dbg arm_relax_frag md_convert_frag symbol_get_frag zero_address_frag sprintf md_atof neon_shape_el_size memmove do_neon_fcmp_absolute hash_delete parse_big_immediate neon_move_immediate symbol_create frag_more neon_compare md_cputype archflag_cpusubtype md_cpusubtype lex_type parse_neon_type neon_check_type debug_type neon_select_shape logical_input_line layout_line demand_empty_rest_of_line ignore_rest_of_line is_end_of_line frag_wane label_is_thumb_function_name arm_canonicalize_symbol_name do_mav_triple layout_file dwarf2_directive_file md_assemble do_neon_ld_st_interleave.typetable md_relax_table md_pseudo_table group_reloc_table arm_cext_xscale symbol_find_or_make do_iwmmxt_wmerge do_rfe free atof_ieee encode_thumb32_addr_mode thumb_mode s_code arm_data_in_code do_neon_dyadic_wide arm_ext_v5e do_t_strexd do_strexd do_t_ldrexd do_ldrexd fpu_vfp_ext_v1xd do_iwmmxt_wldstd do_t_ldstd do_ldrd do_vfp_dp_rd do_rd do_vfp_dp_rn_rd do_rn_rd symbol_find hash_find do_t_setend do_setend get_symbol_end md_end parse_shifter_operand md_operand do_t_simd do_t_pld do_pld do_neon_bitfield do_mav_quad as_bad do_neon_dyadic_if_su_d do_neon_dyadic_if_i_d do_lstc symbol_get_tc do_mav_dspsc neon_dyadic_misc do_iwmmxt_textrc do_iwmmxt_tandorc xmalloc __ctype_tolower_loc __ctype_toupper_loc dwarf2_directive_loc __ctype_b_loc dwarf2_loc s_thumb_func do_t_smc do_smc do_neon_logic do_vfp_sp_dyadic do_vfp_sp_monadic do_t_bfc do_bfc current_cc neon_mul_mac do_t_arit3c do_co_reg2c ../arm.c do_t_add_sub do_neon_cvtb do_t_pkhtb do_pkhtb do_t_tb do_t_rsb s_thumb s_force_thumb do_vfp_xp_ldstmdb do_vfp_sp_ldstmdb do_vfp_dp_ldstmdb neon_shape_tab neon_enc_tab do_xsc_mra do_vfp_nsyn_fnma do_neon_fma do_smla do_t_mla do_vfp_xp_ldstmia do_vfp_sp_ldstmia do_vfp_dp_ldstmia do_iwmmxt_tmia do_xsc_mia md_FLT_CHARS md_EXP_CHARS force_cpusubtype_ALL S_IS_LOCAL S_GET_NAME S_IS_DEFINED arm_ext_v7 arm_ext_v6 do_t_mov16 do_mov16 do_t_usat16 do_usat16 do_t_ssat16 do_ssat16 thumb_op16 do_vfp_sp_conv_16 do_vfp_dp_conv_16 arm_ext_v5 do_iwmmxt_wrwrwr_or_imm5 arm_ext_v4t_5 do_ldsttv4 do_ldstv4 arm_ext_v4 fpu_vfp_ext_v3 arm_ext_v3 do_t_arit3 do_t_branch23 fpu_vfp_ext_v2 arm_ext_v2 fpu_fpa_ext_v2 arm_cext_iwmmxt2 arm_ext_v6t2 do_vfp_reg2_from_sp2 do_vfp_sp2_from_reg2 thumb_op32 do_vfp_sp_conv_32 do_vfp_dp_conv_32 fpu_vfp_ext_v1 fpu_neon_ext_v1 arm_ext_v1 fpu_fpa_ext_v1 arm_arch_used.1 thumb_arch_used.1 do_imm0 arm_arch_used.0 thumb_arch_used.0      J          w                                                                                              	         u  W       &           D           Q           a           n                                                             
   x        "           *           /           C         v         a      
   x  %\      h           q      
   x  \      x                 
   x  [                                                v  L                       
   x  [                       
   x  o[      	                 
   x  [                 #         v  L      +           3           A           I           P           \           a      
   x  2[      h           s           |         u  S             
   x  Z                                                           u  S             
   x  Z                                                                      u  S             
   x  Z                                             
   x  Z      "           (         u  S       0      
   x  Z      7           =           R           [           d           v           ~                               u  S             
   x  Z                                     v                                                                                                *           /           9           C           Y           x                 
                                                                                     
   x  tZ                                                  #           6           ;           C      
   x  FZ      K           V      
   x  NZ      ^           g      
   x  VZ      w                    v                                       v                  v                  v                  v                  v                  v                  v                  v                  v  t                v  d                v  T       	         v  D                v  4                v  $                v         $         v        6         u  X                v                   v                   v  L             
   v  4       %         v  $      0           P         v  $       n         v  ,      {                    v  $                          w  H                v                 v              
   x  Z                 
	         v  ,      	           	         v  (       9	      
   x        @	           ]	         v  ,       c	           j	         u  T       	           	         v  '       	         v        	      
   t        	      
   x         	           	         v  $       
         v        
      
   x        
      
   x        )
         v  $       6
      
   t        @
      
   t  p      K
         v          Y
         v        g
         v        s
         v        z
         v         
      
   t  `      
      
   x  M      
         v  ,      
                                v  $                 '           L         v        [      
   x  Z      b                 
   x              
   x              
   t              
   x  m                          v                  v                 v                 v                  v  T       '         v         8         v          >         v  $       K      
   x        c           i         v          u         v        {         v                 v                 v                  v                 v                  v                  v                  v        #         v        +           C         v        L         v        S         v         ]      
   x  P      g           r         v  S       |                    v  |                v  t                v                              v                              v                                        v  d                v  t                v  k                v  d       5         v  t       >         v         B         x  ;      R         v         X           r           |      
   v  h                           v  T                           v                                                                                      '         v         -           :           F           L         v  \       W           c         v          j         v         w         v  {             
   v  h                           v  d                v  l                v  t                                              v                                b                                                                           
   x  0                            %           .           6           <           A           H                 
   x  Y                          v  L                                       P           w                            
   x  Y                 )      
   x  X      6           E      
   x  X      R                                                  v  L                          v        9           @           F         v         S           Y         v         l         v         p         x  bR      w                                                     v                  v                  x  W                                  
   x  X                       
   x  X      3      
   x  X      r      
   x  Y                            )         v         3         v         7         x  cY      N                                          v        7           >           D         v         Q           W         v         n         v         r         x  bR      y                               v                  v                  x  cY                            9           W         v         e         v         i         x  cY      v      
   x  X                                     v                  v                  x  W                                  
   x  9Y            
   x  WY               v                 v  (       ;         v         A         v        H         v  $       f         w  0      l         v         w         v  X                v                  w  P              v                  v  \                v  T                v                  v                  x  B               v                  v  X                v                  v                  v         )         v         2         v         :         v         >         x  B      E         v         O         v  X       Y         v         w         v                 v  X                v                  v  {                v  d                           v  d                           v  d                                                         
   x  lX            
   x  qX      )           1           <           C         v  d       L         v         P         x  B      [           b         v  '       k         v         t         v                  v                  x                 v                  x  HX               v         2         v         6         x  V      `         v         g         v         }         v                  v                  x  S               v                  v                  v                  v                  x  B               v         %         v         K         v         Y         v         ]         x  W      i           v         v                  v                  x  W               v                  x  `S               v                  v                  x  ;               v                  x  #V               v                  v                  v         A                   i         v  L      w                    v                  v                  x  X      .         v         :         v         B         v         L         v                                     v  L                          v                  v                  x  !       9         v         @         v         r         v         y         v                   v         "          v         5          v         <          v                   v                   v                   x  X                v                   v                   x  W                v         !         v  s       !!         v         S!         v         W!         x  R      c!         v         q!         v         u!         x        !         v         !         x  FV      !         v         !         v         !         x         !         v         !         v         !         v         !         v         "         v         0"         v         ^"         w         "         v         "         v         "         x  X      "      
   x  )Q      "           /#         v         W#         v         a#         v         n#         v         r#         x  CQ      #         v         #         v         #         v         #         x  X      L$         v         ]$         v         a$         x  X      $         v         $         v         $         x  X      .%         v         ?%         v         C%         x  X      %         v         %         v         %         x  X      %           %           %         v         &           &         v         2&           >&           E&         v         S&         v         W&         x  W      &           &           &         v         &           &         v         &           &           &         v         &         v         &         x  W      '         v         '         v         '         x  !       '         v         '         v         '         x  X      '         v         (         v         (         x  X      g(         v         x(         v         |(         x  X      (         v         (         v         (         x  X      I)         v         Z)         v         ^)         x  X      )         v         )         v         )         x  X      +*         v         <*         v         @*         x  X      *         v         *         v         *         x  X      +         v         #+         v         '+         x  X      +         v         +         v         +         x  X      +         v         ,         v         	,         x  X      e,         v         v,         v         z,         x  X      ,         v         ,         v         ,         x  X      G-         v         X-         v         \-         x  X      -         v         -         v         -         x  X      ).         v         :.         v         >.         x  X      .         v         .         v         .         x  X      /         v         /         v          /         x  X      |/         v         /         v         /         x  X      /         v         /         v         /         v         0         v         0         v         0         v         4         v         v4         v         4         v         =5         v         J5         v         N5         x  X      5           5           5         v         5           5         v         5         v         5         x  bR      5           5           5         v         C6         v         Q6         v         U6         x  X      j6         v         6         v         6         v         6         x  X      6         v         C7         v         Q7         v         U7         x  X      j7         v         7         v         7         v         7         x  X      ;8         v         I8         v         M8         x  X      8         v         8         v         8         x  X      8         v         8         x  P      39         v         =9         v         A9         x  X      u9           |9           9         v         9           9         v         9           9           9         v         9         v         9         x  W      3:         v         =:         v         A:         x  X      G:         v        p:         v        :         v        :         v        :         v         ;         v        ^;         v        ;         v        ;         v        ;         v        <         v        :<         v        f<         v        <           <           <         v         <           <         v         =           =           =         v         &=         v         *=         x  W      f=           m=           s=         v         =           =         v         =           =           =         v         =         v         =         x  W      >         v        >         v  t       >         v  d       >           >           >         v         >      
   v  h       >           >         v         >         v  |       ?           ?           ?         v         >?      
   x  RW      K?           X?      
   x  \W      e?           s?         v  [       ?      
   x  V      ?           ?      
   x  V      ?           ?           @           2@         v  ,      @@           P@         v         T@         x  TV      @           @                   @         v  L      @           )A         v         -A         x  !       A         v         A         v         A         x  X      A         v         A         v         A         x  X      B      
   x  #Q      B           zB         v         B         v         B         x  X      B         v        B         v         
C         v         C         x  X      C         v        AC         v  t       HC         v  d       OC           [C           aC         v         gC      
   v  h       lC           rC         v         yC         v  |       C         v         C         x  bR      C           C         v         C         v         C         x  X      "D         v  t       )D         v  d       0D           7D           =D         v         CD      
   v  h       HD           ND         v         UD         v  |       eD         v         iD         x  bR      pD           |D           D         v         D         v         D         x  X      E           <E           QE                   zE         v  L      E           E         v         E         v         E         v         E           F                   :F         v  L      HF           xF         v         F         v         F           F           F         v         F           F         v         G           G           G         v         ,G         v         0G         x  W      lG           sG           yG         v         G           G         v         G           G           G         v         G         v         G         x  W      )H           0H           6H         v         DH           JH         v         bH         v         fH         x  bR      mH           yH           H         v         H         x  FT      H      
   x        H           H         v         H         x  V      
I           2I         v  \      @I           I         v         I         v         I         v         J           J           !J         v         @J           LJ           SJ         v         iJ         v         mJ         x  P      vJ         v         zJ         x        J           J           J         v         J         v         J         x  W      J         v         J         v         J         x  !       J         v         K         v         	K         x         K         v         )K         v         -K         x         9K         v         MK         v         QK         x  9      ]K         v         qK         v         uK         x  i      K           K           K                  K           K           K           K           K           !L         v         %L         x        1L           =L           aL         v         eL         x        L           L           L         v         L           L         v         L         v         L         x  bR      M           M           M         v         #M           )M         v         AM         v         EM         x  bR      xM           M           M         v         M           M         v         M         v         M         x  bR      M           M           M         v         N           	N         v         !N         v         %N         x  bR      XN           _N           eN         v         sN           yN         v         N         v         N         x  bR      N           N           N         v         N           N         v         O         v         O         x  bR      8O           ?O           EO         v         SO           YO         v         qO         v         uO         x  bR      O           O           O         v         O           O         v         O         v         O         x  bR      P           P           %P         v         3P           9P         v         QP         v         UP         x  bR      P           P           P         v         P           P         v         P         v         P         x  bR      P           P           Q         v         Q           Q         v         1Q         v         5Q         x  bR      hQ           oQ           uQ         v         Q           Q         v         Q         v         Q         x  bR      Q      
   u        R           R           FR         v         JR         x  I      vR           }R           R         v         R           R         v         R         v         R         x  bR      R           R           R           R           R         v         R         v         R         x  W      S         v         1S         v         OS         v         ~S         v         S         v         S         v         S         v         T         v         &T         v         ET           QT           T         v         T                   T         v         T         v         T         x  V      T           T           T         v         T           T         v         U           *U           1U         v         ?U         v         CU         x  W      sU           zU           U         v         U           U         v         U         v         U         x  bR      U           U           U           U           U         v          V         x        7V           PV           UV      
             V           V           V           V           V      
             DW           PW           WW         v         [W         x  1W      pW         v         W         v         W         x  7       W         v         W         v         W         x  Z       W         v         W         v         W         x  y       W         v         W         v         W         x          X         v         X         v         X         x         $X         v         8X         v         <X         x        HX         v         \X         v         `X         x        lX         v         X         v         X         x        X         v         X         v         X         x        X         v         X         v         X         x         X         v         X         v         X         x         X         v         Y         v         Y         x  @       Y         v         4Y         v         8Y         x  `      DY         v         XY         v         \Y         x        hY         v         |Y         v         Y         x        Y         v         Y         v         Y         x        Y         v         Y         v         Y         x        Y         v         Y         v          Z         v  X       Z         v        HZ           TZ           [Z         v         lZ         v         pZ         x  W      |Z           Z           Z           Z           Z         v         Z         v         Z         x  W      Z           Z           Z           Z           [         v         [         v         [         x  W      $[           0[           D[           P[           W[         v         h[         v         l[         x  W      x[           [           [           [           [         v         [         v         [         x  W      [           [           [           [           [         v         \         v         \         x  W       \           ,\           @\           L\           S\         v         d\         v         h\         x  W      t\           \           \           \           \         v         \         v         \         x  W      \           \           \           \           \         v         ]         v         ]         x  W      ]           (]           <]           H]           O]         v         `]         v         d]         x  W      p]           |]           ]           ]           ]         v         ]         v         ]         x  W      ]           ]           ]           ]           ]         v         ^         v         ^         x  W      ^           $^           n^           ^                   ^         v  L      ^           7_      
   x  U      @_           \_      
   x  U      f_           r_      
   x  U      y_           _         v        _            `           `         v         `           `         v         ;`           B`           L`         v  [       m`         v  t       t`         v  d       z`         v  X       `         v         `      
   x  U      `           a         v         #a         v         'a         x  V      9a         v         Ga         v         Ka         x  !       Wa         v         [a         x  bR      ba           a         v         b           b           b         v         ,b         v         0b         x  W      <b         v         @b         x  W      Ob           [b           b         v         b         x        b           b           b         v         b         x        b           b           c         v         c         x        c           #c           Ic         v         Mc         x        bc           nc           uc         v         c         v         c         x  W      c         v         c         x  fW      c         v         c         x  FT      c         v         c         x        c         v         c         x  fW      c         v         c         x  FT      d         v         d         x        !d         v         %d         x  fW      6d         v         :d         x  FT      \d         v         `d         x        ld         v         pd         x  fW      d         v         d         x  FT      d         v         d         x        d         v         d         x  fW      d         v         d         x  FT      d         v         d         x        d         v         d         x  fW      e         v         e         x  FT      5e         v         9e         x        Ee         v         Ie         x  fW      Ze         v         ^e         x  FT      |e         v         e         x        e         v         e         x  fW      e         v         e         x  FT      e         v         e         x        e         v         e         x  fW      e         v         e         x  FT      f         v         f         x        !f         v         %f         x  fW      6f         v         :f         x  FT      \f         v         `f         x        lf         v         pf         x  fW      f         v         f         x  FT      f         v         f         x        f         v         f         x  fW      f         v         f         x  FT      f         v         f         x        f         v         g           g           #g         v         'g         x  FT      Dg         v         ig         v         g         v         g         v         g         v         g         v         "h         v         Gh         v         lh         v         h         v         h         v         h         v          i         v         %i         v         Ji         v         oi         v         i         v         i         v         i         v         i         v         &j         v         j         v         j         v         j         x  X      j         v         j         v         j         v         j         v         j         v         j         v         j         v         k         v         ;k         v         hk         v         vk         v  X       k         v        k         v  t       k         v  d       k           k           k         v         k      
   v  h       k           k         v         k         v  |       k         v         k         x  bR      l           l           l         v         0l         v         4l         x  W      Cl           Jl           Pl         v  [       il         v         ml         x  uJ      l         v         l         v         l         v         l         v         l         v         m         v         +m         v         Im         v         xm         v         m         v         m         v         m         v         m         v         n         v         9n         v         Gn         v         Kn         x  ;      `n         v         nn         v         rn         x  ;      n         v         n         v         n         x  ;      n         v         n         v         n         x  ;      n         v         n         v         n         x  ;      n         v         
o         v         o         x  ;      o           &o           Lo         v         Po         x  fW      co         v         go         x  fW      zo         v         o         v         o         x  !       o           o           o         v         o           o         v         o         v         o         x  bR      p           .p         v        gp           sp           p         v         p           p           p         v         p         x  FT      p         v         p         x  V      p           p         v         q         v         q         x  W      &q         v         *q         x        3q           ?q           fq         v         jq         x        q         v         q         v         q         v         q         v         r         v         +r         v         /r         x  `S      r         v         r         x  	W      r         v         r         x  W      r         v         s         v         $s         v         s         v         s         v         s         x  X      s         v         s         v         s         x  !       zt         v         t         v         t         x  X      t         v         t         v         t         x  i      Qu         v         bu         v         fu         x  X      ru         v         u         v         u         x  9      u         v         u         v         <v         v         Mv         v         Qv         x  X      ]v         v         v         v         v         v         v         v         v         v         v         x         4w         v         ;w         v         Cw         v         Mw         v         tw           w                   w         v  L      w           Wx         v         ax         v         ex         x  X      x           x                   x         v  L      x            y         v         y         v         y         x  W      Xy         v         y         v         y         v         y         v         y           y                   z         v  L      z           ^z         v         bz         x        vz         v         zz         x  fW      z         v  t       z         v  d       z           z           z         v         z      
   v  h       z           z         v         z         v  |       z           z           z         u        z         v  \       {         v         {         x  `S      /{           6{           A{         v         E{         x  FT      i{         v         m{         x        {         v         {         v         {         x  U      {         v         |         v         !|         v         %|         x  S      R|         v         V|         x  XQ      c|         v         |         v  T      |           |         v         |         x  P      |         v         }         v         !}         v         U}         v         \}         v         }         v         }         v         }         x  X      }         v  p       }         v         ~         x        ~         v         )~         v         -~         x  S      <~         v         N~                   U~         v         ~         v                                        v         \                            v  L                          v                  x  !                v                  v         +         v         /         x  AS      \         v               
   x  X                                     v                  v                  x  X      "         v         R         v         }         v                  v                  v                                     v  L                 `         v         g         v                                     v  L                 1         v         @         v         [         v         r         v         v         x  W               v                  x  9V               v                  x  XQ               v                  v                  v         (         v         ,         x  Q      1      
   x  Q      T         v         ^         v         b         x  uQ      k         v         o         x  Q      }         v                  x  bR                                     v                  v                  x  uQ                                     v                  v                  x  W                          v                    #           ,           6           C         v        M           h           r           {      
   x  1                                                                   
   x  7                 <                    w                 w  0                 :         w  0               w  0                          w  0                 H           O           \           i           u                                                                             ?                                                                                                                         &           3           @           K           ]           j           w                                                                  @         w         j         w        t                                            B           u                                 [                    w  H               w                                    
   x  	                 &           0           9           A      
   x  	      Y                                       
   x  r	                                             
   x  	                             N           X           ]      
   x  6	      l           x                                       
   x                              (           I           S           X      
   x        b           p                                                                        
   x                              p           z                 
   x                                    
   x                                    
   x  A                 =           G           L      
   x  A      Y                      
                       *           3           ;      
   x  =      E           P                                       
   x                                    
   x                              %           P           r                                                  
   x                              :           D           I      
   x        V           b                                       
   x                                               
   x                              [           e           j      
   x        w                                 %           /           4      
   x        A                                                             
   x        '           G           n           y                                       
   x  !                                       [                      |                                                                  3           [           q                 
   x                                     
   x                              l                                       
   x  y                  *           /      
   x        <           H                      $           )      
   x        0           g           q           v      
   x                                                          
   x                              T         w  H
      e           o                 
   x  b                                             
   x                                               
   x                                                                     
   x  J                            w           ~                      O           a           !           +           0      
   x  ,      7           }                            
   x  \                                                                                   	                 
   x                            w  
               w  h                                  
   x                   "           f           {           F           P           U      
   x        _           |                            
   x                                               
   x                   "           ,           1      
   x  e      8                                                                  }                                                             
   x                   +           ;           E           J      
   x  l      G         w  x
      /           <           F           K      
   x  l      Z           j                                                       G       E           L         v  $      V           ]         v  ,      g           n         v  4      x                    v  <                          v  D                          v  L                          v  T                          v  \            
   x  
                          v  $               w  `Q               w  `Q                          v  ,               w  `O      !         w  `O      &           :         v  4      ?      
   x        D      
   w  N      I           P         v  4      U      
   x        Z      
   w  N      _           f         v  4      k      
   x        p      
   w  N      u           |         v  4            
   x              
   w  N                          v  4            
   x              
   w  N                          v  4            
   x              
   w  N                          v  4            
   x              
   w   O                          v  4            
   x              
   w  O                          v  4            
   x              
   w   O                           v  4            
   x        
      
   w  0O                          v  4            
   x               
   w  @O      %           ,         v  4      1      
   x        6      
   w  PO      ;           S         v  <      Z         w  pJ      a         w  pJ      f                    v  D               w  H               w  H                          v  L               w  p               w  p                          v  \               u  \             
   u  `                           v  \               u  l             
   u  p                  
         v  \               u  |             
   u                    "         v  \      )         u         .      
   u         3           :         v  \      A         u         F      
   u         K           R         v  \      Y         u         ^      
   u         c           j         v  \      q         u         v      
   u         {                    v  \               u               
   u                             v  \               u               
   u                             v  \               u               
   u                          
                                                               u  P                             '         w        F         u  P       ]         u  T       j                    w         7           <           R         v         Y         v         a         v         i         v         t         v                  v                  v                  v                  v                  v                  v                  v                  v                  v  X                v                  v                  v                  v                  v        .         v         9         v         @         w  0      P         v        j         v  #                w  P              v                  v                  w  2               v                  x  L      	         v                  v  X                v         H         w  P     P         v         e         v         m         v         q         x  HP               w  P              v                  v                  x  B               v                  v                  x  B               v                  x  C               v  t                v                  v                  v                  v  {       !         v         %         x  B      -         v         1         x  +L      K         v         O         x  y               v                  v                  v                  v                 v                  v                 v                  v                  v  #       k         v                  v                  x  L               v  $       h         v         }         v                  x  HP               v                  v  X                v         "         x  C      E         v  {       S         v         W         x  B      w         v         }         v  X                v                  v                  x  P               w  0               v                  v  X       B         v         Y         v         ]         x  B      v         w  0      |         v                  v                  x  B               v  t                v                  v                  v  {                v                  x  B               v                  x  C               v                  x  C               v  t       !         v         %         x        J         w  P     a         v         g         v  X       w         v  T                v                  v                  v                  x  y               v  X                v                  v                  v  X                v                  x  +L      E         v         T         v         Z         v         a         v         k         v         q         v                 v                  v                  w  0               v                 v  #       	         w  P              v         *         v         1         w  2      ;         v         ?         x  L      `         v         f         v  X       z         v                  w  P              v                  x  B               v                  x  HP               v                  v                  x  B               v                  x  C               v  t       !         v         6         v         :         x  dP      B         v  {       L         v         P         x  B      i         v         m         x  y               v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v         &         v  X       3         v        9         v         f         v  $       q         v                  v                  v                  w  2               v                 v                  v                  v                  v                   x  C      )         v         -         x  L      6         v         :         x  HP      I         w  P     S         v        p         w  P     v         v         |         v                  v                  w  0               v                  v                  v                  v  X                v                  x  B               w  0               v                  v                  v                  v                  x  B      '         v  t       3         v         9         v         G         v         O         v  {       Y         v         ]         x  B      v         v         z         x  y               v                 v                  v                  v                  w  P              v                  v                  v                   v         N         v  $       Z         v        m         v                  v                  x  $P               v                  v  #                v                  v                  v                  v         <         v        Y         v         l         v                  w  `               v                 w  P              v                  v  T                v         +         v         8         v         >         v  X       Y         v         d         v         r         w  0               v                  v  X                v                 v         5         v         J         v         _         v         u         v                  v                  v                  v                  v                  v                  v                             v                  v         %         v         0         v         6         v  X       M         w  0      T         v         `         v         d         x  B      l         v  t       y         v                  v                  v                  v  {                v                  x  B               v                  x  y               v                  v                  v                  v         "         v         (         v         >         v         J         v         V         v         a         v         o         v         v         v  X                v                  v                  v                  v                  v                  v                  v                  v                  v                  v                
   x  1B      %      
   x  ^B      6           <         v         E         v         I         x   B      X         v         ^         v         d         v         }         v                  v                  v  [                v  X                v                  v  X                v                  v                 v                  w  0      	         v         #         v         9         v         ]         v  $       l         v                  w  P              v                  v                  v                  v                  x  C               v                  v                  v                  w  P              v         1         v         A         w  0      G         v         d         w  P     j         v         p         v                  v                  v                  v                  v                  x  O               v                  x  C               v                  x  O      =         v                  v                  v                  x  O               v                  x  C               v                  v                   v                  v                  x  C      4         v         8         x  O      ^         w  P     f         v         q         v  X       }         v  T                v                  v                  v                  v                  v  X                v                  x  O               v                  v                  x  O               v         +         v         <         v         K         v         d         v         s         v                  v                  v                  v                  v                  v  X                           v                  v                  v                  v                  v                  v                  v                  v         /      
   x  N      6           ?      
   x  N      F           ]      
   x  =O      d           s         v  [       }         v                  x  B               v                  v                  x  M               v                 v                  v  #                v                  v                  v         )      
   x  tM      2           8         v         >         v         D         v         O         v         Z         v         h         v         l         x  C      t         v                  v               
   x  eN                          v                  v               
   x  tM                          v                  w                v                  v                  x  4N      1      
   x  N      T         w  0      Z         v         `         v         f         v         l         v                  w  P           
   x  eN                          v                  w  P              v                  v                  v                  v  X                v                  v  X                v                  v                  v  \       $         v         0         v         4         x  J      G         v         U         v         ^         v  \       d         v         p         v         t         x  J               v                  v                  v  X                v                  v  s                v                 v  $                v                  v                  v  T                w  P              v                  w  0               v                  v  X       "         v         /         w  P     5         v  X       @         v  s       G         v         V         v         b         v         k         v         q         v  X       {         v                  v                  v  s                v                  v                  v                  v                  v                 u  T                v                  v  #                v                  w  P              v                  v         $         v         (         x  M      /         v         ;         w  0      A         v         R         v         X         v         a         v         m         v         u         v         {         v                  v                  v                  v  X                v                  v                  v                  v                 v                  v                  v                  v                  x  C      Q         v         ^         w  2      h         v         l         x  L      w         v                  v                  v                  x  C               v                 w  0               v                  v                  v         #         v         2         v  #       O         w        U         v         |         v                  v                  v                  v                  w  0               v                  v                  x  B               v  X                v         #         v         4         v         F         v         n         v                  v  t                v                  v  {                v                  x  B               v  X                v                  v                  v  X                v                  v         H         v         [           b         v         f         x  M               v                  x  y               v  X                           v                  v                  v  X                v         
         v                  x  M      E         v         K         v  X       W         v         p         v                  v                                                   v                  v                  v                  v                  v                 v                  v                 w  0      	         v                  v                  v  #       1         w  P     >         v         E         v         K         v         [         v         _         x  C      q         v         }         v                  w  2               v                  x  L               w  P              v                  v                  v                  v                  v                  v                  v                  v                  v                  v                   x  vL               v  [                v                  x  B               v         *         v         W         w  P     i         v         w         w  P              v                  v                 w  0               v                  v                  x  L               v                  v                  v                  v                  v                  v                  v                  x  B               v        +         v  #       6         v  {       @         v  t       ]         v        o         v  X                v                  v  t                v                  v                  v                  v                  v  X                v  {                v                  x  B               v                  x  y      *         v         2         v         ;         v         A         v         G         v         R         v         [         v         a         v         g         v         r         v         x         v  #                v                  v                  v                  v                  v                  v                  v                  v                  v  {                v  t                v                  v                  v                  v                  v         )         v         -         x  A      6         v         :         x  C      O         v         c      
   x  1B      h      
   x  ^B      y                    v                  v                  x   B               v                  v                  v                  v                  v                  v  [                v  X                v                  v  X                v                  v         !         v         '         v         1         v         >         v         N         v         R         x  F      Z         v         ^         x  F      |         v                  x  *H               v                  x  -G               v                  x  H               v                  x  [H               v                  x   B               v                  x  H               v                  v  X                v                  v                  v         	         v                  v                  v         )         v         3         u  T       <           D      
   x  QL      K           R         v         [         v         a         v         g         v        m         v                  v  '                v                  v                  v                  v                  v                  x  L               v                  v                  v                  x  C               w  P              v                  v         (         v         8         v         @         v         D         x  +L      S         v         Y         v         c         u  T       l           u      
   x  K      |                    v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v         '         v         2         v         8         v         C         v         R         v         [         v         a         v         m         v         z         v                  v                  v                  v                  x  :               v                  v                  v  \                           v  X                v  X                v                  v                  v                  v         '         v         2         v         8         v         C         v         R         v         X         v         l         v         x         v                  v                  x  K               v                  v                  v                  v                  v                  x  @               v                  v                  v                   v  $            
   x  )      
                    u  T                   E         v         I         x  =      Q         v         [         v  $      `      
   x  P)      e           u         u  T       {                    v                  v  (                v                  v                  v                  v                  v                  v                   x  K      	         v                  x  =                 $         v         =         v         I         v         M         x  @      W         v         ^         v         e         v         p         v  $      u      
   x  )      z                    u  T                           v                  x  =               v                  v  $            
   x  P)                          u  T                           v         $         v  (       1         v         ;         v         A         u  T       d         v         h         x  K      x         v                  v                  v                  v                  x  UK               v                  x  =               v                  x  K                          v                  v  $            
   x  Z)                          u  T                  *         v         4         v         :         v         @         v         F         v         U         v         ]         v  (       j         v         z         v                  v  X                v                  v                  x  =                          v                  v  $            
   x  Z)                          u  T                           v                  v         !         v         '         u  T       ;         v         ?         x  K      G         v  (       T         v         _         v         c         x  J               v                  v                  v                  x  =               v                  x  K                          v                  v                  v                  v                  v                  v         	         u  T                        
   x  I      $           6      
   x  J      =           R         v         ]         v         c         v         p         v         {         v                  v               
   x  I                          v                  v                  v                  v                  v                  x  D               v                  v                  v                  v         &         v         X      
   x  1B      ]      
   x  ^B      n           t         v         }         v                  x   B               v                  v                  v                  v                  v                  v  [                v  X                v               
   x  *J                          v                  v                  v                 v                  v         !         v         %         x  B      3         v         =         v         G      
   x  I      N           T         v         Z         v         b         v  '       k         v                  v                  v  \                v                  v                  x  ;               v                  x  J               v                  v                  v                  v                  v                  v                  v         "         v         +         v         1         v         7         v         B         v         M         v         b         v         m         v         s         v                  v                  v                  v               
   x  I                          v                  v                  v                  v                  v                  v                  v                  v                  v                  v                  v         "         v         +         v         1         v         <         v         B         v         R         v         [         v         a         v         g         v         r         v                  v                  v                  x  CA               v                  x  I               v                  x  wA               v                  v                  v               
   x  1B            
   x  ^B                          v         -         v         3         v         9         v         R         v         k         v         t         v         x         x  A               v  [                v  X                v                  v  X                v                  v                  x  H               v                  v                  v                  x  E               v                  v                  v         $         v         *         v         =      
   x  I      F         v         J         x  bE      S         v         W         x  I      o      
   x  dI      v           |         v                  v                  v                  v                  v                  x  D               v                  v                  v                  v               
   x  1B            
   x  ^B      +           1         v         :         v         >         x   B      H         v         N         v         T         v         e         v         m         v         t         v  [       }         v  X                v                  v                  v                  v                  v                  x  E               v                  v                  v                  v                  v                   v                  x  F               v                  x  F      /         v         3         x  *H      ;         v         ?         x  -G      Q         v         U         x  H      g         v         m         v  X       y         v         }         x   B               v                  v  X                v                  v                  v                  v                  v                  v                  v                  v               
   x  F                          v                   v                  v        !         v         +      
   x  F      2           8         v         A         v         J         v         N         x  B      b         v         k         v         q         v         w         v                  v                  v                  v                 v                  x  C               v                 v                  v  #                u  U                v                  v                  v                  v                  v         
         u  S                v                  v         !         x  &F      (         v         1         v  #       :         v         @         v         H         v         L         x  gF      b         v         h         v         w         v  #                v                  w  P              v                  v                 v                  w  0               v                  v                  x  C               v                  v                  v                  v                  v                  v                  v                  v         ,         v  #       ?         v         H         v         S         v        m         w  0      s         v                  v                  v                  v                  v                  v                  x  E               w  P              v                  v                  x  C               v                  v                  v                 v                  x  C               v                   v         2         v         M         v         X         v  {       b         v  t       m         v         v         v                  v                  v  X                v                  x  E               v                  x  E               v                  v                  v                  v                  v                  v  X                v                  x  E               v                  v         (         v         .         v         <         v  {       F         v  t       T         v         a         v         g         v  X       s         v         w         x  E               v                  x  I;               v                  x  E               v                  v                  v                  v                  v                  v                  v  X                v                  x  E               v                  v                  v         !         v         '         v         -         v         H         v         T         v         _         v         m         v         t         v  X                v                  v                  v                  v                  v                  v                  v  {                v                  x  B               v  t                v         	         v                  v  X       "         v         +         v         1         v         <         v         B         v         H         v         c         v         o         v         z         v                  v                  v  X                v                  v                  v                  v                  v                  v                  v  {                v                  x  B               v  t               v         %        v         +        v  X       B        v         H        v         R        v        \        v         `        x  C      g        v         m        v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v  X               v                 v                 v                 v         "        v         (        v         1        v  {       ;        v         ?        x  B      F        v  t       ^        v         r        v         |        v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v  X       "        v         +        v         6        v         <        v         G        v         R        v         Z        v         b        v  {       l        v         p        x  B      w        v  t               v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v         "        v         -        v         B        v         K        v         Q        v         \        v         b        v         m        v                 v                 v                 v                 x  E              v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v         !        v         +        v         6        v         B        v         K        v         Q        v         \        v         b        v         r        v         {        v                 v                 v                 v                 v                v                 v  #               w  0              v                 w  P             v                 v                 v                 x  D              v                 v                 v                 x  E              v         "        x  bE      ,        v         2        v         =        v         R        v         X        v         a        v         l        v         p        x  I;      }        v                 x   E              v                 v                 v                 v                 v                 v                 x  D              v                 v                 v                 x  E              v                 v                 v         "        v         &        x  D      .        v         2        x  I;      C        v         I        v         V        v         \        v         f        v         |        v                 v                 v                 x  I;              v                 v                 v                 v                 v                 v  X               v                 v  {               v                 x  B              v  t               v  X       A        v         R        v         X        v         f        v         j        x  D      q        v         z        v                 v                 v                 v                 v                 x  D              v                 v                 v                 v                 v         	        v         	        v         	        v         	        x  D      $	        v         -	        v         3	        v         H	        v         R	        v         [	        v         e	        v         k	        v         y	        v         }	        x  D      	        v         	        v         	        v         	        v         	        v         	        v         	        v         	        x  D      	        v         	        v         	        v         
        v         
        v         
        v         '
        v         +
        x  D      2
        v         ;
        v         A
        v         b
        v         r
        v         
        v  \       
        v         
        x  4D      
        v         
        x  D      
        v         
        v         
        v  t       
        v         
        v                  v  \               v                 x  [D      /        v         3        x  4D      :        v  \       @        v         K        v         R        v         ]        v         g        v  t               v                 v                 v                 v                 v                 v                 v  {               v  t               v                 v                 v                 v         )        v         -        x  D      5        v         @        v         L        v         P        x  A      Y        v         ]        x  C      r        v              
   x  1B           
   x  ^B                        v                 v                 x   B              v                 v                 v                 v                 v                 v  [               v  X               v                v                 x  C              v         #        v         '        x  C      .        v         4        v         >        v  X       R        v         b        v        l        v         p        x  C      w        v         }        v                 v                v                v                 v                 v                 v                 x  zC              v                 v                 v  X               v                 v         ,        v         0        x  C      8        v         <        x  B      C        v         O        v         S        x  0C      Z        v         p        v         t        x  QC      {        v                 v                 v                 v                 v                 v                 v                 x  B              v                 v                 v  X               v                 v                 v                 x  B              v  t       +        v         1        v         ?        v         F        v  {       P        v         T        x  B      l        v         p        x  y              v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v         	        v                 v                 v         %        v         3        v         C        v         G        x  CA      P        v         T        x  #A      b        v         f        x  wA      w        v                 v                 v              
   x  1B           
   x  ^B                        v                 v                 v                 v                 v                 v         $        v         (        x  A      0        v  [       9        v  X       J        v         P        v  X       Z        v         r        v         x        v                 v                 v                 v                 v                 v                 v                 x  A              v                 v                 v                 v                 v         
        v                 x  A              v         !        v         2        v         ;        v         B        v         K        v         Q        v         ^        v         d        v         y        v                 v                 x  :              v                 v                 v                 v  \                         v  X               v  X               v                 v                 v                 v                 v                 v         !        v         ,        v         C        v         L        v         R        v         X        v         k        w                v                 v  {               v  t               v                 v  t               v  t               v                 v                 v                 v                 v         +        v         <        v         @        x  :      I        v         M        x  @      `        v         m        v         s        v  \                         v  X                         v  X               v                 v                 v                 v                 v                 v                 v                 v         "        v         6        v         >        v         I        v         T        v         q        v         }        v                 x  @              v                 v                 v                 v  $           
   x  )                        u  T                         v                 v                 v         
        v                 v  (               v         *        v         .        x  =      5          B        v         V        v         ^        v         k        v         q        v                 v                 v                 x  :              v                 v                 v  \                         v  X               v                 x  :              v  X               v                 v                 v                  v         E        v         K        v         S        v         ^        v                 v                 v                 v                 v                 x  @              v                 v                 v                 v                 v                 u  Z                         v        	        v                 v                 x  g;              v        :        v         B        v         O        v         c        v         u        v         ~        v                 v                 u  Z                         v                v                 x  @              v                 v                 x  g;              v                v                 v                 v                 v         &        v         .        v         F        v         Z        v         b        v         v        v         ~        v                 v                 u  Z                         v                v                 v                 x  g;              v                v                 v                 u  Z                  	        v                v                 v         !        x  g;      (        v        ;        v         B        v         M        u  Z       V          _        v        i        v         s        v         w        x  g;              v                v                 v                 v                 v                 v                 v                 v                 v                 u  Z                         v                v                 v                 x  g;               v        5        v         B        v         M        u  Z       V          _        v        i        v         s        v         w        x  g;              v                v                 v                 u  Z                         v                v                 v                 x  g;              v                v                 v                 u  Z                         v        )        v         3        v         7        x  g;      ?        v        V        v         \        v         g        u  Z       p          y        v                v                 v                 x  g;              v                v                           v                 v                 v                 v  '               v                 x  ;              v  $               v                 u  Z                v        *        v         4        v         8        x  g;      @        v        Y        v         _        v         j        u  Z       w        v                v                 v                 x  g;              v                v                           v                 v                 v                 v  '               v                 x  ;              v  $               v                 u  Z               v                v         $        v         (        x  g;      0        v        I        v         O        v         Z        u  Z       g        v        q        v         {        v                 x  g;              v                v                 v                 v                 v                 v                 v                 v                 v                 v         "        v         6        v         >        v         R        v         b        v         v        v         ~        v                 v                 v                 u  Z                         v                v                 v                 x  g;              v                v                 v                  v                  v                  v         )         v         :         v         >         x  :      E         v         Q         v         X         v  \       k           t         v  X                v                  x  :               v  X                v                  v                  v                  v                  v                  u  Z                           v                 v         !        v         !        x  g;      !        v        *!        v         2!        v         <!        v         S!        v         e!        v         n!        v         y!        v         !        u  Z       !          !        v        !        v         !        x  @      !        v         !        v         !        x  g;      !        v        !        v         !        v         !        v         "        v         "        u  Z       "          "        v        )"        v         3"        v         7"        x  g;      ?"        v        V"        v         \"        v         g"        u  Z       p"          y"        v        "        v         "        v         "        x  g;      "        v        "        v         "        v         "        u  Z       "          "        v        "        v         "        v         "        x  g;      "        v        #        v         #        v         #        u  Z       &#          /#        v        9#        v         C#        v         G#        x  g;      N#        v        e#        v         r#        v         {#        v         #        v         #        v         #        v         #        v         #        v         #        x  f@      #        v         #        v         #        v         #        v         #        v         #        v         $        v         $        x  f@      $        v         $        u  Z       &$          /$        v        9$        v         C$        v         G$        x  g;      O$        v        b$        v         h$        v         s$        u  Z       |$          $        v        $        v         $        v         $        x  g;      $        v        $        v         $        v         $        u  Z       $          $        v        $        v         $        v         $        x  g;      $        v        %        v         T%        v  $      ^%     
   x  )      e%     
   x  U+      j%          v%        u  T       |%          %        v         %        v  (       %        v         %        v         %        x  =      %          &        v  $      !&     
   x  *      (&     
   x  n+      -&          9&        u  T       ?&          j&        v         t&        v  (       &        v         &        v         &        x  =      &          &        v         &        w       &        v         '        v         ''        v         ?'        v         H'        w       N'        v         Y'          i'        v  (       r'        v         x'        v         '        v         '        v         '        w       '        v         '        v         (        v         P(        v         n(        v         (        w       (        v         (        w       (        v         (        w       (        v         (        v         (        u  Z       (          (        v        (        v         (        v         )        x  g;      	)        v        ")        v         ()          8)        v  (       A)        v         G)        v         N)          c)        v         i)        v         p)        v         w)        v         )        v         )        v         )        v         )        v         )        v  $      )     
   x  )      )     
   x  9+      )          )        u  T       )          )        v         )        v  (       
*        v         *        v         *        x  =       *          3*        v         9*        v         @*        v         G*        v         Q*        v         W*        v         a*        v         k*        v         s*        v  $      z*     
   x  n)      *     
   x  	+      *          *        u  T       *          *        v         *        v  (       *        v         *        v         *        x  =      *          ;+        x  2)      D+        x  A)      M+        x  *      V+        x  *      m+        v  $      r+          +        u  T       +          +        v         +        v         +        v         +        x  6@      +        v  (       +        v         +        v         +        x  =      ,          G,        v  $      Q,     
   x  I*      X,     
   x  +      ],          i,        u  T       o,          ,        v         ,        v  (       ,        v         ,        v         ,        x  =      ,          -        v  $      -     
   x  P*      -     
   x  +      -          )-        u  T       /-          Z-        v         d-        v  (       q-        v         |-        v         -        x  =      -          -        v         -        v  $      -     
   x  *      -        v         -          .        v  '       .        v  ,       .        v         ".        u  Y       A.     
   x  z+      H.     
   x  :*      O.     
   x  +      T.          `.        u  T       f.          .        v         .        v         .        x  =      .        v  (       .        v         .        v         .        x  ;      .          /        v  $      /     
   x  *      /        v         (/          1/        v  '       >/        v  ,       L/        v         R/        u  Y       [/        v         i/     
   x  h+      n/          z/        u  T       /          /        v         /        v         /        x  =      /        v  (       /        v         /        v         /        x  ;      /          ?0        v         F0        v  $      ]0     
   x  *      i0        v         s0          |0        v  '       0        v  ,       0        v         0        u  Y       0        v         0        v         0        w       1        v         %1     
   x  t+      ,1     
   x  3*      31     
   x  +      81          D1        u  T       J1          u1        v         1        v         1        x  =      1        v  (       1        v         1        v         1        x  ;      1          2        v         2        v  $      %2     
   x  *      .2        v         82          A2        v  '       N2        v  ,       \2        v         b2        u  Y       2     
   x  \+      2     
   x  *      2     
   x  b+      2          2        u  T       2          2        v         2        v         2        x  =      2        v  (       2        v          3        v         3        x  ;      3          M3        v         r3        v  $      3     
   x  )      3          3        u  T       3          3        v         3        x  =      3        v         3          3        v  '        4        v  ,       4        v         4        u  Y       X4        v         f4        v         t4        v         4        v         4          4     
   x  O+      4          5        u  T       5          B5        v         F5        x  =      P5     
   x  )      U5          e5        u  T       k5          5        v         5        x  =      5     
   x  I+      5          5        u  T       5          5        v         5        v  (        6        v         6        v         6        x  =      #6        v         ,6        v         06        x  ;      96        v         =6        x  =      I6          S6        v         a6        v         q6        v  $      6     
   x  ~)      6          6        u  T       6          6        v         6        x  =      6        v         6        v         6        v          7        x  ?      7     
   x  )      7          $7        u  T       *7          W7        v         [7        x  =      b7     
   x  n)      g7          w7        u  T       }7          7        v         7        x  =      7        v         7        v         7        v         7          8        v         8        x  ?      8     
   x  )      8          (8        u  T       .8          Y8        v         c8        v  (       p8        v         z8        v  (       8        v         8        v         8        x  =      8          8        v         8        v         8        v  $      8     
   x  d)      8     
   x  *      8     
   x  i)      8     
   x  +      8          8        u  T       8          9        v         &9        v  (       39        v         >9        v         B9        x  =      I9          9        v         9        v         9        v         9        v         9        v         9        v         	:        v         :        v         ,:        w  p     U:          `:        v  '       m:        v  ,       {:        v         :        u  Y       :        v         :        v         :        v         :        w       :        v         :          :        v  '       :        v  ,       :        v         :        u  Y       ;        y         ;        v         ;        v         2;        v         c;        v         ;        v         ;     
   x  *      ;     
   x  *      ;        v         ;     
   x  *      ;     
   x  *      ;        v         ;        v         <        v         <        v         <        v         <        v         )<        v         /<        v         L<        w  p     a<        w        m<        v         {<        v         <        x  =      <        w        <        v  $      <          <        u  T       <          =        v         =        x  =      !=        v         %=        x  ?      5=        v         A=        v         O=        v         S=        x  ;      _=        v         m=        v         q=        x  =      =        v         =     
   x  *      =     
   x  *      =        v  $      =          =        u  T       =          =        v         =        v  (        >        v         >        v         '>        w       ->        v         ;>        y          A>        v         G>        v         _>        v         >        v         >        v         >        v         >        x  =      >        v         >        v         >        x  ;      >        v         >        x  ?      >        v         >          ?        v         ?        v         ?     
   x  0      ?        w        ?        v         ?        v  $      ?     
   x  s*      ?          @        u  T       @          4@        v         8@        x  =      A@        v         V@          `@        v  '       m@        v  ,       {@        v         @        u  Y       @        v         @        v         
A        v         A     
   x  0      "A        v         hA        v         oA        v  $      tA          A        u  T       A          A        v         A        x  =      A          A        v  '       A        v  ,       A        v         A        u  Y       A        v         B        v         B          8B        v         FB        v         JB        x  >      VB        v  $      [B     
   x  )      `B          pB        u  T       vB          B        v         B        x  =      B        v         B        v         B        v         B        v         B        v         B        v  $      B     
   x  +      B          B        u  T       C          2C        v         6C        x  =      AC        v         IC        v         UC        v         [C        v         bC        v         iC        v         oC        v         uC        v         |C        v         C        v         C        v         C        v         C        v         C        v  $      C     
   x  +      C          C        u  T       C          C        v         C        x  =      D        u  Z       D        v          D          )D        v  (       7D        v         KD        v         VD        v         cD        u  Z       pD        v         D          D        v  (       D        v         D        v         D        v         D        v         E        u  X       E        v         3E        v         7E        x  =      E        u  X       E        v         E        v         E        x  =      E        v  $      E     
   x  )      E          E        u  T       E          F        v         F        x  =      F        v  $      F     
   x  )      F          +F        u  T       1F          `F        v         pF        v  (       }F        v         F        v         F        x  |?      F        v         F        x  |?      F        v         F        v         F        x  =      F        v         F        v         F        x  =      F        v         F        x  =      F        v         F        x  =      
G        v         G        x  =      G        v         G        x  =      G        v         G        v         G        v         G        x  ;      G        v         G        v         G        x  ;      G        v         G        x  =      G        v         G        x  h?      	H        v         H        x  h?      H        v         H        x  ;      )H        v         -H        x  ;      HH        v         WH          `H        v  (       H        v         H        v         H          H        v  (        I        v         I        v         (I          -I          I        v         I        v         I        v         I        v         I        v         J        v         J          ;J        v         J        v         J        v         J        v         J        v         J        v          K        v         &K          KK        v         K        v         K        v         K        v         K        v         K        v         K        v         K        v         GL        v         ML          rL        v         L        v         L        v         L        v         L        v         L        v         L        v         M        v         M        w       :M        v         M        v         M          M        v         M        v         M        v         N        v         AN        w       WN        v         ]N          N        v         N        v         N        v         N        v         N        v         N        v         N        v         O        v         #O        w       JO        v         O        v         O          O        v         P        v         P        v         P        v         PP        w       oP        v         uP          P        v         P        v         P        v         P        w       P        v         Q        v         'Q        v         OQ        v         UQ          xQ        v         Q        v         Q        w       Q        v         Q        v         Q        v         Q        v         R        w        9R        v         S        v         S        v         S        x        S        v         S        v         S        x        S          7T        v         ET        v         IT        x        T        v         U        v         $U          HU        v         aU        v         kU        v         oU        x        vU          {U          U        v         U        v         U        v         U        v         
V        v         V          3V        v         DW        v         RW        v         `W        v         xW        v         W        v         W        v         W          W        v         X        v         BX        v         TX        w       ZX        v         X        v         X        v         X        w       X        v         X        v         
Y        v         FY        v         LY          pY        v         Y        v         Y        v         Y        v         Y        v         Z          %Z        v         7Z        v         @Z        v         KZ        v         UZ        v         [Z        v         bZ        v         iZ        v         sZ        v         Z        v         Z        v         Z        v         Z        v         Z        v         Z        v         Z        v         Z        v         Z        v         Z        v         [        v          [        v         E[          U[        v         [        v         [        v         [        v         [        v         [        v         [          \        v         j\        v         \        v         \        v         \        v         \        v         ]          ]        v         *]        v         .]        x  %?      >]        v         ]        v         ]        v         ]        v         ]        v         ^        v         ^          )^        v         -^        x  F?      ;^        v         ^        v         ^        v         ^        v         ^        v         _        v         _          (_        v         ,_        x  F?      :_        v         s_        v         _        v         _        v         _        v         `        v         `          +`        v         /`        x  %?      =`        v         u`        v         `        v         `        v         `        v         `        v         `          a        v         %a        v         Qa        v         va        w       |a        v         a        v         a          a        v         a        v         a        x  >       b        v         2b        v         Wb        v         nb        v         b        v         b          b        v         b        v         b        v         b        v         c        v         c        v         Kc        w       _c          oc        v         xc        v         |c        x  >      c        v         c        v         c        v         d        v         !d        v         'd          Id        v         Pd        v         yd        v         d        v         d        v         d        w       d          d        v         d        x  >      e        v         Be        v         Pe        v         ae        v         pe        w       ~e        v         e        v         e          e        v         f        v         f        v         Ff        w       bf        v         hf          f        v         f        v         f        v         f        v         f        w       f        v         g        v         g        v         g        w       %g        v         0g        v         6g          Zg        v         g        v         g        v         g        v         g        v         h        v         h          9h        v         kh        v         yh        v         h        v         h        v         h        v         h          i        v         %i        v         Oi        v         ai        w       gi        v         i        v         i        v         i        v         i        v         (j        w       >j        v         Dj          ij        v         j        v         j        v         j        v         j        v         .k        v         4k          Yk        v         k        v         k        v         k        v         k        v         k        v         k          l        v         %l        v         Ol        v         al        w       gl        v         l        v         l        v         l        v         l        v         (m        w       >m        v         Dm          im        v         m        v         m        v         m        w       m        w       m        v          n        v         n        v         en        v         kn          n        v         n        v         n        v         o        v         o        v         3o        v         Qo        v         Wo          vo        v         zo        x  =>      o        v         o        v         p        v         p        v         +p        v         mp        v         sp          p        v         p        x  >      p        v         p        v         p        v         q          &q        v  '       3q        v  ,       Aq        v         Uq        v         fq        v         uq        w       q        v         q        v         r        v         "r        w       (r        v         Cr        v         Yr        v         _r        v         mr        v         r        v         r          r        v  (       r        v         r        v         r        v         r        x  ;      s        v         s        v         +s        v         Ns        v         Ts          ts        v         s        v         s        v         s        v         s        w       t          t        v         Ut        v         zt        w       t        v         t        v         t          t        v         u        v         #u        v         7u        v         ku        w       u          u        v         u        v         u        v         	v        v         v        v         $v        v         fv        v         lv          v        v         v        v         v        v         v        v         
w        v         Lw        v         Rw          vw        v         w        v         w        v         w        v         w        v         ?x        v         Ex          jx        v         x        v         x        v         x        v         x        v         /y        v         5y          Zy        v         y        v         y        v         y        v         y        v         z        v         z          6z        v         z        v         z        v         z        v         z        v         z        v         z          {        v         a{        v         o{        v         }{        v         {        v         {        v         {          {        v         #|        v         1|        v         ?|        v         `|          p|        v         |        v         |        v         |        w       |        v         |        v         >}        v         D}          h}        v         }        v         }        v         }        v         }        x  =      }        v         }        v         }        v         }        v         ~        v         ~          :~        v         L~        v         ^~        v         o~        w       u~        v         ~        v         ~        w        ~        v                 v                 v         /        v         @        w       F        v         l        v         y        v                 v                 v                 w               v                 v         +        v         K        v         l        v         p        x  ;      |        v                 x  ;              v                 v                 v                  v                 v                 v                 x  +<      (        v                 v                 v                 v                 x  ;              v                 v                 v                 x  e=              v         ;        v         A        v         j        v         n        x  s=              v                 x  =              w               v                 w                v         3        v         c        v                 v                 x  ;              v                 x  ;              v                 x  ;              v                 v                 v                 v                 v                 v                 v                 v         (        v         9        v         =        x  ;      P        v         T        x  ;      a        v         l        v         t                  v                 v                 v                 x  ;              v                 v         )        v         -        x  +<              v                 v                 v                 v                 v                 v         2        v         F        v         N        v         f        v         r        v         }        u  Z                         v                v                 v                 x  g;              v                v                 v                 v                 v                 v                 v                 v         '        v         2        v         =        u  Z       F          O        v        Y        v         c        v         g        x  g;      o        v                v                 v                 v                 v                 v                 v                 v                 v                 v                 u  Z                         v                v         #        v         '        x  g;      /        v        F        v         Q        v         a        v         i        v         r        v         x        v         ~        v                 v                 v                 v                 v                 v                 v                 v                 v                 x  I;              v                 v                 v                 v                 x  3;      "        v         +        v         1        v         7        v         B        v         K        v         Q        v         \        v         b        v         r        v         {        v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v         '          5        v         B        v         H        v         ^        v         o        v         s        x  :      |        v                 x  :              v                 v  \               v                 v                 v  '               v                 v                 v                 v                 v                 v                 v                 x  :      $        v         0        v         8        v         <        x  ;      I        v         O        v  \       b          k        v  X       v        v  X               v                 v                 v                 v                 u  W               v                 v  t               v                 v                 v                 v         '        v         8        v         <        x  :      D        v         H        x  :      U        v         [        v  \       n          w        v  X               v  X               v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 u  W               v                 v         
        v                 v                 v         P        v         d        v         r        v         v        x  r:      }        v                 v                 v                 v                 v                 v                 v                 v                 v         $        v         2        v         8        v         L        v         b        v         k        v         q        v         |        v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v                 v         "        v         +        v         1        v         <        v         G        v         M        v                 v                 v                 v                 v                 v                 v  P            
   v                 v  P               v  0               v  4               v  4               v  4               v                 v                 v  0               v                 v  4               v  <       .        v         S        v         i        v  4               v  4               w  8      (        v  4       0        v  8               w               w       B        w  h               v  4       ,        v         :        v         >        x  {<      G        v         Q        v         U        x  <      ^        v         h        v         l        x  >=      u        v                 v                 x  <              v                 v                 x  !=              v                 v                 x  <               v                 v                 v                 x  U<      K        v         T        v         Z        v         a        v         h        v                 w               v                 w               w                v                 v                 x  =              v                 v         (        v         ,        x  P>      2        v         @        v         N        v                 v                           v         E        v         V        v         \        v         j        v                 v                 x  >              v                 x  }>      7        v         I        v                 v                 v                 v                 x  >                        v                 w               v                 v                 v                 v                   I        v         X        w       f        v         ~        v                 v                 v                           v                 v         -        v         :        v         E        v         O        v         U        v         \        v         c        v         m        v                 v                 v                 w               v         8        v         >          \        v         b        v         i        v         p        v         v        v         |        v                 v                 v                 v         9        v         e        v                 v                 v                 v         &        v         a        v                 v                 v                 v         ,        v         ]        v                 v                 v                 v         !        v         R        v                 v                 v                 v                 v         %        v         -        v         8        v         >        v         R        v         V        x  F      _        v         c        x  F              v                 x  *H              v                 x  -G              v                 x  H              v                 x  [H              v                 x  ]G              v                 v                 x   B              v                 x  H      "        v         &        x  G      3        v         F        v         L        v  X       i        v         o        v  X               v                 x  G              v                 x  G              v                 v                 v  {               v                 x  B              v  t               v                 x  =>              v                 v  X       $        v         F        v  |       R        v         V        x  uJ      g        v         k        x  \J              v  t               v                v                 v                 v  t       s        v                                                                                         (     
   x  J      4     
             9          F        u         O        u         h        v  |       q        v  t       z        v  d               v                 x  J              v  t               v  d               v  x       ,        v  t       :        v  d       @        v         J        v         W        v         u        v  \               v                 v                 x  L              v                 x  L           
   x  M                        v                 x  TM           
   x  tM      *          6        v         N        v         d        v         y        v                 v                 v                 v                 v         #          *          0        v         :          @        v         L          S          _        v         k        v         o        x  W                                  v                                                    v                 v                 v                 v                 v         #        v                                    v                           v                                     v                 v                 x  W              v                 x  bR                                              '        v         +        x  fW      A          ^     
   x  gV      k          z     
   x  lV                                  v  D                          )        v  <      7          F          V        v         Z        x  qV              v                 x  T      &        u  Z       /          =        v        R        v             
   x  0U                O        v         S        x  U      i        v         |                          v                 v                 v                 x  X              v                 v                 x  T              v                 v                 x  U              v                 v                 x  X                                v         %        v         /        v         3        x  T      <        v         @        x  UU      N        v         R        x  {U      m                                              v  L                     
   v  h       W        v  |       d        v         h        x  uJ              v                 v                 v  x               v  p               v  t               v                 x  bR              v                 x  QR      "        v  t       (        v  X       2        v         i                  v  4                        w                          :        v  L      H                  v                 v                 v                 x  Q              v                 x  Q              v                 x  Q              v                 x  Q              v        :        v  t       A        v  d       H          O          U        v         [     
   v  h       `          f        v         m        v  |       y        v         }        x  bR                                  v                 v                 x  W              v                 x  fW                                  v                 v                   l          }                          v  L                        v                 x  !                v         2        v         =        v         H        v        m        v  t       t        v  d       {                            v              
   v  h                         v                 v  |                                   v                 v                 x  W                                  v                  v         '        v         3        v                                   v  L                <        v        p          w          }        v                           v                 v                 x  bR                                                      v         )        v         -        x  W      u     
   u                                    v                 x  Q              v                v  t       
        v  d                                   v         $     
   v  h       )          /        v         6        v  |       B        v         F        x  bR      M          Y          j          v                  v                 x  sR                                  v                 v                 x  W              v         >          J          }        v                v         K          R          X        v         c          i        v         ~        v                 x  bR                                  v                 x  R              v  x               v  p               v                 x  S      1          =          D        v         N        v         R        x  W                                  v                 x  FT                                v  L                O        v  t       V        v  d       ]          d          j        v         p     
   v  h       u          {        v                 v  |               v                 x  bR                                                      v                 v                 x  W              v                 x                  $          C        u         z        v                v  t               v  d                                   v              
   v  h                         v                 v  |               v                 x  bR                                  v         "        x  fW      5          A          M        v         W        v         [        x  W      d          p          }        v                 v                 x  R              u  $              v  \               u                v  \               v                 x  R              v         m        v  \               v                 x  R                                  
        v  L                                  v                 v                 x  T              v                 v                 x  S              v                 v                 x  cT      Y        v         c        v         g        x  'T      v        v                 v                 x  T              v        5          <          B        v         M          S        v         d        v         h        x  bR      o          {                                      v                 v                 x  W                                  v                 v                 x  FT                          X                              3               
   x  T                     
   x  T              v  L                     
   x  Y                !          /          9          [        v  L      f          p               
   x  Y                          x                    x                    x         (          x         0          x         8          x         @          x         H          x         `          x  ,
      p          x  /
                x  2
                x  5
                x  :
                x  >
                x  D
                x  H
                x  N
                x  R
               x  	R      (         x  R      @         x  R      X         x  !R      p         x  'R               x  -R               x  6R               x  <R               x  ER               x  KR                 t  m                 t                  t  ~                 t                    t        (          t        0          t        8          t        @          t  m       H          t  )      P          t  )      X          t        `          t        h          t        p          t        x          t  
                t                  t                  t  b"                t  b"                t  ''                t  #                t  '                t  (                t  (                t  (                t  g)                t  #                t  j$                t  )                t  $                t  L%                t  I*               t  *               t  0+               t  +                t  ,      (         t  ,      0         t  ,      8         t  e-      @         t  -      H         t  G.      P         t  .      X         t  )/      `         t  /      h         t  /      p         t  /      x         t  /               t  0               t  60               t  -4               t  4               t  4               t  5               t  ^6               t  6               t  ^7               t  7               t  V8               t  8               t  9               t  "               t  n:               t  :                t  :               t  :               t  ;               t  J;                t  \;      (         t  ;      0         t  ;      8         t  ;      @         t  <      H         t  8<      P         t  d<      X         t  <      `         t  %      h         t  3=      p         t  `&      x         t  =               t  =               t  >               t  *>               t  Q>               t  b>               t  >               t  C               t  C               t  ,?               t  ?               t  ?               t  A               t  @               t  ]@               t  ;A               t  A                t  /B               t  B               t  C               t  D                t  &E      (         t  E      0         t  %      8         t  `&      @         t  F      H         t  9G      P         t  G      X         t  b"      `         t  b"      h         t  #      p         t  #      x         t  j$               t  $               t  L%               t  H               t  H               t  H               t  H               t  I               t  a               t  a               t                 t                 t                 t                 t                 t                 t                  t                 t  H               t                 t                  t        (         t        0         t        8         t        @         t        H         t        P         t        X         t        `         t        h         t        p         t        x         t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                  t                 t                 t  n               t  n                t  n      (         t  n      0         t        8         t        @         t        H         t        P         t        X         t        `         t        h         t  =      p         t        x         t                 t                 t  D               t  D               t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                  t                 t                 t                 t                  t        (         t        0         t        8         t  D      @         t  D      H         t        P         t        X         t        `         t        h         t        p         t        x         t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                 t                  t                 t                 t                 t                  t        (         t        0         t        8         t  ]      @         t  L      H         t  N      P         t        X         t        `         t        h         t  L      p         t        x         t                 t  #               t  N               t  p               t                 t                 t  #               t                 t                 t                 t  &               t                 t                 t                 t                 t                 t                  t                 t                 t                 t                  t        (         t        0         t        8         t        @         t        H         t        P         t  6      X         t  6      `         t  6      h         t  6      p         t  6      x         t  6               t                 t                 t                 t                 t                 t                 t                 t                 t  K               t  &               t                 t                 t                 t                 t                 t         	         t        	         t        	         t        	         t         	         t  w      (	         t        0	         t  &      8	         t  &      @	         t  &      H	         t  &      P	         t  &      X	         t  &      `	         t        h	         t        p	         t        x	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t        	         t         
         t        
         t        
         t        
         t         
         t        (
         t        0
         t        8
         t        @
         t        H
         t  X      P
         t        X
         t  6      `
         t  o      h
         t        p
         t        x
         t  K      
         t  e      
         t  i      
         t  p      
         t        
         t        
         t        
         t        
         t  w      
         t        
         t  ~      
         t        
         t        
         t        
         t        
         t  '      
         t                  t  '               t                 t                 t                  t  '      (         t  '      0         t  '      8         t        @         t        H         t  '      P         t        X         t        `         t  
      h         t        p         t  4      x         t                 t  4               t                 t                 t                 t  4               t  4               t  4               t                 t                 t  4               t                 t                 t                 t  7               t  C               t  P                t  +               t  +               t  +               t  +                t        (         t        0         t  6      8         t        @         t  6      H         t  6      P         t  6      X         t        `         t        h         t        p         t        x         t  $               t  S               t                 t  !               t  2               t  o              t  v              t  }              t                t  ?              t  T@              t  >@              t  >@              t  >@              t  >@              t  @              t  A               t  >@              t  >@              t  >@              t  >@               t  >@     (         t  >@     0         t  >@     8         t  >@     @         t  >@     H         t  >@     P         t  >@     X         t  >@     `         t  SB     h         t  >@     p         t   A     x         t  >@              t  >@              t  >@              t  B              t  ?C              t  D              t  aD              t  D              t  @E              t  E              t  F              t  R              t  ?R              t  S              t  PR              t  uR              t  ~               t                t  	              t  &              t                 t       (         t       0         t  6     8         t       @         t  ]     H         t       P         t       X         t       `         t       h         t  F     p         t       x         t                t                 t  A              t  c              t                t                t                t  (              t  -              t  5              t                t                t                t                t                x  !                x  7                 x  Z       (         x  y       0         x         8         x         @         x         H         x        P         x  9      X         x  i      `         x        h         x        p         x        x         x                  x                  x  @               x  `               x                 x                 x                 x                 x                 t  `               x                 t  p               x  "               t                 x  %               t                  x  +      (         t  `      8         x  /      @         t  p      P         x  3      X         t        h         x  9      p         t                 x  >               t  P               x  J               t  p               x  U               t                  x  _               t                 x  d               t  0               x  k                                   x  p                         (         x  v      0                   @         x  |      H                   X         x        `                   p         x        x                            x                                    x                                    x                                    x                           p         x  X
               x  [
               x  ^
               x  a
               x  d
               x  g
                x  j
               x  m
      0         x  p
      H         x  s
      `         x  v
      x         x  z
               x  ~
               x  
               x  
               x  
               x  
               x  
                x  
      8         x  
      P         x  
      h         x  
               x  
               x  
               x  
               x  
               x  
               x  
               x  
      (         x  
      @         x  
      X         x  
      p         x  
               x  
               x  
               x  
               x  
               x  
                x  
               x  
      0         x  
      H         x  
      `         x  
      x         x  
               x  
               x  
               x  
               x  
               x  
               x  
                x  
      8         x  
      P         x         h         x                 x                 x  	               x                 x                 x                 x                 x        (         x        @         x        X         x  !      p         x  $               x  '               x  *               x  -               x  0               x  3                x  6               x  9      0         x  <      H         x  ?      `         x  B      x         x  E               x  H               x  K               x  N               x  Q               x  T               x  W                x  Z      8         x  ^      P         x  b      h         x  f               x  j               x  n               x  r               x  u               x  x               x  {               x  ~      (         x        @         x        X         x        p         x                 x                 x                 x                 x                 x                  x                 x        0         x        H         x        `         x        x         x                 x                 x                 x                 x                 x                 x                  x        8         x        P         x        h         x                 x                 x                 x                 x                 x                 x                 x        (         x        @         x        X         x        p         x                 x                 x                 x                  x                 x                   x                  x        0          x        H          x        `          x        x          x                   x  $                x  (                x  ,                x  0                x  4      !         x  8       !         x  <      8!         x  A      P!         x  F      h!         x  K      !         x  P      !         x  U      !         x  Z      !         x  ^      !         x  b      !         x  f      "         x  j      ("         x  n      @"         x  r      X"         x  v      p"         x  z      "         x  ~      "         x        "         x        "         x        "         x         #         x        #         x        0#         x        H#         x        `#         x        x#         x        #         x        #         x        #         x        #         x        #         x        $         x         $         x        8$         x        P$         x        h$         x        $         x        $         x        $         x        $         x        $         x        $         x        %         x        (%         x        @%         x        X%         x        p%         x        %         x        %         x        %         x        %         x        %         x         &         x        &         x        0&         x        H&         x  	      `&         x        x&         x        &         x        &         x        &         x        &         x        &         x        '         x  !       '         x  $      8'         x  (      P'         x  ,      h'         x  0      '         x  4      '         x  8      '         x  <      '         x  @      '         x  D      '         x  H      (         x  L      ((         x  P      @(         x  T      X(         x  X      p(         x  \      (         x  `      (         x  d      (         x  h      (         x  l      (         x  p       )         x  t      )         x  x      0)         x  |      H)         x        `)         x        x)         x        )         x        )         x        )         x        )         x        )         x        *         x         *         x        8*         x        P*         x        h*         x        *         x        *         x        *         x        *         x        *         x        *         x        +         x        (+         x        @+         x        X+         x        p+         x        +         x        +         x        +         x        +         x        +         x         ,         x        ,         x        0,         x        H,         x        `,         x        x,         x        ,         x        ,         x        ,         x        ,         x        ,         x  
      -         x         -         x        8-         x        P-         x        h-         x        -         x         -         x  $      -         x  (      -         x  ,      -         x  0      -         x  4      .         x  8      (.         x  <      @.         x  @      X.         x  D      p.         x  H      .         x  L      .         x  P      .         x  T      .         x  X      .         x  \       /         x  `      /         x  d      0/         x  h      H/         x  l      `/         x  p      x/         x  t      /         x  x      /         x  |      /         x        /         x        /         x        0         x         0         x        80         x        P0         x        h0         x        0         x        0         x        0         x        0         x        0         x        0         x        1         x        (1         x        @1         x        X1         x        p1         x        1         x        1         x        1         x        1         x        1         x         2         x        2         x        02         x        H2         x        `2         x        x2         x        2         x        2         x        2         x        2         x        2         x        3         x         3         x        83         x         P3         x        h3         x        3         x        3         x        3         x        3         x        3         x         3         x  &      4         x  ,      (4         x  2      @4         x  8      X4         x  >      p4         x  D      4         x  J      4         x  P      4         x  U      4         x  Z      4         x  _       5         x  d      5         x  i      05         x  n      H5         x  s      `5         x  x      x5         x  }      5         x        5         x        5         x        5         x        5         x        6         x         6         x        86         x        P6         x        h6         x        6         x        6         x        6         x        6         x        6         x        6         x        7         x        (7         x        @7         x        X7         x        p7         x        7         x        7         x        7         x        7         x        7         x         8         x        8         x        08         x         H8         x  &      `8         x  ,      x8         x  2      8         x  8      8         x  ?      8         x  F      8         x  M      8         x  T      9         x  [       9         x  b      89         x  h      P9         x  n      h9         x  t      9         x  z      9         x        9         x        9         x        9         x        9         x        :         x        (:         x        @:         x        X:         x        p:         x        :         x        :         x        :         x        :         x        :         x         ;         x        ;         x        0;         x        H;         x        `;         x        x;         x        ;         x        ;         x         ;         x        ;         x        ;         x        <         x         <         x        8<         x  #      P<         x  (      h<         x  -      <         x  2      <         x  7      <         x  <      <         x  A      <         x  F      <         x  K      =         x  P      (=         x  V      @=         x  \      X=         x  b      p=         x  h      =         x  n      =         x  t      =         x  z      =         x        =         x         >         x        >         x        0>         x        H>         x        `>         x        x>         x        >         x        >         x        >         x        >         x        >         x        ?         x         ?         x        8?         x        P?         x        h?         x        ?         x        ?         x        ?         x        ?         x        ?         x  
      ?         x        @         x        (@         x        @@         x  $      X@         x  +      p@         x  2      @         x  9      @         x  @      @         x  F      @         x  L      @         x  R       A         x  X      A         x  ^      0A         x  d      HA         x  j      `A         x  p      xA         x  v      A         x  |      A         x        A         x        A         x        A         x        B         x         B         x        8B         x        PB         x        hB         x        B         x        B         x        B         x        B         x        B         x        B         x        C         x        (C         x        @C         x        XC         x        pC         x        C         x        C         x        C         x        C         x        C         x         D         x        D         x        0D         x        HD         x        `D         x        xD         x        D         x        D         x        D         x        D         x        D         x        E         x         E         x         8E         x  $      PE         x  (      hE         x  ,      E         x  0      E         x  5      E         x  :      E         x  ?      E         x  D      E         x  I      F         x  N      (F         x  S      @F         x  X      XF         x  ]      pF         x  b      F         x  g      F         x  l      F         x  r      F         x  x      F         x  ~       G         x        G         x        0G         x        HG         x        `G         x        xG         x        G         x        G         x        G         x        G         x        G         x        H         x         H         x        8H         x        PH         x        hH         x        H         x        H         x        H         x        H         x        H         x        H         x        H         x        H         x         I         x        I         x         I         x        0I         x        @I         x         PI         x  %      `I         x  *      pI         x  /      I         x  5      I         x  ;      I         x  ?      I         x  C      I         x  G      I         x  K      I         x  S      I         x  [       J         x  c      J         x  k       J         x  w      0J         x        @J         x        PJ         x        `J         x        pJ         x        J         x        J         x        J         x        J         x        J         x        J         x        J         x        J         x         K         x        K         x         K         x        0K         x        @K         x        PK         x        `K         x        pK         x        K         x        K         x        K         x        K         x        K         x        K         x        K         x        K         x         L         x        L         x         L         x        0L         x        @L         x        PL         x        `L         x        pL         x        L         x        L         x        L         x        L         x  #      L         x  '      L         x  +      L         x  /      L         x  3       M         x  7      M         x  ;       M         x  ?      0M         x  D      @M         x  I      PM         x  N      `M         x  S      pM         x  X      M         x  ]      M         x  b      M         x  g      M         x  l      M         x  q      M         x  v      M         x  {      M         x         N         x        N         x         N         x        0N         x        @N         x        PN         x        `N         x        pN         x        N         x        N         x        N         x        N         x        N         x        N         x        N         x        N         x         O         x        O         x         O         x        0O         x        @O         x        PO         x        `O         x        pO         x        O         x        O         x        O         x        O         x        O         x        O         x        O         x        O         x         P         x        P         x         P         x        0P         x        @P         x        PP         x        `P         x        pP         x        `Q         x        xQ         w        Q         w        Q         t  @      Q         t  @      Q         x        Q         w        Q         w        Q         t  P      Q         t         Q         x  #      Q         w        Q         w        Q         t  P       R         t         R         x  (       R         w        (R         w        0R         t  P      8R         t         @R         x  ,      XR         w        `R         w        hR         t  P      pR         t         xR         x  1      R         w        R         w        R         t  P      R         t        R         x  5      R         w        R         w        R         t  P      R         t        R         x  :       S         w        S         w        S         t  P      S         t         S         x  >      8S         w        @S         w        HS         t  P      PS         t        XS         x  C      pS         w        xS         w        S         t  P      S         t         S         x  G      S         w        S         w        S         t  P      S         t         S         x  L      S         w        S         w        S         t  P      S         t  P       T         x  P      T         w         T         w        (T         t  P      0T         t  P      8T         x  U      PT         w        XT         w        `T         t  P      hT         t         pT         x  Y      T         w        T         w        T         t  P      T         t         T         x  ^      T         w        T         w        T         t  P      T         t  P      T         x  b      T         w         U         w        U         t  P      U         t  P      U         x  g      0U         w        8U         w        @U         t        HU         t  0      PU         x  k      hU         w        pU         w        xU         t        U         t  0      U         x  p      U         w        U         t        U         x  u      U         w        U         w        U         t        U         t        U         x  y      V         w        V         w         V         t        (V         t        0V         x  ~      HV         w        XV         t        hV         x        V         w        V         w        V         t        V         t  0      V         x        V         w        V         w        V         t        V         t  0      V         x        V         w         W         t        W         x        (W         w        0W         w        8W         t         @W         t        HW         x        `W         w        hW         w        pW         t         xW         t        W         x        W         w        W         w        W         t         W         t  0      W         x        W         w        W         w        W         t         W         t  0      W         x        X         w        X         w        X         t         X         t        (X         x        @X         w        HX         w        PX         t        XX         t        `X         x        xX         w        X         w        X         t        X         t        X         x        X         w        X         w        X         t        X         t        X         x        X         w        X         w        X         t         Y         t  p      Y         x         Y         w        (Y         w        0Y         t        8Y         t  p      @Y         x        XY         w        `Y         w        hY         t        pY         t  p      xY         x        Y         w        Y         w        Y         t        Y         t  p      Y         x        Y         w        Y         w        Y         t        Y         t  p      Y         x         Z         w        Z         w        Z         t        Z         t  p       Z         x        8Z         w        @Z         w        HZ         t        PZ         t        XZ         x        pZ         w        xZ         w        Z         t        Z         t        Z         x        Z         w        Z         w        Z         t         Z         t        Z         x        Z         w        Z         w        Z         t  @      Z         t  p       [         x        [         w         [         w        ([         t        0[         t        8[         x        P[         w        `[         t  `      p[         x        [         w        [         w        [         t        [         t        [         x        [         w        [         w        [         t  P      [         t        [         x        [         w         \         w        \         t  P      \         t        \         x        0\         w        8\         w        @\         t  P      H\         t        P\         x        h\         w        p\         w        x\         t  P      \         t        \         x        \         w        \         w        \         t  P      \         t        \         x        \         w        \         w        \         t  P      \         t        \         x        ]         w        ]         w         ]         t  P      (]         t        0]         x        H]         w        P]         w        X]         t  P      `]         t        h]         x        ]         w        ]         w        ]         t        ]         t        ]         x        ]         w        ]         w        ]         t        ]         t        ]         x        ]         w        ]         w         ^         t        ^         t        ^         x        (^         w        0^         w        8^         t        @^         t        H^         x        `^         w        h^         w        p^         t  P      x^         t        ^         x        ^         w        ^         w        ^         t  P      ^         t        ^         x        ^         w        ^         w        ^         t  0      ^         t  P      ^         x        _         w        _         w        _         t  0       _         t  P      (_         x  #      @_         w        H_         w  P      P_         t  0      X_         t  p      `_         x  '      x_         w        _         w         _         t        _         t  0      _         x  +      _         w        _         w         _         t        _         t  0      _         x  0      _         w        _         t        `         x  5       `         w        (`         w         0`         t        8`         t        @`         x  :      X`         w        ``         w         h`         t        p`         t        x`         x  @      `         w        `         w         `         t        `         t        `         x  E      `         w        `         w         `         t        `         t        `         x  K       a         w        a         w         a         t        a         t  p       a         x  Q      8a         w        @a         w         Ha         t        Pa         t  p      Xa         x  W      pa         w        xa         w         a         t        a         t  p      a         x  ]      a         w        a         w         a         t        a         t  p      a         x  c      a         w        a         t  P       b         x  g      b         w        (b         t  P      8b         x  l      Pb         w        `b         t        pb         x  r      b         w        b         t        b         x  x      b         w        b         t        b         x  ~      b         w        c         t        c         x        0c         w        @c         t        Pc         x        hc         w        xc         t        c         x        c         w        c         t        c         x        c         w        c         t        c         x        d         w  P      d         w         d         t        (d         t  P      0d         x        Hd         w  P      Pd         w        Xd         t        `d         t  P      hd         x        d         w  P      d         w         d         t  P      d         t        d         x        d         w  P      d         t  P      d         x        d         w  P      d         w          e         t         e         t         e         x        (e         w  P      0e         w         8e         t  P      @e         t  P      He         x        `e         w  P      he         w         pe         t  P      xe         t  P      e         x        e         w  P      e         w         e         t  P      e         t  P      e         x        e         w  P      e         w         e         t  P      e         t  P      e         x        f         w  P      f         w         f         t          f         t         (f         x        @f         w  P      Hf         w         Pf         t         Xf         t         `f         x        xf         w  P      f         t  P      f         x        f         w  P      f         t  P      f         x        f         w  P      f         w         f         t         g         t         g         x         g         w  P      (g         w         0g         t        8g         t        @g         x        Xg         w  P      `g         w         hg         t        pg         t  P      xg         x        g         w  P      g         t        g         x        g         w  P      g         t        g         x         h         w  P      h         t         h         x        8h         w  P      Hh         t        Xh         x        ph         w  P      h         t        h         x        h         w  P      h         t        h         x        h         w  P      h         t         i         x         i         w  P      (i         t        8i         x  )      Pi         w  P      `i         t        pi         x  2      i         w  P      i         t        i         x  ;      i         w  P      i         t        i         x  D      i         w  P      j         t        j         x  M      0j         w  P      @j         t        Pj         x  V      hj         w  P      xj         t        j         x  _      j         w  P      j         t        j         x  h      j         w  P      j         t        j         x  q      k         w  P       k         t        0k         x  z      Hk         w  P      Xk         t        hk         x        k         w  P      k         t        k         x        k         w  P      k         w         k         t        k         t  P      k         x        k         w  P       l         t        l         x        (l         w  P      8l         t        Hl         x        `l         w  P      pl         t        l         x        l         w  P      l         t        l         x        l         w  P      l         t        l         x        m         w  P      m         t        (m         x        @m         w  P      Pm         t        `m         x        xm         w  P      m         t        m         x        m         w  P      m         t        m         x        m         w  P      m         t        n         x         n         w  P      0n         t        @n         x        Xn         w  P      hn         t        xn         x        n         w  P      n         t        n         x        n         w  P      n         t        n         x         o         w  P      o         t         o         x        8o         w  P      Ho         t        Xo         x         po         w  P      o         t        o         x  )      o         w  P      o         t        o         x  2      o         w  P      o         t         p         x  ;      p         w  P       p         w         (p         t        0p         t  P      8p         x  A      Pp         w  P      `p         t        pp         x  H      p         w  P      p         t        p         x  Q      p         w  P      p         t        p         x  Z      p         w  P      q         t        q         x  c      0q         w  P      @q         t        Pq         x  l      hq         w  P      xq         t        q         x  u      q         w  P      q         t        q         x  ~      q         w  P      q         t        q         x        r         w  P       r         t        0r         x        Hr         w  P      Xr         t        hr         x        r         w  P      r         t        r         x        r         w  P      r         t        r         x        r         w  P       s         t        s         x        (s         w  P      8s         t        Hs         x        `s         w  P      ps         t        s         x        s         w  P      s         t        s         x        s         w  P      s         t        s         x        t         w  P      t         t        (t         x        @t         w  P      Pt         t        `t         x        xt         w  P      t         w         t         t        t         t  P      t         x        t         w  P      t         t        t         x        t         w  P      t         t        u         x          u         w  P      0u         t        @u         x  	      Xu         w  P      hu         t        xu         x        u         w  P      u         t        u         x        u         w  P      u         t        u         x  $       v         w  P      v         t         v         x  -      8v         w  P      Hv         t        Xv         x  6      pv         w  P      v         t        v         x  ?      v         w  P      v         t        v         x  H      v         w  P      v         t         w         x  Q      w         w  P      (w         t        8w         x  Z      Pw         w  P      `w         t        pw         x  c      w         w  P      w         t        w         x  l      w         w  P      w         t        w         x  u      w         w  P      x         t        x         x  ~      0x         w  P      @x         t        Px         x        hx         w  P      xx         t        x         x        x         w  P      x         t        x         x        x         w  P      x         w        x         t        x         t        x         x        y         w  P      y         w         y         t        (y         t        0y         x        Hy         w  P      Py         w        Xy         t        `y         t        hy         x        y         w  P      y         w        y         t        y         t        y         x        y         w  P      y         w        y         t        y         t        y         x        y         w  P      y         w         z         t        z         t        z         x        (z         w  P      0z         w        8z         t        @z         t        Hz         x        `z         w  P      hz         w        pz         t        xz         t        z         x        z         w  P      z         w        z         t        z         t        z         x        z         w  P      z         w        z         t        z         t        z         x        {         w  P      {         w        {         t         {         t        ({         x        @{         w  P      H{         w        P{         t        X{         t        `{         x        x{         w  P      {         w        {         t        {         t        {         x        {         w  P      {         w        {         t        {         t        {         x        {         w  P      {         w        {         t         |         t        |         x         |         w  P      (|         w        0|         t        8|         t        @|         x        X|         w  P      `|         w        h|         t        p|         t        x|         x        |         w  P      |         w        |         t        |         t        |         x        |         w  P      |         w        |         t        |         t        |         x         }         w  P      }         w        }         t        }         t         }         x        8}         w  P      @}         w        H}         t        P}         t        X}         x  $      p}         w  P      x}         w        }         t        }         t        }         x  +      }         w  P      }         w        }         t        }         t        }         x  2      }         w  P      }         w        }         t        }         t         ~         x  7      ~         w  P       ~         w        (~         t        0~         t        8~         x  >      P~         w  P      X~         w        `~         t        h~         t        p~         x  E      ~         w  P      ~         w        ~         t        ~         t        ~         x  L      ~         w  P      ~         w        ~         t        ~         t        ~         x  S      ~         w  P                w                 t                 t                 x  Z      0         w  P      8         w        @         t        H         t        P         x  a      h         w  P      p         w        x         t                 t                 x  h               w  P               w                 t                 t                 x  o               w  P               w                 t                 t                 x  v               w  P               w                  t        (         t        0         x  }      H         w  P      P         w        X         t        `         t        h         x                 w  P               w                 t                 t                 x                 w  P               w                 t                 t                 x                 w  P               w                  t                 t                 x        (         w  P      0         w        8         t        @         t        H         x        `         w  P      h         w        p         t        x         t                 x                 w  P               w                 t                 t                 x                 w  P               w                 t                 t                 x                 w  P               w                 t                  t         (         x        @         w        H         w  P      P         t  0      X         t        `         x        x         w                 w  P               t                 t  `               x                 w                 w                  t  0               t                 x                 w                 w                  t  P                t  P               x                  w        (         w         0         t  P      8         t  P      @         x        X         w        `         w         h         t  P      p         t  P      x         x                 w                 w                  t  P               t  P               x                 w                 w                  t                  t                  x                  w                 w                  t                  t                   x        8         w        @         w         H         t         P         t         X         x        p         w  P      x         w                  t                  t                 x                 w  P               w                  t                  t                 x                 w  P               w                  t                  t                  x                 w  P                w         (         t         0         t        8         x        P         w  P      X         w         `         t         h         t        p         x                 w  P               w                  t                  t                 x                 w  P               w                  t  `               t                 x                 w  P                w                  t  `               t                 x  $      0         w  P      8         w         @         t  `      H         t        P         x  ,      h         w  P      p         w         x         t  `               t                 x  4               w  P               w                  t                 t                  x  ;               w  P               w                  t                 t                  x  B               w  P               w                   t        (         t         0         x  I      H         w  P      P         w         X         t        `         t         h         x  P               w  P               w                  t                 t                  x  W               w  P               w                  t                 t                  x  ^               w  P               w                   t  P               t  P               x  c      (         w  P      0         w         8         t  P      @         t  P      H         x  i      `         w  P      h         w         p         t  P      x         t  P               x  n               w  P               w                  t  P               t  P               x  t               w  P               w                  t                 t                 x  x               w  P               w                  t                  t        (         x  }      @         w  P      H         w         P         t        X         t        `         x        x         w  P               w                  t                 t                 x                 w  P               w                  t                 t                 x                 w  P               w                  t                  t                 x                  w  P      (         w  P      0         t  `      8         t        @         x        X         w  P      `         w  P      h         t  `      p         t        x         x                 w  P               w  P               t  0               t  `               x                 w  P               w  P               t  0               t  `               x                  w  P               w  P               t  0               t  `                x        8         w  P      @         w  P      H         t        P         t        X         x        p         w  P      x         w  P               t                 t                 x                 w  P               w  P               t                 t                 x                 w  P               w  P               t                 t                  x                 w  P                w  P      (         t        0         t         8         x        P         w  P      X         w         `         t  0      h         t        p         x                 w  P               w                  t                  t                 x                 w  P               w                  t                 t                 x                 w  P                w                  t                 t                 x        0         w  P      8         w         @         t         H         t        P         x        h         w  P      p         w         x         t                  t                 x                 w  P               w  P               t  @              t  P              x                 w  P               w  P               t                t                 x                 w  P               w  P                t  p     (         t        0         x        H         w  P      P         w  P      X         t       `         t         h         x                  w  P               w  P               t                t                  x                 w  P               w  P               t                t                  x                 w  P               w  P                t                t                  x        (         w  P      0         w  P      8         t       @         t         H         x        `         w  P      h         w  P      p         t       x         t                  x  %               w  P               w  P               t                t                  x  ,               w  P               w  P               t                t                  x  2               w  P               w  P               t                 t         (         x  ;      @         w  P      H         w  P      P         t       X         t         `         x  C      x         w  P               w  P               t                t                  x  J               w  P               w  P               t                t                  x  T               w  P               w  P               t                 t                  x  \                w  P      (         w  P      0         t       8         t         @         x  c      X         w  P      `         w  P      h         t       p         t         x         x  m               w  P               w  P               t                t                  x  t               w  P               w  P               t                t                  x  z                w  P               w  P               t                t                   x        8         w  P      @         w  P      H         t       P         t         X         x        p         w  P      x         w  P               t                t                  x                 w  P               w  P               t                t                  x                 w  P               w  P               t                t                   x                 w  P                w  P      (         t       0         t         8         x        P         w  P      X         w  P      `         t       h         t         p         x                 w  P               w  P               t                t                  x                 w  P               w  P               t                t                  x                 w  P                w  P               t                t                  x        0         w  P      8         w  P      @         t       H         t         P         x        h         w  P      p         w  P      x         t                t                  x                 w  P               w  P               t                t                  x                 w  P               w  P               t                t                  x                 w  P               w  P                t       (         t         0         x        H         w  P      P         w  P      X         t       `         t         h         x                 w  P               w  P               t                t                  x                 w  P               w  P               t                t                  x  
               w  P               w  P                t                t                  x        (         w  P      0         w  P      8         t       @         t       H         x        `         w  P      p         t                x                 w  P               t                x  %               w  P               w  P               t                t                x  +               w  P               w  P               t                 t       (         x  1      @         w  P      P         t       `         x  7      x         w  P               t                x  =               w  P               w  P               t                t                x  C               w  P               w  P               t                  t  @              x  I                w  P      (         w  P      0         t        8         t  @     @         x  Q      X         w  P      `         w  P      h         t        p         t  @     x         x  W               w  P               w  P               t                 t                 x  ^               w  P               w  P               t                 t  @              x  d                w  P               w  P               t                 t  @               x  l      8         w  P      @         w  P      H         t        P         t  @     X         x  r      p         w  P      x         w  P               t                 t                 x  y               w  P               w  P               t                t                  x  }               w  P               w  P               t                  t                  x                 w  P                w  P      (         t         0         t        8         x        P         w  P      X         w  P      `         t  `      h         t        p         x                 w  P               w  P               t  `               t                 x                 w  P               w  P               t                  t                 x                 w  P                w  P               t                  t                 x        0         w  P      8         w  P      @         t  `      H         t        P         x        h         w  P      p         w  P      x         t  `               t                 x                 w  P               w  P               t                  t                 x                 w  P               w  P               t                  t                 x                 w  P               w  P                t         (         t        0         x        H         w  P      P         w  P      X         t         `         t        h         x                 w  P               w  P               t                 t                  x                 w  P               w  P               t                 t                  x                 w  P               w  P                t                 t                  x        (         w  P      0         w  P      8         t        @         t         H         x        `         w  P      h         w  P      p         t        x         t                  x                 w  P               w  P               t                 t                  x                 w  P               w  P               t                t                x                 w  P               t       (         x        @         w  P      P         t       `         x        x         w  P               w  P               t                t                x                 w  P               w  P               t                t                x                 w  P               w  P               t  `                t                 x                  w  P      (         w  P      0         t        8         t         @         x  !      X         w  P      `         w  P      h         t         p         t        x         x  (               w  P               w  P               t  @              t  p              x  /               w  P               w  P               t  @               t                x  5                w  P               w  P               t  @               t                 x  9      8         w  P      @         w  P      H         t  @      P         t       X         x  =      p         w  P      x         w  P               t  @               t                x  A               w  P               w  P               t                t  P              x  H               w  P               w  P               t                t  @               x  O               w  P                w         (         t        0         t        8         x  V      P         w  P      X         w         `         t        h         t        p         x  ]               w  P               w                  t                  t                x  d               w  P               w                  t                  t                x  k               w  P                w                  t  @               t  @               x  q      0         w  P      8         w         @         t       H         t        P         x  u      h         w         p         w         x         t  P              t                x  y               w                  w                  t                t  P	              x  }               w                  w                  t  	              t  
              x                 w                  w                   t  	     (         t  
     0         x        H         w         P         w         X         t  P      `         t        h         x                 w                  w                  t  p
              t  
              x                 w                  w                  t  p
              t  
              x                 w                  w                   t  0               t                x        (         w         0         w         8         t       @         t        H         x        `         w         h         w         p         t       x         t                 x                 w                  w                  t                t                 x                 w                  w                  t                t                 x                 w                   t        (         x        H         w         X         t        `         x        x         w                 w                  t  P              t  `              x                 w                 w                  t  P              t  `              x                 w                 w                  t  P               t  `              x                  w        (         w         0         t  P     8         t  `     @         x        X         w        `         w         h         t  P     p         t  `     x         x                 w                 w                  t  P              t  `              x                 w                 w                  t  P              t  `              x                  w                 w                  t  P              t  `               x        8         w        @         w         H         t  P     P         t  `     X         x        p         w        x         w                  t  P              t  `              x                 w                 w                  t  P              t  `              x                 w                 w                  t  P              t  `               x                 w                  w         (         t  P     0         t  `     8         x          P         w        X         w         `         t  P     h         t  `     p         x                  w                 w                  t  P              t  `              x                  w                  t                x                   w                  t                x         8         w         H         t       P         x         p         w                  t                x                  w                  t                x  "                w                  t                x  '                w  P               w  P                t       (         t       0         x  ,       H         w  P      P         w  P      X         t       `         t       h         x  1                w  P               w  P               t                 t                 x  6                w  P               w  P               t  0              t                 x  :                w  P               w  P                t  p              t                x  >       (         w  P      0         w  P      8         t       @         t       H         x  B       `         w  P      h         w  P      p         t       x         t                x  F                w  P               w  P               t                t                x  J                w   Q               w   Q               t  0              t  0              x  N                w   Q               w   Q               t  0               t  0     (         x  R       @         w   Q      H         w   Q      P         t  0     X         t  0     `         x  V       x         w   Q               w   Q               t  0              t  0              x  Z                w   Q               w   Q               t  @              t  @              x  _                w   Q               w   Q               t  @               t  @              x  d                 w   Q      (         w   Q      0         t  @     8         t  @     @         x  i       X         w   Q      `         w   Q      h         t  @     p         t  @     x         x  n                w   Q               w   Q               t  @              t  @              x  s                w   Q               w   Q               t  @              t  @              x  x                 w   Q               w   Q               t  @              t  @               x  }       8         w   Q      @         w   Q      H         t  @     P         t  @     X         x         p         w   Q      x         w   Q               t  0               t  0               x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q               t  0               t  0                x                  w   Q                w   Q      (         t  0      0         t  0      8         x         P         w   Q      X         w   Q      `         t  0      h         t  0      p         x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q               t  0               t  0               x                  w   Q                w   Q               t  0               t  0               x         0         w   Q      8         w   Q      @         t  0      H         t  0      P         x         h         w   Q      p         w   Q      x         t  0               t  0               x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q                t  0      (         t  0      0         x         H         w   Q      P         w   Q      X         t  0      `         t  0      h         x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q                t  0               t  0               x         (         w   Q      0         w   Q      8         t  0      @         t  0      H         x         `         w   Q      h         w   Q      p         t  0      x         t  0               x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q               t  0               t  0               x                  w   Q               w   Q               t  0                t  0      (         x   !      @         w   Q      H         w   Q      P         t  0      X         t  0      `         x  !      x         w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0                t  0               x  !                w   Q      (         w   Q      0         t  0      8         t  0      @         x  !      X         w   Q      `         w   Q      h         t  0      p         t  0      x         x  #!               w   Q               w   Q               t  0               t  0               x  (!               w   Q               w   Q               t  0               t  0               x  .!                w   Q               w   Q               t  0               t  0                x  4!      8         w   Q      @         w   Q      H         t  0      P         t  0      X         x  :!      p         w   Q      x         w   Q               t  0               t  0               x  ?!               w   Q               w   Q               t  0               t  0               x  E!               w   Q               w   Q               t  0               t  0                x  K!               w   Q                w   Q      (         t  0      0         t  0      8         x  Q!      P         w   Q      X         w   Q      `         t  0      h         t  0      p         x  V!               w   Q               w   Q               t  0               t  0               x  \!               w   Q               w   Q               t  0               t  0               x  b!               w   Q                w   Q               t  0               t  0               x  h!      0         w   Q      8         w   Q      @         t  0      H         t  0      P         x  m!      h         w   Q      p         w   Q      x         t  0               t  0               x  s!               w   Q               w   Q               t  0               t  0               x  y!               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q                t  0      (         t  0      0         x  !      H         w   Q      P         w   Q      X         t  0      `         t  0      h         x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q                t  0               t  0               x  !      (         w   Q      0         w   Q      8         t  0      @         t  0      H         x  !      `         w   Q      h         w   Q      p         t  0      x         t  0               x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0                t  0      (         x  !      @         w   Q      H         w   Q      P         t  0      X         t  0      `         x  !      x         w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0                t  0               x  !                w   Q      (         w   Q      0         t  0      8         t  0      @         x  !      X         w   Q      `         w   Q      h         t  0      p         t  0      x         x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0               t  0               x  !                w   Q               w   Q               t  0               t  0                x  !      8         w   Q      @         w   Q      H         t  0      P         t  0      X         x  !      p         w   Q      x         w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0               t  0               x  !               w   Q               w   Q               t  0               t  0                x  "               w   Q                w   Q      (         t  0      0         t  0      8         x  	"      P         w   Q      X         w   Q      `         t  0      h         t  0      p         x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q                w   Q               t  0               t  0               x   "      0         w   Q      8         w   Q      @         t  0      H         t  0      P         x  %"      h         w   Q      p         w   Q      x         t  0               t  0               x  +"               w   Q               w   Q               t  0               t  0               x  1"               w   Q               w   Q               t  0               t  0               x  7"               w   Q               w   Q                t  0      (         t  0      0         x  <"      H         w   Q      P         w   Q      X         t  0      `         t  0      h         x  B"               w   Q               w   Q               t  0               t  0               x  H"               w   Q               w   Q               t  0               t  0               x  N"               w   Q               w   Q                t  0               t  0               x  S"      (         w   Q      0         w   Q      8         t  0      @         t  0      H         x  Y"      `         w   Q      h         w   Q      p         t  0      x         t  0               x  _"               w   Q               w   Q               t  0               t  0               x  e"               w   Q               w   Q               t  0               t  0               x  j"               w   Q               w   Q               t  0                t  0      (         x  p"      @         w   Q      H         w   Q      P         t  0      X         t  0      `         x  v"      x         w   Q               w   Q               t  0               t  0               x  |"               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0                t  0               x  "                w   Q      (         w   Q      0         t  0      8         t  0      @         x  "      X         w   Q      `         w   Q      h         t  0      p         t  0      x         x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0               t  0               x  "                w   Q               w   Q               t  0               t  0                x  "      8         w   Q      @         w   Q      H         t  0      P         t  0      X         x  "      p         w   Q      x         w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0               t  0                x  "               w   Q                w   Q      (         t  0      0         t  0      8         x  "      P         w   Q      X         w   Q      `         t  0      h         t  0      p         x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q                w   Q               t  0               t  0               x  "      0         w   Q      8         w   Q      @         t  0      H         t  0      P         x  "      h         w   Q      p         w   Q      x         t  0               t  0               x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q                t  0      (         t  0      0         x  "      H         w   Q      P         w   Q      X         t  0      `         t  0      h         x  "               w   Q               w   Q               t  0               t  0               x  "               w   Q               w   Q               t  0               t  0               x   #               w   Q               w   Q                t  0               t  0               x  #      (         w   Q      0         w   Q      8         t  0      @         t  0      H         x  #      `         w   Q      h         w   Q      p         t  0      x         t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0                t  0      (         x  "#      @         w   Q      H         w   Q      P         t  0      X         t  0      `         x  (#      x         w   Q               w   Q               t  0               t  0               x  .#               w   Q               w   Q               t  0               t  0               x  3#               w   Q               w   Q               t  0                t  0               x  9#                w   Q      (         w   Q      0         t  0      8         t  0      @         x  ?#      X         w   Q      `         w   Q      h         t  0      p         t  0      x         x  E#               w   Q               w   Q               t  0               t  0               x  J#               w   Q               w   Q               t  0               t  0               x  P#                w   Q               w   Q               t  0               t  0                x  V#      8         w   Q      @         w   Q      H         t  0      P         t  0      X         x  \#      p         w   Q      x         w   Q               t  0               t  0               x  a#               w   Q               w   Q               t  0               t  0               x  g#               w   Q               w   Q               t  0               t  0                x  m#               w   Q                w   Q      (         t  0      0         t  0      8         x  s#      P         w   Q      X         w   Q      `         t  0      h         t  0      p         x  x#               w   Q               w   Q               t  0               t  0               x  ~#               w   Q               w   Q               t  0               t  0               x  #               w   Q                w   Q               t  0               t  0               x  #      0         w   Q      8         w   Q      @         t  0      H         t  0      P         x  #      h         w   Q      p         w   Q      x         t  0               t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q                t  0      (         t  0      0         x  #      H         w   Q      P         w   Q      X         t  0      `         t  0      h         x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q                t  0               t  0               x  #      (         w   Q      0         w   Q      8         t  0      @         t  0      H         x  #      `         w   Q      h         w   Q      p         t  0      x         t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0                t  0      (         x  #      @         w   Q      H         w   Q      P         t  0      X         t  0      `         x  #      x         w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0               t  0               x  #               w   Q               w   Q               t  0                t  0               x  #                w   Q      (         w   Q      0         t  0      8         t  0      @         x  #      X         w   Q      `         w   Q      h         t  0      p         t  0      x         x  #               w   Q               w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0               t  0               x  $                w   Q               w   Q               t  0               t  0                x  $      8         w   Q      @         w   Q      H         t  0      P         t  0      X         x  $      p         w   Q      x         w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0               t  0                x  %$               w   Q                w   Q      (         t  0      0         t  0      8         x  +$      P         w   Q      X         w   Q      `         t  0      h         t  0      p         x  0$               w   Q               w   Q               t  0               t  0               x  6$               w   Q               w   Q               t  0               t  0               x  <$               w   Q                w   Q               t  0               t  0               x  B$      0         w   Q      8         w   Q      @         t  0      H         t  0      P         x  G$      h         w   Q      p         w   Q      x         t  0               t  0               x  M$               w   Q               w   Q               t  0               t  0               x  S$               w   Q               w   Q               t  0               t  0               x  Y$               w   Q               w   Q                t  0      (         t  0      0         x  ^$      H         w   Q      P         w   Q      X         t  0      `         t  0      h         x  d$               w   Q               w   Q               t  0               t  0               x  j$               w   Q               w   Q               t  0               t  0               x  p$               w   Q               w   Q                t  0               t  0               x  u$      (         w   Q      0         w   Q      8         t  0      @         t  0      H         x  {$      `         w   Q      h         w   Q      p         t  0      x         t  0               x  $               w   Q               w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0                t  0      (         x  $      @         w   Q      H         w   Q      P         t  0      X         t  0      `         x  $      x         w   Q               w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0                t  0               x  $                w   Q      (         w   Q      0         t  0      8         t  0      @         x  $      X         w   Q      `         w   Q      h         t  0      p         t  0      x         x  $               w   Q               w   Q               t  0               t  0               x  $               w   Q               w   Q               t  0               t  0               x  $                w   Q               w   Q               t  0               t  0                x  $      8         w   Q      @         w   Q      H         t  0      P         t  0      X         x  $      p         w   Q      x         w   Q               t                t                x  $               w   Q               w   Q               t                t                x  $               w   Q               w   Q               t                t                 x  $               w   Q                w   Q      (         t       0         t       8         x  $      P         w   Q      X         w   Q      `         t       h         t       p         x  $               w   Q               w   Q               t                t                x  $               w   Q               w   Q               t                t                x  $               w   Q                w   Q               t                t                x  $      0         w   Q      8         w   Q      @         t       H         t       P         x  $      h         w   Q      p         w   Q      x         t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q                t       (         t       0         x  %      H         w   Q      P         w   Q      X         t       `         t       h         x  %               w   Q               w   Q               t                t                x  "%               w   Q               w   Q               t                t                x  (%               w   Q               w   Q                t                t                x  -%      (         w   Q      0         w   Q      8         t       @         t       H         x  3%      `         w   Q      h         w   Q      p         t       x         t                x  9%               w   Q               w   Q               t                t                x  ?%               w   Q               w   Q               t                t                x  D%               w   Q               w   Q               t                 t       (         x  J%      @         w   Q      H         w   Q      P         t       X         t       `         x  P%      x         w   Q               w   Q               t                t                x  V%               w   Q               w   Q               t                t                x  [%               w   Q               w   Q               t                 t                x  a%                w   Q      (         w   Q      0         t       8         t       @         x  g%      X         w   Q      `         w   Q      h         t       p         t       x         x  m%               w   Q               w   Q               t                t                x  r%               w   Q               w   Q               t                t                x  x%                w   Q               w   Q               t                t                 x  ~%      8         w   Q      @         w   Q      H         t       P         t       X         x  %      p         w   Q      x         w   Q               t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q               t                t                 x  %               w   Q                w   Q      (         t       0         t       8         x  %      P         w   Q      X         w   Q      `         t       h         t       p         x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q                w   Q               t                t                x  %      0         w   Q      8         w   Q      @         t       H         t       P         x  %      h         w   Q      p         w   Q      x         t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q                t       (         t       0         x  %      H         w   Q      P         w   Q      X         t       `         t       h         x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q                t                t                x  %      (         w   Q      0         w   Q      8         t       @         t       H         x  %      `         w   Q      h         w   Q      p         t       x         t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q               t                t                x  %               w   Q               w   Q               t                 t       (         x  &      @         w   Q      H         w   Q      P         t       X         t       `         x  &      x         w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                 t                x  &                w   Q      (         w   Q      0         t       8         t       @         x  &      X         w   Q      `         w   Q      h         t       p         t       x         x  %&               w   Q               w   Q               t                t                x  *&               w   Q               w   Q               t                t                x  0&                w   Q               w   Q               t                t                 x  6&      8         w   Q      @         w   Q      H         t       P         t       X         x  <&      p         w   Q      x         w   Q               t                t                x  A&               w   Q               w   Q               t                t                x  G&               w   Q               w   Q               t                t                 x  M&               w   Q                w   Q      (         t       0         t       8         x  S&      P         w   Q      X         w   Q      `         t       h         t       p         x  X&               w   Q               w   Q               t                t                x  ^&               w   Q               w   Q               t                t                x  d&               w   Q                w   Q               t                t                x  j&      0         w   Q      8         w   Q      @         t       H         t       P         x  o&      h         w   Q      p         w   Q      x         t                t                x  u&               w   Q               w   Q               t                t                x  {&               w   Q               w   Q               t                t                x  &               w   Q               w   Q                t       (         t       0         x  &      H         w   Q      P         w   Q      X         t       `         t       h         x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q                t                t                x  &      (         w   Q      0         w   Q      8         t       @         t       H         x  &      `         w   Q      h         w   Q      p         t       x         t                x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                 t       (         x  &      @         w   Q      H         w   Q      P         t       X         t       `         x  &      x         w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                 t                x  &                w   Q      (         w   Q      0         t       8         t       @         x  &      X         w   Q      `         w   Q      h         t       p         t       x         x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                t                x  &                w   Q               w   Q               t                t                 x  &      8         w   Q      @         w   Q      H         t       P         t       X         x  &      p         w   Q      x         w   Q               t                t                x  &               w   Q               w   Q               t                t                x  &               w   Q               w   Q               t                t                 x  '               w   Q                w   Q      (         t       0         t       8         x  '      P         w   Q      X         w   Q      `         t       h         t       p         x  '               w   Q               w   Q               t                t                x  '               w   Q               w   Q               t                t                x  '               w   Q                w   Q               t                t                x  "'      0         w   Q      8         w   Q      @         t       H         t       P         x  ''      h         w   Q      p         w   Q      x         t                t                x  -'               w   Q               w   Q               t                t                x  3'               w   Q               w   Q               t                t                x  9'               w   Q               w   Q                t       (         t       0         x  >'      H         w   Q      P         w   Q      X         t       `         t       h         x  D'               w   Q               w   Q               t                t                x  J'               w   Q               w   Q               t                t                x  P'               w   Q               w   Q                t                t                x  U'      (         w   Q      0         w   Q      8         t       @         t       H         x  ['      `         w   Q      h         w   Q      p         t       x         t                x  a'               w   Q               w   Q               t                t                x  g'               w   Q               w   Q               t                t                x  l'               w   Q               w   Q               t                 t       (         x  r'      @         w   Q      H         w   Q      P         t       X         t       `         x  x'      x         w   Q               w   Q               t                t                x  ~'               w   Q               w   Q               t                t                x  '               w   Q               w   Q               t                 t                x  '                w   Q      (         w   Q      0         t       8         t       @         x  '      X         w   Q      `         w   Q      h         t       p         t       x         x  '               w   Q               w   Q               t                t                x  '               w   Q               w   Q               t                t                x  '                w   Q               w   Q               t                t                 x  '      8         w   Q      @         w   Q      H         t       P         t       X         x  '      p         w   Q      x         w   Q               t                t                x  '               w   Q               w   Q               t                t                x  '               w   Q               w   Q               t                t                 x  '               w   Q                w   Q      (         t       0         t       8         x  '      P         w   Q      X         w   Q      `         t       h         t       p         x  '               w   Q               w   Q               t                t                x  '               w   Q               w   Q               t                t                x  '               w   Q                w   Q               t                t                x  '      0         w   Q      8         w   Q      @         t       H         t       P         x  '      h         w   Q      p         w   Q      x         t                t                x  '               w   Q               w   Q               t                t                x  '               w   Q               w   Q               t                t                x  '               w   Q               w   Q                t       (         t       0         x  '      H         w   Q      P         w   Q      X         t       `         t       h         x  '               w   Q               w   Q               t                t                x  (               w   Q               w   Q               t                t                x  (               w   Q               w   Q                t                t                x  (      (         w   Q      0         w   Q      8         t       @         t       H         x  (      `         w   Q      h         w   Q      p         t       x         t                x  (               w   Q               w   Q               t                t                x  (               w   Q               w   Q               t                t                x  $(               w   Q               w   Q               t                 t       (         x  *(      @         w   Q      H         w   Q      P         t       X         t       `         x  0(      x         w   Q               w   Q               t                t                x  6(               w   Q               w   Q               t                t                x  ;(               w   Q               w   Q               t                 t                x  A(                w   Q      (         w   Q      0         t       8         t       @         x  G(      X         w   Q      `         w   Q      h         t       p         t       x         x  M(               w   Q               w   Q               t                t                x  Q(               w   Q               w   Q               t                t                x  V(                w   Q               w   Q               t                t                 x  Z(      8         w   Q      @         w   Q      H         t       P         t       X         x  _(      p         w   Q      x         w   Q               t                t                x  d(               w   Q               w   Q               t                t                x  j(               w   Q               w   Q               t                t                 x  p(               w   Q                w   Q      (         t       0         t       8         x  v(      P         w   Q      X         w   Q      `         t       h         t       p         x  {(               w   Q               w   Q               t                t                x  (               w   Q               w   Q               t                t                x  (               w   Q                w   Q               t                t                x  (      0         w   Q      8         w   Q      @         t       H         t       P         x  (      h         w   Q      p         w   Q      x         t                t                x  (               w   Q               w   Q               t                t                x  (               w   Q               w   Q               t                t                x  (               w   Q               w   Q                t  0      (         t  0      0         x  (      H         w   Q      P         w   Q      X         t  0      `         t  0      h         x  (               w   Q               w   Q               t  0               t  0               x  (               w   Q               w   Q               t  0               t  0               x  (               w   Q               w   Q                t  0               t  0               x  (      (         w   Q      0         w   Q      8         t  0      @         t  0      H         x  (      `         w   Q      h         w   Q      p         t  0      x         t  0               x  (               w   Q               w   Q               t  0               t  0               x  (               w   Q               w   Q               t  0               t  0               x  (               w   Q               w   Q               t  0                t  0      (         x  (      @         w   Q      H         w   Q      P         t  0      X         t  0      `         x  (      x         w   Q               w   Q               t  0               t  0               x  (               w   Q               w   Q               t  0               t  0               x  (               w  Q               w  Q               t  @              t  @             x  (               w  Q      (        w  Q      0        t  @     8        t  @     @        x  (      X        w  Q      `        w  Q      h        t  @     p        t  @     x        x  (              w  Q              w  Q              t  @             t  @             x  )              w  Q              w  Q              t  @             t  @             x  )               w  Q              w  Q              t  @             t  @              x  )      8        w  Q      @        w  Q      H        t       P        t       X        x  )      p        w  Q      x        w  Q              t               t               x  )              w  Q              w  Q              t                t                x  )              w  Q              w  Q              t  @              t  @               x  $)              w  Q               w  Q      (        t       0        t       8        x  +)      P        w  Q      X        w  Q      `        t       h        t       p        x  2)              w  Q              w  Q              t               t               x  9)              w  Q              w  Q              t               t               x  A)              w  Q               w  Q              t               t               x  H)      0        w  Q      8        w  Q      @        t       H        t       P        x  P)      h        w  Q      p        w  Q      x        t                t                x  U)              w  Q              w  Q              t  P             t  P             x  Z)              w  Q              w  Q              t               t               x  _)              w  Q              w  Q               t       (        t       0        x  d)      H        w  Q      P        w  Q      X        t  @     `        t  @     h        x  i)              w  Q              w  Q              t  @             t  @             x  n)              w  Q              w  Q              t                t                x  v)              w  Q              w  Q               t                t                x  ~)      (        w  Q      0        w  Q      8        t  P     @        t  P     H        x  )      `        w  Q      h        w  Q      p        t  P     x        t  P             x  )              w  Q              w  Q              t               t               x  )              w  Q              w  Q              t               t               x  )              w  Q              w  Q              t  `              t  `     (        x  )      @        w  Q      H        w  Q      P        t  `     X        t  `     `        x  )      x        w  Q              w  Q              t                t                x  )              w  Q              w  Q              t                t                x  )              w  Q              w  Q              t  P              t  P             x  )               w  Q      (        w  Q      0        t  P     8        t  P     @        x  )      X        w  Q      `        w  Q      h        t       p        t       x        x  )              w  Q              w  Q              t               t               x  )              w  Q              w  Q              t  `             t  `             x  )       	        w  Q      	        w  Q      	        t  `     	        t  `      	        x  )      8	        w  Q      @	        w  Q      H	        t       P	        t       X	        x  )      p	        w  Q      x	        w  Q      	        t       	        t       	        x  )      	        w  Q      	        w  Q      	        t       	        t       	        x  *      	        w  Q      	        w  Q      	        t       	        t        
        x  *      
        w  Q       
        w  Q      (
        t       0
        t       8
        x  *      P
        w  Q      X
        w  Q      `
        t       h
        t       p
        x  *      
        w  Q      
        w  Q      
        t       
        t       
        x  *      
        w  Q      
        w  Q      
        t       
        t       
        x  *      
        w  Q               w  Q              t               t               x  &*      0        w  Q      8        w  Q      @        t       H        t       P        x  ,*      h        w  Q      p        w  Q      x        t               t               x  3*              w  Q              w  Q              t               t               x  :*              w  Q              w  Q              t               t               x  B*              w  Q              w  Q               t       (        t       0        x  I*      H        w  Q      P        w  Q      X        t       `        t       h        x  P*              w  Q              w  Q              t               t               x  W*              w  Q              w  Q              t               t               x  ]*              w  Q              w  Q               t  `             t  `             x  d*      (        w  Q      0        w  Q      8        t       @        t       H        x  k*      `        w  Q      h        w  Q      p        t  `     x        t  `             x  s*              w  Q              w  Q              t               t               x  y*              w  Q              w  Q              t  @             t  @             x  *              w  Q              w  Q              t                t       (        x  *      @        w  Q      H        w  Q      P        t  @     X        t  @     `        x  *      x        w  Q              w  Q              t  @             t  @             x  *              w  Q              w  Q              t                t                x  *              w  Q              w  Q              t                 t                x  *               w  Q      (        w  Q      0        t  @     8        t  @     @        x  *      X        w  Q      `        w  Q      h        t  @     p        t  @     x        x  *              w  Q              w  Q              t               t               x  *              w  Q              w  Q              t               t               x  *               w  Q              w  Q              t               t                x  *      8        w  Q      @        w  Q      H        t       P        t       X        x  *      p        w  Q      x        w  Q              t               t               x  *              w  Q              w  Q              t               t               x  *              w  Q              w  Q              t               t                x  *              w  Q               w  Q      (        t       0        t       8        x  *      P        w  Q      X        w  Q      `        t        h        t        p        x  *              w  Q              w  Q              t  `             t  `             x  *              w  Q              w  Q              t               t               x  +              w  Q               w  Q              t               t               x  	+      0        w  Q      8        w  Q      @        t        H        t        P        x  +      h        w  Q      p        w  Q      x        t                t                x  +              w  Q              w  Q              t  P!             t  P!             x  !+              w  Q              w  Q              t  P!             t  P!             x  )+              w  Q              w  Q               t        (        t        0        x  1+      H        w  Q      P        w  Q      X        t        `        t        h        x  9+              w  Q              w  Q              t  P!             t  P!             x  A+              w  Q              w  Q              t  P!             t  P!             x  I+              w  Q              w  Q               t               t               x  O+      (        w  Q      0        w  Q      8        t       @        t       H        x  U+      `        w  Q      h        w  Q      p        t       x        t               x  \+              w  Q              w  Q              t   "             t   "             x  b+              w  Q              w  Q              t   "             t   "             x  h+              w  Q              w  Q              t   "              t   "     (        x  n+      @        w  Q      H        w  Q      P        t   "     X        t   "     `        x  t+      x        w  Q              w  Q              t   "             t   "             x  z+              w  Q              w  Q              t   "             t   "             x  +              w  Q              w  Q              t   "              t   "             x  +               w  Q      (        w  Q      0        t   "     8        t   "     @        x  +      X        w  Q      `        w  Q      h        t   "     p        t   "     x        x  +              w  Q              w  Q              t   "             t   "             x  +              w  Q              w  Q              t   "             t   "             x  +               w  Q              w  Q              t   "             t   "              x  +      8        w  Q      @        w  Q      H        t   "     P        t   "     X        x  +      p        w  Q      x        w  Q              t               t               x  +              w  Q              w  Q              t  #             t  #             x  +              w  Q              w  Q              t               t                x  +              w  Q               w  Q      (        t  #     0        t  #     8        x  +      P        w   Q      X        w   Q      `        t  p#     h        t  p#     p        x  +              w   Q              w   Q              t  #             t  #             x  +              w   Q              w   Q              t  $             t  $             x  +              w   Q               w   Q              t   "             t   "             x  +      0        w  Q      8        w  Q      @        t   %     H        t   %     P        x  +      h        w  Q      p        w  Q      x        t  %             t  %             x  +              w  Q              w  Q              t  &             t  &             x  +              w  Q              w  Q              t  &             t  &             x  +              w  Q              w  Q               t  &     (        t  &     0        x  ,      H        w  Q      P        w  Q      X        t  '     `        t  '     h        x  ,              w  Q              w  Q              t  '             t  '             x  ,              w  Q              w  Q              t  `)             t  `)             x  ,              w  Q              w  Q               t  0*             t  0*             x  ,      (        w  Q      0        w  Q      8        t   +     @        t   +     H        x  ,      `        w  Q      h        w  Q      p        t  ,     x        t  ,             x  %,              w  Q              w  Q              t  ,             t  ,             x  +,              w  Q              w  Q              t  -             t  -             x  0,              w  Q              w  Q              t  -              t  -     (        x  5,      @        w  Q      H        w  Q      P        t  .     X        t  .     `        x  :,      x        w  Q              w  Q              t   0             t   0             x  ?,              w  Q              w  Q              t   0             t   0             x  D,              w  Q              w  Q              t  1              t  1             x  I,               w  Q      (        w  Q      0        t  1     8        t  1     @        x  N,      X        w  Q      `        w  Q      h        t  3     p        t  3     x        x  S,              w  Q              w  Q              t  3             t  3             x  X,              w  Q              w  Q              t  P6             t  P6             x  ],               w  Q              w  Q              t  P6             t  P6              x  d,      8        w  Q      @        w  Q      H        t  P6     P        t  P6     X        x  k,      p        w  Q      x        w  Q              t  P6             t  P6             x  p,              w  Q              w  Q              t  P6             t  P6             x  w,              w  Q              w  Q              t  P6             t  P6              x  ~,              w  Q               w  Q      (        t  8     0        t  8     8        x  ,      P        w  Q      X        w  Q      `        t  8     h        t  8     p        x  ,              w  Q              w  Q              t  P9             t  P9             x  ,              w  Q              w  Q              t   ?             t   ?             x  ,              w  Q                w  Q               t  ?              t  ?              x  ,      0         w  Q      8         w  Q      @         t   ?     H         t   ?     P         x  ,      h         w  Q      p         w  Q      x         t   ?              t   ?              x  ,               w  (Q               w  (Q               t  @I              t  @I              x  ,               w  (Q               w  (Q               t  @I              t  @I              x  ,      !        w  (Q      !        w  (Q       !        t  @I     (!        t  @I     0!        x  ,      H!        w  (Q      P!        w  (Q      X!        t  @I     `!        t  @I     h!        x  ,      !        w  (Q      !        w  (Q      !        t  @I     !        t  @I     !        x  ,      !        w  (Q      !        w  (Q      !        t  @I     !        t  @I     !        x  ,      !        w  (Q      !        w  (Q       "        t  @I     "        t  @I     "        x  ,      ("        w  (Q      0"        w  (Q      8"        t  @I     @"        t  @I     H"        x  ,      `"        w  (Q      h"        w  (Q      p"        t  PJ     x"        t  PJ     "        x  ,      "        w  (Q      "        w  (Q      "        t  PJ     "        t  PJ     "        x  ,      "        w  (Q      "        w  (Q      "        t  PJ     "        t  PJ     "        x  ,      #        w  (Q      #        w  (Q      #        t  PJ      #        t  PJ     (#        x  ,      @#        w  (Q      H#        w  (Q      P#        t  `K     X#        t  `K     `#        x  ,      x#        w  (Q      #        w  (Q      #        t  `K     #        t  `K     #        x  ,      #        w  (Q      #        w  (Q      #        t  `K     #        t  `K     #        x  -      #        w  (Q      #        w  (Q      #        t  `K      $        t  `K     $        x  -       $        w  (Q      ($        w  (Q      0$        t  L     8$        t  L     @$        x  -      X$        w  (Q      `$        w  (Q      h$        t  L     p$        t  L     x$        x  -      $        w  (Q      $        w  (Q      $        t  N     $        t  N     $        x  -      $        w  (Q      $        w  (Q      $        t  N     $        t  N     $        x  &-       %        w  (Q      %        w  (Q      %        t  P     %        t  P      %        x  +-      8%        w  (Q      @%        w  (Q      H%        t  P     P%        t  P     X%        x  1-      p%        w  (Q      x%        w  (Q      %        t  P     %        t  P     %        x  6-      %        w  (Q      %        w  (Q      %        t  P     %        t  P     %        x  <-      %        w  (Q      %        w  (Q      %        t  P     %        t  P      &        x  A-      &        w  (Q       &        w  (Q      (&        t  P     0&        t  P     8&        x  G-      P&        w  (Q      X&        w  (Q      `&        t  P     h&        t  P     p&        x  L-      &        w  (Q      &        w  (Q      &        t  P     &        t  P     &        x  R-      &        w  (Q      &        w  (Q      &        t  P     &        t  P     &        x  W-      &        w  (Q       '        w  (Q      '        t  P     '        t  P     '        x  ]-      0'        w  (Q      8'        w  (Q      @'        t  U     H'        t  U     P'        x  b-      h'        w  (Q      p'        w  (Q      x'        t  U     '        t  U     '        x  h-      '        w  (Q      '        w  (Q      '        t  U     '        t  U     '        x  m-      '        w  (Q      '        w  (Q      '        t  U     '        t  U     '        x  s-      (        w  (Q      (        w  (Q       (        t  U     ((        t  U     0(        x  x-      H(        w  (Q      P(        w  (Q      X(        t  U     `(        t  U     h(        x  ~-      (        w  (Q      (        w  (Q      (        t  @V     (        t  @V     (        x  -      (        w  (Q      (        w  (Q      (        t  @V     (        t  @V     (        x  -      (        w  (Q      (        w  (Q       )        t  @V     )        t  @V     )        x  -      ()        w  (Q      0)        w  (Q      8)        t  @V     @)        t  @V     H)        x  -      `)        w  (Q      h)        w  (Q      p)        t  @V     x)        t  @V     )        x  -      )        w  (Q      )        w  (Q      )        t  @V     )        t  @V     )        x  -      )        w  (Q      )        w  (Q      )        t  `V     )        t  `V     )        x  -      *        w  (Q      *        w  (Q      *        t  `V      *        t  `V     (*        x  -      @*        w  (Q      H*        w  (Q      P*        t  `V     X*        t  `V     `*        x  -      x*        w  (Q      *        w  (Q      *        t  `V     *        t  `V     *        x  -      *        w  (Q      *        w  (Q      *        t  V     *        t  V     *        x  -      *        w  (Q      *        w  (Q      *        t  V      +        t  V     +        x  -       +        w  (Q      (+        w  (Q      0+        t  V     8+        t  V     @+        x  -      X+        w  (Q      `+        w  (Q      h+        t  V     p+        t  V     x+        x  -      +        w  (Q      +        w  (Q      +        t  V     +        t  V     +        x  -      +        w  (Q      +        w  (Q      +        t  V     +        t  V     +        x  -       ,        w  (Q      ,        w  (Q      ,        t  V     ,        t  V      ,        x  -      8,        w  (Q      @,        w  (Q      H,        t  V     P,        t  V     X,        x  -      p,        w  (Q      x,        w  (Q      ,        t   0     ,        t   0     ,        x  -      ,        w  (Q      ,        w  (Q      ,        t   0     ,        t   0     ,        x  -      ,        w  (Q      ,        w  (Q      ,        t  V     ,        t  V      -        x  -      -        w  (Q       -        w  (Q      (-        t  1     0-        t  1     8-        x  -      P-        w  (Q      X-        w  (Q      `-        t  1     h-        t  1     p-        x   .      -        w  (Q      -        w  (Q      -        t   W     -        t   W     -        x  .      -        w  (Q      -        w  (Q      -        t   W     -        t   W     -        x  .      -        w  (Q       .        w  (Q      .        t  .     .        t  .     .        x  .      0.        w  (Q      8.        w  (Q      @.        t   X     H.        t   X     P.        x  .      h.        w  (Q      p.        w  (Q      x.        t   X     .        t   X     .        x  ".      .        w  (Q      .        w  (Q      .        t   X     .        t   X     .        x  +.      .        w  (Q      .        w  (Q      .        t   X     .        t   X     .        x  5.      /        w  (Q      /        w  (Q       /        t  Y     (/        t  Y     0/        x  ;.      H/        w  (Q      P/        w  (Q      X/        t  Y     `/        t  Y     h/        x  B.      /        w  (Q      /        w  (Q      /        t  Y     /        t  Y     /        x  H.      /        w  (Q      /        w  (Q      /        t  Y     /        t  Y     /        x  O.      /        w  (Q      /        w  (Q       0        t  0Z     0        t  0Z     0        x  U.      (0        w  (Q      00        w  (Q      80        t  0Z     @0        t  0Z     H0        x  \.      `0        w  (Q      h0        w  (Q      p0        t  0Z     x0        t  0Z     0        x  b.      0        w  (Q      0        w  (Q      0        t  0Z     0        t  0Z     0        x  i.      0        w  (Q      0        w  (Q      0        t  `[     0        t  `[     0        x  p.      1        w  (Q      1        w  (Q      1        t  `[      1        t  `[     (1        x  x.      @1        w  (Q      H1        w  (Q      P1        t  `[     X1        t  `[     `1        x  .      x1        w  (Q      1        w  (Q      1        t  `[     1        t  `[     1        x  .      1        w  (Q      1        w  (Q      1        t  3     1        t  3     1        x  .      1        w  (Q      1        w  (Q      1        t  3      2        t  3     2        x  .       2        w  (Q      (2        w  (Q      02        t  0\     82        t  0\     @2        x  .      X2        w  (Q      `2        w  (Q      h2        t  0\     p2        t  0\     x2        x  .      2        w  (Q      2        w  (Q      2        t  0\     2        t  0\     2        x  .      2        w  (Q      2        w  (Q      2        t  0\     2        t  0\     2        x  .       3        w  (Q      3        w  (Q      3        t  0\     3        t  0\      3        x  .      83        w  (Q      @3        w  (Q      H3        t  0\     P3        t  0\     X3        x  .      p3        w  (Q      x3        w  (Q      3        t  0\     3        t  0\     3        x  .      3        w  (Q      3        w  (Q      3        t  0\     3        t  0\     3        x  .      3        w  (Q      3        w  (Q      3        t  P]     3        t  P]      4        x  .      4        w  (Q       4        w  (Q      (4        t  P]     04        t  P]     84        x  .      P4        w  (Q      X4        w  (Q      `4        t  P^     h4        t  P^     p4        x  .      4        w  (Q      4        w  (Q      4        t  P^     4        t  P^     4        x  .      4        w  (Q      4        w  (Q      4        t  @_     4        t  @_     4        x  .      4        w  (Q       5        w  (Q      5        t  @_     5        t  @_     5        x  .      05        w  (Q      85        w  (Q      @5        t  P`     H5        t  P`     P5        x  .      h5        w  (Q      p5        w  (Q      x5        t  P`     5        t  P`     5        x  .      5        w  (Q      5        w  (Q      5        t  b     5        t  b     5        x  /      5        w  (Q      5        w  (Q      5        t  b     5        t  b     5        x  
/      6        w  (Q      6        w  (Q       6        t  c     (6        t  c     06        x  /      H6        w  (Q      P6        w  (Q      X6        t  c     `6        t  c     h6        x  /      6        w  (Q      6        w  (Q      6        t   e     6        t   e     6        x  /      6        w  (Q      6        w  (Q      6        t  P9     6        t  P9     6        x  #/      6        w  (Q      6        w  (Q       7        t  f     7        t  f     7        x  (/      (7        w  (Q      07        w  (Q      87        t  f     @7        t  f     H7        x  ./      `7        w  (Q      h7        w  (Q      p7        t  `g     x7        t  `g     7        x  4/      7        w  (Q      7        w  (Q      7        t  @h     7        t  @h     7        x  :/      7        w  (Q      7        w  (Q      7        t  @h     7        t  @h     7        x  @/      8        w  (Q      8        w  (Q      8        t  @h      8        t  @h     (8        x  F/      @8        w  (Q      H8        w  (Q      P8        t   i     X8        t   i     `8        x  L/      x8        w  (Q      8        w  (Q      8        t   i     8        t   i     8        x  R/      8        w  (Q      8        w  (Q      8        t  j     8        t  j     8        x  X/      8        w  (Q      8        w  (Q      8        t  j      9        t  j     9        x  ^/       9        w  (Q      (9        w  (Q      09        t  `k     89        t  `k     @9        x  e/      X9        w  (Q      `9        w  (Q      h9        t  `k     p9        t  `k     x9        x  m/      9        w  (Q      9        w  (Q      9        t  `k     9        t  `k     9        x  t/      9        w  (Q      9        w  (Q      9        t  `k     9        t  `k     9        x  |/       :        w  (Q      :        w  (Q      :        t   l     :        t   l      :        x  /      8:        w  (Q      @:        w  (Q      H:        t   l     P:        t   l     X:        x  /      p:        w  (Q      x:        w  (Q      :        t   l     :        t   l     :        x  /      :        w  (Q      :        w  (Q      :        t  m     :        t  m     :        x  /      :        w  (Q      :        w  (Q      :        t  n     :        t  n      ;        x  /      ;        w  (Q       ;        w  (Q      (;        t  n     0;        t  n     8;        x  /      P;        w  (Q      X;        w  (Q      `;        t  o     h;        t  o     p;        x  /      ;        w  (Q      ;        w  (Q      ;        t  o     ;        t  o     ;        x  /      ;        w  (Q      ;        w  (Q      ;        t  o     ;        t  o     ;        x  /      ;        w  (Q       <        w  (Q      <        t  o     <        t  o     <        x  /      0<        w  (Q      8<        w  (Q      @<        t  o     H<        t  o     P<        x  /      h<        w  (Q      p<        w  (Q      x<        t  o     <        t  o     <        x  /      <        w  (Q      <        w  (Q      <        t  p     <        t  p     <        x  /      <        w  (Q      <        w  (Q      <        t  p     <        t  p     <        x  /      =        w  (Q      =        w  (Q       =        t  r     (=        t  r     0=        x  /      H=        w  (Q      P=        w  (Q      X=        t  s     `=        t  s     h=        x  /      =        w  (Q      =        w  (Q      =        t  0t     =        t  0t     =        x  /      =        w  (Q      =        w  (Q      =        t  t     =        t  t     =        x  /      =        w  (Q      =        w  (Q       >        t  u     >        t  u     >        x  /      (>        w  (Q      0>        w  (Q      8>        t  u     @>        t  u     H>        x  0      `>        w  (Q      h>        w  (Q      p>        t  u     x>        t  u     >        x  0      >        w  (Q      >        w  (Q      >        t  u     >        t  u     >        x  0      >        w  (Q      >        w  (Q      >        t  v     >        t  v     >        x  0      ?        w  (Q      ?        w  (Q      ?        t  v      ?        t  v     (?        x  0      @?        w  (Q      H?        w  (Q      P?        t  v     X?        t  v     `?        x  !0      x?        w  (Q      ?        w  (Q      ?        t  v     ?        t  v     ?        x  (0      ?        w  (Q      ?        w  (Q      ?        t  w     ?        t  w     ?        x  /0      ?        w  (Q      ?        w  (Q      ?        t  w      @        t  w     @        x  70       @        w  (Q      (@        w  (Q      0@        t  w     8@        t  w     @@        x  >0      X@        w  (Q      `@        w  (Q      h@        t  w     p@        t  w     x@        x  F0      @        w  (Q      @        w  (Q      @        t  px     @        t  px     @        x  M0      @        w  (Q      @        w  (Q      @        t  px     @        t  px     @        x  U0       A        w  (Q      A        w  (Q      A        t  px     A        t  px      A        x  ]0      8A        w  (Q      @A        w  (Q      HA        t  px     PA        t  px     XA        x  f0      pA        w  (Q      xA        w  (Q      A        t  `y     A        t  `y     A        x  k0      A        w  (Q      A        w  (Q      A        t  `y     A        t  `y     A        x  q0      A        w  (Q      A        w  (Q      A        t  @z     A        t  @z      B        x  v0      B        w  (Q       B        w  (Q      (B        t  @z     0B        t  @z     8B        x  |0      PB        w  (Q      XB        w  (Q      `B        t   {     hB        t   {     pB        x  0      B        w  (Q      B        w  (Q      B        t   {     B        t   {     B        x  0      B        w  (Q      B        w  (Q      B        t   |     B        t   |     B        x  0      B        w  (Q       C        w  (Q      C        t   |     C        t   |     C        x  0      0C        w  (Q      8C        w  (Q      @C        t  |     HC        t  |     PC        x  0      hC        w  (Q      pC        w  (Q      xC        t  |     C        t  |     C        x  0      C        w  (Q      C        w  (Q      C        t  p}     C        t  p}     C        x  0      C        w  (Q      C        w  (Q      C        t  p}     C        t  p}     C        x  0      D        w  0Q      D        w  0Q       D        t  @~     (D        t  @~     0D        x  0      HD        w  0Q      PD        w  0Q      XD        t  @~     `D        t  @~     hD        x  0      D        w  0Q      D        w  0Q      D        t  @~     D        t  @~     D        x  0      D        w  0Q      D        w  0Q      D        t  @~     D        t  @~     D        x  0      D        w  0Q      D        w  0Q       E        t  @~     E        t  @~     E        x  0      (E        w  0Q      0E        w  0Q      8E        t  @~     @E        t  @~     HE        x  0      `E        w  0Q      hE        w  0Q      pE        t  @~     xE        t  @~     E        x  0      E        w  0Q      E        w  0Q      E        t  @~     E        t  @~     E        x  0      E        w  8Q      E        w  8Q      E        t  0     E        t  0     E        x  0      F        w  8Q      F        w  8Q      F        t  p      F        t  p     (F        x  0      @F        w  8Q      HF        w  8Q      PF        t       XF        t       `F        x  0      xF        w  8Q      F        w  8Q      F        t  0     F        t  0     F        x  0      F        w  8Q      F        w  8Q      F        t       F        t       F        x  0      F        w  8Q      F        w  8Q      F        t        G        t       G        x  0       G        w  8Q      (G        w  8Q      0G        t       8G        t       @G        x  1      XG        w  8Q      `G        w  8Q      hG        t  0     pG        t  0     xG        x  	1      G        w  8Q      G        w  8Q      G        t       G        t       G        x  1      G        w  8Q      G        w  8Q      G        t       G        t       G        x  1       H        w  8Q      H        w  8Q      H        t       H        t        H        x  1      8H        w  8Q      @H        w  8Q      HH        t  0     PH        t  0     XH        x  %1      pH        w  8Q      xH        w  8Q      H        t       H        t       H        x  ,1      H        w  8Q      H        w  8Q      H        t       H        t       H        x  31      H        w  8Q      H        w  8Q      H        t       H        t        I        x  :1      I        w  8Q       I        w  8Q      (I        t  0     0I        t  0     8I        x  A1      PI        w  8Q      XI        w  8Q      `I        t       hI        t       pI        x  H1      I        w  8Q      I        w  8Q      I        t       I        t       I        x  O1      I        w  @Q      I        w  @Q      I        t  p     I        t  p     I        x  S1      I        w  @Q       J        w  @Q      J        t  p     J        t  p     J        x  Y1      0J        w  @Q      8J        w  @Q      @J        t  p     HJ        t  p     PJ        x  _1      hJ        w  @Q      pJ        w  @Q      xJ        t  p     J        t  p     J        x  e1      J        w  @Q      J        w  @Q      J        t  p     J        t  p     J        x  k1      J        w  @Q      J        w  @Q      J        t  p     J        t  p     J        x  q1      K        w  @Q      K        w  @Q       K        t       (K        t       0K        x  u1      HK        w  @Q      PK        w  @Q      XK        t       `K        t       hK        x  y1      K        w  HQ      K        w  HQ      K        t        K        t        K        x  1      K        w  HQ      K        w  HQ      K        t        K        t        K        x  1      K        w  HQ      K        w  HQ       L        t        L        t        L        x  1      (L        w  HQ      0L        w  HQ      8L        t       @L        t       HL        x  1      `L        w  HQ      hL        w  HQ      pL        t       xL        t       L        x  1      L        w  HQ      L        w  HQ      L        t       L        t       L        x  1      L        w  HQ      L        w  HQ      L        t        L        t        L        x  1      M        w  HQ      M        w  HQ      M        t         M        t        (M        x  1      @M        w  HQ      HM        w  HQ      PM        t        XM        t        `M        x  1      xM        w  HQ      M        w  HQ      M        t  @     M        t  @     M        x  1      M        w  HQ      M        w  HQ      M        t  @     M        t  @     M        x  1      M        w  HQ      M        w  HQ      M        t  @      N        t  @     N        x  1       N        w  HQ      (N        w  HQ      0N        t  @     8N        t  @     @N        x  1      XN        w  HQ      `N        w  HQ      hN        t  @     pN        t  @     xN        x  1      N        w  HQ      N        w  HQ      N        t  @     N        t  @     N        x  1      N        w  HQ      N        w  HQ      N        t  p     N        t  p     N        x  1       O        w  HQ      O        w  HQ      O        t  p     O        t  p      O        x  1      8O        w  HQ      @O        w  HQ      HO        t  p     PO        t  p     XO        x  2      pO        w  HQ      xO        w  HQ      O        t       O        t       O        x  2      O        w  HQ      O        w  HQ      O        t       O        t       O        x  2      O        w  HQ      O        w  HQ      O        t       O        t        P        x  2      P        w  HQ       P        w  HQ      (P        t       0P        t       8P        x  2      PP        w  HQ      XP        w  HQ      `P        t       hP        t       pP        x  $2      P        w  HQ      P        w  HQ      P        t       P        t       P        x  +2      P        w  HQ      P        w  HQ      P        t       P        t       P        x  22      P        w  HQ       Q        w  HQ      Q        t       Q        t       Q        x  92      0Q        w  HQ      8Q        w  HQ      @Q        t        HQ        t        PQ        x  B2      hQ        w  HQ      pQ        w  HQ      xQ        t        Q        t        Q        x  K2      Q        w  HQ      Q        w  HQ      Q        t        Q        t        Q        x  T2      Q        w  HQ      Q        w  HQ      Q        t        Q        t        Q        x  Y2      R        w  HQ      R        w  HQ       R        t       (R        t       0R        x  _2      HR        w  HQ      PR        w  HQ      XR        t        `R        t        hR        x  e2      R        w  HQ      R        w  HQ      R        t        R        t        R        x  k2      R        w  HQ      R        w  HQ      R        t        R        t        R        x  q2      R        w  HQ      R        w  HQ       S        t        S        t        S        x  w2      (S        w  HQ      0S        w  HQ      8S        t        @S        t        HS        x  }2      `S        w  HQ      hS        w  HQ      pS        t        xS        t        S        x  2      S        w  HQ      S        w  HQ      S        t       S        t       S        x  2      S        w  HQ      S        w  HQ      S        t       S        t       S        x  2      T        w  HQ      T        w  HQ      T        t        T        t       (T        x  2      @T        w  HQ      HT        w  HQ      PT        t       XT        t       `T        x  2      xT        w  HQ      T        w  HQ      T        t       T        t       T        x  2      T        w  HQ      T        w  HQ      T        t       T        t       T        x  2      T        w  HQ      T        w  HQ      T        t        U        t       U        x  2       U        w  HQ      (U        w  HQ      0U        t       8U        t       @U        x  2      XU        w  HQ      `U        w  HQ      hU        t       pU        t       xU        x  2      U        w  HQ      U        w  HQ      U        t       U        t       U        x  2      U        w  HQ      U        w  HQ      U        t       U        t       U        x  2       V        w  HQ      V        w  HQ      V        t       V        t        V        x  2      8V        w  HQ      @V        w  HQ      HV        t       PV        t       XV        x  2      pV        w  HQ      xV        w  HQ      V        t       V        t       V        x  2      V        w  HQ      V        w  HQ      V        t       V        t       V        x  2      V        w  HQ      V        w  HQ      V        t       V        t        W        x  2      W        w  HQ       W        w  HQ      (W        t       0W        t       8W        x  3      PW        w  HQ      XW        w  HQ      `W        t       hW        t       pW        x  3      W        w  HQ      W        w  HQ      W        t       W        t       W        x  3      W        w  HQ      W        w  HQ      W        t       W        t       W        x  3      W        w  HQ       X        w  HQ      X        t       X        t       X        x  "3      0X        w  HQ      8X        w  HQ      @X        t       HX        t       PX        x  *3      hX        w  HQ      pX        w  HQ      xX        t       X        t       X        x  23      X        w  HQ      X        w  HQ      X        t       X        t       X        x  ;3      X        w  HQ      X        w  HQ      X        t       X        t       X        x  D3      Y        w  HQ      Y        w  HQ       Y        t       (Y        t       0Y        x  M3      HY        w  HQ      PY        w  HQ      XY        t       `Y        t       hY        x  V3      Y        w  HQ      Y        w  HQ      Y        t       Y        t       Y        x  _3      Y        w  HQ      Y        w  HQ      Y        t       Y        t       Y        x  h3      Y        w  HQ      Y        w  HQ       Z        t       Z        t       Z        x  n3      (Z        w  HQ      0Z        w  HQ      8Z        t       @Z        t       HZ        x  t3      `Z        w  HQ      hZ        w  HQ      pZ        t       xZ        t       Z        x  z3      Z        w  HQ      Z        w  HQ      Z        t       Z        t       Z        x  3      Z        w  HQ      Z        w  HQ      Z        t       Z        t       Z        x  3      [        w  HQ      [        w  HQ      [        t        [        t       ([        x  3      @[        w  HQ      H[        w  HQ      P[        t       X[        t       `[        x  3      x[        w  HQ      [        w  HQ      [        t       [        t       [        x  3      [        w  HQ      [        w  HQ      [        t       [        t       [        x  3      [        w  HQ      [        w  HQ      [        t        \        t       \        x  3       \        w  HQ      (\        w  HQ      0\        t       8\        t       @\        x  3      X\        w  HQ      `\        w  HQ      h\        t       p\        t       x\        x  3      \        w  HQ      \        w  HQ      \        t       \        t       \        x  3      \        w  HQ      \        w  HQ      \        t       \        t       \        x  3       ]        w  HQ      ]        w  HQ      ]        t       ]        t        ]        x  3      8]        w  HQ      @]        w  HQ      H]        t       P]        t       X]        x  3      p]        w  HQ      x]        w  HQ      ]        t       ]        t       ]        x  3      ]        w  HQ      ]        w  HQ      ]        t       ]        t       ]        x  3      ]        w  HQ      ]        w  HQ      ]        t       ]        t        ^        x  3      ^        w  HQ       ^        w  HQ      (^        t       0^        t       8^        x  3      P^        w  HQ      X^        w  HQ      