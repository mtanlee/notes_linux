(self.active_table.visit_thead())

    def depart_thead(self, node):
        if node is not None:
            self.out.extend(self.active_table.depart_thead())
            if self.active_table.need_recurse():
                node.walkabout(self)
        self._thead_depth -= 1

    def visit_title(self, node):
        """Append section and other titles."""
        # Document title
        if node.parent.tagname == 'document':
            self.push_output_collector(self.title)
            self.context.append('')
            self.pdfinfo.append('  pdftitle={%s},' %
                                self.encode(node.astext()))
        # Topic titles (topic, admonition, sidebar)
        elif (isinstance(node.parent, nodes.topic) or
              isinstance(node.parent, nodes.admonition) or
              isinstance(node.parent, nodes.sidebar)):
            self.fallbacks['title'] = PreambleCmds.title
            classes = ','.join(node.parent['classes'])
            if not classes:
                classes = node.tagname
            self.out.append('\\DUtitle[%s]{' % classes)
            self.context.append('}\n')
        # Table caption
        elif isinstance(node.parent, nodes.table):
            self.push_output_collector(self.active_table.caption)
            self.context.append('')
        # Section title
        else:
            if hasattr(PreambleCmds, 'secnumdepth'):
                self.requirements['secnumdepth'] = PreambleCmds.secnumdepth
            section_name = self.d_class.section(self.section_level)
            self.out.append('\n\n')
            # System messages heading in red:
            if ('system-messages' in node.parent['classes']):
                self.requirements['color'] = PreambleCmds.color
                section_title = self.encode(node.astext())
                self.out.append(r'\%s[%s]{\color{red}' % (
                                section_name,section_title))
            else:
                self.out.append(r'\%s{' % section_name)
            if self.section_level > len(self.d_class.sections):
                # section level not supported by LaTeX
                self.fallbacks['title'] = PreambleCmds.title
                # self.out.append('\\phantomsection%\n  ')
            # label and ToC entry:
            bookmark = ['']
            # add sections with unsupported level to toc and pdfbookmarks?
            ## if self.section_level > len(self.d_class.sections):
            ##     section_title = self.encode(node.astext())
            ##     bookmark.append(r'\addcontentsline{toc}{%s}{%s}' %
            ##               (section_name, section_title))
            bookmark += self.ids_to_labels(node.parent, set_anchor=False)
            self.context.append('%\n  '.join(bookmark) + '%\n}\n')

            # MAYBE postfix paragraph and subparagraph with \leavemode to
            # ensure floats stay in the section and text starts on a new line.

    def depart_title(self, node):
        self.out.append(self.context.pop())
        if (isinstance(node.parent, nodes.table) or
            node.parent.tagname == 'document'):
            self.pop_output_collector()

    def minitoc(self, node, title, depth):
        """Generate a local table of contents with LaTeX package minitoc"""
        section_name = self.d_class.section(self.section_level)
        # name-prefix for current section level
        minitoc_names = {'part': 'part', 'chapter': 'mini'}
        if 'chapter' not in self.d_class.sections:
            minitoc_names['section'] = 'sect'
        try:
            minitoc_name = minitoc_names[section_name]
        except KeyError: # minitoc only supports part- and toplevel
            self.warn('Skipping local ToC at %s level.\n' % section_name +
                      '  Feature not supported with option "use-latex-toc"',
                      base_node=node)
            return
        # Requirements/Setup
        self.requirements['minitoc'] = PreambleCmds.minitoc
        self.requirements['minitoc-'+minitoc_name] = (r'\do%stoc' %
                                                      minitoc_name)
        # depth: (Docutils defaults to unlimited depth)
        maxdepth = len(self.d_class.sections)
        self.requirements['minitoc-%s-depth' % minitoc_name] = (
            r'\mtcsetdepth{%stoc}{%d}' % (minitoc_name, maxdepth))
        # Process 'depth' argument (!Docutils stores a relative depth while
        # minitoc  expects an absolute depth!):
        offset = {'sect': 1, 'mini': 0, 'part': 0}
        if 'chapter' in self.d_class.sections:
            offset['part'] = -1
        if depth:
            self.out.append('\\setcounter{%stocdepth}{%d}' %
                             (minitoc_name, depth + offset[minitoc_name]))
        # title:
        self.out.append('\\mtcsettitle{%stoc}{%s}\n' % (minitoc_name, title))
        # the toc-generating command:
        self.out.append('\\%stoc\n' % minitoc_name)

    def visit_topic(self, node):
        # Topic nodes can be generic topic, abstract, dedication, or ToC.
        # table of contents:
        if 'contents' in node['classes']:
            self.out.append('\n')
            self.out += self.ids_to_labels(node)
            # add contents to PDF bookmarks sidebar
            if isinstance(node.next_node(), nodes.title):
                self.out.append('\n\\pdfbookmark[%d]{%s}{%s}\n' %
                                (self.section_level+1,
                                 node.next_node().astext(),
                                 node.get('ids', ['contents'])[0]
                                ))
            if self.use_latex_toc:
                title = ''
                if isinstance(node.next_node(), nodes.title):
                    title = self.encode(node.pop(0).astext())
                depth = node.get('depth', 0)
                if 'local' in node['classes']:
                    self.minitoc(node, title, depth)
                    self.context.append('')
                    return
                if depth:
                    self.out.append('\\setcounter{tocdepth}{%d}\n' % depth)
                if title != 'Contents':
                    self.out.append('\\renewcommand{\\contentsname}{%s}\n' %
                                    title)
                self.out.append('\\tableofcontents\n\n')
                self.has_latex_toc = True
            else: # Docutils generated contents list
                # set flag for visit_bullet_list() and visit_title()
                self.is_toc_list = True
            self.context.append('')
        elif ('abstract' in node['classes'] and
              self.settings.use_latex_abstract):
            self.push_output_collector(self.abstract)
            self.out.append('\\begin{abstract}')
            self.context.append('\\end{abstract}\n')
            if isinstance(node.next_node(), nodes.title):
                node.pop(0) # LaTeX provides its own title
        else:
            self.fallbacks['topic'] = PreambleCmds.topic
            # special topics:
            if 'abstract' in node['classes']:
                self.fallbacks['abstract'] = PreambleCmds.abstract
                self.push_output_collector(self.abstract)
            if 'dedication' in node['classes']:
                self.fallbacks['dedication'] = PreambleCmds.dedication
                self.push_output_collector(self.dedication)
            self.out.append('\n\\DUtopic[%s]{\n' % ','.join(node['classes']))
            self.context.append('}\n')

    def depart_topic(self, node):
        self.out.append(self.context.pop())
        self.is_toc_list = False
        if ('abstract' in node['classes'] or
            'dedication' in node['classes']):
            self.pop_output_collector()

    def visit_rubric(self, node):
        self.fallbacks['rubric'] = PreambleCmds.rubric
        self.out.append('\n\\DUrubric{')
        self.context.append('}\n')

    def depart_rubric(self, node):
        self.out.append(self.context.pop())

    def visit_transition(self, node):
        self.fallbacks['transition'] = PreambleCmds.transition
        self.out.append('\n\n')
        self.out.append('%' + '_' * 75 + '\n')
        self.out.append(r'\DUtransition')
        self.out.append('\n\n')

    def depart_transition(self, node):
        pass

    def visit_version(self, node):
        self.visit_docinfo_item(node, 'version')

    def depart_version(self, node):
        self.depart_docinfo_item(node)

    def unimplemented_visit(self, node):
        raise NotImplementedError('visiting unimplemented node type: %s' %
                                  node.__class__.__name__)

#    def unknown_visit(self, node):
#    def default_visit(self, node):

# vim: set ts=4 et ai :
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   usr/local/lib/python2.7/dist-packages/docutils/writers/latex2e/__init__.pyc                         0100644 0000000 0000062 00000325655 13077704402 025406  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   s≠  d  Z  d Z d d l Z d d l Z d d l Z d d l Z d d l Z d d l Z y d d l Z Wn# e	 k
 râ d d l
 j j Z n Xd d l m Z m Z m Z m Z m Z m Z d d l m Z d d l m Z d d l m Z m Z d e j f d	 Ñ  É  YZ d
 e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e _ d e _  d e _! d e _" d e _# d e _$ d e _% d e _& d e _' d e _( d e _) d e _* d e _+ d e _, d e _- d e _. d  e _/ d! e _0 d" e _1 d# e _2 d$ e _3 d% e _4 d& e _5 d' e _6 d( e _7 d) e _8 d* e _9 d+ e _: d, e _; d- e f d. Ñ  É  YZ< d/ e f d0 Ñ  É  YZ= d1 e f d2 Ñ  É  YZ> d3 e j? f d4 Ñ  É  YZ@ d S(5   s   LaTeX2e document tree Writer.t   reStructuredTextiˇˇˇˇN(   t   frontendt   nodest	   languagest   writerst   utilst   io(   t
   SafeString(   t
   writer_aux(   t   pick_math_environmentt   unichar2text   Writerc        )   B   s`  e  Z dë Z d Z e j j e j j e É É Z	 d j
 d d d d g É Z dí Z d dì d d g i d d 6f d d g i d d 6f d d g i e d 6d d 6e j d 6f d d g i d d g d 6d d 6d  d! 6d" d# 6f d$ d% g i d& d 6d d 6e j d 6f d' d( g i d) d* 6d+ d 6e j d 6f d, d- g i d. d/ d0 d1 g d 6d. d 6d  d! 6f d2 d3 g i d4 d 6d5 d! 6d6 d# 6e j d 6f d7 d8 g i d5 d! 6d9 d# 6e j d 6f d: d; g i d< d* 6d+ d 6f d= d> g i d& d 6d d 6e j d 6f d? d@ g i dA d! 6e j d 6dB g d 6f dC dD g i e d 6f dE e dF g i e d 6dG d! 6f dH dI g i dJ d 6d d 6e j d 6f dK dL g i dM d* 6d+ d 6e j d 6f dN dO g i d& d 6d d 6e j d 6f dP dQ g i dR d* 6d+ d 6e j d 6f dS dT g i d& d 6d d 6e j d 6f dU dV g i dW d* 6d+ d 6e j d 6f dX dY g i d& d 6d d 6e j d 6f dZ d[ g i d\ d 6f d] d^ g i d4 d 6f d_ d` g i dì d 6d d 6e j d 6f da db g i d+ d 6dc d* 6f dd de g i dì d 6d d 6e j d 6f df dg g i d+ d 6dh d* 6f di dj g i dk d 6dl d! 6f dm dn g i d4 d 6f do dp g i d& d 6d d 6e j d 6f dq dr g i d g d 6d  d! 6ds d 6e j d 6e d 6f dt du g i d4 d 6f dv dw g i dx d 6f dy dz g i dì d 6f d{ d| g i dì d 6f f# f Z i d& d} 6Z d~ Z dî Z dï Z e dñ Z dì Z dç Ñ  Z dé Ñ  Z dè Ñ  Z dê Ñ  Z RS(ó   t   latext   latex2es   default.texs   
s   % PDF Standard Fontss   \usepackage{mathptmx} % Timess   \usepackage[scaled=.90]{helvet}s   \usepackage{courier}t   standardt   booktabst   nolinest
   borderlesss   colwidths-autos   colwidths-givens   LaTeX-Specific Optionss-   Specify documentclass.  Default is "article".s   --documentclasst   articlet   defaultse   Specify document options.  Multiple options can be given, separated by commas.  Default is "a4paper".s   --documentoptionst   a4papers5   Footnotes with numbers/symbols by Docutils. (default)s   --docutils-footnotest
   store_truet   actiont	   validators^   Format for footnote references: one of "superscript" or "brackets".  Default is "superscript".s   --footnote-referencest   superscriptt   bracketst   choicess   <format>t   metavart   trim_footnote_reference_spacet	   overridess!   Use \cite command for citations. s   --use-latex-citationsi    sN   Use figure floats for citations (might get mixed with real figures). (default)s   --figure-citationst   use_latex_citationst   destt   store_falses{   Format for block quote attributions: one of "dash" (em-dash prefix), "parentheses"/"parens", or "none".  Default is "dash".s   --attributiont   dasht   parenthesest   parenst   nonesƒ   Specify LaTeX packages/stylesheets.  A style is referenced with \usepackage if extension is ".sty" or omitted and with \input else.  Overrides previous --stylesheet and --stylesheet-path settings.s   --stylesheett    s   <file[,file,...]>t   stylesheet_paths◊   Comma separated list of LaTeX packages/stylesheets. Relative paths are expanded if a matching file is found in the --stylesheet-dirs. With --link-stylesheet, the path is rewritten relative to the output *.tex file. s   --stylesheet-patht
   stylesheets7   Link to the stylesheet(s) in the output file. (default)s   --link-stylesheett   embed_stylesheets^   Embed the stylesheet(s) in the output file. Stylesheets must be accessible during processing. s   --embed-stylesheetsè   Comma-separated list of directories where stylesheets are found. Used by --stylesheet-path when expanding relative path arguments. Default: "."s   --stylesheet-dirss   <dir[,dir,...]>t   .sl   Customization by LaTeX code in the preamble. Default: select PDF standard fonts (Times, Helvetica, Courier).s   --latex-preambles)   Specify the template file. Default: "%s".s
   --templates   <file>s&   Table of contents by LaTeX. (default) s   --use-latex-toci   s6   Table of contents by Docutils (without page numbers). s   --use-docutils-toct   use_latex_tocs*   Add parts on top of the section hierarchy.s   --use-part-sections=   Attach author and date to the document info table. (default) s   --use-docutils-docinfot   use_latex_docinfos-   Attach author and date to the document title.s   --use-latex-docinfos$   Typeset abstract as topic. (default)s   --topic-abstractt   use_latex_abstracts<   Use LaTeX abstract environment for the document's abstract. s   --use-latex-abstractsO   Color of any hyperlinks embedded in text (default: "blue", "false" to disable).s   --hyperlink-colort   blues;   Additional options to the "hyperref" package (default: "").s   --hyperref-optionss^   Enable compound enumerators for nested enumerated lists (e.g. "1.2.a.ii").  Default: disabled.s   --compound-enumeratorssN   Disable compound enumerators for nested enumerated lists. This is the default.s   --no-compound-enumeratorst   compound_enumeratorsså   Enable section ("." subsection ...) prefixes for compound enumerators.  This has no effect without --compound-enumerators.Default: disabled.s    --section-prefix-for-enumeratorssH   Disable section prefixes for compound enumerators.  This is the default.s#   --no-section-prefix-for-enumeratorst   section_prefix_for_enumeratorssg   Set the separator between section number and enumerator for compound enumerated lists.  Default is "-".s   --section-enumerator-separatort   -s   <char>su   When possibile, use the specified environment for literal-blocks. Default is quoting of whitespace and special chars.s   --literal-block-envsh   When possibile, use verbatim for literal-blocks. Compatibility alias for "--literal-block-env=verbatim".s   --use-verbatim-when-possibles»   Table style. "standard" with horizontal and vertical lines, "booktabs" (LaTeX booktabs style) only horizontal lines above and below the table and below the header or "borderless".  Default: "standard"s   --table-stylet   appendsπ   LaTeX graphicx package option. Possible values are "dvips", "pdftex". "auto" includes LaTeX code to use "pdftex" if processing with pdf(la)tex and dvips otherwise. Default is no option.s   --graphicx-optionsã   LaTeX font encoding. Possible values are "", "T1" (default), "OT1", "LGR,T1" or any other combination of options to the `fontenc` package. s   --font-encodingt   T1sñ   Per default the latex-writer puts the reference title into hyperreferences. Specify "ref*" or "pageref*" to get the section number or the page number.s   --reference-labelsV   Specify style and database for bibtex, for example "--use-bibtex=mystyle,mydb1,mydb2".s   --use-bibtext   sectnum_depths   latex2e writerR   t   head_prefixt   requirementst   latex_preamblet	   fallbackst   pdfsetupt   titlet   subtitlet	   titledatat   body_pre_docinfot   docinfot
   dedicationt   abstractt   bodyc         C   s   t  j j |  É t |  _ d  S(   N(   R   R   t   __init__t   LaTeXTranslatort   translator_class(   t   self(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRA   ‰   s    c         C   s   t  j j |  É t j g S(   N(   R   R   t   get_transformsR   t   Admonitions(   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRE   È   s    c         C   sÙ   |  j  |  j É } |  j j | É x* |  j D] } t |  | t | | É É q, Wy t |  j j j d É } Wn; t	 k
 r® t t
 j j |  j |  j j j É d É } n Xt j t | j É  d É É } | j É  |  j É  | j |  j É |  _ d  S(   Nt   rbs   utf-8(   RC   t   documentt	   walkaboutt   visitor_attributest   setattrt   getattrt   opent   settingst   templatet   IOErrort   ost   patht   joint   default_template_patht   stringt   Templatet   unicodet   readt   closet   assemble_partst
   substitutet   partst   output(   RD   t   visitort   partt   template_fileRO   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt	   translate   s    

c         C   sã   t  j j |  É xt |  j D]i } t |  | É } | |  j k rm | rT | j d É n  d j | É |  j | <q d j | É |  j | <q Wd S(   s9   Assemble the `self.parts` dictionary of output fragments.R%   s   
N(	   R   R   RZ   RJ   RL   t
   head_partsR1   RS   R\   (   RD   R_   t   lines(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRZ     s    (   R   R   (   s   standardR   R   R   s   colwidths-autos   colwidths-givenN(   s   writers(	   s   head_prefixs   requirementss   latex_preambles
   stylesheets	   fallbackss   pdfsetups   titles   subtitles	   titledata(   s   body_pre_docinfos   docinfos
   dedications   abstracts   body(   t   __name__t
   __module__t	   supportedt   default_templateRQ   RR   t   dirnamet   abspatht   __file__RT   RS   t   default_preamblet   table_style_valuest   Nonet   TrueR   t   validate_booleant   validate_comma_separated_listt   settings_spect   settings_defaultst   config_sectiont   config_section_dependenciesRb   RJ   R]   RA   RE   Ra   RZ   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR      s2  	 




  			t   Babelc           B   sa  e  Z d  Z iC d d 6d d 6d d 6d d 6d	 d
 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d  6d! d" 6d# d$ 6d% d& 6d' d( 6d) d* 6d+ d, 6d- d. 6d/ d0 6d1 d2 6d3 d4 6d5 d6 6d7 d8 6d9 d: 6d; d< 6d= d> 6d? d@ 6dA dB 6dC dD 6dE dF 6dG dH 6dI dJ 6dK dL 6dM dN 6dO dP 6dQ dR 6dS dT 6dU dV 6dW dX 6dY dZ 6d[ d\ 6d] d^ 6d_ d` 6da db 6d] dc 6dd de 6df dg 6dh di 6dj dk 6dl dm 6dn do 6dp dq 6dr ds 6dt du 6dv dw 6dx dy 6dp dz 6dr d{ 6d| d} 6d~ d 6dÄ dÅ 6dÇ dÉ 6Z e g  e j É  D] \ Z Z e j É  e f ^ q˜É Z dÑ Z	 i dÖ d= 6dÖ d- 6Z
 dä dÜ Ñ Z dá Ñ  Z dà Ñ  Z dâ Ñ  Z RS(ã   s   Language specifics for LaTeX.t	   afrikaanst   aft   arabict   art	   bulgariant   bgt   bretont   brt   catalant   cat   czecht   cst   welsht   cyt   danisht   dat   ngermant   det   germans   de-1901t	   naustrians   de-ATt   austrians
   de-AT-1901t   lowersorbiant   dsbt   greekt   elt   polutonikogreeks
   el-polytont   englisht   ent
   australians   en-AUt   canadians   en-CAt   britishs   en-GBt
   newzealands   en-NZt   americans   en-USt	   esperantot   eot   spanisht   est   estoniant   ett   basquet   eut   finnisht   fit   frencht   frt   canadiens   fr-CAt   irisht   gat   ibycuss
   grc-ibycust   galiciant   glt   hebrewt   het   croatiant   hrt   uppersorbiant   hsbt   magyart   hut   interlinguat   iat   bahasait   idt	   icelandict   ist   italiant   itt   japaneset   jat   kazakht   kkt   latint   lat
   lithuaniant   ltt   latviant   lvt	   mongoliant   mnt   bahasamt   mst   norskt   nbt   dutcht   nlt   nynorskt   nnt   not   polisht   plt   portugest   ptt   brazils   pt-BRt   romaniant   rot   russiant   rut   samint   set   serbiancs   sh-Cyrlt   serbians   sh-Latnt   slovakt   skt   slovenet   slt   albaniant   sqt   srs   sr-Latnt   swedisht   svt   turkisht   trt	   ukrainiant   ukt   vietnamt   vis,   Language "%s" not supported by LaTeX (babel)s   .<>c         C   s(   | |  _  |  j | É |  _ i  |  _ d  S(   N(   t   reportert   language_namet   languaget   otherlanguages(   RD   t   language_codeRÍ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRA   á  s    	c         C   sé  t  |  j j É  É } | j |  j p' d É d d j | É g |  _ g  } xU d j g  | D] } |  j j | d É ^ qZ É D]" } | | k r| | j | É q| q| W| r» |  j j d d j | É É n  d | k rÁ |  j j d É n  d | k r|  j j	 d	 d
 d g É n  d | k r7|  j j	 d	 d d g É n  | d d k r~d |  j j É  k r~|  j d d d |  j g 7_ n  d j |  j É S(   s7   Return the babel call with correct options and settingsRê   s   \usepackage[%s]{babel}t   ,R%   s#   \AtBeginDocument{\shorthandoff{%s}}Rß   s)   \deactivatetilden % restore ~ in GalicianRõ   s   \makeatletters+     \addto\extrasestonian{\bbl@deactivate{~}}s   \makeatotherRù   s)     \addto\extrasbasque{\bbl@deactivate{~}}iˇˇˇˇR°   sE   % Prevent side-effects if French hyphenation patterns are not loaded:s   \frenchbsetup{StandardLayout}s4   \AtBeginDocument{\selectlanguage{%s}\noextrasfrench}s   
(
   t   sortedRÌ   t   keysR1   RÏ   RS   t   setupt   active_charst   gett   extend(   RD   R   t
   shorthandst   lt   c(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   __call__å  s6    8
c         C   sj   x: t  j | É D]) } y |  j | SWq t k
 r8 q Xq W|  j d k	 rf |  j j |  j | É n  d S(   s,   Return TeX language name for `language_code`R%   N(   R   t   normalize_language_tagt   language_codest   KeyErrorRÍ   Rm   t   warningt   warn_msg(   RD   RÓ   t   tag(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRÎ   ≠  s    c         C   s   |  j  S(   N(   RÏ   (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_language∏  s    N(   Rd   Re   t   __doc__R˚   t   dictt   itemst   kt   vt   lowerR˛   RÛ   Rm   RA   R˘   RÎ   R   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRu     sú   
7
	!	t   SortableDictc           B   s    e  Z d  Z d Ñ  Z d Ñ  Z RS(   s∞   Dictionary with additional sorting methods

    Tip: use key starting with with '_' for sorting before small letters
         and with '~' for sorting after small letters.
    c         C   s   |  j  É  } | j É  | S(   s   Return sorted list of keys(   RÒ   t   sort(   RD   RÒ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   sortedkeys∆  s    
c         C   s!   g  |  j  É  D] } |  | ^ q S(   s$   Return list of values sorted by keys(   R	  (   RD   t   key(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   sortedvaluesÃ  s    (   Rd   Re   R  R	  R  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR  ¿  s   	t   PreambleCmdsc           B   s   e  Z d  Z RS(   s'   Building blocks for the latex preamble.(   Rd   Re   R  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR  ⁄  s   sN   
% abstract title
\providecommand*{\DUtitleabstract}[1]{\centering\textbf{#1}}s  
% admonition (specially marked topic)
\providecommand{\DUadmonition}[2][class-arg]{%
  % try \DUadmonition#1{#2}:
  \ifcsname DUadmonition#1\endcsname%
    \csname DUadmonition#1\endcsname{#2}%
  \else
    \begin{center}
      \fbox{\parbox{0.9\linewidth}{#2}}
    \end{center}
  \fi
}sF   
\makeatletter
\@namedef{DUrolealign-center}{\centering}
\makeatother
s   \usepackage{color}sT   
% docinfo (width of docinfo table)
\DUprovidelength{\DUdocinfowidth}{0.9\linewidth}sX   
% dedication topic
\providecommand{\DUtopicdedication}[1]{\begin{center}#1\end{center}}sU   
% error admonition title
\providecommand*{\DUtitleerror}[1]{\DUtitle{\color{red}#1}}sù   
% fieldlist environment
\ifthenelse{\isundefined{\DUfieldlist}}{
  \newenvironment{DUfieldlist}%
    {\quote\description}
    {\enddescription\endquote}
}{}sc   \usepackage{float} % float configuration
\floatplacement{figure}{H} % place figures here definitelysv  % numeric or symbol footnotes with hyperlinks
\providecommand*{\DUfootnotemark}[3]{%
  \raisebox{1em}{\hypertarget{#1}{}}%
  \hyperlink{#2}{\textsuperscript{#3}}%
}
\providecommand{\DUfootnotetext}[4]{%
  \begingroup%
  \renewcommand{\thefootnote}{%
    \protect\raisebox{1em}{\protect\hypertarget{#1}{}}%
    \protect\hyperlink{#2}{#3}}%
  \footnotetext{#4}%
  \endgroup%
}st   % Check output format
\ifx\pdftexversion\undefined
  \usepackage{graphicx}
\else
  \usepackage[pdftex]{graphicx}
\fis  % basic code highlight:
\providecommand*\DUrolecomment[1]{\textcolor[rgb]{0.40,0.40,0.40}{#1}}
\providecommand*\DUroledeleted[1]{\textcolor[rgb]{0.40,0.40,0.40}{#1}}
\providecommand*\DUrolekeyword[1]{\textbf{#1}}
\providecommand*\DUrolestring[1]{\textit{#1}}s]  
% inline markup (custom roles)
% \DUrole{#1}{#2} tries \DUrole#1{#2}
\providecommand*{\DUrole}[2]{%
  \ifcsname DUrole#1\endcsname%
    \csname DUrole#1\endcsname{#2}%
  \else% backwards compatibility: try \docutilsrole#1{#2}
    \ifcsname docutilsrole#1\endcsname%
      \csname docutilsrole#1\endcsname{#2}%
    \else%
      #2%
    \fi%
  \fi%
}se   
% legend environment
\ifthenelse{\isundefined{\DUlegend}}{
  \newenvironment{DUlegend}{\small}{}
}{}sø  
% lineblock environment
\DUprovidelength{\DUlineblockindent}{2.5em}
\ifthenelse{\isundefined{\DUlineblock}}{
  \newenvironment{DUlineblock}[1]{%
    \list{}{\setlength{\partopsep}{\parskip}
            \addtolength{\partopsep}{\baselineskip}
            \setlength{\topsep}{0pt}
            \setlength{\itemsep}{0.15\baselineskip}
            \setlength{\parsep}{0pt}
            \setlength{\leftmargin}{#1}}
    \raggedright
  }
  {\endlist}
}{}s∞   
%% hyperlinks:
\ifthenelse{\isundefined{\hypersetup}}{
  \usepackage[%s]{hyperref}
  \usepackage{bookmark}
  \urlstyle{same} %% normal text font (alternatives: tt, rm, sf)
}{}s/   %% local table of contents
\usepackage{minitoc}s  
% optionlist environment
\providecommand*{\DUoptionlistlabel}[1]{\bf #1 \hfill}
\DUprovidelength{\DUoptionlistindent}{3cm}
\ifthenelse{\isundefined{\DUoptionlist}}{
  \newenvironment{DUoptionlist}{%
    \list{}{\setlength{\labelwidth}{\DUoptionlistindent}
            \setlength{\rightmargin}{1cm}
            \setlength{\leftmargin}{\rightmargin}
            \addtolength{\leftmargin}{\labelwidth}
            \addtolength{\leftmargin}{\labelsep}
            \renewcommand{\makelabel}{\DUoptionlistlabel}}
  }
  {\endlist}
}{}s∑   
% providelength (provide a length variable and set default, if it is new)
\providecommand*{\DUprovidelength}[2]{
  \ifthenelse{\isundefined{#1}}{\newlength{#1}\setlength{#1}{#2}}{}
}s{   
% rubric (informal heading)
\providecommand*{\DUrubric}[2][class-arg]{%
  \subsubsection*{\centering\textit{\textmd{#2}}}}s∞   
% sidebar (text outside the main text flow)
\providecommand{\DUsidebar}[2][class-arg]{%
  \begin{center}
    \colorbox[gray]{0.80}{\parbox{0.9\linewidth}{#2}}
  \end{center}
}sd   
% subtitle (for topic/sidebar)
\providecommand*{\DUsubtitle}[2][class-arg]{\par\emph{#2}\smallskip}sU   
% subtitle (in document title)
\providecommand*{\DUdocumentsubtitle}[1]{{\large #1}}sz   \usepackage{longtable,ltcaption,array}
\setlength{\extrarowheight}{2pt}
\newlength{\DUtablewidth} % internal use in tabless*   \usepackage{textcomp} % text symbol macrossN   
% titlereference role
\providecommand*{\DUroletitlereference}[1]{\textsl{#1}}s  
% title for topics, admonitions, unsupported section levels, and sidebar
\providecommand*{\DUtitle}[2][class-arg]{%
  % call \DUtitle#1{#2} if it exists:
  \ifcsname DUtitle#1\endcsname%
    \csname DUtitle#1\endcsname{#2}%
  \else
    \smallskip\noindent\textbf{#2}\smallskip%
  \fi
}sº   
% topic (quote with heading)
\providecommand{\DUtopic}[2][class-arg]{%
  \ifcsname DUtopic#1\endcsname%
    \csname DUtopic#1\endcsname{#2}%
  \else
    \begin{quote}#2\end{quote}
  \fi
}s´   
% transition (break, fancybreak, anonymous section)
\providecommand*{\DUtransition}[1][class-arg]{%
  \hspace*{\fill}\hrulefill\hspace*{\fill}
  \vskip 0.5\baselineskip
}t   CharMapsc           B   s∫  e  Z d  Z i d e d É 6d e d É 6d e d É 6Z i d e d É 6d	 e d
 É 6d e d É 6d e d É 6d e d É 6d e d É 6d e d É 6d e d É 6d e d É 6d e d É 6d d 6Z i d d 6d d  6d! d" 6d d# 6d$ d% 6d& d' 6d( d) 6Z i d* d+ 6d, d- 6d. d/ 6d0 d1 6d2 d3 6d4 d5 6d6 d7 6d8 d9 6d: d; 6d< d= 6d> d? 6d@ dA 6dB dC 6dD dE 6dF dG 6dH dI 6dJ dK 6dL dM 6dN dO 6dP dQ 6Z iI dR dS 6dT dU 6dV dW 6dX dY 6dZ d[ 6d\ d] 6d^ d_ 6d` da 6db dc 6dd de 6df dg 6dh di 6dj dk 6dl dm 6dn do 6dp dq 6dr ds 6dt du 6dv dw 6dx dy 6dz d{ 6d| d} 6d~ d 6dÄ dÅ 6dÇ dÉ 6dÑ dÖ 6dp dÜ 6dá dà 6dâ dä 6dã då 6dp dç 6dá dé 6dè dê 6dë dí 6dì dî 6dï dñ 6dó dò 6dô dö 6dõ dú 6dù dû 6dü d† 6d° d¢ 6d£ d§ 6d• d¶ 6dß d® 6d© d™ 6d´ d¨ 6d≠ dÆ 6dØ d∞ 6d± d≤ 6d≥ d¥ 6dµ d∂ 6d∑ d∏ 6dπ d∫ 6dP dQ 6dª dº 6dΩ dæ 6dø d¿ 6d¡ d¬ 6d√ dƒ 6d≈ d∆ 6d« d» 6d… d  6dÀ dÃ 6dÕ dŒ 6dœ d– 6d— d“ 6d” d‘ 6d’ d÷ 6d◊ dÿ 6dŸ d⁄ 6d€ d‹ 6d› dﬁ 6Z i dﬂ d‡ 6d· d‚ 6d„ d‰ 6dÂ dÊ 6Z	 RS(Á   s8   LaTeX representations for active and Unicode characters.u   \textbackslash{}s   \u   \{t   {u   \}t   }u   \#t   #u   \$t   $u   \%t   %u   \&t   &u   \textasciitilde{}t   ~u   \_t   _u   \textasciicircum{}t   ^u   \textquotedbl{}t   "u   {[}t   [u   {]}t   ]u   \-i≠   u   ~i†   u   \,i   u   \hbox{-}i   i/   u   $\Leftrightarrow$i‘!  u   $\spadesuit$i`&  u   $\clubsuit$ic&  u   \guillemotleft{}i´   u   \guillemotright{}iª   u   \textcompwordmark{}i   u   \textendash{}i   u   \textemdash{}i   u   \textquoteleft{}i   u   \textquoteright{}i   u   \quotesinglbase{}i   u   \textquotedblleft{}i   u   \textquotedblright{}i   u   \quotedblbase{}i   u   \textperthousand{}i0   u   \textpertenthousand{}i1   u   \guilsinglleft{}i9   u   \guilsinglright{}i:   u   \textvisiblespace{}i#$  u   \dag{}i    u   \ddag{}i!   u   \dots{}i&   u   \texttrademark{}i"!  u   \textcent{}i¢   u   \textcurrency{}i§   u
   \textyen{}i•   u   \textbrokenbar{}i¶   u   \textsection{}iß   u   \textasciidieresis{}i®   u   \textcopyright{}i©   u   \textordfeminine{}i™   u   \textlnot{}i¨   u   \textregistered{}iÆ   u   \textasciimacron{}iØ   u   \textdegree{}i∞   u	   \textpm{}i±   u   \texttwosuperior{}i≤   u   \textthreesuperior{}i≥   u   \textasciiacute{}i¥   u	   \textmu{}iµ   u   \textparagraph{}i∂   u   \textonesuperior{}iπ   u   \textordmasculine{}i∫   u   \textonequarter{}iº   u   \textonehalf{}iΩ   u   \textthreequarters{}iæ   u   \texttimes{}i◊   u
   \textdiv{}i˜   u   \textflorin{}ií  iπ  u   \textacutedbl{}i∫  u   \textbardbl{}i   u   \textbullet{}i"   i2   i3   u   \textasciigrave{}i5   u   \textgravedbl{}i6   u   \textreferencemark{}i;   u   \textinterrobang{}i=   u   \textfractionsolidus{}iD   u   \textlquill{}iE   u   \textrquill{}iF   u   \textdiscount{}iR   u   \textcolonmonetary{}i°   u   \textfrenchfranc{}i£   u   \textlira{}i§   u   \textnaira{}i¶   u
   \textwon{}i©   u   \textdong{}i´   u   \texteuro{}i¨   u   \textpeso{}i±   u   \textguarani{}i≤   u   \textcelsius{}i!  u   \textnumero{}i!  u   \textcircledP{}i!  u   \textrecipe{}i!  u   \textservicemark{}i !  u
   \textohm{}i&!  u
   \textmho{}i'!  u   \textestimated{}i.!  u   \textleftarrow{}iê!  u   \textuparrow{}ië!  u   \textrightarrow{}ií!  u   \textdownarrow{}iì!  u   \textminus{}i"  u   \textasteriskcentered{}i"  u   \textsurd{}i"  u   \textblank{}i"$  u   \textopenbullet{}iÊ%  u   \textbigcircle{}iÔ%  u   \textmusicalnote{}ij&  u   \textmarried{}i≠&  u   \textdivorced{}iÆ&  u   \textlangle{}iË'  u   \textrangle{}iÈ'  u
   \ding{170}ie&  u
   \ding{169}if&  u	   \ding{51}i'  u	   \ding{55}i'  (
   Rd   Re   R  t   ordt   allttt   specialt   unsupported_unicodet   utf8_supported_unicodet   textcompt   pifont(    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR  π  s˙   



t   DocumentClassc           B   s#   e  Z d  Z e d Ñ Z d Ñ  Z RS(   s"   Details of a LaTeX document class.c         C   sr   | |  _  | |  _ d d d d d g |  _ |  j  d k rO |  j j d d É n  |  j rn |  j j d d É n  d  S(   Nt   sectiont
   subsectiont   subsubsectiont	   paragrapht   subparagrapht   bookt   memoirt   reportt   scrbookt   scrreprti    t   chapterR_   (   R'  R(  s   reportR*  R+  (   t   document_classt
   _with_partt   sectionst   insert(   RD   R-  t	   with_part(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRA   [  s    					c         C   s9   | t  |  j É k r$ |  j | d Sd t j | É Sd S(   s©   Return the LaTeX section name for section `level`.

        The name depends on the specific document class.
        Level is 1,2,3..., as level 0 is the title.
        i   s   DUtitle[section%s]N(   t   lenR/  t   romant   toRoman(   RD   t   level(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR"  f  s    (   Rd   Re   R  t   FalseRA   R"  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR!  X  s   t   Tablec           B   s¯   e  Z d  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z	 d Ñ  Z
 d	 Ñ  Z d
 Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   s˚  Manage a table while traversing.

    Maybe change to a mixin defining the visit/departs, but then
    class Table internal variables are in the Translator.

    Table style might be

    :standard:   horizontal and vertical lines
    :booktabs:   only horizontal lines (requires "booktabs" LaTeX package)
    :borderless: no borders around table cells
    :nolines:    alias for borderless

    :colwidths-auto:  column widths determined by LaTeX
    :colwidths-given: use colum widths from rST source
    c         C   sU   | |  _  | |  _ t |  _ i  |  _ g  |  _ g  |  _ g  |  _ t |  _ d |  _	 d  S(   Ni    (
   t   _translatort   _latex_typeR6  t   _opent   _attrst
   _col_widtht   _rowspant   stubst   colwidths_autot	   _in_thead(   RD   t
   translatort
   latex_type(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRA   Å  s    								c         C   s1   t  |  _ g  |  _ g  |  _ i  |  _ t |  _ d  S(   N(   Rn   R:  t
   _col_specst   captionR;  R6  t   _in_head(   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRM   ç  s
    				c         C   s:   t  |  _ d  |  _ g  |  _ i  |  _ g  |  _ t  |  _ d  S(   N(   R6  R:  Rm   RC  RD  R;  R>  R?  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRY   ì  s    					c         C   s   |  j  S(   N(   R:  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   is_openõ  s    c         C   sö   g  | | D]$ } | d k r | j  d d É ^ q } y | d |  _ Wn t k
 rb d |  _ n Xd | k r{ d | k pê d | k oê d | k |  _ d  S(	   NR   R   R   R   iˇˇˇˇs   colwidths-autos   colwidths-given(   s   standards   booktabss
   borderlesss   nolines(   t   replacet   borderst
   IndexErrorR?  (   RD   t   table_stylet   classest   clsRH  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   set_table_styleû  s    $c         C   s$   |  j  d k r |  j r d S|  j  S(   Nt	   longtables
   longtable*(   R9  RD  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_latex_type´  s    c         C   s   | |  j  | <d  S(   N(   R;  (   RD   t   attrt   value(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   set±  s    c         C   s   | |  j  k r |  j  | Sd  S(   N(   R;  Rm   (   RD   RP  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRÙ   ≥  s    c         C   s   |  j  d k r d Sd S(   NR   t   |R%   (   RH  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_vertical_bar∏  s    c         C   s{   i d d 6d d 6d d 6} | j  |  j  d É p3 d É } d |  j É  | f g } |  j sn | j d	 d
 É n  d j | É S(   NR˜   t   leftR¯   t   centert   rt   rightt   aligns   \begin{%s}[%s]i    s%   \setlength{\DUtablewidth}{\linewidth}s   
(   RÙ   RO  R?  R0  RS   (   RD   t	   align_mapRY  t   opening(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_openingæ  s    

	c         C   sI   g  } |  j  d k r% | j d É n  | j d |  j É  É d j | É S(   NR   s   \bottomrules   \end{%s}s   
(   RH  R1   RO  RS   (   RD   t   closing(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_closing»  s
    c         C   s0   |  j  j | É |  j j | j j d É É d  S(   Nt   stub(   RC  R1   R>  t
   attributesRÙ   (   RD   t   node(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_colspec—  s    c         C   s!  |  j  É  } d g t |  j É |  _ g  |  _ |  j rV | d t |  j É } | | Sd } d } x3 |  j D]( } t | d d É | } | | 7} ql Wd } | d k r∑ | | :} n  d	 } xY |  j D]N } | t | d d É | } |  j j | d
 É | d | | d
 f 7} q« W| | S(   s˝   Return column specification for longtable.

        Assumes reST line length being 80 characters.
        Table width is hairy.

        === ===
        ABC DEF
        === ===

        usually gets to narrow, therefore we add 1 (fiddlefactor).
        i    R˜   iP   g        t   colwidthi   g√ı(\è¬Ì?g      ?R%   g{ÆG·zt?s   %sp{%.3f\DUtablewidth}(   RT  R2  RC  R=  R<  R?  t   floatR1   (   RD   Ra  t   bart   latex_table_spect   widtht   total_widthRc  t   factor(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_colspecs÷  s(    		c         C   s/   y d |  j  |  j SWn t k
 r* d SXd S(   s4   Return columnwidth for current cell (not multicell).s   %.2f\DUtablewidtht   *N(   R<  t   _cell_in_rowRI  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_column_width˘  s    c         C   sh   yO t  g  g  t | É D] } |  j | | ^ q D] } | ^ q1 É } d | SWn t k
 rc d SXd S(   s)   Return sum of columnwidths for multicell.s   p{%.2f\DUtablewidth}R˜   N(   t   sumt   rangeR<  RI  (   RD   t   startt   len_t   coRg  t   mc_width(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_multicolumn_width   s    :c         C   sD   |  j  s d Sd j |  j  É } d |  j j É  k r< d | Sd | S(   NR%   i   s   \caption{%s}\\
s!   \caption[]{%s (... continued)}\\
(   RD  RS   R8  t   thead_depth(   RD   RD  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_caption
  s    	c         C   s&   |  j  d k r" d |  j j É  k Sd S(   NRN  i   i    (   R9  R8  Ru  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   need_recurse  s    c         C   s?   |  j  d 7_  |  j d k r% d g S|  j d k r; d g Sg  S(   Ni   R   s   \hline
R   s	   \toprule
(   R@  RH  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_thead  s    c         C   sß   g  } |  j  d k r% | j d É n  |  j d k rî d |  j j É  k rY | j d É qî | j d É | j d t |  j É d É | j d	 É n  |  j d 8_ | S(
   NR   s	   \midrule
RN  i   s   \endfirsthead
s	   \endhead
s   \multicolumn{%d}{c}s&   {\hfill ... continued on next page} \\s   
\endfoot
\endlastfoot
(   RH  R1   R9  R8  Ru  R2  RC  R@  (   RD   t   a(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_thead  s    c         C   s   d |  _  d  S(   Ni    (   Rl  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt	   visit_row1  s    c         C   s4  d g } d  |  _ xF t t |  j É É D]/ } |  j | d k r( |  j | c d 8<q( q( W|  j d k r0g  t t |  j É É D]# } |  j | d k rÄ | d ^ qÄ } t | É t |  j É k r‘ | j d É q0d } | j É  x9 t ry | j	 É  } Wn Pn X| d | | f 7} qÁ W| j | É n  | S(   Ns    \\
i    i   R   s   \hline
R%   s   \cline{%d-%d}
(
   Rm   Rl  Ro  R2  R=  RH  R1   t   reverseRn   t   pop(   RD   t   rest   it   rowspanst   clinet   c_start(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   depart_row4  s(    		#
	c         C   s   y | |  j  | <Wn n Xd  S(   N(   R=  (   RD   t   cellRQ  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   set_rowspanM  s    c         C   s   y |  j  | SWn d SXd  S(   Ni    (   R=  (   RD   RÑ  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_rowspanS  s    c         C   s   |  j  S(   N(   Rl  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   get_entry_numberY  s    c         C   s   |  j  d 7_  d  S(   Ni   (   Rl  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_entry\  s    c         C   s*   t  |  j É |  j k r& |  j |  j St S(   N(   R2  R>  Rl  R6  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   is_stub_column_  s    (   Rd   Re   R  RA   RM   RY   RF  RM  RO  RR  RÙ   RT  R\  R^  Rb  Rj  Rm  Rt  Rv  Rw  Rx  Rz  R{  RÉ  RÖ  RÜ  Rá  Rà  Râ  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR7  q  s6   										
				#		
										RB   c           B   sò  e  Z e Z e Z e Z d  Z e Z e Z d Z	 e Z
 e Z e Z e Z e Z e Z e d Ñ Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z e j d É d Ñ Z d	 Ñ  Z d
 Ñ  Z e d Ñ Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z  d Ñ  Z! d Ñ  Z" d Ñ  Z# d Ñ  Z$ d Ñ  Z% d Ñ  Z& d Ñ  Z' d” d Ñ Z) d Ñ  Z* d Ñ  Z+ d Ñ  Z, d Ñ  Z- d Ñ  Z. d Ñ  Z/ d Ñ  Z0 d Ñ  Z1 d  Ñ  Z2 d! Ñ  Z3 d" Ñ  Z4 d# Ñ  Z5 d$ Ñ  Z6 d% Ñ  Z7 d& Ñ  Z8 d' Ñ  Z9 d( Ñ  Z: d) Ñ  Z; d* Ñ  Z< d+ Ñ  Z= d, Ñ  Z> d- Ñ  Z? d. Ñ  Z@ d/ Ñ  ZA d0 Ñ  ZB d1 Ñ  ZC d2 Ñ  ZD d3 Ñ  ZE d4 Ñ  ZF d5 Ñ  ZG d6 Ñ  ZH d7 Ñ  ZI d8 Ñ  ZJ d9 Ñ  ZK d: Ñ  ZL d; Ñ  ZM d< Ñ  ZN d= Ñ  ZO d> Ñ  ZP d? Ñ  ZQ d@ Ñ  ZR dA Ñ  ZS dB Ñ  ZT dC Ñ  ZU dD Ñ  ZV dE Ñ  ZW dF Ñ  ZX dG Ñ  ZY dH Ñ  ZZ dI Ñ  Z[ dJ Ñ  Z\ dK Ñ  Z] dL Ñ  Z^ dM Ñ  Z_ dN Ñ  Z` dO Ñ  Za dP Ñ  Zb dQ Ñ  Zc dR Ñ  Zd dS Ñ  Ze dT Ñ  Zf dU Ñ  Zg dV Ñ  Zh dW Ñ  Zi dX Ñ  Zj dY Ñ  Zk dZ Ñ  Zl d[ Ñ  Zm d\ Ñ  Zn d] Ñ  Zo d^ Ñ  Zp d_ Ñ  Zq d` Ñ  Zr da Ñ  Zs db Ñ  Zt dc Ñ  Zu dd Ñ  Zv de Ñ  Zw df Ñ  Zx dg Ñ  Zy dh Ñ  Zz di Ñ  Z{ dj Ñ  Z| dk Ñ  Z} dl Ñ  Z~ dm Ñ  Z dn Ñ  ZÄ do Ñ  ZÅ d” dp Ñ ZÇ dq Ñ  ZÉ dr Ñ  ZÑ ds Ñ  ZÖ dt Ñ  ZÜ du Ñ  Zá dv Ñ  Zà dw Ñ  Zâ dx Ñ  Zä dy Ñ  Zã dz Ñ  Zå d{ Ñ  Zç d| Ñ  Zé d} Ñ  Zè d~ Ñ  Zê d Ñ  Zë dÄ Ñ  Zí dÅ Ñ  Zì dÇ Ñ  Zî dÉ Ñ  Zï dÑ dÖ Ñ Zñ dÜ Ñ  Zó dá Ñ  Zò dà Ñ  Zô dâ Ñ  Zö dä Ñ  Zõ dã Ñ  Zú då Ñ  Zù dç Ñ  Zû dé Ñ  Zü dè Ñ  Z† dê Ñ  Z° dë Ñ  Z¢ dí Ñ  Z£ dì Ñ  Z§ dî Ñ  Z• dï Ñ  Z¶ dñ Ñ  Zß dó Ñ  Z® dò Ñ  Z© dô Ñ  Z™ dö Ñ  Z´ dõ Ñ  Z¨ dú Ñ  Z≠ dù Ñ  ZÆ dû Ñ  ZØ dü Ñ  Z∞ d† Ñ  Z± d° Ñ  Z≤ d¢ Ñ  Z≥ d£ Ñ  Z¥ d§ Ñ  Zµ d• Ñ  Z∂ i d‘ d® 6d’ d´ 6d÷ d¨ 6d◊ d≠ 6Z∑ dÆ Ñ  Z∏ dØ Ñ  Zπ d∞ Ñ  Z∫ d± Ñ  Zª d≤ Ñ  Zº d≥ Ñ  ZΩ d¥ Ñ  Zæ dµ Ñ  Zø d∂ Ñ  Z¿ d∑ Ñ  Z¡ d∏ Ñ  Z¬ dπ Ñ  Z√ d∫ Ñ  Zƒ dª Ñ  Z≈ dº Ñ  Z∆ dΩ Ñ  Z« dæ Ñ  Z» dø Ñ  Z… d¿ Ñ  Z  d¡ Ñ  ZÀ d¬ Ñ  ZÃ d√ Ñ  ZÕ d ZŒ dƒ Ñ  Zœ d≈ Ñ  Z– d∆ Ñ  Z— d« Ñ  Z“ d» Ñ  Z” d… Ñ  Z‘ d  Ñ  Z’ dÀ Ñ  Z÷ dÃ Ñ  Z◊ dÕ Ñ  Zÿ dŒ Ñ  ZŸ dœ Ñ  Z⁄ d– Ñ  Z€ d— Ñ  Z‹ d“ Ñ  Z› RS(ÿ   R0   i    c   	      C   s1  t  j j |  | É |  j j j |  _ |  j j j |  _ | j |  _ } |  j	 | j
 É |  _ | j |  _ | j |  _ | j |  _ | j |  _ | j |  _ | j |  _ t | d d É |  _ | j |  _ | j j d d É |  _ d |  _ d |  _ | j d k r(t j d | j É \ } |  _ |  _ } n | j r=d |  _ n  |  j j rg|  j j j d d	 É |  _ n	 d  |  _ t! j" | j# | j É |  _$ | | j# | j É |  _% |  j$ j& d
 |  _' |  j j( g } |  j% j) d3 k rÌ| j* |  j% j) É n  d j+ t, d  | É É |  _( t- | j. | j/ É |  _0 |  j j1 d k r>d |  _2 n: |  j j1 j3 É  d k ret4 j5 |  _2 n d |  j j1 |  _2 | j6 |  _6 d |  j( |  j j. f g |  _7 t8 É  |  _9 d |  j9 d <| j: g |  _: t8 É  |  _; g  |  _< g  |  _= g  |  _> g  |  _? g  |  _@ g  |  _A g  |  _B g  |  _C g  |  _D g  |  _E g  |  _F g  |  _G g  |  _H g  |  _I g  |  _J g  |  _K d
 g |  _L g  |  _M d
 |  _N g  |  _O g  |  _P tQ |  d É |  _R |  jD |  _S g  |  _T |  j d k r‰d |  j |  j9 d <n  |  jU sq|  j rd |  j |  j9 d <n  xa |  j j d É D]J } | jV É  } | d k rNd |  j9 d <q | d4 k r d! |  j9 d" <q q Wn  | j. jW d# É d$ k r…|  j( jW d% É d$ k sπ|  j( jW d& É d$ k r…d' |  j9 d( <n  g  tX jY | É D] } |  jZ | É ^ qŸ|  _[ |  j d5 k rd |  _\ n d, |  j |  j f |  _\ | j\ rM|  j\ d | j\ 7_\ n  | j] rbd- t4 _^ nÀ | j_ } | d  k	 r‰t` | ta |  j0 jb É É } d. |  j0 jb k r±| d	 8} n  |  j0 jb d
 d/ k r‘| d	 8} n  d0 | t4 _^ n  tc | d1 É r-| jd d	 k r-d2 |  j0 jb d
 | jd d	 f |  j9 d1 <n  d  S(6   Nt   font_encodingR%   R  s   \_R  s	   (\w+)(.*)t   verbatimRÔ   i   i    Rê   s   \usepackage{graphicx}t   autos   \usepackage[%s]{graphicx}s   \documentclass[%s]{%s}s   \usepackage{ifthen}t   __staticRN  t   asciis   \usepackage[%s]{inputenc}t	   _inputencs   \usepackage[%s]{fontenc}t   _fontenct   OT1s+   \DeclareTextSymbol{\textquotedbl}{OT1}{`\"}t   _textquotedblOT1R2   t   T2At   T2Bt   T2Ct   T4t   T5s,   \DeclareTextSymbolDefault{\textquotedbl}{T1}t   _textquotedblt   scriˇˇˇˇt   DIVt   BCORs   \usepackage{typearea}t   typeareat   0t   falseR6  s(   colorlinks=true,linkcolor=%s,urlcolor=%ss   \setcounter{secnumdepth}{0}R,  R_   s   \setcounter{secnumdepth}{%d}t   sectnum_starts   \setcounter{%s}{%d}(   s   englishR%   (   s   T1Rì  Rî  Rï  Rñ  Ró  (   Rù  s   falses   FalseR%   (e   R   t   NodeVisitorRA   RH   RÍ   R˝   t   warnt   errorRN   t   to_latex_encodingt   output_encodingt   latex_encodingR*   R+   R   t   _use_latex_citationst   reference_labelt   _reference_labelt   hyperlink_colorR.   RL   Rä  R/   t   section_enumerator_separatorRG  t   literal_block_envt   literal_block_optionst   ret   splitt   use_verbatim_when_possiblet
   use_bibtext   bibtexRm   R   R   RÓ   t   language_modulet   babelt   author_separatorst   author_separatort   documentoptionsRÏ   R1   RS   t   filterR!  t   documentclasst   use_part_sectiont   d_classt   graphicx_optiont   graphicx_packageR  R  t   graphicx_autot   docutils_footnotesR4   R  R5   R6   R7   R8   R9   R:   R;   R<   R=   R>   R?   R@   t   contextt   title_labelst   subtitle_labelst   author_stackt   datet   pdfinfot	   pdfauthort   _section_numbert   _enumeration_counterst   _max_enumeration_counterst	   _bibitemst   table_stackR7  t   active_tablet   outt	   out_stackt   is_xetext   stript   findR   t   get_stylesheet_listt   stylesheet_callR'   t   hyperref_optionst   sectnum_xformt   secnumdepthR3   t   minR2  R/  t   hasattrRü  (	   RD   RH   t   babel_classRN   R$   t	   d_optionst   encRR   R’  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRA   ê  s⁄    		*			
																							+	
		c   	      C   sD  t  j j | É \ } } | d k } |  j j r˙ | rC | d } n  y5 t j d | d d É j É  } |  j j j	 | É WnP t
 k
 r  } d | t | j É f } |  j j j | É d | j d d	 É SX| rÏ d j d
 | d g É } n  d | | f S| r| } d } n d } |  j j r<t j |  j j | É } n  | | S(   s8   Return code to reference or embed stylesheet file `path`s   .styR%   t   source_patht   encodings   utf-8u#   Cannot embed stylesheet '%s':
  %s.s   % s   
s   
% s   \makeatletters   \makeatothers   %% embedded stylesheet: %s
%ss   \usepackage{%s}s
   \input{%s}(   s   .styR%   (   RQ   RR   t   splitextRN   R(   R   t	   FileInputRX   t   record_dependenciest   addRP   R   t   strerrorRH   RÍ   R¢  RG  RS   R&   R   t   relative_patht   _destination(	   RD   RR   t   baset   extt
   is_packaget   contentt   errt   msgt   cmd(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR“  h  s4    		c         C   s∑   i d d 6d d 6d d 6d d 6d	 d
 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6} | j  É  } | | k rà | | S| j d d É j d d É } | j d É d S(    sÉ   Translate docutils encoding name into LaTeX's.

        Default method is remove "-" and "_" chars from docutils_encoding.
        t   latin1s
   iso-8859-1t   latin2s
   iso-8859-2t   latin3s
   iso-8859-3t   latin4s
   iso-8859-4t   iso88595s
   iso-8859-5t   latin5s
   iso-8859-9t   latin9s   iso-8859-15t   maccyrt   mac_cyrillict   cp1251s   windows-1251s   koi8-rs   koi8-ut   cp1250s   windows-1250t   cp1252s   windows-1252Ré  s   us-asciiR  R%   R0   t   :i    (   R  RG  RÆ  (   RD   t   docutils_encodingRÂ   R‹  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR£  ä  s&    

c         C   s   |  j  j | S(   N(   R≤  t   labels(   RD   t   docutil_label(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   language_label≥  s    c   	      C   s’  |  j  r | St j j É  } |  j s8 | j t j É n  |  j rQ | t d É =n  |  j d k rŸ |  j	 rŸ |  j
 r¶ d | t d É <|  j |  j d <d | t d É <qŸ d | t d	 É <d
 | t d É <d | t d É <n  |  j rı d | t d É <n  |  j	 s’| j t j É |  j j d É sC| j t j É | j t j É n  | j t j É g  | D]! } t | É t j k rZt ^ qZrît j |  j d <n  g  | D]! } t | É t j k rõt ^ qõr’d |  j d <q’n  | j | É } |  j	 s?d } |  j
 r	| d 7} n  x3 | d D]$ } | j | | | d | É } qWn  |  j r©| j d É } x= t | d  É D]+ \ } } | j É  sh| | c d 7<qhqhWd j | É } n  |  j
 r—|  j r—| j d d É } n  | S(    sU  Return text with 'problematic' characters escaped.

        * Escape the special printing characters ``# $ % & ~ _ ^ \ { }``,
          square brackets ``[ ]``, double quotes and (in OT1) ``< | >``.
        * Translate non-supported Unicode characters.
        * Separate ``-`` (and more in literal text) to prevent input ligatures.
        R  Rë  R%   u   \underline{~}t   graphicxu   \reflectbox{/}s   \u
   \textbar{}RS  u   \textless{}t   <u   \textgreater{}t   >u   ~t    t   utf8R  s   \usepackage{pifont}R   R0   s   ,`'"<>i   s   {}s   
iˇˇˇˇR  s   \\s     s    ~(   s   OT1R%   s   \\
(   Rã  R  R  t   copyt   updateR  t   inside_citation_reference_labelR  Rä  RŒ  t   literalRº  R5   t   insert_non_breaking_blanksR  R•  t
   startswithR  R  R   Rn   R  Ra   RG  t   insert_newlineRÆ  t	   enumeratet   lstripRS   (	   RD   t   textt   tablet   cht   separate_charst   charRc   R  t   line(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   encode∂  sV    						..		%	s   [
	]c         C   s   |  j  | j d | É É S(   s1   Cleanse, encode, and return attribute value text.Rˇ  (   R  t   sub(   RD   R
  t
   whitespace(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   attval  s    c         C   s   t  | j t j É S(   s@   Check whether a node represents an inline or block-level element(   t
   isinstancet   parentR   t   TextElement(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt	   is_inline  s    c         C   s8   |  j  j d j g  | d D] } d | ^ q É É d S(   s)   Append hypertargets for all ids of `node`s   %
t   idss"   \raisebox{1em}{\hypertarget{%s}{}}N(   RÃ  R1   RS   (   RD   Ra  R¥   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   append_hypertargets  s    c         C   sL   g  | j  d g  É D] } d | ^ q } | rH | rH | j d d É n  | S(   sà   Return list of label definitions for all ids of `node`

        If `set_anchor` is True, an anchor is set with \phantomsection.
        R  s
   \label{%s}i    s   \phantomsection(   RÙ   R0  (   RD   Ra  t
   set_anchorR¥   R˘  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   ids_to_labels  s    )c         C   s    |  j  j |  j É | |  _ d  S(   N(   RÕ  R1   RÃ  (   RD   t   new_out(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   push_output_collector#  s    c         C   s   |  j  j É  |  _ d  S(   N(   RÕ  R}  RÃ  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   pop_output_collector'  s    c         C   s#   |  j  j |  j | j É  É É d  S(   N(   RÃ  R1   R  t   astext(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   visit_Text-  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_Text0  s    c         C   s%   | d j  d d É |  j | É d  S(   NRK  i    t   abbreviation(   R0  t   visit_inline(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_abbreviation3  s    c         C   s   |  j  | É d  S(   N(   t   depart_inline(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_abbreviation7  s    c         C   s%   | d j  d d É |  j | É d  S(   NRK  i    t   acronym(   R0  R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_acronym:  s    c         C   s   |  j  | É d  S(   N(   R%  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_acronym>  s    c         C   s   |  j  | d É d  S(   Nt   address(   t   visit_docinfo_item(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_addressA  s    c         C   s   |  j  | É d  S(   N(   t   depart_docinfo_item(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_addressD  s    c         C   sÖ   t  j |  j d <d | d k r3 t  j |  j d <n  g  | d D] } | d k r> | ^ q> | d <|  j j d d j | d É É d  S(   Nt
   admonitionR¢  RK  s   
\DUadmonition[%s]{
RÔ   (   R  R/  R7   R¢  RÃ  R1   RS   (   RD   Ra  RL  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_admonitionG  s    c         C   s   |  j  j d É d  S(   Ns   }
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_admonitionP  s    c         C   s   |  j  | d É d  S(   Nt   author(   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_authorS  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_authorV  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_authorsY  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_authors]  s    c         C   s.   |  j  j d É | d r* |  j | É n  d  S(   Ns   %
\begin{quote}
RK  (   RÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_block_quote`  s    
c         C   s.   | d r |  j  | É n  |  j j d É d  S(   NRK  s   
\end{quote}
(   R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_block_quotee  s    
c         C   s0   |  j  r |  j j d É n |  j j d É d  S(   Ns   %
\begin{list}{}{}
s   %
\begin{itemize}
(   t   is_toc_listRÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_bullet_listj  s    	c         C   s0   |  j  r |  j j d É n |  j j d É d  S(   Ns   
\end{list}
s   
\end{itemize}
(   R9  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_bullet_listr  s    	c         C   s.   |  j  j d É | d r* |  j | É n  d  S(   Ns   \textsuperscript{RK  (   RÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_superscriptz  s    
c         C   s.   | d r |  j  | É n  |  j j d É d  S(   NRK  R  (   R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_superscript  s    
c         C   s.   |  j  j d É | d r* |  j | É n  d  S(   Ns   \textsubscript{RK  (   RÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_subscriptÑ  s    
c         C   s.   | d r |  j  | É n  |  j j d É d  S(   NRK  R  (   R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_subscriptâ  s    
c         C   s   |  j  j d É d  S(   Ns
   
\caption{(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_captioné  s    c         C   s   |  j  j d É d  S(   Ns   }
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_captionë  s    c         C   s>   t  j |  j d <|  j j d É | d r: |  j | É n  d  S(   Nt   titlereferences   \DUroletitlereference{RK  (   R  RB  R7   RÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_title_referenceî  s    
c         C   s.   | d r |  j  | É n  |  j j d É d  S(   NRK  R  (   R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_title_referenceö  s    
c         C   s:   |  j  r |  j g  É n |  j j d É |  j | É d  S(   Ns   \begin{figure}[b](   R¶  R  RÃ  R1   R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_citationü  s    	c         C   sc   |  j  rO |  j d } d j |  j d É } |  j j | | g É |  j É  n |  j j d É d  S(   Ni    R%   i   s   \end{figure}
(   R¶  RÃ  RS   R…  R1   R  (   RD   Ra  t   labelR
  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_citation©  s    	c         C   s¥   |  j  rZ |  j s. |  j j d É d |  _ q∞ |  j d d k sM t d É Ç |  j d =nV d } d | k ry | d } n# d	 | k rú |  j j | d	 } n  |  j j d
 | É d  S(   Ns   \cite{i   iˇˇˇˇRˇ  s   
s2   unexpected non-whitespace while in reference labelR%   t   refidt   refnames   \hyperlink{%s}{[(   Rˇ  s   
(   R¶  R  RÃ  R1   R@   t   AssertionErrorRH   t   nameids(   RD   Ra  t   href(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_citation_reference≤  s    			c         C   s€   |  j  r« t } | j d t d t d t É } t | É d k rí | d } t | t j É rí | j É  d k rí | d j	 | j	 k rè t } qè qí n  | r´ |  j
 j d É q◊ |  j
 j d	 É t |  _ n |  j
 j d
 É d  S(   Nt   descendt   siblingst   include_selfi   i    Rˇ  s   
RÔ   R  s   ]}(   Rˇ  s   
(   R¶  R6  t   traverseRn   R2  R  R   t   TextR  t	   __class__RÃ  R1   R  (   RD   Ra  t   followup_citationt   next_siblingst   next(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_citation_reference√  s    		
c         C   s   |  j  j d É d  S(   Ns	   (\textbf{(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_classifier◊  s    c         C   s   |  j  j d É d  S(   Ns   })
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_classifier⁄  s    c         C   s   |  j  j | É d  S(   N(   RÀ  Rb  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRb  ›  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_colspec‡  s    c         C   s3   |  j  j d | j É  j d d É É t j Ç d  S(   Ns   
%% %s
s   
s   
% (   RÃ  R1   R  RG  R   t   SkipNode(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_comment„  s    &c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_commentË  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_compoundÎ  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_compoundÓ  s    c         C   s   |  j  | d É d  S(   Nt   contact(   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_contactÒ  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_contactÙ  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_container˜  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_container˙  s    c         C   s   |  j  | d É d  S(   Nt	   copyright(   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_copyright˝  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_copyright   s    c         C   s   |  j  | d É d  S(   NR√  (   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   visit_date  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_date  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_decoration	  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_decoration  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_definition  s    c         C   s   |  j  j d É d  S(   Ns   
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_definition  s    c         C   s   |  j  j d É d  S(   Ns   %
\begin{description}
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_definition_list  s    c         C   s   |  j  j d É d  S(   Ns   \end{description}
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_definition_list  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_definition_list_item  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_definition_list_item  s    c         C   s   |  j  j d É d  S(   NRˇ  (   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_description"  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_description%  s    c         C   s   |  j  |  j É d  S(   N(   R  R=   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_docinfo(  s    c         C   sj   |  j  É  |  j rf d |  j d <t j |  j d <t j |  j d <|  j j d d É |  j j d É n  d  S(   Ns   \usepackage{tabularx}t   tabularxt   _providelengthR=   i    s@   
% Docinfo
\begin{center}
\begin{tabularx}{\DUdocinfowidth}{lX}
s   \end{tabularx}
\end{center}
(   R  R=   R5   R  t   providelengthR7   R0  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_docinfo+  s    
	c         C   sz  | d k r. |  j  j |  j | j É  É É n  |  j r| d k r◊ | d k sY |  j rl |  j j g  É n  | d k r¢ t |  _ |  j | j É  É } t	 |  _ n |  j | j É  É } |  j d j | É t
 j Ç q| d k r|  j j |  j | j É  É É t
 j Ç qn  |  j j d |  j | É É | d k rft |  _ |  j j d É |  j j d	 É n |  j j d
 É d  S(   NR2  t   organizationR`  R*  iˇˇˇˇR√  s   \textbf{%s}: &
	s   {\raggedright
s    } \\
s    \\
(   s   authorRy  s   contacts   address(   R≈  R1   R  R  R+   R¬  Rn   R  R  R6  R   R[  R√  RÃ  R˚  Rø  (   RD   Ra  t   nameR
  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR+  :  s,    "			c         C   s&   |  j  j |  j j É  É t |  _ d  S(   N(   RÃ  R1   Rø  R}  R6  R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR-  W  s    c         C   s   |  j  | É d  S(   N(   t   visit_literal_block(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_doctest_block\  s    c         C   s   |  j  | É d  S(   N(   t   depart_literal_block(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_doctest_block_  s    c         C   sP   |  j  s+ t | É rL t | d t j É rL |  j |  j | d t É7_ n  d  S(   Ni    R  (   R+   R2  R  R   R9   R¿  R  R6  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_documentb  s    c         C   sP  |  j  j s |  j  j d k r4 |  j  É  |  j d <n  |  j j É  |  _ |  j j É  |  _ |  j j t j	 |  j
 É |  j rß |  j j |  j É } |  j j d | É n  |  j r” |  j d g |  j d g 7_ n  |  j s˜ |  j r|  j s˜ |  j r|  j j d É |  j r&|  j j d d	 É n  d j |  j É g |  j } |  j ru| d
 d d j |  j É g |  j 7} n  |  j j d d j | É É g  |  j D] } d j | É ^ qú} |  j j d d j | É É |  j j d d j |  j É É |  j j d É n  |  j r t |  j É d k r |  j sÁd } x: |  j D]/ } t | É t | d É k  r>| d } q>q>W|  j j d | É xL |  j D]A } | d j d d É } |  j j d | d | | d f É qèW|  j j d É q |  j j d |  j d É |  j j d |  j d É n  d |  j k rL|  j rL|  j j d É n  d  S(   NR%   Rê   R≥  s     pdfauthor={%s}s   \hypersetup{R  s   %%% Title Datai    s   \phantomsection%
  s   \\ % subtitles   \DUdocumentsubtitle{%s}s
   \title{%s}s   %
  s   \\
s   \author{%s}s    \and
s	   \date{%s}s   , s   \maketitle
s   
\begin{thebibliography}{%s}
s   \_R  s   \bibitem[%s]{%s}{%s}
i   s   \end{thebibliography}
s   
\bibliographystyle{%s}
s   \bibliography{%s}
t   minitocs'   
\faketableofcontents % for local ToCs
(   R%   s   english(    R≥  RÌ   RÏ   R5   R  R7   R8   R1   R  t   linkingR”  R≈  Rµ  RS   Rƒ  R9   R+   R¬  R√  R;   R0  R¿  R:   R¡  R<   R¶  R2  R…  R±  RÃ  RG  t   has_latex_toc(   RD   Ra  t   authorsR9   t   author_entryt   widest_labelt   bit   cite_key(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_documenth  s\    		#			" 	c         C   s.   |  j  j d É | d r* |  j | É n  d  S(   Ns   \emph{RK  (   RÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_emphasis´  s    
c         C   s.   | d r |  j  | É n  |  j j d É d  S(   NRK  R  (   R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_emphasis∞  s    
c         C   sC   x< |  j  j |  j  j É  É r> |  j j d É |  j  j É  q Wd  S(   Ns    & (   RÀ  RÜ  Rá  RÃ  R1   Rà  (   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt(   insert_additional_table_colum_delimiters∑  s    c         C   s*  |  j  j É  d k r" |  j É  n |  j j d É d | k rY d | k rY t d É Ç n  d | k r“ d |  j d <| d d } |  j  j |  j  j É  | É |  j j d	 | |  j  j É  f É |  j	 j d
 É n´ d | k rm|  j  j É  d k r|  j  j
 É  } n d } | d d } |  j j d | | |  j  j |  j  j É  | É |  j  j
 É  f É |  j	 j d
 É n |  j	 j d É t | É r”t | j j t j É s∞|  j  j É  r”|  j j d É |  j	 j d
 É n |  j	 j d É |  j  j r|  j d j d É r|  j j d É n  |  j  j É  d  S(   Ni    s    & t   morerowst   morecolssK   Cells that span multiple rows *and* columns currently not supported, sorry.s   \usepackage{multirow}t   multirowi   s   \multirow{%d}{%s}{R  R%   s   \multicolumn{%d}{%s%s%s}{s   \textbf{iˇˇˇˇR  R  (   RÀ  Rá  Rã  RÃ  R1   t   NotImplementedErrorR5   RÖ  Rm  Rø  RT  Rt  R2  R  R  R   t   theadRâ  R?  t   endswithRà  (   RD   Ra  t   mrowst   bar1t   mcols(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRà  Ω  sD    		$#c         C   s@   |  j  j |  j j É  É |  j  j |  j j É  É |  j É  d  S(   N(   RÃ  R1   Rø  R}  Rã  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_entryÙ  s    c         C   s   |  j  j É  d  S(   N(   RÀ  R{  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR{  ˙  s    c         C   s   |  j  j |  j j É  É d  S(   N(   RÃ  Rı   RÀ  RÉ  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRÉ  ˝  s    c         C   s-  i d d 6d d 6d d 6d d 6d d 6d	 d
 6} d d d  d! g } d } |  j  r… |  j r© |  j r© |  j r© d j g  |  j |  j  D] } t | É ^ qÑ É |  j } n  |  j r… | |  j d 7} q… n  | | j d d É 7} | | j d É } | j d d É } t	 |  j É d } d t
 j | É j É  }	 d | | |	 | f }
 |  j j |
 É | d k rØ|  j j d É | | | f | | d k r¯|  j j d |	 |
 f É q¯nI d |	 |  j |	 <|  j j d É |  j j d |
 É |  j j d |	 É d | k r)|  j j d |	 | d d f É n  d  S("   NR%   Rx   t   alpht
   loweralphat   Alpht
   upperalphaR3  t
   lowerromant   Romant
   upperromanR)   t   (t   )iˇˇˇˇt   prefixt   enumtypet   suffixi   t   enums   %s\%s{%s}%si   s   \begin{enumerate}
s   \renewcommand{\label%s}{%s}
s   \newcounter{%s}s   \begin{list}s   {%s}s   {\usecounter{%s}}
Rp  s   \setcounter{%s}{%d}
(   R%   s   arabicR)   (   Rù  Rñ  Rû  (   R%   s   romanR)   (   R%   Rò  R)   (   R.   R/   t   section_levelR«  RS   R∆  t   strR™  RÙ   R2  R3  R4  R  R1   RÃ  R7   (   RD   Ra  t   typesR˘  Rü  t   nR†  R°  t   enumeration_levelt   counter_nameRF  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_enumerated_list   sN    

		
	&	c         C   sI   t  |  j É d k r( |  j j d É n |  j j d É |  j j É  d  S(   Ni   s   \end{enumerate}
s   \end{list}
(   R2  R«  RÃ  R1   R}  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_enumerated_list5  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_field<  s    c         C   s   |  j  j d É d  S(   Ns   
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_field@  s    c         C   s   |  j  j d É d  S(   Ns   %[visit_field_argument]
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_field_argumentD  s    c         C   s   |  j  j d É d  S(   Ns   %[depart_field_argument]
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_field_argumentG  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_field_bodyJ  s    c         C   s)   |  j  |  j k r% |  j  j d É n  d  S(   Ns   \\(   RÃ  R=   R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_field_bodyM  s    c         C   s9   |  j  |  j k	 r5 t j |  j d <|  j  j d É n  d  S(   Nt	   fieldlists   %
\begin{DUfieldlist}
(   RÃ  R=   R  R±  R7   R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_field_listQ  s    c         C   s)   |  j  |  j k	 r% |  j  j d É n  d  S(   Ns   \end{DUfieldlist}
(   RÃ  R=   R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_field_listV  s    c         C   s9   |  j  |  j k r% |  j  j d É n |  j  j d É d  S(   Ns   \textbf{s   \item[{(   RÃ  R=   R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_field_nameZ  s    c         C   s9   |  j  |  j k r% |  j  j d É n |  j  j d É d  S(   Ns   }: &s   :}](   RÃ  R=   R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_field_nameb  s    c         C   sç   t  j |  j d <| j j d d É } | d k rH |  j j d | É n |  j j d É | j d É râ |  j |  j | É d g 7_ n  d  S(   Nt   float_settingsRY  RV  s    
\begin{figure} %% align = "%s"
s   
\begin{figure}
R  s   
(   R  R∂  R5   R`  RÙ   RÃ  R1   R  (   RD   Ra  t	   alignment(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_figureh  s    c         C   s   |  j  j d É d  S(   Ns   \end{figure}
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_figurew  s    c         C   s!   |  j  g  É |  j j d É d  S(   Ns   \newcommand{\DUfooter}{(   R  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_footerz  s    c         C   s7   |  j  j d É d j |  j  É |  j d <|  j É  d  S(   NR  R%   s   ~footer(   RÃ  R1   RS   R5   R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_footer~  s    c         C   s  y | d d } Wn t  k
 r3 | d d } n X|  j rt j |  j d <| d j É  } |  j j d k r| d | } n  |  j j	 d | d d | |  j
 | É f É | d | d k rŸ |  j |  j | É 7_ n  | d	 rt | d	 t j É r|  j j	 d
 É qn  d  S(   Nt   backrefsi    R  t	   footnotesR   s   [%s]s   %%
\DUfootnotetext{%s}{%s}{%s}{t   namesi   R  (   RI  Ræ  R  RΩ  R7   R  RN   t   footnote_referencesRÃ  R1   R  R  R  R   R%  (   RD   Ra  t   backreft   num(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_footnoteÉ  s    	" c         C   s   |  j  j d É d  S(   Ns   }
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_footnoteñ  s    c         C   s‘   d } d | k r | d } n# d | k rB |  j  j | d } n  |  j j } | d k ré |  j | É |  j j d | É |  j j d É nB t j	 |  j
 d <|  j j d | d	 d
 | f É |  j j d É d  S(   NR%   RH  RI  R   s   \hyperlink{%s}{[s   ]}RΩ  s   \DUfootnotemark{%s}{%s}{R  i    R  (   RH   RK  RN   Rø  R  RÃ  R1   Rø  R  RΩ  R7   (   RD   Ra  RL  t   format(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_footnote_referenceô  s    c         C   s   |  j  j |  j j É  É d  S(   N(   RÃ  R1   Rø  R}  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_footnote_reference¥  s    c         C   s\   t  | j t j É r! t j Ç n7 t  | j t j É s< t Ç |  j sX |  j j	 | É n  d  S(   N(
   R  R  R   t   footnoteR[  t   citationRJ  R¶  RÃ  R1   (   RD   Ra  t   bracketR   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   label_delim∏  s
    	c         C   s   |  j  | d d É d S(   s9   footnote or citation label: in brackets or as superscriptR  s   \textsuperscript{N(   R   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_label¿  s    c         C   s   |  j  | d d É d  S(   NR  R  (   R   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_labelƒ  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_generated»  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_generatedÀ  s    c         C   s!   |  j  g  É |  j j d É d  S(   Ns   \newcommand{\DUheader}{(   R  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_headerŒ  s    c         C   s7   |  j  j d É d j |  j  É |  j d <|  j É  d  S(   NR  R%   s   ~header(   RÃ  R1   RS   R5   R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_header“  s    c         C   s–   | d k	 r t j j d É n  t j d | É } | s; | S| j É  d  \ } } | d k rj d | } nb | d k rç d t | É d	 } n? |  j rÃ | d
 k rÃ t	 j
 |  j d <d |  j d
 <d | } n  | S(   s=   Convert `length_str` with rst lenght to LaTeX length
        sW   deprecation warning: LaTeXTranslator.to_latex_length() option `pxunit` will be removed.s   (\d*\.?\d*)\s*(\S*)i   R%   R—   s   %sbpR  s   %.3f\linewidthg      Y@t   pxRv  s$   
\DUprovidelength{\pdfpxdimen}{1bp}
s   %s\pdfpxdimenN(   R%   s   pt(   Rm   t   syst   stderrt   writeR≠  t   matcht   groupsRd  RŒ  R  Rw  R7   (   RD   t
   length_strt   pxunitR’  RQ  t   unit(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   to_latex_length◊  s    c         C   sm  |  j  |  j d <| j } t j | d É j d d É } d | k rß t | j t j	 É rf d | d <n  x> | d D]/ } | j
 d É rq | j d	 É d
 | d <qq qq Wn  g  } g  } g  } i d$ d 6d% d 6d& d 6d' d 6d( d 6d) d 6} d | k r@y4 | | d }	 | j |	 d É | j |	 d
 É Wq@t k
 r<q@Xn  d | k rm| j d |  j | d É É n  d | k rï| j d | d d É n  d | k r¬| j d |  j | d É É n  |  j | É p„t | j t j	 É s| j d  É | j d  É n  | j É  |  j j | É d }
 | r?d! d" j | É }
 n  |  j j d# |
 | f É |  j j | É d  S(*   NR¸  t   uris   \t   /RY  RV  RK  s   align-R0   i   R%   t   bottoms   \raisebox{-0.5\height}{R  t   middles   \raisebox{-\height}{t   tops!   \noindent\makebox[\linewidth][c]{s
   \noindent{s   \hfill}RU  s   \noindent{\hfillRX  i    t   heights	   height=%st   scales   scale=%fg      Y@Rg  s   width=%ss   
s   [%s]RÔ   s   \includegraphics%s{%s}(   R%   R%   (   s   \raisebox{-0.5\height}{R  (   s   \raisebox{-\height}{R  (   s!   \noindent\makebox[\linewidth][c]{R  (   s
   \noindent{s   \hfill}(   s   \noindent{\hfillR  (   Rº  R5   R`  t   urllibt   url2pathnameRG  R  R  R   t   figureR  RÆ  R1   R¸   R⁄  R  R|  RÃ  Rı   RS   (   RD   Ra  t   attrst	   imagepathRL  t   pret   postt   include_graphics_optionst   align_codest
   align_codet   options(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_image  s\    	!
			
c         C   s5   | j  d É r1 |  j |  j | É d g 7_ n  d  S(   NR  s   
(   RÙ   RÃ  R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_image(	  s    c         C   sœ   |  j  j d t | d É É x™ | d D]û } | d k rN t j |  j d <n  | j d É r£ |  j j | d É } | r« t	 |  j j
 | <|  j j d | É q« q) t j |  j d <|  j j d | É q) Wd  S(	   NR  RK  s   align-centers	   language-i	   s   \foreignlanguage{%s}{t   inlines   \DUrole{%s}{(   Rø  R1   R2  R  t   align_centerR7   R  R≥  RÎ   Rn   RÌ   RÃ  RÔ  (   RD   Ra  RL  RÏ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR#  ,	  s    c         C   s   |  j  j |  j j É  É d  S(   N(   RÃ  R1   Rø  R}  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR%  :	  s    c         C   s   |  j  | É d  S(   N(   t   visit_literal(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_interpreted=	  s    c         C   s   |  j  | É d  S(   N(   t   depart_literal(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_interpretedB	  s    c         C   s$   t  j |  j d <|  j j d É d  S(   Nt   legends   \begin{DUlegend}(   R  Rı  R7   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_legendE	  s    c         C   s   |  j  j d É d  S(   Ns   \end{DUlegend}
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_legendI	  s    c         C   s   |  j  j d É d  S(   Ns   \item[] (   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   visit_lineL	  s    c         C   s   |  j  j d É d  S(   Ns   
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_lineO	  s    c         C   sÜ   t  j |  j d <t  j |  j d <t | j t j É rH |  j j	 d É n |  j j	 d É | d rÇ |  j
 | É |  j j	 d É n  d  S(   NRv  t	   lineblocks0   \item[]
\begin{DUlineblock}{\DUlineblockindent}
s   
\begin{DUlineblock}{0em}
RK  s   
(   R  Rw  R7   R˙  R  R  R   t
   line_blockRÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_line_blockR	  s    
c         C   s>   | d r* |  j  | É |  j j d É n  |  j j d É d  S(   NRK  s   
s   \end{DUlineblock}
(   R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_line_block^	  s    
c         C   s   |  j  j d É d  S(   Ns   
\item (   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_list_itemd	  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_list_itemg	  s    c         C   s|   t  |  _ d | d k rN |  j j d k rN t j |  j d <t j |  j d <n  |  j	 j
 d É | d rx |  j | É n  d  S(   Nt   codeRK  R$   t   colors   \texttt{(   Rn   R  RN   t   syntax_highlightR  R  R5   t   highlight_rulesR7   RÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRÒ  j	  s    	
c         C   s7   t  |  _ | d r# |  j | É n  |  j j d É d  S(   NRK  R  (   R6  R  R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRÛ  t	  s    	
c         C   s&   t  | É d k o% t | d t j É S(   s,   Check whether a node can be typeset verbatimi   i    (   R2  R  R   RR  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   is_plaintextâ	  s    c         C   s∂  i d d 6d d 6d d 6d d 6d d	 6} | j  d
 É rZ |  j d g |  j | É 7_ n  |  j j É  så |  j j d É |  j j d É n  |  j j d É |  j j d É |  j | É r2|  j } | j  | d É |  j	 d <| d k rı t
 |  _ n	 t
 |  _ |  j j d | |  j f É |  j j d | É nÄ t
 |  _ t
 |  _ t
 |  _ d | d k rí|  j j d k rít j |  j	 d <t j |  j d <n  |  j j d É |  j j d É d S(   s   Render a literal block.s   \usepackage{alltt}R  s   \usepackage{moreverb}t   listings   \usepackage{listings}t
   lstlistings   \usepackage{fancyvrb}t   Verbatimt   verbatimtabR  s   
s   %
\begin{quote}
s   
\end{quote}
R%   t   literal_blocks   \begin{%s}%s
s	   
\end{%s}R   RK  R$   R  s"   {\ttfamily \raggedright \noindent
s   
}N(   RÙ   RÃ  R  RÀ  RF  R1   Rø  R  R´  R5   Rn   R  Rã  R¨  R  R  R  RN   R  R  R  R  R7   (   RD   Ra  t   packagest   environment(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR{  ç	  s<    

"					c         C   sc   t  |  _ t  |  _ t  |  _ t  |  _ t  |  _ |  j j |  j j	 É  É |  j j |  j j	 É  É d  S(   N(
   R6  R  R  R  Rã  R  RÃ  R1   Rø  R}  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyR}  ∫	  s    					R  c         C   sı   | d r |  j  | É n  d |  j d <| j É  j t j É } | j d É rp d j | g |  j | É É } n  | d k ró |  j	 ré d } q∫ d } n# d	 j d
 d | d d | g É } |  j
 j | | É | d rË |  j | É n  t j Ç d S(   s	   math roleRK  s   \usepackage{amsmath}t   amsmathR  s   
R  u   \(%s\)u   $%s$u   
s   %%s
   \begin{%s}s   %ss   \end{%s}N(   R#  R5   R  Ra   R
   t   uni2tex_tableRÙ   RS   R  R  RÃ  R1   R%  R   R[  (   RD   Ra  t   math_envt	   math_codet   wrapper(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   visit_math”	  s$    
"				
c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_mathÏ	  s    c         C   s)   t  | j É  É } |  j | d | Éd  S(   NR  (   R	   R  R  (   RD   Ra  R  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_math_blockÔ	  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_math_blockÛ	  s    c         C   s$   |  j  d r  |  j j d É n  d  S(   Niˇˇˇˇs   , (   Rø  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_optionˆ	  s    c         C   s   |  j  d c d 7<d  S(   Niˇˇˇˇi   (   Rø  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_option˚	  s    c         C   s    |  j  j | j d d É É d S(   sA   Append the delimiter betweeen an option and its argument to body.t	   delimiterRˇ  N(   RÃ  R1   RÙ   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_option_argumentˇ	  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_option_argument
  s    c         C   s$   |  j  j d É |  j j d É d  S(   Ns   
\item[i    (   RÃ  R1   Rø  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_option_group
  s    c         C   s!   |  j  j É  |  j j d É d  S(   Ns   ] (   Rø  R}  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_option_group
  s    c         C   s4   t  j |  j d <t  j |  j d <|  j j d É d  S(   NRv  t
   optionlists   %
\begin{DUoptionlist}
(   R  Rw  R7   R  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_option_list
  s    c         C   s   |  j  j d É d  S(   Ns   
\end{DUoptionlist}
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_option_list
  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_option_list_item
  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_option_list_item
  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_option_string
  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_option_string!
  s    c         C   s   |  j  | d É d  S(   NRy  (   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_organization%
  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_organization(
  s    c         C   sZ  | j  j | É } | d k rK t | j  t j É st | j  t j É rK n¿ | d k r´ t | j  t j É r´ t | j  | d t j É r´ t | j  | d t j É r´ n` |  j j	 r˚ | d k rŸ |  j
 d d | Én  | d k r|  j j d É qn |  j j d É | j d É r<|  j |  j | É d g 7_ n  | d rV|  j | É n  d  S(   Ni    i   s:   LaTeX merges paragraphs in tables with auto-sized columns!t	   base_nodes   
R  RK  (   R  t   indexR  R   t	   list_itemt   descriptiont   compoundR%  RÀ  R?  R°  RÃ  R1   RÙ   R  R#  (   RD   Ra  R&  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_paragraph+
  s&    !!
"
c         C   s=   | d r |  j  | É n  |  j j s9 |  j j d É n  d  S(   NRK  s   
(   R%  RÀ  R?  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_paragraphE
  s    
c         C   sI   t  j |  j d <|  j j d É |  j | É |  j j d | d É d  S(   NR  s   %
s"   \hyperlink{%s}{\textbf{\color{red}RH  (   R  R  R5   RÃ  R1   R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_problematicK
  s    c         C   s   |  j  j d É d  S(   Ns   }}(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_problematicQ
  s    c         C   ss   d | j  d d É j É  k r* t j Ç n  |  j | É sL |  j j d É n  | d rf |  j | É n  t |  _	 d  S(   NR   Rƒ  R%   s   
RK  (
   RÙ   RÆ  R   R[  R  RÃ  R1   R#  Rn   Rã  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt	   visit_rawT
  s    
c         C   sI   t  |  _ | d r# |  j | É n  |  j | É sE |  j j d É n  d  S(   NRK  s   
(   R6  Rã  R%  R  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   depart_raw^
  s
    	
c         C   sc   d } xP | D]H } | d k r, | d 7} n  | d k rE | d 8} n  | d k  r t  Sq W| d k S(   s7   Test whether there are unmatched '{' or '}' characters.i    R  i   R  (   Rn   (   RD   RU   R5  R  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   has_unbalanced_bracese
  s    c         C   sò  i d t  d É 6d t  d É 6d t  d É 6} d | k rÿ t | d É j | É } | j d É d	 k sv |  j | É rä |  j d
 | É n  | d | j É  k r¿ |  j j d | É t	 j
 Ç n  |  j j d | É d  Sd | k rÒ | d } n/ d | k r|  j j | d } n t d É Ç |  j | É sB|  j j d É n  |  j j d | É |  j rî|  j j d |  j | j d d É f É t	 j
 Ç n  d  S(   Nu   \#R  u   \%R  u   \\s   \t   refuris   ^^iˇˇˇˇsY   External link "%s" not supported by LaTeX.
 (Must not contain "^^" or unbalanced braces.)s   \url{%s}s
   \href{%s}{RH  RI  s   Unknown reference.s   
s   \hyperref[%s]{s   \%s{%s}}R%   (   R  RW   Ra   R–  R0  R¢  R  RÃ  R1   R   R[  RH   RK  RJ  R  R®  RG  (   RD   Ra  t   special_charsRL  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_referenceq
  s4    $	c         C   s6   |  j  j d É |  j | É s2 |  j  j d É n  d  S(   NR  s   
(   RÃ  R1   R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_referenceì
  s    c         C   s   |  j  | d É d  S(   Nt   revision(   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_revisionò
  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_revisionõ
  s    c         C   s=   |  j  d 7_  |  j j d É |  j |  j  d c d 7<d  S(   Ni   i    (   R£  R∆  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_sectionû
  s    c         C   s    |  j  j É  |  j d 8_ d  S(   Ni   (   R∆  R}  R£  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_section•
  s    c         C   s4   t  j |  j d <t  j |  j d <|  j j d É d  S(   NR  t   sidebars   
\DUsidebar{
(   R  R  R5   R:  R7   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_sidebar™
  s    c         C   s   |  j  j d É d  S(   Ns   }
(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_sidebarØ
  s    u   ‚ÄîR%   R!   Rù  Rû  R"   R#   R$   c         C   sM   |  j  |  j j \ } } |  j j d É |  j j | É |  j j | É d  S(   Ns   \nopagebreak

\raggedleft (   t   attribution_formatsRN   t   attributionRÃ  R1   Rø  (   RD   Ra  Rü  R°  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_attribution∑
  s    c         C   s!   |  j  j |  j j É  d É d  S(   Ns   
(   RÃ  R1   Rø  R}  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_attributionΩ
  s    c         C   s   |  j  | d É d  S(   Nt   status(   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_status¿
  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_status√
  s    c         C   s.   |  j  j d É | d r* |  j | É n  d  S(   Ns   \textbf{RK  (   RÃ  R1   R#  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_strong∆
  s    
c         C   s.   | d r |  j  | É n  |  j j d É d  S(   NRK  R  (   R%  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_strongÀ
  s    
c         C   s   t  j Ç d  S(   N(   R   R[  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_substitution_definition–
  s    c         C   s   |  j  | É d  S(   N(   t   unimplemented_visit(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_substitution_reference”
  s    c         C   s√   t  | j t j É rV |  j |  j É t j |  j d <|  j	 |  j
 | d t É7_	 ni t  | j t j É rï |  j j d |  j j |  j d É É n* t j |  j d <|  j j d | j j É d  S(   Nt   documentsubtitleR  s   \%s*{i   R:   s   
\DUsubtitle[%s]{(   R  R  R   RH   R  R:   R  RI  R7   R¡  R  R6  R"  RÃ  R1   R∫  R£  t   tagname(   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_subtitle÷
  s    !c         C   s6   t  | j t j É r" |  j É  n |  j j d É d  S(   Ns   }
(   R  R  R   RH   R  RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_subtitle„
  s    c         C   sU  t  j |  j d <t  j |  j d <d g | d <|  j | É |  j j d É |  j | É y d | d } Wn t	 k
 rÇ d } n X|  j j d	 | d
 | d |  j
 | d É | f É t | d É d k r˝ |  j j d | d d É |  j j d É nT g  t | d É D]  \ } } d | | d f ^ q} |  j j d d j | É É d  S(   NR  R9   s   system-messageRK  s)   \DUtitle[system-message]{system-message}
s	   , line~%sR  R%   s&   

{\color{red}%s/%s} in \texttt{%s}%s
t   typeR5  t   sourceRº  i   s   
\hyperlink{%s}{i    R  s   \hyperlink{%s}{%d}s
   backrefs: Rˇ  (   R  R  R5   R9   R7   R0  RÃ  R1   R  R¸   R  R2  Rø  R  RS   (   RD   Ra  R  R  RL  Rº  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_system_messageÈ
  s&    
4c         C   s'   |  j  j |  j j É  É |  j É  d  S(   N(   RÃ  R1   Rø  R}  R1  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_system_messageˇ
  s    c         C   s@  t  j |  j d <|  j j É  rG |  j j |  j É t |  d É |  _ n  |  j j d k rΩ t	 | j
 t j É rΩ | j
 j | É d k rΩ |  j j |  j É j d É d k rΩ |  j j d É n  |  j j É  |  j j |  j j | d É d	 | k r|  j j d	 | d	 É n  |  j j d
 k r/d |  j d
 <n  |  j g  É d  S(   NR  t   tabularRN  i   R%  iˇˇˇˇs   \leavevmodeRK  RY  R   s   \usepackage{booktabs}(   R  R  R5   RÀ  RF  R   R1   R7  R9  R  R  R   R"  R&  R∫  R£  R–  RÃ  RM   RM  RN   RJ  RR  RH  R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_table  s"    $c         C   sŒ   |  j  } |  j É  |  j  j d |  j j É  É |  j  | 7_  |  j  j |  j j É  d É |  j j É  t |  j É d k rì |  j j	 É  |  _ n  | j
 d É r  |  j  |  j | d t Éd g 7_  n  d  S(   Ns   
i    R  R  (   RÃ  R  R1   RÀ  R\  R^  RY   R2  R   R}  RÙ   R  R6  (   RD   Ra  RÁ  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_table  s    	
c         C   sÇ   d | k s$ d | k s$ d | k r( d  S|  j  j d É t | j t j É p_ t | j t j É } |  j  |  j | | É 7_  d  S(   NR1  RH  RI  s   %
(   RÃ  R1   R  R  R   RD  R9   R  (   RD   Ra  R  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_target(  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_target6  s    c         C   s3   |  j  j d É s/ |  j | É |  j d  É n  d  S(   Ns   preamble written(   RÀ  RÙ   Rx  Rz  Rm   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_tbody9  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_tbody@  s    c         C   s   |  j  j d É d S(   s   definition list terms   \item[{N(   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt
   visit_termC  s    c         C   s   |  j  j d É d  S(   Ns   }] \leavevmode (   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_termI  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_tgroupN  s    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_tgroupS  s    c         C   s   |  j  S(   N(   t   _thead_depth(   RD   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRu  W  s    c         C   sç   |  j  d 7_  d |  j É  k rW |  j j d |  j j | É É |  j j d d É n  |  j j |  j j É  É |  j j |  j j	 É  É d  S(   Ni   s   {%s}
s   preamble written(
   R\  Ru  RÃ  R1   RÀ  Rj  RR  Rv  Rı   Rx  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRx  Z  s     c         C   sZ   | d  k	 rG |  j j |  j j É  É |  j j É  rG | j |  É qG n  |  j d 8_ d  S(   Ni   (   Rm   RÃ  Rı   RÀ  Rz  Rw  RI   R\  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRz  b  s
    c         C   sU  | j  j d k rX |  j |  j É |  j j d É |  j j d |  j | j É  É É n˘t	 | j  t
 j É só t	 | j  t
 j É só t	 | j  t
 j É rˆ t j |  j d <d j | j  d É } | sœ | j } n  |  j j d | É |  j j d É n[t	 | j  t
 j É r1|  j |  j j É |  j j d É n t t d	 É rSt j |  j d	 <n  |  j j |  j É } |  j j d
 É d | j  d k rÕt j |  j d <|  j | j É  É } |  j j d | | f É n |  j j d | É |  j t |  j j É k rt j |  j d <n  d g } | |  j | j  d t É7} |  j j d j | É d É d S(   s    Append section and other titles.RH   R%   s     pdftitle={%s},R9   RÔ   RK  s   \DUtitle[%s]{s   }
R’  s   

s   system-messagesR  s   \%s[%s]{\color{red}s   \%s{R  s   %
  s   %
}
N(    R  RJ  R  R9   Rø  R1   Rƒ  R  R  R  R   t   topicR/  R:  R  R7   RS   RÃ  R  RÀ  RD  R◊  R’  R5   R∫  R"  R£  R  R2  R/  R  R6  (   RD   Ra  RK  t   section_namet   section_titlet   bookmark(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_titlei  s@    	c         C   sQ   |  j  j |  j j É  É t | j t j É s@ | j j d k rM |  j	 É  n  d  S(   NRH   (
   RÃ  R1   Rø  R}  R  R  R   R  RJ  R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_titleû  s    c   	      C   so  |  j  j |  j É } i d d 6d d 6} d |  j  j k rH d | d <n  y | | } Wn- t k
 rÖ |  j d | d d | Éd	 SXt j |  j d
 <d | |  j d | <t	 |  j  j É } d | | f |  j d | <i d d 6d d 6d d 6} d |  j  j k rd | d <n  | r=|  j
 j d | | | | f É n  |  j
 j d | | f É |  j
 j d | É d	 S(   s=   Generate a local table of contents with LaTeX package minitocR_   t   miniR,  t   sectR"  s    Skipping local ToC at %s level.
s3     Feature not supported with option "use-latex-toc"R%  NRÄ  s   \do%stocs   minitoc-s   \mtcsetdepth{%stoc}{%d}s   minitoc-%s-depthi   i    iˇˇˇˇs   \setcounter{%stocdepth}{%d}s   \mtcsettitle{%stoc}{%s}
s   \%stoc
(   R∫  R"  R£  R/  R¸   R°  R  RÄ  R5   R2  RÃ  R1   (	   RD   Ra  R9   t   depthR^  t   minitoc_namest   minitoc_namet   maxdeptht   offset(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRÄ  §  s0    c         C   s¡  d | d k rü|  j  j d É |  j  |  j | É 7_  t | j É  t j É rñ |  j  j d |  j d | j É  j É  | j	 d d g É d f É n  |  j
 rÉd } t | j É  t j É rﬁ |  j | j d É j É  É } n  | j	 d	 d É } d
 | d k r'|  j | | | É |  j j d É d  S| rD|  j  j d | É n  | d k rg|  j  j d | É n  |  j  j d É t |  _ n	 t |  _ |  j j d É nd | d k r|  j j r|  j |  j É |  j  j d É |  j j d É t | j É  t j É rΩ| j d É qΩnß t j |  j d <d | d k rYt j |  j d <|  j |  j É n  d | d k råt j |  j d <|  j |  j É n  |  j  j d d j | d É É |  j j d É d  S(   Nt   contentsRK  s   
s   
\pdfbookmark[%d]{%s}{%s}
i   R  i    R%   Re  t   locals   \setcounter{tocdepth}{%d}
t   Contentss!   \renewcommand{\contentsname}{%s}
s   \tableofcontents

R?   s   \begin{abstract}s   \end{abstract}
R]  R>   s   
\DUtopic[%s]{
RÔ   s   }
(   RÃ  R1   R  R  t	   next_nodeR   R9   R£  R  RÙ   R*   R  R}  RÄ  Rø  Rn   RÇ  R9  RN   R,   R  R?   R  R]  R7   R>   RS   (   RD   Ra  R9   Re  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_topic«  sT    
!	!	!c         C   sS   |  j  j |  j j É  É t |  _ d | d k sB d | d k rO |  j É  n  d  S(   NR?   RK  R>   (   RÃ  R1   Rø  R}  R6  R9  R  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_topic˚  s
    	c         C   s4   t  j |  j d <|  j j d É |  j j d É d  S(   Nt   rubrics   
\DUrubric{s   }
(   R  Rp  R7   RÃ  R1   Rø  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_rubric  s    c         C   s   |  j  j |  j j É  É d  S(   N(   RÃ  R1   Rø  R}  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_rubric  s    c         C   s`   t  j |  j d <|  j j d É |  j j d d d d É |  j j d É |  j j d É d  S(   Nt
   transitions   

R  R  iK   s   
s   \DUtransition(   R  Rs  R7   RÃ  R1   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_transition
  s
    c         C   s   d  S(   N(    (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_transition  s    c         C   s   |  j  | d É d  S(   Nt   version(   R+  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   visit_version  s    c         C   s   |  j  | É d  S(   N(   R-  (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   depart_version  s    c         C   s   t  d | j j É Ç d  S(   Ns$   visiting unimplemented node type: %s(   Rè  RS  Rd   (   RD   Ra  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRG    s    N(   u   ‚ÄîR%   (   Rù  Rû  (   Rù  Rû  (   R%   R%   (ﬁ   Rd   Re   R6  RŒ  R.   R/   R™  RÇ  R9  R£  R  Rã  R  R  R  R  Ru   RA   R“  R£  R˚  R  R≠  t   compileR  R  R  Rn   R  R  R  R   R!  R$  R&  R(  R)  R,  R.  R0  Rm   R1  R3  R4  R5  R6  R7  R8  R:  R;  R<  R=  R>  R?  R@  RA  RC  RD  RE  RG  RM  RW  RX  RY  Rb  RZ  R\  R]  R^  R_  Ra  Rb  Rc  Rd  Rf  Rg  Rh  Ri  Rj  Rk  Rl  Rm  Rn  Ro  Rp  Rq  Rr  Rs  Rt  Rx  R+  R-  R|  R~  R  Rà  Râ  Rä  Rã  Rà  Rï  R{  RÉ  R©  R™  R´  R¨  R≠  RÆ  RØ  R∞  R≤  R≥  R¥  Rµ  R∏  Rπ  R∫  Rª  R¬  R√  R≈  R∆  R   RÀ  RÃ  RÕ  RŒ  Rœ  R–  R⁄  RÌ  RÓ  R#  R%  RÚ  RÙ  Rˆ  R˜  R¯  R˘  R¸  R˝  R˛  Rˇ  RÒ  RÛ  R  R{  R}  R  R  R  R  R  R  R  R  R  R  R  R  R  R   R!  R"  R#  R$  R*  R+  R,  R-  R.  R/  R0  R3  R4  R6  R7  R8  R9  R;  R<  R=  R?  R@  RB  RC  RD  RE  RF  RH  RK  RL  RO  RP  RR  RS  RT  RU  RV  RW  RX  RY  RZ  R[  R\  Ru  Rx  Rz  Ra  Rb  RÄ  Rn  Ro  Rq  Rr  Rt  Ru  Rw  Rx  RG  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyRB   e  s≤  
ÿ	"	)		M		
																													
																																						C				7				5																											8														
			-																							
			"							

																										5		#	4							(A   R  t   __docformat__R“  RQ   t   timeR≠  RU   R‚  R3  t   ImportErrort   docutils.utils.romanR   t   docutilsR   R   R   R   R   t   docutils.utils.error_reportingR   t   docutils.transformsR   t   docutils.utils.mathR	   R
   R   t   objectRu   R  R  R  R?   R/  R  R  R=   R>   R¢  R±  R∂  RΩ  RΩ  R  RÔ  Rı  R˙  RÅ  RÄ  R  Rw  Rp  R:  R:   RI  R  R  RB  R9   R]  Rs  R  R!  R7  R†  RB   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/latex2e/__init__.pyt   <module>   sh   .Ò∞																													
		üÙ                                                                                   usr/local/lib/python2.7/dist-packages/docutils/writers/latex2e/default.tex                          0100644 0000000 0000062 00000000734 13077704374 025274  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        $head_prefix% generated by Docutils <http://docutils.sourceforge.net/>
\usepackage{fixltx2e} % LaTeX patches, \textsubscript
\usepackage{cmap} % fix search and cut-and-paste in Acrobat
$requirements
%%% Custom LaTeX preamble
$latex_preamble
%%% User specified packages and stylesheets
$stylesheet
%%% Fallback definitions for Docutils-specific commands
$fallbacks$pdfsetup
$titledata
%%% Body
\begin{document}
$body_pre_docinfo$docinfo$dedication$abstract$body
\end{document}
                                    usr/local/lib/python2.7/dist-packages/docutils/writers/latex2e/titlepage.tex                        0100644 0000000 0000062 00000001026 13077704374 025621  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        % generated by Docutils <http://docutils.sourceforge.net/>
$head_prefix
\usepackage{fixltx2e} % LaTeX patches, \textsubscript
\usepackage{cmap} % fix search and cut-and-paste in Acrobat
$requirements
%%% Custom LaTeX preamble
$latex_preamble
%%% User specified packages and stylesheets
$stylesheet
%%% Fallback definitions for Docutils-specific commands
$fallbacks$pdfsetup
$titledata
%%% Body
\begin{document}
\begin{titlepage}
$body_pre_docinfo$docinfo$dedication$abstract
\thispagestyle{empty}
\end{titlepage}
$body
\end{document}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          usr/local/lib/python2.7/dist-packages/docutils/writers/latex2e/xelatex.tex                          0100644 0000000 0000062 00000000741 13077704374 025320  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        $head_prefix% generated by Docutils <http://docutils.sourceforge.net/>
% rubber: set program xelatex
\usepackage{fixltx2e}
\usepackage{fontspec}
% \defaultfontfeatures{Scale=MatchLowercase}
$requirements
%%% Custom LaTeX preamble
$latex_preamble
%%% User specified packages and stylesheets
$stylesheet
%%% Fallback definitions for Docutils-specific commands
$fallbacks$pdfsetup
$titledata
%%% Body
\begin{document}
$body_pre_docinfo$docinfo$dedication$abstract$body
\end{document}
                               usr/local/lib/python2.7/dist-packages/docutils/writers/manpage.py                                   0100644 0000000 0000062 00000105514 13077704374 023546  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # -*- coding: utf-8 -*-
# $Id: manpage.py 7628 2013-03-09 10:19:35Z grubert $
# Author: Engelbert Gruber <grubert@users.sourceforge.net>
# Copyright: This module is put into the public domain.

"""
Simple man page writer for reStructuredText.

Man pages (short for "manual pages") contain system documentation on unix-like
systems. The pages are grouped in numbered sections:

 1 executable programs and shell commands
 2 system calls
 3 library functions
 4 special files
 5 file formats
 6 games
 7 miscellaneous
 8 system administration

Man pages are written *troff*, a text file formatting system.

See http://www.tldp.org/HOWTO/Man-Page for a start.

Man pages have no subsection only parts.
Standard parts

  NAME ,
  SYNOPSIS ,
  DESCRIPTION ,
  OPTIONS ,
  FILES ,
  SEE ALSO ,
  BUGS ,

and

  AUTHOR .

A unix-like system keeps an index of the DESCRIPTIONs, which is accesable
by the command whatis or apropos.

"""

__docformat__ = 'reStructuredText'

import re

import docutils
from docutils import nodes, writers, languages
try:
    import roman
except ImportError:
    import docutils.utils.roman as roman

FIELD_LIST_INDENT = 7
DEFINITION_LIST_INDENT = 7
OPTION_LIST_INDENT = 7
BLOCKQOUTE_INDENT = 3.5
LITERAL_BLOCK_INDENT = 3.5

# Define two macros so man/roff can calculate the
# indent/unindent margins by itself
MACRO_DEF = (r""".
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
""")

class Writer(writers.Writer):

    supported = ('manpage',)
    """Formats this writer supports."""

    output = None
    """Final translated form of `document`."""

    def __init__(self):
        writers.Writer.__init__(self)
        self.translator_class = Translator

    def translate(self):
        visitor = self.translator_class(self.document)
        self.document.walkabout(visitor)
        self.output = visitor.astext()


class Table(object):
    def __init__(self):
        self._rows = []
        self._options = ['center']
        self._tab_char = '\t'
        self._coldefs = []
    def new_row(self):
        self._rows.append([])
    def append_separator(self, separator):
        """Append the separator for table head."""
        self._rows.append([separator])
    def append_cell(self, cell_lines):
        """cell_lines is an array of lines"""
        start = 0
        if len(cell_lines) > 0 and cell_lines[0] == '.sp\n':
            start = 1
        self._rows[-1].append(cell_lines[start:])
        if len(self._coldefs) < len(self._rows[-1]):
            self._coldefs.append('l')
    def _minimize_cell(self, cell_lines):
        """Remove leading and trailing blank and ``.sp`` lines"""
        while (cell_lines and cell_lines[0] in ('\n', '.sp\n')):
            del cell_lines[0]
        while (cell_lines and cell_lines[-1] in ('\n', '.sp\n')):
            del cell_lines[-1]
    def as_list(self):
        text = ['.TS\n']
        text.append(' '.join(self._options) + ';\n')
        text.append('|%s|.\n' % ('|'.join(self._coldefs)))
        for row in self._rows:
            # row = array of cells. cell = array of lines.
            text.append('_\n')       # line above
            text.append('T{\n')
            for i in range(len(row)):
                cell = row[i]
                self._minimize_cell(cell)
                text.extend(cell)
                if not text[-1].endswith('\n'):
                    text[-1] += '\n'
                if i < len(row)-1:
                    text.append('T}'+self._tab_char+'T{\n')
                else:
                    text.append('T}\n')
        text.append('_\n')
        text.append('.TE\n')
        return text

class Translator(nodes.NodeVisitor):
    """"""

    words_and_spaces = re.compile(r'\S+| +|\n')
    possibly_a_roff_command = re.compile(r'\.\w')
    document_start = """Man page generated from reStructuredText."""

    def __init__(self, document):
        nodes.NodeVisitor.__init__(self, document)
        self.settings = settings = document.settings
        lcode = settings.language_code
        self.language = languages.get_language(lcode, document.reporter)
        self.head = []
        self.body = []
        self.foot = []
        self.section_level = 0
        self.context = []
        self.topic_class = ''
        self.colspecs = []
        self.compact_p = 1
        self.compact_simple = None
        # the list style "*" bullet or "#" numbered
        self._list_char = []
        # writing the header .TH and .SH NAME is postboned after
        # docinfo.
        self._docinfo = {
                "title" : "", "title_upper": "",
                "subtitle" : "",
                "manual_section" : "", "manual_group" : "",
                "author" : [],
                "date" : "",
                "copyright" : "",
                "version" : "",
                    }
        self._docinfo_keys = []     # a list to keep the sequence as in source.
        self._docinfo_names = {}    # to get name from text not normalized.
        self._in_docinfo = None
        self._active_table = None
        self._in_literal = False
        self.header_written = 0
        self._line_block = 0
        self.authors = []
        self.section_level = 0
        self._indent = [0]
        # central definition of simple processing rules
        # what to output on : visit, depart
        # Do not use paragraph requests ``.PP`` because these set indentation.
        # use ``.sp``. Remove superfluous ``.sp`` in ``astext``.
        #
        # Fonts are put on a stack, the top one is used.
        # ``.ft P`` or ``\\fP`` pop from stack.
        # ``B`` bold, ``I`` italic, ``R`` roman should be available.
        # Hopefully ``C`` courier too.
        self.defs = {
                'indent' : ('.INDENT %.1f\n', '.UNINDENT\n'),
                'definition_list_item' : ('.TP', ''),
                'field_name' : ('.TP\n.B ', '\n'),
                'literal' : ('\\fB', '\\fP'),
                'literal_block' : ('.sp\n.nf\n.ft C\n', '\n.ft P\n.fi\n'),

                'option_list_item' : ('.TP\n', ''),

                'reference' : (r'\fI\%', r'\fP'),
                'emphasis': ('\\fI', '\\fP'),
                'strong' : ('\\fB', '\\fP'),
                'term' : ('\n.B ', '\n'),
                'title_reference' : ('\\fI', '\\fP'),

                'topic-title' : ('.SS ',),
                'sidebar-title' : ('.SS ',),

                'problematic' : ('\n.nf\n', '\n.fi\n'),
                    }
        # NOTE do not specify the newline before a dot-command, but ensure
        # it is there.

    def comment_begin(self, text):
        """Return commented version of the passed text WITHOUT end of
        line/comment."""
        prefix = '.\\" '
        out_text = ''.join(
            [(prefix + in_line + '\n')
            for in_line in text.split('\n')])
        return out_text

    def comment(self, text):
        """Return commented version of the passed text."""
        return self.comment_begin(text)+'.\n'

    def ensure_eol(self):
        """Ensure the last line in body is terminated by new line."""
        if len(self.body) > 0 and self.body[-1][-1] != '\n':
            self.body.append('\n')

    def astext(self):
        """Return the final formatted document as a string."""
        if not self.header_written:
            # ensure we get a ".TH" as viewers require it.
            self.append_header()
        # filter body
        for i in xrange(len(self.body)-1, 0, -1):
            # remove superfluous vertical gaps.
            if self.body[i] == '.sp\n':
                if self.body[i - 1][:4] in ('.BI ','.IP '):
                    self.body[i] = '.\n'
                elif (self.body[i - 1][:3] == '.B ' and
                    self.body[i - 2][:4] == '.TP\n'):
                    self.body[i] = '.\n'
                elif (self.body[i - 1] == '\n' and
                    not self.possibly_a_roff_command.match(self.body[i - 2]) and
                    (self.body[i - 3][:7] == '.TP\n.B '
                        or self.body[i - 3][:4] == '\n.B ')
                     ):
                    self.body[i] = '.\n'
        return ''.join(self.head + self.body + self.foot)

    def deunicode(self, text):
        text = text.replace(u'\xa0', '\\ ')
        text = text.replace(u'\u2020', '\\(dg')
        return text

    def visit_Text(self, node):
        text = node.astext()
        text = text.replace('\\','\\e')
        replace_pairs = [
            (u'-', ur'\-'),
            (u'\'', ur'\(aq'),
            (u'¬¥', ur'\''),
            (u'`', ur'\(ga'),
            ]
        for (in_char, out_markup) in replace_pairs:
            text = text.replace(in_char, out_markup)
        # unicode
        text = self.deunicode(text)
        # prevent interpretation of "." at line start
        if text.startswith('.'):
            text = '\\&' + text
        if self._in_literal:
            text = text.replace('\n.', '\n\\&.')
        self.body.append(text)

    def depart_Text(self, node):
        pass

    def list_start(self, node):
        class enum_char(object):
            enum_style = {
                    'bullet'     : '\\(bu',
                    'emdash'     : '\\(em',
                     }

            def __init__(self, style):
                self._style = style
                if node.has_key('start'):
                    self._cnt = node['start'] - 1
                else:
                    self._cnt = 0
                self._indent = 2
                if style == 'arabic':
                    # indentation depends on number of childrens
                    # and start value.
                    self._indent = len(str(len(node.children)))
                    self._indent += len(str(self._cnt)) + 1
                elif style == 'loweralpha':
                    self._cnt += ord('a') - 1
                    self._indent = 3
                elif style == 'upperalpha':
                    self._cnt += ord('A') - 1
                    self._indent = 3
                elif style.endswith('roman'):
                    self._indent = 5

            def next(self):
                if self._style == 'bullet':
                    return self.enum_style[self._style]
                elif self._style == 'emdash':
                    return self.enum_style[self._style]
                self._cnt += 1
                # TODO add prefix postfix
                if self._style == 'arabic':
                    return "%d." % self._cnt
                elif self._style in ('loweralpha', 'upperalpha'):
                    return "%c." % self._cnt
                elif self._style.endswith('roman'):
                    res = roman.toRoman(self._cnt) + '.'
                    if self._style.startswith('upper'):
                        return res.upper()
                    return res.lower()
                else:
                    return "%d." % self._cnt
            def get_width(self):
                return self._indent
            def __repr__(self):
                return 'enum_style-%s' % list(self._style)

        if node.has_key('enumtype'):
            self._list_char.append(enum_char(node['enumtype']))
        else:
            self._list_char.append(enum_char('bullet'))
        if len(self._list_char) > 1:
            # indent nested lists
            self.indent(self._list_char[-2].get_width())
        else:
            self.indent(self._list_char[-1].get_width())

    def list_end(self):
        self.dedent()
        self._list_char.pop()

    def header(self):
        tmpl = (".TH %(title_upper)s %(manual_section)s"
                " \"%(date)s\" \"%(version)s\" \"%(manual_group)s\"\n"
                ".SH NAME\n"
                "%(title)s \- %(subtitle)s\n")
        return tmpl % self._docinfo

    def append_header(self):
        """append header with .TH and .SH NAME"""
        # NOTE before everything
        # .TH title_upper section date source manual
        if self.header_written:
            return
        self.head.append(self.header())
        self.head.append(MACRO_DEF)
        self.header_written = 1

    def visit_address(self, node):
        self.visit_docinfo_item(node, 'address')

    def depart_address(self, node):
        pass

    def visit_admonition(self, node, name=None):
        #
        # Make admonitions a simple block quote
        # with a strong heading
        #
        # Using .IP/.RE doesn't preserve indentation
        # when admonitions contain bullets, literal,
        # and/or block quotes.
        #
        if name:
            # .. admonition:: has no name
            self.body.append('.sp\n')
            name = '%s%s:%s\n' % (
                self.defs['strong'][0],
                self.language.labels.get(name, name).upper(),
                self.defs['strong'][1],
                )        
            self.body.append(name)
        self.visit_block_quote(node)

    def depart_admonition(self, node):
        self.depart_block_quote(node)

    def visit_attention(self, node):
        self.visit_admonition(node, 'attention')

    depart_attention = depart_admonition

    def visit_docinfo_item(self, node, name):
        if name == 'author':
            self._docinfo[name].append(node.astext())
        else:
            self._docinfo[name] = node.astext()
        self._docinfo_keys.append(name)
        raise nodes.SkipNode

    def depart_docinfo_item(self, node):
        pass

    def visit_author(self, node):
        self.visit_docinfo_item(node, 'author')

    depart_author = depart_docinfo_item

    def visit_authors(self, node):
        # _author is called anyway.
        pass

    def depart_authors(self, node):
        pass

    def visit_block_quote(self, node):
        # BUG/HACK: indent alway uses the _last_ indention,
        # thus we need two of them.
        self.indent(BLOCKQOUTE_INDENT)
        self.indent(0)

    def depart_block_quote(self, node):
        self.dedent()
        self.dedent()

    def visit_bullet_list(self, node):
        self.list_start(node)

    def depart_bullet_list(self, node):
        self.list_end()

    def visit_caption(self, node):
        pass

    def depart_caption(self, node):
        pass

    def visit_caution(self, node):
        self.visit_admonition(node, 'caution')

    depart_caution = depart_admonition

    def visit_citation(self, node):
        num, text = node.astext().split(None, 1)
        num = num.strip()
        self.body.append('.IP [%s] 5\n' % num)

    def depart_citation(self, node):
        pass

    def visit_citation_reference(self, node):
        self.body.append('['+node.astext()+']')
        raise nodes.SkipNode

    def visit_classifier(self, node):
        pass

    def depart_classifier(self, node):
        pass

    def visit_colspec(self, node):
        self.colspecs.append(node)

    def depart_colspec(self, node):
        pass

    def write_colspecs(self):
        self.body.append("%s.\n" % ('L '*len(self.colspecs)))

    def visit_comment(self, node,
                      sub=re.compile('-(?=-)').sub):
        self.body.append(self.comment(node.astext()))
        raise nodes.SkipNode

    def visit_contact(self, node):
        self.visit_docinfo_item(node, 'contact')

    depart_contact = depart_docinfo_item

    def visit_container(self, node):
        pass

    def depart_container(self, node):
        pass

    def visit_compound(self, node):
        pass

    def depart_compound(self, node):
        pass

    def visit_copyright(self, node):
        self.visit_docinfo_item(node, 'copyright')

    def visit_danger(self, node):
        self.visit_admonition(node, 'danger')

    depart_danger = depart_admonition

    def visit_date(self, node):
        self.visit_docinfo_item(node, 'date')

    def visit_decoration(self, node):
        pass

    def depart_decoration(self, node):
        pass

    def visit_definition(self, node):
        pass

    def depart_definition(self, node):
        pass

    def visit_definition_list(self, node):
        self.indent(DEFINITION_LIST_INDENT)

    def depart_definition_list(self, node):
        self.dedent()

    def visit_definition_list_item(self, node):
        self.body.append(self.defs['definition_list_item'][0])

    def depart_definition_list_item(self, node):
        self.body.append(self.defs['definition_list_item'][1])

    def visit_description(self, node):
        pass

    def depart_description(self, node):
        pass

    def visit_docinfo(self, node):
        self._in_docinfo = 1

    def depart_docinfo(self, node):
        self._in_docinfo = None
        # NOTE nothing should be written before this
        self.append_header()

    def visit_doctest_block(self, node):
        self.body.append(self.defs['literal_block'][0])
        self._in_literal = True

    def depart_doctest_block(self, node):
        self._in_literal = False
        self.body.append(self.defs['literal_block'][1])

    def visit_document(self, node):
        # no blank line between comment and header.
        self.head.append(self.comment(self.document_start).rstrip()+'\n')
        # writing header is postboned
        self.header_written = 0

    def depart_document(self, node):
        if self._docinfo['author']:
            self.body.append('.SH AUTHOR\n%s\n'
                    % ', '.join(self._docinfo['author']))
        skip = ('author', 'copyright', 'date',
                'manual_group', 'manual_section',
                'subtitle',
                'title', 'title_upper', 'version')
        for name in self._docinfo_keys:
            if name == 'address':
                self.body.append("\n%s:\n%s%s.nf\n%s\n.fi\n%s%s" % (
                                    self.language.labels.get(name, name),
                                    self.defs['indent'][0] % 0,
                                    self.defs['indent'][0] % BLOCKQOUTE_INDENT,
                                    self._docinfo[name],
                                    self.defs['indent'][1],
                                    self.defs['indent'][1]))
            elif not name in skip:
                if name in self._docinfo_names:
                    label = self._docinfo_names[name]
                else:
                    label = self.language.labels.get(name, name)
                self.body.append("\n%s: %s\n" % (label, self._docinfo[name]))
        if self._docinfo['copyright']:
            self.body.append('.SH COPYRIGHT\n%s\n'
                    % self._docinfo['copyright'])
        self.body.append(self.comment(
                        'Generated by docutils manpage writer.'))

    def visit_emphasis(self, node):
        self.body.append(self.defs['emphasis'][0])

    def depart_emphasis(self, node):
        self.body.append(self.defs['emphasis'][1])

    def visit_entry(self, node):
        # a cell in a table row
        if 'morerows' in node:
            self.document.reporter.warning('"table row spanning" not supported',
                    base_node=node)
        if 'morecols' in node:
            self.document.reporter.warning(
                    '"table cell spanning" not supported', base_node=node)
        self.context.append(len(self.body))

    def depart_entry(self, node):
        start = self.context.pop()
        self._active_table.append_cell(self.body[start:])
        del self.body[start:]

    def visit_enumerated_list(self, node):
        self.list_start(node)

    def depart_enumerated_list(self, node):
        self.list_end()

    def visit_error(self, node):
        self.visit_admonition(node, 'error')

    depart_error = depart_admonition

    def visit_field(self, node):
        pass

    def depart_field(self, node):
        pass

    def visit_field_body(self, node):
        if self._in_docinfo:
            name_normalized = self._field_name.lower().replace(" ","_")
            self._docinfo_names[name_normalized] = self._field_name
            self.visit_docinfo_item(node, name_normalized)
            raise nodes.SkipNode

    def depart_field_body(self, node):
        pass

    def visit_field_list(self, node):
        self.indent(FIELD_LIST_INDENT)

    def depart_field_list(self, node):
        self.dedent()

    def visit_field_name(self, node):
        if self._in_docinfo:
            self._field_name = node.astext()
            raise nodes.SkipNode
        else:
            self.body.append(self.defs['field_name'][0])

    def depart_field_name(self, node):
        self.body.append(self.defs['field_name'][1])

    def visit_figure(self, node):
        self.indent(2.5)
        self.indent(0)

    def depart_figure(self, node):
        self.dedent()
        self.dedent()

    def visit_footer(self, node):
        self.document.reporter.warning('"footer" not supported',
                base_node=node)

    def depart_footer(self, node):
        pass

    def visit_footnote(self, node):
        num, text = node.astext().split(None, 1)
        num = num.strip()
        self.body.append('.IP [%s] 5\n' % self.deunicode(num))

    def depart_footnote(self, node):
        pass

    def footnote_backrefs(self, node):
        self.document.reporter.warning('"footnote_backrefs" not supported',
                base_node=node)

    def visit_footnote_reference(self, node):
        self.body.append('['+self.deunicode(node.astext())+']')
        raise nodes.SkipNode

    def depart_footnote_reference(self, node):
        pass

    def visit_generated(self, node):
        pass

    def depart_generated(self, node):
        pass

    def visit_header(self, node):
        raise NotImplementedError, node.astext()

    def depart_header(self, node):
        pass

    def visit_hint(self, node):
        self.visit_admonition(node, 'hint')

    depart_hint = depart_admonition

    def visit_subscript(self, node):
        self.body.append('\\s-2\\d')

    def depart_subscript(self, node):
        self.body.append('\\u\\s0')

    def visit_superscript(self, node):
        self.body.append('\\s-2\\u')

    def depart_superscript(self, node):
        self.body.append('\\d\\s0')

    def visit_attribution(self, node):
        self.body.append('\\(em ')

    def depart_attribution(self, node):
        self.body.append('\n')

    def visit_image(self, node):
        self.document.reporter.warning('"image" not supported',
                base_node=node)
        text = []
        if 'alt' in node.attributes:
            text.append(node.attributes['alt'])
        if 'uri' in node.attributes:
            text.append(node.attributes['uri'])
        self.body.append('[image: %s]\n' % ('/'.join(text)))
        raise nodes.SkipNode

    def visit_important(self, node):
        self.visit_admonition(node, 'important')

    depart_important = depart_admonition

    def visit_label(self, node):
        # footnote and citation
        if (isinstance(node.parent, nodes.footnote)
            or isinstance(node.parent, nodes.citation)):
            raise nodes.SkipNode
        self.document.reporter.warning('"unsupported "label"',
                base_node=node)
        self.body.append('[')

    def depart_label(self, node):
        self.body.append(']\n')

    def visit_legend(self, node):
        pass

    def depart_legend(self, node):
        pass

    # WHAT should we use .INDENT, .UNINDENT ?
    def visit_line_block(self, node):
        self._line_block += 1
        if self._line_block == 1:
            # TODO: separate inline blocks from previous paragraphs
            # see http://hg.intevation.org/mercurial/crew/rev/9c142ed9c405
            # self.body.append('.sp\n')
            # but it does not work for me.
            self.body.append('.nf\n')
        else:
            self.body.append('.in +2\n')

    def depart_line_block(self, node):
        self._line_block -= 1
        if self._line_block == 0:
            self.body.append('.fi\n')
            self.body.append('.sp\n')
        else:
            self.body.append('.in -2\n')

    def visit_line(self, node):
        pass

    def depart_line(self, node):
        self.body.append('\n')

    def visit_list_item(self, node):
        # man 7 man argues to use ".IP" instead of ".TP"
        self.body.append('.IP %s %d\n' % (
                self._list_char[-1].next(),
                self._list_char[-1].get_width(),))

    def depart_list_item(self, node):
        pass

    def visit_literal(self, node):
        self.body.append(self.defs['literal'][0])

    def depart_literal(self, node):
        self.body.append(self.defs['literal'][1])

    def visit_literal_block(self, node):
        # BUG/HACK: indent alway uses the _last_ indention,
        # thus we need two of them.
        self.indent(LITERAL_BLOCK_INDENT)
        self.indent(0)        
        self.body.append(self.defs['literal_block'][0])
        self._in_literal = True

    def depart_literal_block(self, node):
        self._in_literal = False
        self.body.append(self.defs['literal_block'][1])
        self.dedent()
        self.dedent()

    def visit_math(self, node):
        self.document.reporter.warning('"math" role not supported',
                base_node=node)
        self.visit_literal(node)

    def depart_math(self, node):
        self.depart_literal(node)

    def visit_math_block(self, node):
        self.document.reporter.warning('"math" directive not supported',
                base_node=node)
        self.visit_literal_block(node)

    def depart_math_block(self, node):
        self.depart_literal_block(node)

    def visit_meta(self, node):
        raise NotImplementedError, node.astext()

    def depart_meta(self, node):
        pass

    def visit_note(self, node):
        self.visit_admonition(node, 'note')

    depart_note = depart_admonition

    def indent(self, by=0.5):
        # if we are in a section ".SH" there already is a .RS
        step = self._indent[-1]
        self._indent.append(by)
        self.body.append(self.defs['indent'][0] % step)

    def dedent(self):
        self._indent.pop()
        self.body.append(self.defs['indent'][1])

    def visit_option_list(self, node):
        self.indent(OPTION_LIST_INDENT)

    def depart_option_list(self, node):
        self.dedent()

    def visit_option_list_item(self, node):
        # one item of the list
        self.body.append(self.defs['option_list_item'][0])

    def depart_option_list_item(self, node):
        self.body.append(self.defs['option_list_item'][1])

    def visit_option_group(self, node):
        # as one option could have several forms it is a group
        # options without parameter bold only, .B, -v
        # options with parameter bold italic, .BI, -f file
        #
        # we do not know if .B or .BI
        self.context.append('.B')           # blind guess
        self.context.append(len(self.body)) # to be able to insert later
        self.context.append(0)              # option counter

    def depart_option_group(self, node):
        self.context.pop()  # the counter
        start_position = self.context.pop()
        text = self.body[start_position:]
        del self.body[start_position:]
        self.body.append('%s%s\n' % (self.context.pop(), ''.join(text)))

    def visit_option(self, node):
        # each form of the option will be presented separately
        if self.context[-1] > 0:
            self.body.append('\\fP,\\fB ')
        if self.context[-3] == '.BI':
            self.body.append('\\')
        self.body.append(' ')

    def depart_option(self, node):
        self.context[-1] += 1

    def visit_option_string(self, node):
        # do not know if .B or .BI
        pass

    def depart_option_string(self, node):
        pass

    def visit_option_argument(self, node):
        self.context[-3] = '.BI' # bold/italic alternate
        if node['delimiter'] != ' ':
            self.body.append('\\fB%s ' % node['delimiter'])
        elif self.body[len(self.body)-1].endswith('='):
            # a blank only means no blank in output, just changing font
            self.body.append(' ')
        else:
            # blank backslash blank, switch font then a blank
            self.body.append(' \\ ')

    def depart_option_argument(self, node):
        pass

    def visit_organization(self, node):
        self.visit_docinfo_item(node, 'organization')

    def depart_organization(self, node):
        pass

    def first_child(self, node):
        first = isinstance(node.parent[0], nodes.label) # skip label
        for child in node.parent.children[first:]:
            if isinstance(child, nodes.Invisible):
                continue
            if child is node:
                return 1
            break
        return 0

    def visit_paragraph(self, node):
        # ``.PP`` : Start standard indented paragraph.
        # ``.LP`` : Start block paragraph, all except the first.
        # ``.P [type]``  : Start paragraph type.
        # NOTE dont use paragraph starts because they reset indentation.
        # ``.sp`` is only vertical space
        self.ensure_eol()
        if not self.first_child(node):
            self.body.append('.sp\n')

    def depart_paragraph(self, node):
        self.body.append('\n')

    def visit_problematic(self, node):
        self.body.append(self.defs['problematic'][0])

    def depart_problematic(self, node):
        self.body.append(self.defs['problematic'][1])

    def visit_raw(self, node):
        if node.get('format') == 'manpage':
            self.body.append(node.astext() + "\n")
        # Keep non-manpage raw text out of output:
        raise nodes.SkipNode

    def visit_reference(self, node):
        """E.g. link or email address."""
        self.body.append(self.defs['reference'][0])

    def depart_reference(self, node):
        self.body.append(self.defs['reference'][1])

    def visit_revision(self, node):
        self.visit_docinfo_item(node, 'revision')

    depart_revision = depart_docinfo_item

    def visit_row(self, node):
        self._active_table.new_row()

    def depart_row(self, node):
        pass

    def visit_section(self, node):
        self.section_level += 1

    def depart_section(self, node):
        self.section_level -= 1

    def visit_status(self, node):
        self.visit_docinfo_item(node, 'status')

    depart_status = depart_docinfo_item

    def visit_strong(self, node):
        self.body.append(self.defs['strong'][0])

    def depart_strong(self, node):
        self.body.append(self.defs['strong'][1])

    def visit_substitution_definition(self, node):
        """Internal only."""
        raise nodes.SkipNode

    def visit_substitution_reference(self, node):
        self.document.reporter.warning('"substitution_reference" not supported',
                base_node=node)

    def visit_subtitle(self, node):
        if isinstance(node.parent, nodes.sidebar):
            self.body.append(self.defs['strong'][0])
        elif isinstance(node.parent, nodes.document):
            self.visit_docinfo_item(node, 'subtitle')
        elif isinstance(node.parent, nodes.section):
            self.body.append(self.defs['strong'][0])

    def depart_subtitle(self, node):
        # document subtitle calls SkipNode
        self.body.append(self.defs['strong'][1]+'\n.PP\n')

    def visit_system_message(self, node):
        # TODO add report_level
        #if node['level'] < self.document.reporter['writer'].report_level:
        #    Level is too low to display:
        #    raise nodes.SkipNode
        attr = {}
        backref_text = ''
        if node.hasattr('id'):
            attr['name'] = node['id']
        if node.hasattr('line'):
            line = ', line %s' % node['line']
        else:
            line = ''
        self.body.append('.IP "System Message: %s/%s (%s:%s)"\n'
                         % (node['type'], node['level'], node['source'], line))

    def depart_system_message(self, node):
        pass

    def visit_table(self, node):
        self._active_table = Table()

    def depart_table(self, node):
        self.ensure_eol()
        self.body.extend(self._active_table.as_list())
        self._active_table = None

    def visit_target(self, node):
        # targets are in-document hyper targets, without any use for man-pages.
        raise nodes.SkipNode

    def visit_tbody(self, node):
        pass

    def depart_tbody(self, node):
        pass

    def visit_term(self, node):
        self.body.append(self.defs['term'][0])

    def depart_term(self, node):
        self.body.append(self.defs['term'][1])

    def visit_tgroup(self, node):
        pass

    def depart_tgroup(self, node):
        pass

    def visit_thead(self, node):
        # MAYBE double line '='
        pass

    def depart_thead(self, node):
        # MAYBE double line '='
        pass

    def visit_tip(self, node):
        self.visit_admonition(node, 'tip')

    depart_tip = depart_admonition

    def visit_title(self, node):
        if isinstance(node.parent, nodes.topic):
            self.body.append(self.defs['topic-title'][0])
        elif isinstance(node.parent, nodes.sidebar):
            self.body.append(self.defs['sidebar-title'][0])
        elif isinstance(node.parent, nodes.admonition):
            self.body.append('.IP "')
        elif self.section_level == 0:
            self._docinfo['title'] = node.astext()
            # document title for .TH
            self._docinfo['title_upper'] = node.astext().upper()
            raise nodes.SkipNode
        elif self.section_level == 1:
            self.body.append('.SH %s\n' % self.deunicode(node.astext().upper()))
            raise nodes.SkipNode
        else:
            self.body.append('.SS ')

    def depart_title(self, node):
        if isinstance(node.parent, nodes.admonition):
            self.body.append('"')
        self.body.append('\n')

    def visit_title_reference(self, node):
        """inline citation reference"""
        self.body.append(self.defs['title_reference'][0])

    def depart_title_reference(self, node):
        self.body.append(self.defs['title_reference'][1])

    def visit_topic(self, node):
        pass

    def depart_topic(self, node):
        pass

    def visit_sidebar(self, node):
        pass

    def depart_sidebar(self, node):
        pass

    def visit_rubric(self, node):
        pass

    def depart_rubric(self, node):
        pass

    def visit_transition(self, node):
        # .PP      Begin a new paragraph and reset prevailing indent.
        # .sp N    leaves N lines of blank space.
        # .ce      centers the next line
        self.body.append('\n.sp\n.ce\n----\n')

    def depart_transition(self, node):
        self.body.append('\n.ce 0\n.sp\n')

    def visit_version(self, node):
        self.visit_docinfo_item(node, 'version')

    def visit_warning(self, node):
        self.visit_admonition(node, 'warning')

    depart_warning = depart_admonition

    def unimplemented_visit(self, node):
        raise NotImplementedError('visiting unimplemented node type: %s'
                                  % node.__class__.__name__)

# vim: set fileencoding=utf-8 et ts=4 ai :
                                                                                                                                                                                    usr/local/lib/python2.7/dist-packages/docutils/writers/manpage.pyc                                  0100644 0000000 0000062 00000147554 13077704402 023713  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   sÊ   d  Z  d Z d d l Z d d l Z d d l m Z m Z m Z y d d l Z Wn# e k
 ru d d l	 j
 j Z n Xd Z d Z d Z d Z d Z d Z d e j f d	 Ñ  É  YZ d
 e f d Ñ  É  YZ d e j f d Ñ  É  YZ d S(   s÷  
Simple man page writer for reStructuredText.

Man pages (short for "manual pages") contain system documentation on unix-like
systems. The pages are grouped in numbered sections:

 1 executable programs and shell commands
 2 system calls
 3 library functions
 4 special files
 5 file formats
 6 games
 7 miscellaneous
 8 system administration

Man pages are written *troff*, a text file formatting system.

See http://www.tldp.org/HOWTO/Man-Page for a start.

Man pages have no subsection only parts.
Standard parts

  NAME ,
  SYNOPSIS ,
  DESCRIPTION ,
  OPTIONS ,
  FILES ,
  SEE ALSO ,
  BUGS ,

and

  AUTHOR .

A unix-like system keeps an index of the DESCRIPTIONs, which is accesable
by the command whatis or apropos.

t   reStructuredTextiˇˇˇˇN(   t   nodest   writerst	   languagesi   g      @sw  .
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
t   Writerc           B   s&   e  Z d Z d Z d Ñ  Z d Ñ  Z RS(   t   manpagec         C   s   t  j j |  É t |  _ d  S(   N(   R   R   t   __init__t
   Translatort   translator_class(   t   self(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   e   s    c         C   s5   |  j  |  j É } |  j j | É | j É  |  _ d  S(   N(   R   t   documentt	   walkaboutt   astextt   output(   R	   t   visitor(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt	   translatei   s    (   R   N(   t   __name__t
   __module__t	   supportedt   NoneR   R   R   (    (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   ]   s   	t   Tablec           B   s>   e  Z d  Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   c         C   s+   g  |  _  d g |  _ d |  _ g  |  _ d  S(   Nt   centers   	(   t   _rowst   _optionst	   _tab_chart   _coldefs(   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   p   s    		c         C   s   |  j  j g  É d  S(   N(   R   t   append(   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   new_rowu   s    c         C   s   |  j  j | g É d S(   s$   Append the separator for table head.N(   R   R   (   R	   t	   separator(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   append_separatorw   s    c         C   sÇ   d } t  | É d k r1 | d d k r1 d } n  |  j d j | | É t  |  j É t  |  j d É k  r~ |  j j d É n  d S(   s   cell_lines is an array of linesi    s   .sp
i   iˇˇˇˇt   lN(   t   lenR   R   R   (   R	   t
   cell_linest   start(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   append_cellz   s    "	"c         C   sL   x! | r# | d d k r# | d =q Wx! | rG | d d k rG | d =q' Wd S(   s3   Remove leading and trailing blank and ``.sp`` linesi    s   
s   .sp
iˇˇˇˇN(   s   
s   .sp
(   s   
s   .sp
(    (   R	   R    (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   _minimize_cellÇ   s    c         C   s4  d g } | j  d j |  j É d É | j  d d j |  j É É x– |  j D]≈ } | j  d É | j  d É x¢ t t | É É D]é } | | } |  j | É | j | É | d j	 d	 É s– | d c d	 7<n  | t | É d
 k  r| j  d |  j
 d É qÄ | j  d É qÄ WqM W| j  d É | j  d É | S(   Ns   .TS
t    s   ;
s   |%s|.
t   |s   _
s   T{
iˇˇˇˇs   
i   s   T}s   T}
s   .TE
(   R   t   joinR   R   R   t   rangeR   R#   t   extendt   endswithR   (   R	   t   textt   rowt   it   cell(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   as_listà   s$    	
(   R   R   R   R   R   R"   R#   R.   (    (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   o   s   					R   c           B   s  e  Z d  Z e j d É Z e j d É Z d Z d Ñ  Z d Ñ  Z	 d Ñ  Z
 d Ñ  Z d Ñ  Z d	 Ñ  Z d
 Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z dø d Ñ Z d Ñ  Z d Ñ  Z e Z d Ñ  Z d Ñ  Z d Ñ  Z e Z d Ñ  Z d Ñ  Z  d Ñ  Z! d Ñ  Z" d Ñ  Z# d Ñ  Z$ d Ñ  Z% d Ñ  Z& d  Ñ  Z' e Z( d! Ñ  Z) d" Ñ  Z* d# Ñ  Z+ d$ Ñ  Z, d% Ñ  Z- d& Ñ  Z. d' Ñ  Z/ d( Ñ  Z0 e j d) É j1 d* Ñ Z2 d+ Ñ  Z3 e Z4 d, Ñ  Z5 d- Ñ  Z6 d. Ñ  Z7 d/ Ñ  Z8 d0 Ñ  Z9 d1 Ñ  Z: e Z; d2 Ñ  Z< d3 Ñ  Z= d4 Ñ  Z> d5 Ñ  Z? d6 Ñ  Z@ d7 Ñ  ZA d8 Ñ  ZB d9 Ñ  ZC d: Ñ  ZD d; Ñ  ZE d< Ñ  ZF d= Ñ  ZG d> Ñ  ZH d? Ñ  ZI d@ Ñ  ZJ dA Ñ  ZK dB Ñ  ZL dC Ñ  ZM dD Ñ  ZN dE Ñ  ZO dF Ñ  ZP dG Ñ  ZQ dH Ñ  ZR dI Ñ  ZS e ZT dJ Ñ  ZU dK Ñ  ZV dL Ñ  ZW dM Ñ  ZX dN Ñ  ZY dO Ñ  ZZ dP Ñ  Z[ dQ Ñ  Z\ dR Ñ  Z] dS Ñ  Z^ dT Ñ  Z_ dU Ñ  Z` dV Ñ  Za dW Ñ  Zb dX Ñ  Zc dY Ñ  Zd dZ Ñ  Ze d[ Ñ  Zf d\ Ñ  Zg d] Ñ  Zh d^ Ñ  Zi d_ Ñ  Zj e Zk d` Ñ  Zl da Ñ  Zm db Ñ  Zn dc Ñ  Zo dd Ñ  Zp de Ñ  Zq df Ñ  Zr dg Ñ  Zs e Zt dh Ñ  Zu di Ñ  Zv dj Ñ  Zw dk Ñ  Zx dl Ñ  Zy dm Ñ  Zz dn Ñ  Z{ do Ñ  Z| dp Ñ  Z} dq Ñ  Z~ dr Ñ  Z ds Ñ  ZÄ dt Ñ  ZÅ du Ñ  ZÇ dv Ñ  ZÉ dw Ñ  ZÑ dx Ñ  ZÖ dy Ñ  ZÜ dz Ñ  Zá d{ Ñ  Zà d| Ñ  Zâ e Zä d} d~ Ñ Zã d Ñ  Zå dÄ Ñ  Zç dÅ Ñ  Zé dÇ Ñ  Zè dÉ Ñ  Zê dÑ Ñ  Zë dÖ Ñ  Zí dÜ Ñ  Zì dá Ñ  Zî dà Ñ  Zï dâ Ñ  Zñ dä Ñ  Zó dã Ñ  Zò då Ñ  Zô dç Ñ  Zö dé Ñ  Zõ dè Ñ  Zú dê Ñ  Zù dë Ñ  Zû dí Ñ  Zü dì Ñ  Z† dî Ñ  Z° dï Ñ  Z¢ dñ Ñ  Z£ e Z§ dó Ñ  Z• dò Ñ  Z¶ dô Ñ  Zß dö Ñ  Z® dõ Ñ  Z© e Z™ dú Ñ  Z´ dù Ñ  Z¨ dû Ñ  Z≠ dü Ñ  ZÆ d† Ñ  ZØ d° Ñ  Z∞ d¢ Ñ  Z± d£ Ñ  Z≤ d§ Ñ  Z≥ d• Ñ  Z¥ d¶ Ñ  Zµ dß Ñ  Z∂ d® Ñ  Z∑ d© Ñ  Z∏ d™ Ñ  Zπ d´ Ñ  Z∫ d¨ Ñ  Zª d≠ Ñ  Zº dÆ Ñ  ZΩ dØ Ñ  Zæ e Zø d∞ Ñ  Z¿ d± Ñ  Z¡ d≤ Ñ  Z¬ d≥ Ñ  Z√ d¥ Ñ  Zƒ dµ Ñ  Z≈ d∂ Ñ  Z∆ d∑ Ñ  Z« d∏ Ñ  Z» dπ Ñ  Z… d∫ Ñ  Z  dª Ñ  ZÀ dº Ñ  ZÃ dΩ Ñ  ZÕ e ZŒ dæ Ñ  Zœ RS(¿   t    s	   \S+| +|\ns   \.\ws)   Man page generated from reStructuredText.c         C   s≤  t  j j |  | É | j |  _ } | j } t j | | j É |  _ g  |  _	 g  |  _
 g  |  _ d |  _ g  |  _ d |  _ g  |  _ d |  _ d  |  _ g  |  _ i	 d d 6d d 6d d 6d d 6d d 6g  d	 6d d
 6d d 6d d 6|  _ g  |  _ i  |  _ d  |  _ d  |  _ t |  _ d |  _ d |  _ g  |  _ d |  _ d g |  _ i d+ d 6d, d 6d- d 6d. d 6d/ d 6d0 d 6d1 d 6d2 d  6d3 d! 6d4 d# 6d5 d$ 6d6 d& 6d7 d' 6d8 d* 6|  _ d  S(9   Ni    R/   i   t   titlet   title_uppert   subtitlet   manual_sectiont   manual_groupt   authort   datet	   copyrightt   versions   .INDENT %.1f
s
   .UNINDENT
t   indents   .TPt   definition_list_items   .TP
.B s   
t
   field_names   \fBs   \fPt   literals   .sp
.nf
.ft C
s   
.ft P
.fi
t   literal_blocks   .TP
t   option_list_items   \fI\%t	   references   \fIt   emphasist   strongs   
.B t   termt   title_references   .SS s   topic-titles   sidebar-titles   
.nf
s   
.fi
t   problematic(   s   .INDENT %.1f
s
   .UNINDENT
(   s   .TPR/   (   s   .TP
.B s   
(   s   \fBs   \fP(   s   .sp
.nf
.ft C
s   
.ft P
.fi
(   s   .TP
R/   (   s   \fI\%s   \fP(   s   \fIs   \fP(   s   \fBs   \fP(   s   
.B s   
(   s   \fIs   \fP(   s   .SS (   s   .SS (   s   
.nf
s   
.fi
(    R   t   NodeVisitorR   t   settingst   language_codeR   t   get_languaget   reportert   languaget   headt   bodyt   foott   section_levelt   contextt   topic_classt   colspecst	   compact_pR   t   compact_simplet
   _list_chart   _docinfot   _docinfo_keyst   _docinfo_namest   _in_docinfot   _active_tablet   Falset   _in_literalt   header_writtent   _line_blockt   authorst   _indentt   defs(   R	   R
   RF   t   lcode(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   •   s^    																				
c         C   s=   d } d j  g  | j d É D] } | | d ^ q É } | S(   sP   Return commented version of the passed text WITHOUT end of
        line/comment.s   .\" R/   s   
(   R&   t   split(   R	   R*   t   prefixt   in_linet   out_text(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   comment_beginÍ   s
    *c         C   s   |  j  | É d S(   s,   Return commented version of the passed text.s   .
(   Rf   (   R	   R*   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   commentÛ   s    c         C   sC   t  |  j É d k r? |  j d d d k r? |  j j d É n  d S(   s7   Ensure the last line in body is terminated by new line.i    iˇˇˇˇs   
N(   R   RL   R   (   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   ensure_eol˜   s    ,c         C   s`  |  j  s |  j É  n  x)t t |  j É d d d É D]} |  j | d k r6 |  j | d d  d k rz d |  j | <q>|  j | d d	  d
 k r¿ |  j | d d  d k r¿ d |  j | <q>|  j | d d k r>|  j j |  j | d É r>|  j | d	 d  d k s+|  j | d	 d  d k r>d |  j | <q>q6 q6 Wd j |  j |  j |  j	 É S(   s0   Return the final formatted document as a string.i   i    iˇˇˇˇs   .sp
i   s   .BI s   .IP s   .
i   s   .B i   s   .TP
s   
i   s   .TP
.B s   
.B R/   (   s   .BI s   .IP (
   R\   t   append_headert   xrangeR   RL   t   possibly_a_roff_commandt   matchR&   RK   RM   (   R	   R,   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   ¸   s    	&c         C   s(   | j  d d É } | j  d d É } | S(   Nu   ¬†s   \ u   ‚Ä†s   \(dg(   t   replace(   R	   R*   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt	   deunicode  s    c         C   s∂   | j  É  } | j d d É } d d d d g } x& | D] \ } } | j | | É } q7 W|  j | É } | j d É rÑ d | } n  |  j r¢ | j d d É } n  |  j j | É d  S(   Ns   \s   \eu   -u   \-u   'u   \(aqu   ¬¥u   \'u   `u   \(gat   .s   \&s   
.s   
\&.(   u   -u   \-(   u   'u   \(aq(   u   ¬¥u   \'(   u   `u   \(ga(   R   Rm   Rn   t
   startswithR[   RL   R   (   R	   t   nodeR*   t   replace_pairst   in_chart
   out_markup(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_Text  s    		c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_Text+  s    c            sÆ   d t  f á  f d Ü  É  Y} à  j d É rH |  j j | à  d É É n |  j j | d É É t |  j É d k rê |  j |  j d j É  É n |  j |  j d j É  É d  S(   Nt	   enum_charc              sF   e  Z i d  d 6d d 6Z á  f d Ü  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   s   \(but   bullets   \(emt   emdashc            s  | |  _  à  j d É r, à  d d |  _ n	 d |  _ d |  _ | d k rç t t t à  j É É É |  _ |  j t t |  j É É d 7_ n} | d k ræ |  j t d É d 7_ d |  _ nL | d	 k rÔ |  j t d
 É d 7_ d |  _ n | j d É r
d |  _ n  d  S(   NR!   i   i    i   t   arabict
   loweralphat   ai   t
   upperalphat   At   romani   (	   t   _stylet   has_keyt   _cntR_   R   t   strt   childrent   ordR)   (   R	   t   style(   Rq   (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   5  s     			%c         S   s⁄   |  j  d k r |  j |  j  S|  j  d k r: |  j |  j  S|  j d 7_ |  j  d k rc d |  j S|  j  d k r} d |  j S|  j  j d	 É rÀ t j |  j É d
 } |  j  j d É r¡ | j É  S| j É  Sd |  j Sd  S(   NRx   Ry   i   Rz   s   %d.R{   R}   s   %c.R   Ro   t   upper(   s
   loweralphas
   upperalpha(	   RÄ   t
   enum_styleRÇ   R)   R   t   toRomanRp   Rá   t   lower(   R	   t   res(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   nextJ  s    

c         S   s   |  j  S(   N(   R_   (   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt	   get_width\  s    c         S   s   d t  |  j É S(   Ns   enum_style-%s(   t   listRÄ   (   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   __repr__^  s    (   R   R   Rà   R   Rå   Rç   Rè   (    (   Rq   (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyRw   /  s   
		t   enumtypeRx   i   i˛ˇˇˇiˇˇˇˇ(   t   objectRÅ   RT   R   R   R9   Rç   (   R	   Rq   Rw   (    (   Rq   s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   list_start.  s    2c         C   s   |  j  É  |  j j É  d  S(   N(   t   dedentRT   t   pop(   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   list_endk  s    
c         C   s   d } | |  j  S(   Nsv   .TH %(title_upper)s %(manual_section)s "%(date)s" "%(version)s" "%(manual_group)s"
.SH NAME
%(title)s \- %(subtitle)s
(   RU   (   R	   t   tmpl(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   headero  s    c         C   s@   |  j  r d S|  j j |  j É  É |  j j t É d |  _  d S(   s#   append header with .TH and .SH NAMENi   (   R\   RK   R   Ró   t	   MACRO_DEF(   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyRi   v  s
    	c         C   s   |  j  | d É d  S(   Nt   address(   t   visit_docinfo_item(   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_addressÄ  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_addressÉ  s    c         C   s{   | rj |  j  j d É d |  j d d |  j j j | | É j É  |  j d d f } |  j  j | É n  |  j | É d  S(   Ns   .sp
s   %s%s:%s
RA   i    i   (   RL   R   R`   RJ   t   labelst   getRá   t   visit_block_quote(   R	   Rq   t   name(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_admonitionÜ  s    	c         C   s   |  j  | É d  S(   N(   t   depart_block_quote(   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_admonitionö  s    c         C   s   |  j  | d É d  S(   Nt	   attention(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_attentionù  s    c         C   sY   | d k r) |  j  | j | j É  É n | j É  |  j  | <|  j j | É t j Ç d  S(   NR5   (   RU   R   R   RV   R   t   SkipNode(   R	   Rq   R†   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyRö   ¢  s
    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_docinfo_item™  s    c         C   s   |  j  | d É d  S(   NR5   (   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_author≠  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_authors≤  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_authors∂  s    c         C   s   |  j  t É |  j  d É d  S(   Ni    (   R9   t   BLOCKQOUTE_INDENT(   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyRü   π  s    c         C   s   |  j  É  |  j  É  d  S(   N(   Rì   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR¢   ø  s    
c         C   s   |  j  | É d  S(   N(   Rí   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_bullet_list√  s    c         C   s   |  j  É  d  S(   N(   Rï   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_bullet_list∆  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_caption…  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_captionÃ  s    c         C   s   |  j  | d É d  S(   Nt   caution(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_cautionœ  s    c         C   sB   | j  É  j d  d É \ } } | j É  } |  j j d | É d  S(   Ni   s   .IP [%s] 5
(   R   Rb   R   t   stripRL   R   (   R	   Rq   t   numR*   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_citation‘  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_citationŸ  s    c         C   s+   |  j  j d | j É  d É t j Ç d  S(   Nt   [t   ](   RL   R   R   R   R¶   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_citation_reference‹  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_classifier‡  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_classifier„  s    c         C   s   |  j  j | É d  S(   N(   RQ   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_colspecÊ  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_colspecÈ  s    c         C   s%   |  j  j d d t |  j É É d  S(   Ns   %s.
s   L (   RL   R   R   RQ   (   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   write_colspecsÏ  s    s   -(?=-)c         C   s,   |  j  j |  j | j É  É É t j Ç d  S(   N(   RL   R   Rg   R   R   R¶   (   R	   Rq   t   sub(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_commentÔ  s    c         C   s   |  j  | d É d  S(   Nt   contact(   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_contactÙ  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_container˘  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_container¸  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_compoundˇ  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_compound  s    c         C   s   |  j  | d É d  S(   NR7   (   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_copyright  s    c         C   s   |  j  | d É d  S(   Nt   danger(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_danger  s    c         C   s   |  j  | d É d  S(   NR6   (   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_date  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_decoration  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_decoration  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_definition  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_definition  s    c         C   s   |  j  t É d  S(   N(   R9   t   DEFINITION_LIST_INDENT(   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_definition_list  s    c         C   s   |  j  É  d  S(   N(   Rì   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_definition_list  s    c         C   s   |  j  j |  j d d É d  S(   NR:   i    (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_definition_list_item"  s    c         C   s   |  j  j |  j d d É d  S(   NR:   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_definition_list_item%  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_description(  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_description+  s    c         C   s   d |  _  d  S(   Ni   (   RX   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_docinfo.  s    c         C   s   d  |  _ |  j É  d  S(   N(   R   RX   Ri   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_docinfo1  s    	c         C   s(   |  j  j |  j d d É t |  _ d  S(   NR=   i    (   RL   R   R`   t   TrueR[   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_doctest_block6  s    c         C   s(   t  |  _ |  j j |  j d d É d  S(   NR=   i   (   RZ   R[   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_doctest_block:  s    	c         C   s3   |  j  j |  j |  j É j É  d É d |  _ d  S(   Ns   
i    (   RK   R   Rg   t   document_startt   rstripR\   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_document>  s    &c      
   C   s  |  j  d r4 |  j j d d j |  j  d É É n  d } x˙ |  j D]Ô } | d k rÃ |  j j d |  j j j | | É |  j d d d |  j d d t	 |  j  | |  j d d |  j d d f É qD | | k rD | |  j
 k r˜ |  j
 | } n |  j j j | | É } |  j j d | |  j  | f É qD qD W|  j  d rb|  j j d |  j  d É n  |  j j |  j d É É d  S(   NR5   s   .SH AUTHOR
%s
s   , R7   R6   R4   R3   R2   R0   R1   R8   Rô   s   
%s:
%s%s.nf
%s
.fi
%s%sR9   i    i   s   
%s: %s
s   .SH COPYRIGHT
%s
s%   Generated by docutils manpage writer.(	   s   authors	   copyrights   dates   manual_groups   manual_sections   subtitles   titles   title_uppers   version(   RU   RL   R   R&   RV   RJ   Rù   Rû   R`   R´   RW   Rg   (   R	   Rq   t   skipR†   t   label(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_documentD  s4       
(c         C   s   |  j  j |  j d d É d  S(   NR@   i    (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_emphasisa  s    c         C   s   |  j  j |  j d d É d  S(   NR@   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_emphasisd  s    c         C   sm   d | k r( |  j  j j d d | Én  d | k rP |  j  j j d d | Én  |  j j t |  j É É d  S(   Nt   morerowss"   "table row spanning" not supportedt	   base_nodet   morecolss#   "table cell spanning" not supported(   R
   RI   t   warningRO   R   R   RL   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_entryg  s    
c         C   s4   |  j  j É  } |  j j |  j | É |  j | 3d  S(   N(   RO   Rî   RY   R"   RL   (   R	   Rq   R!   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_entryq  s    c         C   s   |  j  | É d  S(   N(   Rí   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_enumerated_listv  s    c         C   s   |  j  É  d  S(   N(   Rï   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_enumerated_listy  s    c         C   s   |  j  | d É d  S(   Nt   error(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_error|  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_fieldÅ  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_fieldÑ  s    c         C   sT   |  j  rP |  j j É  j d d É } |  j |  j | <|  j | | É t j Ç n  d  S(   NR$   t   _(   RX   t   _field_nameRä   Rm   RW   Rö   R   R¶   (   R	   Rq   t   name_normalized(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_field_bodyá  s
    	c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_field_bodyé  s    c         C   s   |  j  t É d  S(   N(   R9   t   FIELD_LIST_INDENT(   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_field_listë  s    c         C   s   |  j  É  d  S(   N(   Rì   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_field_listî  s    c         C   sC   |  j  r$ | j É  |  _ t j Ç n |  j j |  j d d É d  S(   NR;   i    (   RX   R   RÔ   R   R¶   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_field_nameó  s    	c         C   s   |  j  j |  j d d É d  S(   NR;   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_field_nameû  s    c         C   s   |  j  d É |  j  d É d  S(   Ng      @i    (   R9   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_figure°  s    c         C   s   |  j  É  |  j  É  d  S(   N(   Rì   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_figure•  s    
c         C   s   |  j  j j d d | Éd  S(   Ns   "footer" not supportedR„   (   R
   RI   RÂ   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_footer©  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_footer≠  s    c         C   sK   | j  É  j d  d É \ } } | j É  } |  j j d |  j | É É d  S(   Ni   s   .IP [%s] 5
(   R   Rb   R   R≤   RL   R   Rn   (   R	   Rq   R≥   R*   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_footnote∞  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_footnoteµ  s    c         C   s   |  j  j j d d | Éd  S(   Ns!   "footnote_backrefs" not supportedR„   (   R
   RI   RÂ   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   footnote_backrefs∏  s    c         C   s4   |  j  j d |  j | j É  É d É t j Ç d  S(   NR∂   R∑   (   RL   R   Rn   R   R   R¶   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_footnote_referenceº  s    'c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_footnote_reference¿  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_generated√  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_generated∆  s    c         C   s   t  | j É  Ç d  S(   N(   t   NotImplementedErrorR   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_header…  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_headerÃ  s    c         C   s   |  j  | d É d  S(   Nt   hint(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_hintœ  s    c         C   s   |  j  j d É d  S(   Ns   \s-2\d(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_subscript‘  s    c         C   s   |  j  j d É d  S(   Ns   \u\s0(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_subscript◊  s    c         C   s   |  j  j d É d  S(   Ns   \s-2\u(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_superscript⁄  s    c         C   s   |  j  j d É d  S(   Ns   \d\s0(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_superscript›  s    c         C   s   |  j  j d É d  S(   Ns   \(em (   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_attribution‡  s    c         C   s   |  j  j d É d  S(   Ns   
(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_attribution„  s    c         C   sï   |  j  j j d d | Ég  } d | j k rE | j | j d É n  d | j k rk | j | j d É n  |  j j d d j | É É t j Ç d  S(   Ns   "image" not supportedR„   t   altt   uris   [image: %s]
t   /(	   R
   RI   RÂ   t
   attributesR   RL   R&   R   R¶   (   R	   Rq   R*   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_imageÊ  s    c         C   s   |  j  | d É d  S(   Nt	   important(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_importantÒ  s    c         C   sc   t  | j t j É s* t  | j t j É r6 t j Ç n  |  j j j d d | É|  j	 j
 d É d  S(   Ns   "unsupported "label"R„   R∂   (   t
   isinstancet   parentR   t   footnotet   citationR¶   R
   RI   RÂ   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_labelˆ  s    c         C   s   |  j  j d É d  S(   Ns   ]
(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_labelˇ  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_legend  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_legend  s    c         C   sE   |  j  d 7_  |  j  d k r1 |  j j d É n |  j j d É d  S(   Ni   s   .nf
s   .in +2
(   R]   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_line_block	  s    c         C   sU   |  j  d 8_  |  j  d k rA |  j j d É |  j j d É n |  j j d É d  S(   Ni   i    s   .fi
s   .sp
s   .in -2
(   R]   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_line_block  s
    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_line  s    c         C   s   |  j  j d É d  S(   Ns   
(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_line  s    c         C   s8   |  j  j d |  j d j É  |  j d j É  f É d  S(   Ns
   .IP %s %d
iˇˇˇˇ(   RL   R   RT   Rå   Rç   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_list_item"  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_list_item(  s    c         C   s   |  j  j |  j d d É d  S(   NR<   i    (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_literal+  s    c         C   s   |  j  j |  j d d É d  S(   NR<   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_literal.  s    c         C   sB   |  j  t É |  j  d É |  j j |  j d d É t |  _ d  S(   Ni    R=   (   R9   t   LITERAL_BLOCK_INDENTRL   R   R`   R◊   R[   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_literal_block1  s    c         C   s<   t  |  _ |  j j |  j d d É |  j É  |  j É  d  S(   NR=   i   (   RZ   R[   RL   R   R`   Rì   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_literal_block9  s    	
c         C   s*   |  j  j j d d | É|  j | É d  S(   Ns   "math" role not supportedR„   (   R
   RI   RÂ   R#  (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_math?  s    c         C   s   |  j  | É d  S(   N(   R$  (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_mathD  s    c         C   s*   |  j  j j d d | É|  j | É d  S(   Ns   "math" directive not supportedR„   (   R
   RI   RÂ   R&  (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_math_blockG  s    c         C   s   |  j  | É d  S(   N(   R'  (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_math_blockL  s    c         C   s   t  | j É  Ç d  S(   N(   R  R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_metaO  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_metaR  s    c         C   s   |  j  | d É d  S(   Nt   note(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_noteU  s    g      ‡?c         C   s@   |  j  d } |  j  j | É |  j j |  j d d | É d  S(   NiˇˇˇˇR9   i    (   R_   R   RL   R`   (   R	   t   byt   step(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR9   Z  s    c         C   s,   |  j  j É  |  j j |  j d d É d  S(   NR9   i   (   R_   Rî   RL   R   R`   (   R	   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyRì   `  s    c         C   s   |  j  t É d  S(   N(   R9   t   OPTION_LIST_INDENT(   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_option_listd  s    c         C   s   |  j  É  d  S(   N(   Rì   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_option_listg  s    c         C   s   |  j  j |  j d d É d  S(   NR>   i    (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_option_list_itemj  s    c         C   s   |  j  j |  j d d É d  S(   NR>   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_option_list_itemn  s    c         C   s=   |  j  j d É |  j  j t |  j É É |  j  j d É d  S(   Ns   .Bi    (   RO   R   R   RL   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_option_groupq  s    c         C   sc   |  j  j É  |  j  j É  } |  j | } |  j | 3|  j j d |  j  j É  d j | É f É d  S(   Ns   %s%s
R/   (   RO   Rî   RL   R   R&   (   R	   Rq   t   start_positionR*   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_option_group{  s
    
c         C   s`   |  j  d d k r& |  j j d É n  |  j  d d k rL |  j j d É n  |  j j d É d  S(   Niˇˇˇˇi    s   \fP,\fB i˝ˇˇˇs   .BIs   \R$   (   RO   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_optionÇ  s
    c         C   s   |  j  d c d 7<d  S(   Niˇˇˇˇi   (   RO   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_optionä  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_option_stringç  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_option_stringë  s    c         C   sÇ   d |  j  d <| d d k r8 |  j j d | d É nF |  j t |  j É d j d É rn |  j j d É n |  j j d É d  S(	   Ns   .BIi˝ˇˇˇt	   delimiterR$   s   \fB%s i   t   =s    \ (   RO   RL   R   R   R)   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_option_argumentî  s    #c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_option_argumentü  s    c         C   s   |  j  | d É d  S(   Nt   organization(   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_organization¢  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_organization•  s    c         C   sa   t  | j d t j É } xA | j j | D]/ } t  | t j É rH q* n  | | k rX d SPq* Wd S(   Ni    i   (   R  R  R   Rﬁ   RÑ   t	   Invisible(   R	   Rq   t   firstt   child(    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   first_child®  s    c         C   s0   |  j  É  |  j | É s, |  j j d É n  d  S(   Ns   .sp
(   Rh   RH  RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_paragraph≤  s    
c         C   s   |  j  j d É d  S(   Ns   
(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_paragraphº  s    c         C   s   |  j  j |  j d d É d  S(   NRD   i    (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_problematicø  s    c         C   s   |  j  j |  j d d É d  S(   NRD   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_problematic¬  s    c         C   s?   | j  d É d k r2 |  j j | j É  d É n  t j Ç d  S(   Nt   formatR   s   
(   Rû   RL   R   R   R   R¶   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt	   visit_raw≈  s    c         C   s   |  j  j |  j d d É d S(   s   E.g. link or email address.R?   i    N(   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_referenceÀ  s    c         C   s   |  j  j |  j d d É d  S(   NR?   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_referenceœ  s    c         C   s   |  j  | d É d  S(   Nt   revision(   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_revision“  s    c         C   s   |  j  j É  d  S(   N(   RY   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt	   visit_row◊  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   depart_row⁄  s    c         C   s   |  j  d 7_  d  S(   Ni   (   RN   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_section›  s    c         C   s   |  j  d 8_  d  S(   Ni   (   RN   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_section‡  s    c         C   s   |  j  | d É d  S(   Nt   status(   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_status„  s    c         C   s   |  j  j |  j d d É d  S(   NRA   i    (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_strongË  s    c         C   s   |  j  j |  j d d É d  S(   NRA   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_strongÎ  s    c         C   s   t  j Ç d S(   s   Internal only.N(   R   R¶   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_substitution_definitionÓ  s    c         C   s   |  j  j j d d | Éd  S(   Ns&   "substitution_reference" not supportedR„   (   R
   RI   RÂ   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_substitution_referenceÚ  s    c         C   sí   t  | j t j É r3 |  j j |  j d d É n[ t  | j t j É r[ |  j | d É n3 t  | j t j	 É ré |  j j |  j d d É n  d  S(   NRA   i    R2   (
   R  R  R   t   sidebarRL   R   R`   R
   Rö   t   section(   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_subtitleˆ  s    c         C   s#   |  j  j |  j d d d É d  S(   NRA   i   s   
.PP
(   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_subtitle˛  s    c         C   sÇ   i  } d } | j  d É r, | d | d <n  | j  d É rL d | d } n d } |  j j d | d | d | d	 | f É d  S(
   NR/   t   idR†   t   lines	   , line %ss$   .IP "System Message: %s/%s (%s:%s)"
t   typet   levelt   source(   t   hasattrRL   R   (   R	   Rq   t   attrt   backref_textRb  (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_system_message  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_system_message  s    c         C   s   t  É  |  _ d  S(   N(   R   RY   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_table  s    c         C   s0   |  j  É  |  j j |  j j É  É d  |  _ d  S(   N(   Rh   RL   R(   RY   R.   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_table  s    
c         C   s   t  j Ç d  S(   N(   R   R¶   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_target  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_tbody!  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_tbody$  s    c         C   s   |  j  j |  j d d É d  S(   NRB   i    (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt
   visit_term'  s    c         C   s   |  j  j |  j d d É d  S(   NRB   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_term*  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_tgroup-  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_tgroup0  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_thead3  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_thead7  s    c         C   s   |  j  | d É d  S(   Nt   tip(   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt	   visit_tip;  s    c         C   s-  t  | j t j É r3 |  j j |  j d d É nˆ t  | j t j É rf |  j j |  j d d É n√ t  | j t j É ré |  j j d É nõ |  j	 d k r’ | j
 É  |  j d <| j
 É  j É  |  j d <t j Ç nT |  j	 d k r|  j j d |  j | j
 É  j É  É É t j Ç n |  j j d	 É d  S(
   Ns   topic-titlei    s   sidebar-titles   .IP "R0   R1   i   s   .SH %s
s   .SS (   R  R  R   t   topicRL   R   R`   R]  t
   admonitionRN   R   RU   Rá   R¶   Rn   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_title@  s    )c         C   s<   t  | j t j É r( |  j j d É n  |  j j d É d  S(   Nt   "s   
(   R  R  R   Ry  RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_titleR  s    c         C   s   |  j  j |  j d d É d S(   s   inline citation referenceRC   i    N(   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_title_referenceW  s    c         C   s   |  j  j |  j d d É d  S(   NRC   i   (   RL   R   R`   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_title_reference[  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_topic^  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_topica  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_sidebard  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_sidebarg  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_rubricj  s    c         C   s   d  S(   N(    (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_rubricm  s    c         C   s   |  j  j d É d  S(   Ns   
.sp
.ce
----
(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_transitionp  s    c         C   s   |  j  j d É d  S(   Ns   
.ce 0
.sp
(   RL   R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   depart_transitionv  s    c         C   s   |  j  | d É d  S(   NR8   (   Rö   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_versiony  s    c         C   s   |  j  | d É d  S(   NRÂ   (   R°   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   visit_warning|  s    c         C   s   t  d | j j É Ç d  S(   Ns$   visiting unimplemented node type: %s(   R  t	   __class__R   (   R	   Rq   (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   unimplemented_visitÅ  s    N(–   R   R   t   __doc__t   ret   compilet   words_and_spacesRk   R⁄   R   Rf   Rg   Rh   R   Rn   Ru   Rv   Rí   Rï   Ró   Ri   Rõ   Rú   R   R°   R£   R•   t   depart_attentionRö   Rß   R®   t   depart_authorR©   R™   Rü   R¢   R¨   R≠   RÆ   RØ   R±   t   depart_cautionR¥   Rµ   R∏   Rπ   R∫   Rª   Rº   RΩ   Ræ   Rø   R¡   t   depart_contactR¬   R√   Rƒ   R≈   R∆   R»   t   depart_dangerR…   R    RÀ   RÃ   RÕ   Rœ   R–   R—   R“   R”   R‘   R’   R÷   Rÿ   RŸ   R‹   Rﬂ   R‡   R·   RÊ   RÁ   RË   RÈ   RÎ   t   depart_errorRÏ   RÌ   RÒ   RÚ   RÙ   Rı   Rˆ   R˜   R¯   R˘   R˙   R˚   R¸   R˝   R˛   Rˇ   R   R  R  R  R  R  t   depart_hintR  R	  R
  R  R  R  R  R  t   depart_importantR  R  R  R  R  R  R  R   R!  R"  R#  R$  R&  R'  R(  R)  R*  R+  R,  R-  R/  t   depart_noteR9   Rì   R3  R4  R5  R6  R7  R9  R:  R;  R<  R=  R@  RA  RC  RD  RH  RI  RJ  RK  RL  RN  RO  RP  RR  t   depart_revisionRS  RT  RU  RV  RX  t   depart_statusRY  RZ  R[  R\  R_  R`  Ri  Rj  Rk  Rl  Rm  Rn  Ro  Rp  Rq  Rr  Rs  Rt  Ru  Rw  t
   depart_tipRz  R|  R}  R~  R  RÄ  RÅ  RÇ  RÉ  RÑ  RÖ  RÜ  Rá  Rà  t   depart_warningRä  (    (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyR   û   sî  	E									=			
																																																			
																																																														
										
	
																																														(   Rã  t   __docformat__Rå  t   docutilsR   R   R   R   t   ImportErrort   docutils.utils.romant   utilsRÛ   RŒ   R2  R´   R%  Rò   R   Rë   R   RE   R   (    (    (    s:   /tmp/pip-build-awuatQ/docutils/docutils/writers/manpage.pyt   <module>+   s"   /                                                                                                                                                    usr/local/lib/python2.7/dist-packages/docutils/writers/null.py                                      0100644 0000000 0000062 00000000702 13077704374 023101  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # $Id: null.py 4564 2006-05-21 20:44:42Z wiemann $
# Author: David Goodger <goodger@python.org>
# Copyright: This module has been placed in the public domain.

"""
A do-nothing Writer.
"""

from docutils import writers


class Writer(writers.UnfilteredWriter):

    supported = ('null',)
    """Formats this writer supports."""

    config_section = 'null writer'
    config_section_dependencies = ('writers',)

    def translate(self):
        pass
                                                              usr/local/lib/python2.7/dist-packages/docutils/writers/null.pyc                                     0100644 0000000 0000062 00000001412 13077704402 023233  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   s3   d  Z  d d l m Z d e j f d Ñ  É  YZ d S(   s   
A do-nothing Writer.
iˇˇˇˇ(   t   writerst   Writerc           B   s#   e  Z d Z d Z d Z d Ñ  Z RS(   t   nulls   null writerR    c         C   s   d  S(   N(    (   t   self(    (    s7   /tmp/pip-build-awuatQ/docutils/docutils/writers/null.pyt	   translate   s    (   s   null(   s   writers(   t   __name__t
   __module__t	   supportedt   config_sectiont   config_section_dependenciesR   (    (    (    s7   /tmp/pip-build-awuatQ/docutils/docutils/writers/null.pyR      s   N(   t   __doc__t   docutilsR    t   UnfilteredWriterR   (    (    (    s7   /tmp/pip-build-awuatQ/docutils/docutils/writers/null.pyt   <module>   s                                                                                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/docutils/writers/odf_odt/                                     0042755 0000000 0000062 00000000000 13077704402 023171  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/odf_odt/__init__.py                          0100644 0000000 0000062 00000366364 13077704374 025327  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # $Id: __init__.py 7899 2015-06-03 22:02:46Z timehorse $
# Author: Dave Kuhlman <dkuhlman@rexx.com>
# Copyright: This module has been placed in the public domain.

"""
Open Document Format (ODF) Writer.

"""

VERSION = '1.0a'

__docformat__ = 'reStructuredText'


import sys
import os
import os.path
import tempfile
import zipfile
from xml.dom import minidom
import time
import re
import StringIO
import copy
import urllib2
import docutils
from docutils import frontend, nodes, utils, writers, languages
from docutils.readers import standalone
from docutils.transforms import references


WhichElementTree = ''
try:
    # 1. Try to use lxml.
    #from lxml import etree
    #WhichElementTree = 'lxml'
    raise ImportError('Ignoring lxml')
except ImportError, e:
    try:
        # 2. Try to use ElementTree from the Python standard library.
        from xml.etree import ElementTree as etree
        WhichElementTree = 'elementtree'
    except ImportError, e:
        try:
            # 3. Try to use a version of ElementTree installed as a separate
            #    product.
            from elementtree import ElementTree as etree
            WhichElementTree = 'elementtree'
        except ImportError, e:
            s1 = 'Must install either a version of Python containing ' \
                 'ElementTree (Python version >=2.5) or install ElementTree.'
            raise ImportError(s1)

#
# Import pygments and odtwriter pygments formatters if possible.
try:
    import pygments
    import pygments.lexers
    from pygmentsformatter import OdtPygmentsProgFormatter, \
        OdtPygmentsLaTeXFormatter
except (ImportError, SyntaxError), exp:
    pygments = None

# check for the Python Imaging Library
try:
    import PIL.Image
except ImportError:
    try:  # sometimes PIL modules are put in PYTHONPATH's root
        import Image
        class PIL(object): pass  # dummy wrapper
        PIL.Image = Image
    except ImportError:
        PIL = None

## import warnings
## warnings.warn('importing IPShellEmbed', UserWarning)
## from IPython.Shell import IPShellEmbed
## args = ['-pdb', '-pi1', 'In <\\#>: ', '-pi2', '   .\\D.: ',
##         '-po', 'Out<\\#>: ', '-nosep']
## ipshell = IPShellEmbed(args,
##                        banner = 'Entering IPython.  Press Ctrl-D to exit.',
##                        exit_msg = 'Leaving Interpreter, back to program.')


#
# ElementTree does not support getparent method (lxml does).
# This wrapper class and the following support functions provide
#   that support for the ability to get the parent of an element.
#
if WhichElementTree == 'elementtree':
    import weakref
    _parents = weakref.WeakKeyDictionary()
    if isinstance(etree.Element, type):
        _ElementInterface = etree.Element
    else:
        _ElementInterface = etree._ElementInterface
    class _ElementInterfaceWrapper(_ElementInterface):
        def __init__(self, tag, attrib=None):
            _ElementInterface.__init__(self, tag, attrib)
            _parents[self] = None
        def setparent(self, parent):
            _parents[self] = parent
        def getparent(self):
            return _parents[self]


#
# Constants and globals

SPACES_PATTERN = re.compile(r'( +)')
TABS_PATTERN = re.compile(r'(\t+)')
FILL_PAT1 = re.compile(r'^ +')
FILL_PAT2 = re.compile(r' {2,}')

TABLESTYLEPREFIX = 'rststyle-table-'
TABLENAMEDEFAULT = '%s0' % TABLESTYLEPREFIX
TABLEPROPERTYNAMES = ('border', 'border-top', 'border-left',
    'border-right', 'border-bottom', )

GENERATOR_DESC = 'Docutils.org/odf_odt'

NAME_SPACE_1 = 'urn:oasis:names:tc:opendocument:xmlns:office:1.0'

CONTENT_NAMESPACE_DICT = CNSD = {
#    'office:version': '1.0',
    'chart': 'urn:oasis:names:tc:opendocument:xmlns:chart:1.0',
    'dc': 'http://purl.org/dc/elements/1.1/',
    'dom': 'http://www.w3.org/2001/xml-events',
    'dr3d': 'urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0',
    'draw': 'urn:oasis:names:tc:opendocument:xmlns:drawing:1.0',
    'fo': 'urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0',
    'form': 'urn:oasis:names:tc:opendocument:xmlns:form:1.0',
    'math': 'http://www.w3.org/1998/Math/MathML',
    'meta': 'urn:oasis:names:tc:opendocument:xmlns:meta:1.0',
    'number': 'urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0',
    'office': NAME_SPACE_1,
    'ooo': 'http://openoffice.org/2004/office',
    'oooc': 'http://openoffice.org/2004/calc',
    'ooow': 'http://openoffice.org/2004/writer',
    'presentation': 'urn:oasis:names:tc:opendocument:xmlns:presentation:1.0',

    'script': 'urn:oasis:names:tc:opendocument:xmlns:script:1.0',
    'style': 'urn:oasis:names:tc:opendocument:xmlns:style:1.0',
    'svg': 'urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0',
    'table': 'urn:oasis:names:tc:opendocument:xmlns:table:1.0',
    'text': 'urn:oasis:names:tc:opendocument:xmlns:text:1.0',
    'xforms': 'http://www.w3.org/2002/xforms',
    'xlink': 'http://www.w3.org/1999/xlink',
    'xsd': 'http://www.w3.org/2001/XMLSchema',
    'xsi': 'http://www.w3.org/2001/XMLSchema-instance',
    }

STYLES_NAMESPACE_DICT = SNSD = {
#    'office:version': '1.0',
    'chart': 'urn:oasis:names:tc:opendocument:xmlns:chart:1.0',
    'dc': 'http://purl.org/dc/elements/1.1/',
    'dom': 'http://www.w3.org/2001/xml-events',
    'dr3d': 'urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0',
    'draw': 'urn:oasis:names:tc:opendocument:xmlns:drawing:1.0',
    'fo': 'urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0',
    'form': 'urn:oasis:names:tc:opendocument:xmlns:form:1.0',
    'math': 'http://www.w3.org/1998/Math/MathML',
    'meta': 'urn:oasis:names:tc:opendocument:xmlns:meta:1.0',
    'number': 'urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0',
    'office': NAME_SPACE_1,
    'presentation': 'urn:oasis:names:tc:opendocument:xmlns:presentation:1.0',
    'ooo': 'http://openoffice.org/2004/office',
    'oooc': 'http://openoffice.org/2004/calc',
    'ooow': 'http://openoffice.org/2004/writer',
    'script': 'urn:oasis:names:tc:opendocument:xmlns:script:1.0',
    'style': 'urn:oasis:names:tc:opendocument:xmlns:style:1.0',
    'svg': 'urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0',
    'table': 'urn:oasis:names:tc:opendocument:xmlns:table:1.0',
    'text': 'urn:oasis:names:tc:opendocument:xmlns:text:1.0',
    'xlink': 'http://www.w3.org/1999/xlink',
    }

MANIFEST_NAMESPACE_DICT = MANNSD = {
    'manifest': 'urn:oasis:names:tc:opendocument:xmlns:manifest:1.0',
}

META_NAMESPACE_DICT = METNSD = {
#    'office:version': '1.0',
    'dc': 'http://purl.org/dc/elements/1.1/',
    'meta': 'urn:oasis:names:tc:opendocument:xmlns:meta:1.0',
    'office': NAME_SPACE_1,
    'ooo': 'http://openoffice.org/2004/office',
    'xlink': 'http://www.w3.org/1999/xlink',
}

#
# Attribute dictionaries for use with ElementTree (not lxml), which
#   does not support use of nsmap parameter on Element() and SubElement().

CONTENT_NAMESPACE_ATTRIB = {
    #'office:version': '1.0',
    'xmlns:chart': 'urn:oasis:names:tc:opendocument:xmlns:chart:1.0',
    'xmlns:dc': 'http://purl.org/dc/elements/1.1/',
    'xmlns:dom': 'http://www.w3.org/2001/xml-events',
    'xmlns:dr3d': 'urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0',
    'xmlns:draw': 'urn:oasis:names:tc:opendocument:xmlns:drawing:1.0',
    'xmlns:fo': 'urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0',
    'xmlns:form': 'urn:oasis:names:tc:opendocument:xmlns:form:1.0',
    'xmlns:math': 'http://www.w3.org/1998/Math/MathML',
    'xmlns:meta': 'urn:oasis:names:tc:opendocument:xmlns:meta:1.0',
    'xmlns:number': 'urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0',
    'xmlns:office': NAME_SPACE_1,
    'xmlns:presentation': 'urn:oasis:names:tc:opendocument:xmlns:presentation:1.0',
    'xmlns:ooo': 'http://openoffice.org/2004/office',
    'xmlns:oooc': 'http://openoffice.org/2004/calc',
    'xmlns:ooow': 'http://openoffice.org/2004/writer',
    'xmlns:script': 'urn:oasis:names:tc:opendocument:xmlns:script:1.0',
    'xmlns:style': 'urn:oasis:names:tc:opendocument:xmlns:style:1.0',
    'xmlns:svg': 'urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0',
    'xmlns:table': 'urn:oasis:names:tc:opendocument:xmlns:table:1.0',
    'xmlns:text': 'urn:oasis:names:tc:opendocument:xmlns:text:1.0',
    'xmlns:xforms': 'http://www.w3.org/2002/xforms',
    'xmlns:xlink': 'http://www.w3.org/1999/xlink',
    'xmlns:xsd': 'http://www.w3.org/2001/XMLSchema',
    'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',
    }

STYLES_NAMESPACE_ATTRIB = {
    #'office:version': '1.0',
    'xmlns:chart': 'urn:oasis:names:tc:opendocument:xmlns:chart:1.0',
    'xmlns:dc': 'http://purl.org/dc/elements/1.1/',
    'xmlns:dom': 'http://www.w3.org/2001/xml-events',
    'xmlns:dr3d': 'urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0',
    'xmlns:draw': 'urn:oasis:names:tc:opendocument:xmlns:drawing:1.0',
    'xmlns:fo': 'urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0',
    'xmlns:form': 'urn:oasis:names:tc:opendocument:xmlns:form:1.0',
    'xmlns:math': 'http://www.w3.org/1998/Math/MathML',
    'xmlns:meta': 'urn:oasis:names:tc:opendocument:xmlns:meta:1.0',
    'xmlns:number': 'urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0',
    'xmlns:office': NAME_SPACE_1,
    'xmlns:presentation': 'urn:oasis:names:tc:opendocument:xmlns:presentation:1.0',
    'xmlns:ooo': 'http://openoffice.org/2004/office',
    'xmlns:oooc': 'http://openoffice.org/2004/calc',
    'xmlns:ooow': 'http://openoffice.org/2004/writer',
    'xmlns:script': 'urn:oasis:names:tc:opendocument:xmlns:script:1.0',
    'xmlns:style': 'urn:oasis:names:tc:opendocument:xmlns:style:1.0',
    'xmlns:svg': 'urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0',
    'xmlns:table': 'urn:oasis:names:tc:opendocument:xmlns:table:1.0',
    'xmlns:text': 'urn:oasis:names:tc:opendocument:xmlns:text:1.0',
    'xmlns:xlink': 'http://www.w3.org/1999/xlink',
    }

MANIFEST_NAMESPACE_ATTRIB = {
    'xmlns:manifest': 'urn:oasis:names:tc:opendocument:xmlns:manifest:1.0',
}

META_NAMESPACE_ATTRIB = {
    #'office:version': '1.0',
    'xmlns:dc': 'http://purl.org/dc/elements/1.1/',
    'xmlns:meta': 'urn:oasis:names:tc:opendocument:xmlns:meta:1.0',
    'xmlns:office': NAME_SPACE_1,
    'xmlns:ooo': 'http://openoffice.org/2004/office',
    'xmlns:xlink': 'http://www.w3.org/1999/xlink',
}


#
# Functions
#

#
# ElementTree support functions.
# In order to be able to get the parent of elements, must use these
#   instead of the functions with same name provided by ElementTree.
#
def Element(tag, attrib=None, nsmap=None, nsdict=CNSD):
    if attrib is None:
        attrib = {}
    tag, attrib = fix_ns(tag, attrib, nsdict)
    if WhichElementTree == 'lxml':
        el = etree.Element(tag, attrib, nsmap=nsmap)
    else:
        el = _ElementInterfaceWrapper(tag, attrib)
    return el

def SubElement(parent, tag, attrib=None, nsmap=None, nsdict=CNSD):
    if attrib is None:
        attrib = {}
    tag, attrib = fix_ns(tag, attrib, nsdict)
    if WhichElementTree == 'lxml':
        el = etree.SubElement(parent, tag, attrib, nsmap=nsmap)
    else:
        el = _ElementInterfaceWrapper(tag, attrib)
        parent.append(el)
        el.setparent(parent)
    return el

def fix_ns(tag, attrib, nsdict):
    nstag = add_ns(tag, nsdict)
    nsattrib = {}
    for key, val in attrib.iteritems():
        nskey = add_ns(key, nsdict)
        nsattrib[nskey] = val
    return nstag, nsattrib

def add_ns(tag, nsdict=CNSD):
    if WhichElementTree == 'lxml':
        nstag, name = tag.split(':')
        ns = nsdict.get(nstag)
        if ns is None:
            raise RuntimeError, 'Invalid namespace prefix: %s' % nstag
        tag = '{%s}%s' % (ns, name,)
    return tag

def ToString(et):
    outstream = StringIO.StringIO()
    if sys.version_info >= (3, 2):
        et.write(outstream, encoding="unicode")
    else:
        et.write(outstream)
    s1 = outstream.getvalue()
    outstream.close()
    return s1


def escape_cdata(text):
    text = text.replace("&", "&amp;")
    text = text.replace("<", "&lt;")
    text = text.replace(">", "&gt;")
    ascii = ''
    for char in text:
      if ord(char) >= ord("\x7f"):
          ascii += "&#x%X;" % ( ord(char), )
      else:
          ascii += char
    return ascii



WORD_SPLIT_PAT1 = re.compile(r'\b(\w*)\b\W*')

def split_words(line):
    # We need whitespace at the end of the string for our regexpr.
    line += ' '
    words = []
    pos1 = 0
    mo = WORD_SPLIT_PAT1.search(line, pos1)
    while mo is not None:
        word = mo.groups()[0]
        words.append(word)
        pos1 = mo.end()
        mo = WORD_SPLIT_PAT1.search(line, pos1)
    return words


#
# Classes
#


class TableStyle(object):
    def __init__(self, border=None, backgroundcolor=None):
        self.border = border
        self.backgroundcolor = backgroundcolor
    def get_border_(self):
        return self.border_
    def set_border_(self, border):
        self.border_ = border
    border = property(get_border_, set_border_)
    def get_backgroundcolor_(self):
        return self.backgroundcolor_
    def set_backgroundcolor_(self, backgroundcolor):
        self.backgroundcolor_ = backgroundcolor
    backgroundcolor = property(get_backgroundcolor_, set_backgroundcolor_)

BUILTIN_DEFAULT_TABLE_STYLE = TableStyle(
    border = '0.0007in solid #000000')

#
# Information about the indentation level for lists nested inside
#   other contexts, e.g. dictionary lists.
class ListLevel(object):
    def __init__(self, level, sibling_level=True, nested_level=True):
        self.level = level
        self.sibling_level = sibling_level
        self.nested_level = nested_level
    def set_sibling(self, sibling_level): self.sibling_level = sibling_level
    def get_sibling(self): return self.sibling_level
    def set_nested(self, nested_level): self.nested_level = nested_level
    def get_nested(self): return self.nested_level
    def set_level(self, level): self.level = level
    def get_level(self): return self.level


class Writer(writers.Writer):

    MIME_TYPE = 'application/vnd.oasis.opendocument.text'
    EXTENSION = '.odt'

    supported = ('odt', )
    """Formats this writer supports."""

    default_stylesheet = 'styles' + EXTENSION

    default_stylesheet_path = utils.relative_path(
        os.path.join(os.getcwd(), 'dummy'),
        os.path.join(os.path.dirname(__file__), default_stylesheet))

    default_template = 'template.txt'

    default_template_path = utils.relative_path(
        os.path.join(os.getcwd(), 'dummy'),
        os.path.join(os.path.dirname(__file__), default_template))

    settings_spec = (
        'ODF-Specific Options',
        None,
        (
        ('Specify a stylesheet.  '
            'Default: "%s"' % default_stylesheet_path,
            ['--stylesheet'],
            {
                'default': default_stylesheet_path,
                'dest': 'stylesheet'
                }),
        ('Specify a configuration/mapping file relative to the '
            'current working '
            'directory for additional ODF options.  '
            'In particular, this file may contain a section named '
            '"Formats" that maps default style names to '
            'names to be used in the resulting output file allowing for '
            'adhering to external standards. '
            'For more info and the format of the configuration/mapping file, '
            'see the odtwriter doc.',
            ['--odf-config-file'],
            {'metavar': '<file>'}),
        ('Obfuscate email addresses to confuse harvesters while still '
            'keeping email links usable with standards-compliant browsers.',
            ['--cloak-email-addresses'],
            {'default': False,
                'action': 'store_true',
                'dest': 'cloak_email_addresses',
                'validator': frontend.validate_boolean}),
        ('Do not obfuscate email addresses.',
            ['--no-cloak-email-addresses'],
            {'default': False,
                'action': 'store_false',
                'dest': 'cloak_email_addresses',
                'validator': frontend.validate_boolean}),
        ('Specify the thickness of table borders in thousands of a cm.  '
            'Default is 35.',
            ['--table-border-thickness'],
            {'default': None,
                'validator': frontend.validate_nonnegative_int}),
        ('Add syntax highlighting in literal code blocks.',
            ['--add-syntax-highlighting'],
            {'default': False,
                'action': 'store_true',
                'dest': 'add_syntax_highlighting',
                'validator': frontend.validate_boolean}),
        ('Do not add syntax highlighting in literal code blocks. (default)',
            ['--no-syntax-highlighting'],
            {'default': False,
                'action': 'store_false',
                'dest': 'add_syntax_highlighting',
                'validator': frontend.validate_boolean}),
        ('Create sections for headers.  (default)',
            ['--create-sections'],
            {'default': True, 
                'action': 'store_true',
                'dest': 'create_sections',
                'validator': frontend.validate_boolean}),
        ('Do not create sections for headers.',
            ['--no-sections'],
            {'default': True, 
                'action': 'store_false',
                'dest': 'create_sections',
                'validator': frontend.validate_boolean}),
        ('Create links.',
            ['--create-links'],
            {'default': False,
                'action': 'store_true',
                'dest': 'create_links',
                'validator': frontend.validate_boolean}),
        ('Do not create links.  (default)',
            ['--no-links'],
            {'default': False,
                'action': 'store_false',
                'dest': 'create_links',
                'validator': frontend.validate_boolean}),
        ('Generate endnotes at end of document, not footnotes '
            'at bottom of page.',
            ['--endnotes-end-doc'],
            {'default': False,
                'action': 'store_true',
                'dest': 'endnotes_end_doc',
                'validator': frontend.validate_boolean}),
        ('Generate footnotes at bottom of page, not endnotes '
            'at end of document. (default)',
            ['--no-endnotes-end-doc'],
            {'default': False,
                'action': 'store_false',
                'dest': 'endnotes_end_doc',
                'validator': frontend.validate_boolean}),
        ('Generate a bullet list table of contents, not '
            'an ODF/oowriter table of contents.',
            ['--generate-list-toc'],
            {'default': True,
                'action': 'store_false',
                'dest': 'generate_oowriter_toc',
                'validator': frontend.validate_boolean}),
        ('Generate an ODF/oowriter table of contents, not '
            'a bullet list. (default)',
            ['--generate-oowriter-toc'],
            {'default': True,
                'action': 'store_true',
                'dest': 'generate_oowriter_toc',
                'validator': frontend.validate_boolean}),
        ('Specify the contents of an custom header line.  '
            'See odf_odt writer documentation for details '
            'about special field character sequences.',
            ['--custom-odt-header'],
            {   'default': '',
                'dest': 'custom_header',
                }),
        ('Specify the contents of an custom footer line.  '
            'See odf_odt writer documentation for details '
            'about special field character sequences.',
            ['--custom-odt-footer'],
            {   'default': '',
                'dest': 'custom_footer',
                }),
        )
        )

    settings_defaults = {
        'output_encoding_error_handler': 'xmlcharrefreplace',
        }

    relative_path_settings = (
        'stylesheet_path',
        )

    config_section = 'odf_odt writer'
    config_section_dependencies = (
        'writers',
        )

    def __init__(self):
        writers.Writer.__init__(self)
        self.translator_class = ODFTranslator

    def translate(self):
        self.settings = self.document.settings
        self.visitor = self.translator_class(self.document)
        self.visitor.retrieve_styles(self.EXTENSION)
        self.document.walkabout(self.visitor)
        self.visitor.add_doc_title()
        self.assemble_my_parts()
        self.output = self.parts['whole']

    def assemble_my_parts(self):
        """Assemble the `self.parts` dictionary.  Extend in subclasses.
        """
        writers.Writer.assemble_parts(self)
        f = tempfile.NamedTemporaryFile()
        zfile = zipfile.ZipFile(f, 'w', zipfile.ZIP_DEFLATED)
        self.write_zip_str(zfile, 'mimetype', self.MIME_TYPE,
            compress_type=zipfile.ZIP_STORED)
        content = self.visitor.content_astext()
        self.write_zip_str(zfile, 'content.xml', content)
        s1 = self.create_manifest()
        self.write_zip_str(zfile, 'META-INF/manifest.xml', s1)
        s1 = self.create_meta()
        self.write_zip_str(zfile, 'meta.xml', s1)
        s1 = self.get_stylesheet()
        self.write_zip_str(zfile, 'styles.xml', s1)
        self.store_embedded_files(zfile)
        self.copy_from_stylesheet(zfile)
        zfile.close()
        f.seek(0)
        whole = f.read()
        f.close()
        self.parts['whole'] = whole
        self.parts['encoding'] = self.document.settings.output_encoding
        self.parts['version'] = docutils.__version__

    def write_zip_str(self, zfile, name, bytes, compress_type=zipfile.ZIP_DEFLATED):
        localtime = time.localtime(time.time())
        zinfo = zipfile.ZipInfo(name, localtime)
        # Add some standard UNIX file access permissions (-rw-r--r--).
        zinfo.external_attr = (0x81a4 & 0xFFFF) << 16L
        zinfo.compress_type = compress_type
        zfile.writestr(zinfo, bytes)

    def store_embedded_files(self, zfile):
        embedded_files = self.visitor.get_embedded_file_list()
        for source, destination in embedded_files:
            if source is None:
                continue
            try:
                zfile.write(source, destination)
            except OSError, e:
                self.document.reporter.warning(
                    "Can't open file %s." % (source, ))

    def get_settings(self):
        """
        modeled after get_stylesheet
        """
        stylespath = self.settings.stylesheet
        zfile = zipfile.ZipFile(stylespath, 'r')
        s1 = zfile.read('settings.xml')
        zfile.close()
        return s1

    def get_stylesheet(self):
        """Get the stylesheet from the visitor.
        Ask the visitor to setup the page.
        """
        s1 = self.visitor.setup_page()
        return s1

    def copy_from_stylesheet(self, outzipfile):
        """Copy images, settings, etc from the stylesheet doc into target doc.
        """
        stylespath = self.settings.stylesheet
        inzipfile = zipfile.ZipFile(stylespath, 'r')
        # Copy the styles.
        s1 = inzipfile.read('settings.xml')
        self.write_zip_str(outzipfile, 'settings.xml', s1)
        # Copy the images.
        namelist = inzipfile.namelist()
        for name in namelist:
            if name.startswith('Pictures/'):
                imageobj = inzipfile.read(name)
                outzipfile.writestr(name, imageobj)
        inzipfile.close()

    def assemble_parts(self):
        pass

    def create_manifest(self):
        if WhichElementTree == 'lxml':
            root = Element('manifest:manifest',
                nsmap=MANIFEST_NAMESPACE_DICT,
                nsdict=MANIFEST_NAMESPACE_DICT,
                )
        else:
            root = Element('manifest:manifest',
                attrib=MANIFEST_NAMESPACE_ATTRIB,
                nsdict=MANIFEST_NAMESPACE_DICT,
                )
        doc = etree.ElementTree(root)
        SubElement(root, 'manifest:file-entry', attrib={
            'manifest:media-type': self.MIME_TYPE,
            'manifest:full-path': '/',
            }, nsdict=MANNSD)
        SubElement(root, 'manifest:file-entry', attrib={
            'manifest:media-type': 'text/xml',
            'manifest:full-path': 'content.xml',
            }, nsdict=MANNSD)
        SubElement(root, 'manifest:file-entry', attrib={
            'manifest:media-type': 'text/xml',
            'manifest:full-path': 'styles.xml',
            }, nsdict=MANNSD)
        SubElement(root, 'manifest:file-entry', attrib={
            'manifest:media-type': 'text/xml',
            'manifest:full-path': 'settings.xml',
            }, nsdict=MANNSD)
        SubElement(root, 'manifest:file-entry', attrib={
            'manifest:media-type': 'text/xml',
            'manifest:full-path': 'meta.xml',
            }, nsdict=MANNSD)
        s1 = ToString(doc)
        doc = minidom.parseString(s1)
        s1 = doc.toprettyxml('  ')
        return s1

    def create_meta(self):
        if WhichElementTree == 'lxml':
            root = Element('office:document-meta',
                nsmap=META_NAMESPACE_DICT,
                nsdict=META_NAMESPACE_DICT,
                )
        else:
            root = Element('office:document-meta',
                attrib=META_NAMESPACE_ATTRIB,
                nsdict=META_NAMESPACE_DICT,
                )
        doc = etree.ElementTree(root)
        root = SubElement(root, 'office:meta', nsdict=METNSD)
        el1 = SubElement(root, 'meta:generator', nsdict=METNSD)
        el1.text = 'Docutils/rst2odf.py/%s' % (VERSION, )
        s1 = os.environ.get('USER', '')
        el1 = SubElement(root, 'meta:initial-creator', nsdict=METNSD)
        el1.text = s1
        s2 = time.strftime('%Y-%m-%dT%H:%M:%S', time.localtime())
        el1 = SubElement(root, 'meta:creation-date', nsdict=METNSD)
        el1.text = s2
        el1 = SubElement(root, 'dc:creator', nsdict=METNSD)
        el1.text = s1
        el1 = SubElement(root, 'dc:date', nsdict=METNSD)
        el1.text = s2
        el1 = SubElement(root, 'dc:language', nsdict=METNSD)
        el1.text = 'en-US'
        el1 = SubElement(root, 'meta:editing-cycles', nsdict=METNSD)
        el1.text = '1'
        el1 = SubElement(root, 'meta:editing-duration', nsdict=METNSD)
        el1.text = 'PT00M01S'
        title = self.visitor.get_title()
        el1 = SubElement(root, 'dc:title', nsdict=METNSD)
        if title:
            el1.text = title
        else:
            el1.text = '[no title]'
        meta_dict = self.visitor.get_meta_dict()
        keywordstr = meta_dict.get('keywords')
        if keywordstr is not None:
            keywords = split_words(keywordstr)
            for keyword in keywords:
                el1 = SubElement(root, 'meta:keyword', nsdict=METNSD)
                el1.text = keyword
        description = meta_dict.get('description')
        if description is not None:
            el1 = SubElement(root, 'dc:description', nsdict=METNSD)
            el1.text = description
        s1 = ToString(doc)
        #doc = minidom.parseString(s1)
        #s1 = doc.toprettyxml('  ')
        return s1

# class ODFTranslator(nodes.SparseNodeVisitor):

class ODFTranslator(nodes.GenericNodeVisitor):

    used_styles = (
        'attribution', 'blockindent', 'blockquote', 'blockquote-bulletitem',
        'blockquote-bulletlist', 'blockquote-enumitem', 'blockquote-enumlist',
        'bulletitem', 'bulletlist',
        'caption', 'legend',
        'centeredtextbody', 'codeblock', 'codeblock-indented',
        'codeblock-classname', 'codeblock-comment', 'codeblock-functionname',
        'codeblock-keyword', 'codeblock-name', 'codeblock-number',
        'codeblock-operator', 'codeblock-string', 'emphasis', 'enumitem',
        'enumlist', 'epigraph', 'epigraph-bulletitem', 'epigraph-bulletlist',
        'epigraph-enumitem', 'epigraph-enumlist', 'footer',
        'footnote', 'citation',
        'header', 'highlights', 'highlights-bulletitem',
        'highlights-bulletlist', 'highlights-enumitem', 'highlights-enumlist',
        'horizontalline', 'inlineliteral', 'quotation', 'rubric',
        'strong', 'table-title', 'textbody', 'tocbulletlist', 'tocenumlist',
        'title',
        'subtitle',
        'heading1',
        'heading2',
        'heading3',
        'heading4',
        'heading5',
        'heading6',
        'heading7',
        'admon-attention-hdr',
        'admon-attention-body',
        'admon-caution-hdr',
        'admon-caution-body',
        'admon-danger-hdr',
        'admon-danger-body',
        'admon-error-hdr',
        'admon-error-body',
        'admon-generic-hdr',
        'admon-generic-body',
        'admon-hint-hdr',
        'admon-hint-body',
        'admon-important-hdr',
        'admon-important-body',
        'admon-note-hdr',
        'admon-note-body',
        'admon-tip-hdr',
        'admon-tip-body',
        'admon-warning-hdr',
        'admon-warning-body',
        'tableoption',
        'tableoption.%c', 'tableoption.%c%d', 'Table%d', 'Table%d.%c',
        'Table%d.%c%d',
        'lineblock1',
        'lineblock2',
        'lineblock3',
        'lineblock4',
        'lineblock5',
        'lineblock6',
        'image', 'figureframe',
        )

    def __init__(self, document):
        #nodes.SparseNodeVisitor.__init__(self, document)
        nodes.GenericNodeVisitor.__init__(self, document)
        self.settings = document.settings
        lcode = self.settings.language_code
        self.language = languages.get_language(lcode, document.reporter)
        self.format_map = { }
        if self.settings.odf_config_file:
            from ConfigParser import ConfigParser

            parser = ConfigParser()
            parser.read(self.settings.odf_config_file)
            for rststyle, format in parser.items("Formats"):
                if rststyle not in self.used_styles:
                    self.document.reporter.warning(
                        'Style "%s" is not a style used by odtwriter.' % (
                        rststyle, ))
                self.format_map[rststyle] = format.decode('utf-8')
        self.section_level = 0
        self.section_count = 0
        # Create ElementTree content and styles documents.
        if WhichElementTree == 'lxml':
            root = Element(
                'office:document-content',
                nsmap=CONTENT_NAMESPACE_DICT,
                )
        else:
            root = Element(
                'office:document-content',
                attrib=CONTENT_NAMESPACE_ATTRIB,
                )
        self.content_tree = etree.ElementTree(element=root)
        self.current_element = root
        SubElement(root, 'office:scripts')
        SubElement(root, 'office:font-face-decls')
        el = SubElement(root, 'office:automatic-styles')
        self.automatic_styles = el
        el = SubElement(root, 'office:body')
        el = self.generate_content_element(el)
        self.current_element = el
        self.body_text_element = el
        self.paragraph_style_stack = [self.rststyle('textbody'), ]
        self.list_style_stack = []
        self.table_count = 0
        self.column_count = ord('A') - 1
        self.trace_level = -1
        self.optiontablestyles_generated = False
        self.field_name = None
        self.field_element = None
        self.title = None
        self.image_count = 0
        self.image_style_count = 0
        self.image_dict = {}
        self.embedded_file_list = []
        self.syntaxhighlighting = 1
        self.syntaxhighlight_lexer = 'python'
        self.header_content = []
        self.footer_content = []
        self.in_header = False
        self.in_footer = False
        self.blockstyle = ''
        self.in_table_of_contents = False
        self.table_of_content_index_body = None
        self.list_level = 0
        self.def_list_level = 0
        self.footnote_ref_dict = {}
        self.footnote_list = []
        self.footnote_chars_idx = 0
        self.footnote_level = 0
        self.pending_ids = [ ]
        self.in_paragraph = False
        self.found_doc_title = False
        self.bumped_list_level_stack = []
        self.meta_dict = {}
        self.line_block_level = 0
        self.line_indent_level = 0
        self.citation_id = None
        self.style_index = 0        # use to form unique style names
        self.str_stylesheet = ''
        self.str_stylesheetcontent = ''
        self.dom_stylesheet = None
        self.table_styles = None
        self.in_citation = False

        # Keep track of nested styling classes
        self.inline_style_count_stack = []

    def get_str_stylesheet(self):
        return self.str_stylesheet

    def retrieve_styles(self, extension):
        """Retrieve the stylesheet from either a .xml file or from
        a .odt (zip) file.  Return the content as a string.
        """
        s2 = None
        stylespath = self.settings.stylesheet
        ext = os.path.splitext(stylespath)[1]
        if ext == '.xml':
            stylesfile = open(stylespath, 'r')
            s1 = stylesfile.read()
            stylesfile.close()
        elif ext == extension:
            zfile = zipfile.ZipFile(stylespath, 'r')
            s1 = zfile.read('styles.xml')
            s2 = zfile.read('content.xml')
            zfile.close()
        else:
            raise RuntimeError, 'stylesheet path (%s) must be %s or .xml file' %(stylespath, extension)
        self.str_stylesheet = s1
        self.str_stylesheetcontent = s2
        self.dom_stylesheet = etree.fromstring(self.str_stylesheet)
        self.dom_stylesheetcontent = etree.fromstring(self.str_stylesheetcontent)
        self.table_styles = self.extract_table_styles(s2)

    def extract_table_styles(self, styles_str):
        root = etree.fromstring(styles_str)
        table_styles = {}
        auto_styles = root.find(
            '{%s}automatic-styles' % (CNSD['office'], ))
        for stylenode in auto_styles:
            name = stylenode.get('{%s}name' % (CNSD['style'], ))
            tablename = name.split('.')[0]
            family = stylenode.get('{%s}family' % (CNSD['style'], ))
            if name.startswith(TABLESTYLEPREFIX):
                tablestyle = table_styles.get(tablename)
                if tablestyle is None:
                    tablestyle = TableStyle()
                    table_styles[tablename] = tablestyle
                if family == 'table':
                    properties = stylenode.find(
                        '{%s}table-properties' % (CNSD['style'], ))
                    property = properties.get('{%s}%s' % (CNSD['fo'],
                        'background-color', ))
                    if property is not None and property != 'none':
                        tablestyle.backgroundcolor = property
                elif family == 'table-cell':
                    properties = stylenode.find(
                        '{%s}table-cell-properties' % (CNSD['style'], ))
                    if properties is not None:
                        border = self.get_property(properties)
                        if border is not None:
                            tablestyle.border = border
        return table_styles

    def get_property(self, stylenode):
        border = None
        for propertyname in TABLEPROPERTYNAMES:
            border = stylenode.get('{%s}%s' % (CNSD['fo'], propertyname, ))
            if border is not None and border != 'none':
                return border
        return border

    def add_doc_title(self):
        text = self.settings.title
        if text:
            self.title = text
            if not self.found_doc_title:
                el = Element('text:p', attrib = {
                    'text:style-name': self.rststyle('title'),
                    })
                el.text = text
                self.body_text_element.insert(0, el)
        el = self.find_first_text_p(self.body_text_element)
        if el is not None:
            self.attach_page_style(el)

    def find_first_text_p(self, el):
        """Search the generated doc and return the first <text:p> element.
        """
        if (
                el.tag == 'text:p' or
                el.tag == 'text:h'
                ):
            return el
        elif el.getchildren():
            for child in el.getchildren():
                el1 = self.find_first_text_p(child)
                if el1 is not None:
                    return el1
            return None
        else:
            return None

    def attach_page_style(self, el):
        """Attach the default page style.

        Create an automatic-style that refers to the current style
        of this element and that refers to the default page style.
        """
        current_style = el.get('text:style-name')
        style_name = 'P1003'
        el1 = SubElement(
            self.automatic_styles, 'style:style', attrib={
                'style:name': style_name,
                'style:master-page-name': "rststyle-pagedefault",
                'style:family': "paragraph",
                }, nsdict=SNSD)
        if current_style:
            el1.set('style:parent-style-name', current_style)
        el.set('text:style-name', style_name)


    def rststyle(self, name, parameters=( )):
        """
        Returns the style name to use for the given style.

        If `parameters` is given `name` must contain a matching number of ``%`` and
        is used as a format expression with `parameters` as the value.
        """
        name1 = name % parameters
        stylename = self.format_map.get(name1, 'rststyle-%s' % name1)
        return stylename

    def generate_content_element(self, root):
        return SubElement(root, 'office:text')

    def setup_page(self):
        self.setup_paper(self.dom_stylesheet)
        if (len(self.header_content) > 0 or len(self.footer_content) > 0 or
            self.settings.custom_header or self.settings.custom_footer):
            self.add_header_footer(self.dom_stylesheet)
        new_content = etree.tostring(self.dom_stylesheet)
        return new_content

    def setup_paper(self, root_el):
        try:
            fin = os.popen("paperconf -s 2> /dev/null")
            w, h = map(float, fin.read().split())
            fin.close()
        except:
            w, h = 612, 792     # default to Letter
        def walk(el):
            if el.tag == "{%s}page-layout-properties" % SNSD["style"] and \
                    not el.attrib.has_key("{%s}page-width" % SNSD["fo"]):
                el.attrib["{%s}page-width" % SNSD["fo"]] = "%.3fpt" % w
                el.attrib["{%s}page-height" % SNSD["fo"]] = "%.3fpt" % h
                el.attrib["{%s}margin-left" % SNSD["fo"]] = \
                        el.attrib["{%s}margin-right" % SNSD["fo"]] = \
                        "%.3fpt" % (.1 * w)
                el.attrib["{%s}margin-top" % SNSD["fo"]] = \
                        el.attrib["{%s}margin-bottom" % SNSD["fo"]] = \
                        "%.3fpt" % (.1 * h)
            else:
                for subel in el.getchildren(): walk(subel)
        walk(root_el)

    def add_header_footer(self, root_el):
        automatic_styles = root_el.find(
            '{%s}automatic-styles' % SNSD['office'])
        path = '{%s}master-styles' % (NAME_SPACE_1, )
        master_el = root_el.find(path)
        if master_el is None:
            return
        path = '{%s}master-page' % (SNSD['style'], )
        master_el_container = master_el.findall(path)
        master_el = None
        target_attrib = '{%s}name' % (SNSD['style'], )
        target_name = self.rststyle('pagedefault')
        for el in master_el_container:
            if el.get(target_attrib) == target_name:
                master_el = el
                break
        if master_el is None:
            return
        el1 = master_el
        if self.header_content or self.settings.custom_header:
            if WhichElementTree == 'lxml':
                el2 = SubElement(el1, 'style:header', nsdict=SNSD)
            else:
                el2 = SubElement(el1, 'style:header',
                    attrib=STYLES_NAMESPACE_ATTRIB,
                    nsdict=STYLES_NAMESPACE_DICT,
                    )
            for el in self.header_content:
                attrkey = add_ns('text:style-name', nsdict=SNSD)
                el.attrib[attrkey] = self.rststyle('header')
                el2.append(el)
            if self.settings.custom_header:
                elcustom = self.create_custom_headfoot(el2,
                    self.settings.custom_header, 'header', automatic_styles)
        if self.footer_content or self.settings.custom_footer:
            if WhichElementTree == 'lxml':
                el2 = SubElement(el1, 'style:footer', nsdict=SNSD)
            else:
                el2 = SubElement(el1, 'style:footer',
                    attrib=STYLES_NAMESPACE_ATTRIB,
                    nsdict=STYLES_NAMESPACE_DICT,
                    )
            for el in self.footer_content:
                attrkey = add_ns('text:style-name', nsdict=SNSD)
                el.attrib[attrkey] = self.rststyle('footer')
                el2.append(el)
            if self.settings.custom_footer:
                elcustom = self.create_custom_headfoot(el2,
                    self.settings.custom_footer, 'footer', automatic_styles)

    code_none, code_field, code_text = range(3)
    field_pat = re.compile(r'%(..?)%')

    def create_custom_headfoot(self, parent, text, style_name, automatic_styles):
        parent = SubElement(parent, 'text:p', attrib={
            'text:style-name': self.rststyle(style_name),
            })
        current_element = None
        field_iter = self.split_field_specifiers_iter(text)
        for item in field_iter:
            if item[0] == ODFTranslator.code_field:
                if item[1] not in ('p', 'P', 
                    't1', 't2', 't3', 't4',
                    'd1', 'd2', 'd3', 'd4', 'd5',
                    's', 't', 'a'):
                    msg = 'bad field spec: %%%s%%' % (item[1], )
                    raise RuntimeError, msg
                el1 = self.make_field_element(parent,
                    item[1], style_name, automatic_styles)
                if el1 is None:
                    msg = 'bad field spec: %%%s%%' % (item[1], )
                    raise RuntimeError, msg
                else:
                    current_element = el1
            else:
                if current_element is None:
                    parent.text = item[1]
                else:
                    current_element.tail = item[1]

    def make_field_element(self, parent, text, style_name, automatic_styles):
        if text == 'p':
            el1 = SubElement(parent, 'text:page-number', attrib={
                #'text:style-name': self.rststyle(style_name),
                'text:select-page': 'current',
                })
        elif text == 'P':
            el1 = SubElement(parent, 'text:page-count', attrib={
                #'text:style-name': self.rststyle(style_name),
                })
        elif text == 't1':
            self.style_index += 1
            el1 = SubElement(parent, 'text:time', attrib={
                'text:style-name': self.rststyle(style_name),
                'text:fixed': 'true',
                'style:data-style-name': 'rst-time-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:time-style', attrib={
                'style:name': 'rst-time-style-%d' % self.style_index,
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:hours', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ':'
            el3 = SubElement(el2, 'number:minutes', attrib={
                    'number:style': 'long',
                    })
        elif text == 't2':
            self.style_index += 1
            el1 = SubElement(parent, 'text:time', attrib={
                'text:style-name': self.rststyle(style_name),
                'text:fixed': 'true',
                'style:data-style-name': 'rst-time-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:time-style', attrib={
                'style:name': 'rst-time-style-%d' % self.style_index,
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:hours', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ':'
            el3 = SubElement(el2, 'number:minutes', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ':'
            el3 = SubElement(el2, 'number:seconds', attrib={
                    'number:style': 'long',
                    })
        elif text == 't3':
            self.style_index += 1
            el1 = SubElement(parent, 'text:time', attrib={
                'text:style-name': self.rststyle(style_name),
                'text:fixed': 'true',
                'style:data-style-name': 'rst-time-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:time-style', attrib={
                'style:name': 'rst-time-style-%d' % self.style_index,
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:hours', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ':'
            el3 = SubElement(el2, 'number:minutes', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ' '
            el3 = SubElement(el2, 'number:am-pm')
        elif text == 't4':
            self.style_index += 1
            el1 = SubElement(parent, 'text:time', attrib={
                'text:style-name': self.rststyle(style_name),
                'text:fixed': 'true',
                'style:data-style-name': 'rst-time-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:time-style', attrib={
                'style:name': 'rst-time-style-%d' % self.style_index,
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:hours', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ':'
            el3 = SubElement(el2, 'number:minutes', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ':'
            el3 = SubElement(el2, 'number:seconds', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ' '
            el3 = SubElement(el2, 'number:am-pm')
        elif text == 'd1':
            self.style_index += 1
            el1 = SubElement(parent, 'text:date', attrib={
                'text:style-name': self.rststyle(style_name),
                'style:data-style-name': 'rst-date-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:date-style', attrib={
                'style:name': 'rst-date-style-%d' % self.style_index,
                'number:automatic-order': 'true',
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:month', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = '/'
            el3 = SubElement(el2, 'number:day', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = '/'
            el3 = SubElement(el2, 'number:year')
        elif text == 'd2':
            self.style_index += 1
            el1 = SubElement(parent, 'text:date', attrib={
                'text:style-name': self.rststyle(style_name),
                'style:data-style-name': 'rst-date-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:date-style', attrib={
                'style:name': 'rst-date-style-%d' % self.style_index,
                'number:automatic-order': 'true',
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:month', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = '/'
            el3 = SubElement(el2, 'number:day', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = '/'
            el3 = SubElement(el2, 'number:year', attrib={
                    'number:style': 'long',
                    })
        elif text == 'd3':
            self.style_index += 1
            el1 = SubElement(parent, 'text:date', attrib={
                'text:style-name': self.rststyle(style_name),
                'style:data-style-name': 'rst-date-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:date-style', attrib={
                'style:name': 'rst-date-style-%d' % self.style_index,
                'number:automatic-order': 'true',
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:month', attrib={
                    'number:textual': 'true',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ' '
            el3 = SubElement(el2, 'number:day', attrib={
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ', '
            el3 = SubElement(el2, 'number:year', attrib={
                    'number:style': 'long',
                    })
        elif text == 'd4':
            self.style_index += 1
            el1 = SubElement(parent, 'text:date', attrib={
                'text:style-name': self.rststyle(style_name),
                'style:data-style-name': 'rst-date-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:date-style', attrib={
                'style:name': 'rst-date-style-%d' % self.style_index,
                'number:automatic-order': 'true',
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:month', attrib={
                    'number:textual': 'true',
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ' '
            el3 = SubElement(el2, 'number:day', attrib={
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = ', '
            el3 = SubElement(el2, 'number:year', attrib={
                    'number:style': 'long',
                    })
        elif text == 'd5':
            self.style_index += 1
            el1 = SubElement(parent, 'text:date', attrib={
                'text:style-name': self.rststyle(style_name),
                'style:data-style-name': 'rst-date-style-%d' % self.style_index,
                })
            el2 = SubElement(automatic_styles, 'number:date-style', attrib={
                'style:name': 'rst-date-style-%d' % self.style_index,
                'xmlns:number': SNSD['number'],
                'xmlns:style': SNSD['style'],
                    })
            el3 = SubElement(el2, 'number:year', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = '-'
            el3 = SubElement(el2, 'number:month', attrib={
                    'number:style': 'long',
                    })
            el3 = SubElement(el2, 'number:text')
            el3.text = '-'
            el3 = SubElement(el2, 'number:day', attrib={
                    'number:style': 'long',
                    })
        elif text == 's':
            el1 = SubElement(parent, 'text:subject', attrib={
                'text:style-name': self.rststyle(style_name),
                })
        elif text == 't':
            el1 = SubElement(parent, 'text:title', attrib={
                'text:style-name': self.rststyle(style_name),
                })
        elif text == 'a':
            el1 = SubElement(parent, 'text:author-name', attrib={
                'text:fixed': 'false',
                })
        else:
            el1 = None
        return el1

    def split_field_specifiers_iter(self, text):
        pos1 = 0
        pos_end = len(text)
        while True:
            mo = ODFTranslator.field_pat.search(text, pos1)
            if mo:
                pos2 = mo.start()
                if pos2 > pos1:
                    yield (ODFTranslator.code_text, text[pos1:pos2])
                yield (ODFTranslator.code_field, mo.group(1))
                pos1 = mo.end()
            else:
                break
        trailing = text[pos1:]
        if trailing:
            yield (ODFTranslator.code_text, trailing)


    def astext(self):
        root = self.content_tree.getroot()
        et = etree.ElementTree(root)
        s1 = ToString(et)
        return s1

    def content_astext(self):
        return self.astext()

    def set_title(self, title): self.title = title
    def get_title(self): return self.title
    def set_embedded_file_list(self, embedded_file_list):
        self.embedded_file_list = embedded_file_list
    def get_embedded_file_list(self): return self.embedded_file_list
    def get_meta_dict(self): return self.meta_dict

    def process_footnotes(self):
        for node, el1 in self.footnote_list:
            backrefs = node.attributes.get('backrefs', [])
            first = True
            for ref in backrefs:
                el2 = self.footnote_ref_dict.get(ref)
                if el2 is not None:
                    if first:
                        first = False
                        el3 = copy.deepcopy(el1)
                        el2.append(el3)
                    else:
                        children = el2.getchildren()
                        if len(children) > 0: #  and 'id' in el2.attrib:
                            child = children[0]
                            ref1 = child.text
                            attribkey = add_ns('text:id', nsdict=SNSD)
                            id1 = el2.get(attribkey, 'footnote-error')
                            if id1 is None:
                                id1 = ''
                            tag = add_ns('text:note-ref', nsdict=SNSD)
                            el2.tag = tag
                            if self.settings.endnotes_end_doc:
                                note_class = 'endnote'
                            else:
                                note_class = 'footnote'
                            el2.attrib.clear()
                            attribkey = add_ns('text:note-class', nsdict=SNSD)
                            el2.attrib[attribkey] = note_class
                            attribkey = add_ns('text:ref-name', nsdict=SNSD)
                            el2.attrib[attribkey] = id1
                            attribkey = add_ns('text:reference-format', nsdict=SNSD)
                            el2.attrib[attribkey] = 'page'
                            el2.text = ref1

    #
    # Utility methods

    def append_child(self, tag, attrib=None, parent=None):
        if parent is None:
            parent = self.current_element
        if attrib is None:
            el = SubElement(parent, tag)
        else:
            el = SubElement(parent, tag, attrib)
        return el

    def append_p(self, style, text=None):
        result = self.append_child('text:p', attrib={
                'text:style-name': self.rststyle(style)})
        self.append_pending_ids(result)
        if text is not None:
            result.text = text
        return result

    def append_pending_ids(self, el):
        if self.settings.create_links:
            for id in self.pending_ids:
                SubElement(el, 'text:reference-mark', attrib={
                        'text:name': id})
        self.pending_ids = [ ]

    def set_current_element(self, el):
        self.current_element = el

    def set_to_parent(self):
        self.current_element = self.current_element.getparent()

    def generate_labeled_block(self, node, label):
        label = '%s:' % (self.language.labels[label], )
        el = self.append_p('textbody')
        el1 = SubElement(el, 'text:span',
            attrib={'text:style-name': self.rststyle('strong')})
        el1.text = label
        el = self.append_p('blockindent')
        return el

    def generate_labeled_line(self, node, label):
        label = '%s:' % (self.language.labels[label], )
        el = self.append_p('textbody')
        el1 = SubElement(el, 'text:span',
            attrib={'text:style-name': self.rststyle('strong')})
        el1.text = label
        el1.tail = node.astext()
        return el

    def encode(self, text):
        text = text.replace(u'\u00a0', " ")
        return text

    #
    # Visitor functions
    #
    # In alphabetic order, more or less.
    #   See docutils.docutils.nodes.node_class_names.
    #

    def dispatch_visit(self, node):
        """Override to catch basic attributes which many nodes have."""
        self.handle_basic_atts(node)
        nodes.GenericNodeVisitor.dispatch_visit(self, node)

    def handle_basic_atts(self, node):
        if isinstance(node, nodes.Element) and node['ids']:
            self.pending_ids += node['ids']

    def default_visit(self, node):
        self.document.reporter.warning('missing visit_%s' % (node.tagname, ))

    def default_departure(self, node):
        self.document.reporter.warning('missing depart_%s' % (node.tagname, ))

    def visit_Text(self, node):
        # Skip nodes whose text has been processed in parent nodes.
        if isinstance(node.parent, docutils.nodes.literal_block):
            return
        text = node.astext()
        # Are we in mixed content?  If so, add the text to the
        #   etree tail of the previous sibling element.
        if len(self.current_element.getchildren()) > 0:
            if self.current_element.getchildren()[-1].tail:
                self.current_element.getchildren()[-1].tail += text
            else:
                self.current_element.getchildren()[-1].tail = text
        else:
            if self.current_element.text:
                self.current_element.text += text
            else:
                self.current_element.text = text

    def depart_Text(self, node):
        pass

    #
    # Pre-defined fields
    #

    def visit_address(self, node):
        el = self.generate_labeled_block(node, 'address')
        self.set_current_element(el)

    def depart_address(self, node):
        self.set_to_parent()

    def visit_author(self, node):
        if isinstance(node.parent, nodes.authors):
            el = self.append_p('blockindent')
        else:
            el = self.generate_labeled_block(node, 'author')
        self.set_current_element(el)

    def depart_author(self, node):
        self.set_to_parent()

    def visit_authors(self, node):
        label = '%s:' % (self.language.labels['authors'], )
        el = self.append_p('textbody')
        el1 = SubElement(el, 'text:span',
            attrib={'text:style-name': self.rststyle('strong')})
        el1.text = label

    def depart_authors(self, node):
        pass

    def visit_contact(self, node):
        el = self.generate_labeled_block(node, 'contact')
        self.set_current_element(el)

    def depart_contact(self, node):
        self.set_to_parent()

    def visit_copyright(self, node):
        el = self.generate_labeled_block(node, 'copyright')
        self.set_current_element(el)

    def depart_copyright(self, node):
        self.set_to_parent()

    def visit_date(self, node):
        self.generate_labeled_line(node, 'date')

    def depart_date(self, node):
        pass

    def visit_organization(self, node):
        el = self.generate_labeled_block(node, 'organization')
        self.set_current_element(el)

    def depart_organization(self, node):
        self.set_to_parent()

    def visit_status(self, node):
        el = self.generate_labeled_block(node, 'status')
        self.set_current_element(el)

    def depart_status(self, node):
        self.set_to_parent()

    def visit_revision(self, node):
        el = self.generate_labeled_line(node, 'revision')

    def depart_revision(self, node):
        pass

    def visit_version(self, node):
        el = self.generate_labeled_line(node, 'version')
        #self.set_current_element(el)

    def depart_version(self, node):
        #self.set_to_parent()
        pass

    def visit_attribution(self, node):
        el = self.append_p('attribution', node.astext())

    def depart_attribution(self, node):
        pass

    def visit_block_quote(self, node):
        if 'epigraph' in node.attributes['classes']:
            self.paragraph_style_stack.append(self.rststyle('epigraph'))
            self.blockstyle = self.rststyle('epigraph')
        elif 'highlights' in node.attributes['classes']:
            self.paragraph_style_stack.append(self.rststyle('highlights'))
            self.blockstyle = self.rststyle('highlights')
        else:
            self.paragraph_style_stack.append(self.rststyle('blockquote'))
            self.blockstyle = self.rststyle('blockquote')
        self.line_indent_level += 1

    def depart_block_quote(self, node):
        self.paragraph_style_stack.pop()
        self.blockstyle = ''
        self.line_indent_level -= 1

    def visit_bullet_list(self, node):
        self.list_level +=1
        if self.in_table_of_contents:
            if self.settings.generate_oowriter_toc:
                pass
            else:
                if node.has_key('classes') and \
                        'auto-toc' in node.attributes['classes']:
                    el = SubElement(self.current_element, 'text:list', attrib={
                        'text:style-name': self.rststyle('tocenumlist'),
                        })
                    self.list_style_stack.append(self.rststyle('enumitem'))
                else:
                    el = SubElement(self.current_element, 'text:list', attrib={
                        'text:style-name': self.rststyle('tocbulletlist'),
                        })
                    self.list_style_stack.append(self.rststyle('bulletitem'))
                self.set_current_element(el)
        else:
            if self.blockstyle == self.rststyle('blockquote'):
                el = SubElement(self.current_element, 'text:list', attrib={
                    'text:style-name': self.rststyle('blockquote-bulletlist'),
                    })
                self.list_style_stack.append(
                    self.rststyle('blockquote-bulletitem'))
            elif self.blockstyle == self.rststyle('highlights'):
                el = SubElement(self.current_element, 'text:list', attrib={
                    'text:style-name': self.rststyle('highlights-bulletlist'),
                    })
                self.list_style_stack.append(
                    self.rststyle('highlights-bulletitem'))
            elif self.blockstyle == self.rststyle('epigraph'):
                el = SubElement(self.current_element, 'text:list', attrib={
                    'text:style-name': self.rststyle('epigraph-bulletlist'),
                    })
                self.list_style_stack.append(
                    self.rststyle('epigraph-bulletitem'))
            else:
                el = SubElement(self.current_element, 'text:list', attrib={
                    'text:style-name': self.rststyle('bulletlist'),
                    })
                self.list_style_stack.append(self.rststyle('bulletitem'))
            self.set_current_element(el)

    def depart_bullet_list(self, node):
        if self.in_table_of_contents:
            if self.settings.generate_oowriter_toc:
                pass
            else:
                self.set_to_parent()
                self.list_style_stack.pop()
        else:
            self.set_to_parent()
            self.list_style_stack.pop()
        self.list_level -=1

    def visit_caption(self, node):
        raise nodes.SkipChildren()
        pass

    def depart_caption(self, node):
        pass

    def visit_comment(self, node):
        el = self.append_p('textbody')
        el1 =  SubElement(el, 'office:annotation', attrib={})
        el2 =  SubElement(el1, 'dc:creator', attrib={})
        s1 = os.environ.get('USER', '')
        el2.text = s1
        el2 =  SubElement(el1, 'text:p', attrib={})
        el2.text = node.astext()

    def depart_comment(self, node):
        pass

    def visit_compound(self, node):
        # The compound directive currently receives no special treatment.
        pass

    def depart_compound(self, node):
        pass

    def visit_container(self, node):
        styles = node.attributes.get('classes', ())
        if len(styles) > 0:
            self.paragraph_style_stack.append(self.rststyle(styles[0]))

    def depart_container(self, node):
        styles = node.attributes.get('classes', ())
        if len(styles) > 0:
            self.paragraph_style_stack.pop()

    def visit_decoration(self, node):
        pass

    def depart_decoration(self, node):
        pass

    def visit_definition_list(self, node):
        self.def_list_level +=1
        if self.list_level > 5:
            raise RuntimeError(
                'max definition list nesting level exceeded')

    def depart_definition_list(self, node):
        self.def_list_level -=1

    def visit_definition_list_item(self, node):
        pass

    def depart_definition_list_item(self, node):
        pass

    def visit_term(self, node):
        el = self.append_p('deflist-term-%d' % self.def_list_level)
        el.text = node.astext()
        self.set_current_element(el)
        raise nodes.SkipChildren()

    def depart_term(self, node):
        self.set_to_parent()

    def visit_definition(self, node):
        self.paragraph_style_stack.append(
            self.rststyle('deflist-def-%d' % self.def_list_level))
        self.bumped_list_level_stack.append(ListLevel(1))

    def depart_definition(self, node):
        self.paragraph_style_stack.pop()
        self.bumped_list_level_stack.pop()

    def visit_classifier(self, node):
        els = self.current_element.getchildren()
        if len(els) > 0:
            el = els[-1]
            el1 = SubElement(el, 'text:span',
                attrib={'text:style-name': self.rststyle('emphasis')
                })
            el1.text = ' (%s)' % (node.astext(), )

    def depart_classifier(self, node):
        pass

    def visit_document(self, node):
        pass

    def depart_document(self, node):
        self.process_footnotes()

    def visit_docinfo(self, node):
        self.section_level += 1
        self.section_count += 1
        if self.settings.create_sections:
            el = self.append_child('text:section', attrib={
                    'text:name': 'Section%d' % self.section_count,
                    'text:style-name': 'Sect%d' % self.section_level,
                    })
            self.set_current_element(el)

    def depart_docinfo(self, node):
        self.section_level -= 1
        if self.settings.create_sections:
            self.set_to_parent()

    def visit_emphasis(self, node):
        el = SubElement(self.current_element, 'text:span',
            attrib={'text:style-name': self.rststyle('emphasis')})
        self.set_current_element(el)

    def depart_emphasis(self, node):
        self.set_to_parent()

    def visit_enumerated_list(self, node):
        el1 = self.current_element
        if self.blockstyle == self.rststyle('blockquote'):
            el2 = SubElement(el1, 'text:list', attrib={
                'text:style-name': self.rststyle('blockquote-enumlist'),
                })
            self.list_style_stack.append(self.rststyle('blockquote-enumitem'))
        elif self.blockstyle == self.rststyle('highlights'):
            el2 = SubElement(el1, 'text:list', attrib={
                'text:style-name': self.rststyle('highlights-enumlist'),
                })
            self.list_style_stack.append(self.rststyle('highlights-enumitem'))
        elif self.blockstyle == self.rststyle('epigraph'):
            el2 = SubElement(el1, 'text:list', attrib={
                'text:style-name': self.rststyle('epigraph-enumlist'),
                })
            self.list_style_stack.append(self.rststyle('epigraph-enumitem'))
        else:
            liststylename = 'enumlist-%s' % (node.get('enumtype', 'arabic'), )
            el2 = SubElement(el1, 'text:list', attrib={
                'text:style-name': self.rststyle(liststylename),
                })
            self.list_style_stack.append(self.rststyle('enumitem'))
        self.set_current_element(el2)

    def depart_enumerated_list(self, node):
        self.set_to_parent()
        self.list_style_stack.pop()

    def visit_list_item(self, node):
        # If we are in a "bumped" list level, then wrap this
        #   list in an outer lists in order to increase the
        #   indentation level.
        if self.in_table_of_contents:
            if self.settings.generate_oowriter_toc:
                self.paragraph_style_stack.append(
                    self.rststyle('contents-%d' % (self.list_level, )))
            else:
                el1 = self.append_child('text:list-item')
                self.set_current_element(el1)
        else:
            el1 = self.append_child('text:list-item')
            el3 = el1
            if len(self.bumped_list_level_stack) > 0:
                level_obj = self.bumped_list_level_stack[-1]
                if level_obj.get_sibling():
                    level_obj.set_nested(False)
                    for level_obj1 in self.bumped_list_level_stack:
                        for idx in range(level_obj1.get_level()):
                            el2 = self.append_child('text:list', parent=el3)
                            el3 = self.append_child(
                                'text:list-item', parent=el2)
            self.paragraph_style_stack.append(self.list_style_stack[-1])
            self.set_current_element(el3)

    def depart_list_item(self, node):
        if self.in_table_of_contents:
            if self.settings.generate_oowriter_toc:
                self.paragraph_style_stack.pop()
            else:
                self.set_to_parent()
        else:
            if len(self.bumped_list_level_stack) > 0:
                level_obj = self.bumped_list_level_stack[-1]
                if level_obj.get_sibling():
                    level_obj.set_nested(True)
                    for level_obj1 in self.bumped_list_level_stack:
                        for idx in range(level_obj1.get_level()):
                            self.set_to_parent()
                            self.set_to_parent()
            self.paragraph_style_stack.pop()
            self.set_to_parent()

    def visit_header(self, node):
        self.in_header = True

    def depart_header(self, node):
        self.in_header = False

    def visit_footer(self, node):
        self.in_footer = True

    def depart_footer(self, node):
        self.in_footer = False

    def visit_field(self, node):
        pass

    def depart_field(self, node):
        pass

    def visit_field_list(self, node):
        pass

    def depart_field_list(self, node):
        pass

    def visit_field_name(self, node):
        el = self.append_p('textbody')
        el1 = SubElement(el, 'text:span',
            attrib={'text:style-name': self.rststyle('strong')})
        el1.text = node.astext()

    def depart_field_name(self, node):
        pass

    def visit_field_body(self, node):
        self.paragraph_style_stack.append(self.rststyle('blockindent'))

    def depart_field_body(self, node):
        self.paragraph_style_stack.pop()

    def visit_figure(self, node):
        pass

    def depart_figure(self, node):
        pass

    def visit_footnote(self, node):
        self.footnote_level += 1
        self.save_footnote_current = self.current_element
        el1 = Element('text:note-body')
        self.current_element = el1
        self.footnote_list.append((node, el1))
        if isinstance(node, docutils.nodes.citation):
            self.paragraph_style_stack.append(self.rststyle('citation'))
        else:
            self.paragraph_style_stack.append(self.rststyle('footnote'))

    def depart_footnote(self, node):
        self.paragraph_style_stack.pop()
        self.current_element = self.save_footnote_current
        self.footnote_level -= 1

    footnote_chars = [
        '*', '**', '***',
        '++', '+++',
        '##', '###',
        '@@', '@@@',
        ]

    def visit_footnote_reference(self, node):
        if self.footnote_level <= 0:
            id = node.attributes['ids'][0]
            refid = node.attributes.get('refid')
            if refid is None:
                refid = ''
            if self.settings.endnotes_end_doc:
                note_class = 'endnote'
            else:
                note_class = 'footnote'
            el1 = self.append_child('text:note', attrib={
                'text:id': '%s' % (refid, ),
                'text:note-class': note_class,
                })
            note_auto = str(node.attributes.get('auto', 1))
            if isinstance(node, docutils.nodes.citation_reference):
                citation = '[%s]' % node.astext()
                el2 = SubElement(el1, 'text:note-citation', attrib={
                    'text:label': citation,
                    })
                el2.text = citation
            elif note_auto == '1':
                el2 = SubElement(el1, 'text:note-citation', attrib={
                    'text:label': node.astext(),
                    })
                el2.text = node.astext()
            elif note_auto == '*':
                if self.footnote_chars_idx >= len(
                    ODFTranslator.footnote_chars):
                    self.footnote_chars_idx = 0
                footnote_char = ODFTranslator.footnote_chars[
                    self.footnote_chars_idx]
                self.footnote_chars_idx += 1
                el2 = SubElement(el1, 'text:note-citation', attrib={
                    'text:label': footnote_char,
                    })
                el2.text = footnote_char
            self.footnote_ref_dict[id] = el1
        raise nodes.SkipChildren()

    def depart_footnote_reference(self, node):
        pass

    def visit_citation(self, node):
        self.in_citation = True
        for id in node.attributes['ids']:
            self.citation_id = id
            break
        self.paragraph_style_stack.append(self.rststyle('blockindent'))
        self.bumped_list_level_stack.append(ListLevel(1))

    def depart_citation(self, node):
        self.citation_id = None
        self.paragraph_style_stack.pop()
        self.bumped_list_level_stack.pop()
        self.in_citation = False

    def visit_citation_reference(self, node):
        if self.settings.create_links:
            id = node.attributes['refid']
            el = self.append_child('text:reference-ref', attrib={
                'text:ref-name': '%s' % (id, ),
                'text:reference-format': 'text',
                })
            el.text = '['
            self.set_current_element(el)
        elif self.current_element.text is None:
            self.current_element.text = '['
        else:
            self.current_element.text += '['

    def depart_citation_reference(self, node):
        self.current_element.text += ']'
        if self.settings.create_links:
            self.set_to_parent()

    def visit_label(self, node):
        if isinstance(node.parent, docutils.nodes.footnote):
            raise nodes.SkipChildren()
        elif self.citation_id is not None:
            el = self.append_p('textbody')
            self.set_current_element(el)
            if self.settings.create_links:
                el0 = SubElement(el, 'text:span')
                el0.text = '['
                el1 = self.append_child('text:reference-mark-start', attrib={
                        'text:name': '%s' % (self.citation_id, ),
                        })
            else:
                el.text = '['

    def depart_label(self, node):
        if isinstance(node.parent, docutils.nodes.footnote):
            pass
        elif self.citation_id is not None:
            if self.settings.create_links:
                el = self.append_child('text:reference-mark-end', attrib={
                        'text:name': '%s' % (self.citation_id, ),
                        })
                el0 = SubElement(self.current_element, 'text:span')
                el0.text = ']'
            else:
                self.current_element.text += ']'
            self.set_to_parent()

    def visit_generated(self, node):
        pass

    def depart_generated(self, node):
        pass

    def check_file_exists(self, path):
        if os.path.exists(path):
            return 1
        else:
            return 0

    def visit_image(self, node):
        # Capture the image file.
        if 'uri' in node.attributes:
            source = node.attributes['uri']
            if not source.startswith('http:'):
                if not source.startswith(os.sep):
                    docsource, line = utils.get_source_line(node)
                    if docsource:
                        dirname = os.path.dirname(docsource)
                        if dirname:
                            source = '%s%s%s' % (dirname, os.sep, source, )
                if not self.check_file_exists(source):
                    self.document.reporter.warning(
                        'Cannot find image file %s.' % (source, ))
                    return
        else:
            return
        if source in self.image_dict:
            filename, destination = self.image_dict[source]
        else:
            self.image_count += 1
            filename = os.path.split(source)[1]
            destination = 'Pictures/1%08x%s' % (self.image_count, filename, )
            if source.startswith('http:'):
                try:
                    imgfile = urllib2.urlopen(source)
                    content = imgfile.read()
                    imgfile.close()
                    imgfile2 = tempfile.NamedTemporaryFile('wb', delete=False)
                    imgfile2.write(content)
                    imgfile2.close()
                    imgfilename = imgfile2.name
                    source = imgfilename
                except urllib2.HTTPError, e:
                    self.document.reporter.warning(
                        "Can't open image url %s." % (source, ))
                spec = (source, destination,)
            else:
                spec = (os.path.abspath(source), destination,)
            self.embedded_file_list.append(spec)
            self.image_dict[source] = (source, destination,)
        # Is this a figure (containing an image) or just a plain image?
        if self.in_paragraph:
            el1 = self.current_element
        else:
            el1 = SubElement(self.current_element, 'text:p',
                attrib={'text:style-name': self.rststyle('textbody')})
        el2 = el1
        if isinstance(node.parent, docutils.nodes.figure):
            el3, el4, el5, caption = self.generate_figure(node, source,
                destination, el2)
            attrib = {}
            el6, width = self.generate_image(node, source, destination,
                el5, attrib)
            if caption is not None:
                el6.tail = caption
        else:   #if isinstance(node.parent, docutils.nodes.image):
            el3 = self.generate_image(node, source, destination, el2)

    def depart_image(self, node):
        pass

    def get_image_width_height(self, node, attr):
        size = None
        if attr in node.attributes:
            size = node.attributes[attr]
            unit = size[-2:]
            if unit.isalpha():
                size = size[:-2]
            else:
                unit = 'px'
            try:
                size = float(size)
            except ValueError, e:
                self.document.reporter.warning(
                    'Invalid %s for image: "%s"' % (
                        attr, node.attributes[attr]))
            size = [size, unit]
        return size

    def get_image_scale(self, node):
        if 'scale' in node.attributes:
            try:
                scale = int(node.attributes['scale'])
                if scale < 1: # or scale > 100:
                    self.document.reporter.warning(
                        'scale out of range (%s), using 1.' % (scale, ))
                    scale = 1
                scale = scale * 0.01
            except ValueError, e:
                self.document.reporter.warning(
                    'Invalid scale for image: "%s"' % (
                        node.attributes['scale'], ))
        else:
            scale = 1.0
        return scale

    def get_image_scaled_width_height(self, node, source):
        scale = self.get_image_scale(node)
        width = self.get_image_width_height(node, 'width')
        height = self.get_image_width_height(node, 'height')

        dpi = (72, 72)
        if PIL is not None and source in self.image_dict:
            filename, destination = self.image_dict[source]
            imageobj = PIL.Image.open(filename, 'r')
            dpi = imageobj.info.get('dpi', dpi)
            # dpi information can be (xdpi, ydpi) or xydpi
            try: iter(dpi)
            except: dpi = (dpi, dpi)
        else:
            imageobj = None

        if width is None or height is None:
            if imageobj is None:
                raise RuntimeError(
                    'image size not fully specified and PIL not installed')
            if width is None: width = [imageobj.size[0], 'px']
            if height is None: height = [imageobj.size[1], 'px']

        width[0] *= scale
        height[0] *= scale
        if width[1] == 'px': width = [width[0] / dpi[0], 'in']
        if height[1] == 'px': height = [height[0] / dpi[1], 'in']

        width[0] = str(width[0])
        height[0] = str(height[0])
        return ''.join(width), ''.join(height)

    def generate_figure(self, node, source, destination, current_element):
        caption = None
        width, height = self.get_image_scaled_width_height(node, source)
        for node1 in node.parent.children:
            if node1.tagname == 'caption':
                caption = node1.astext()
        self.image_style_count += 1
        #
        # Add the style for the caption.
        if caption is not None:
            attrib = {
                'style:class': 'extra',
                'style:family': 'paragraph',
                'style:name': 'Caption',
                'style:parent-style-name': 'Standard',
                }
            el1 = SubElement(self.automatic_styles, 'style:style',
                attrib=attrib, nsdict=SNSD)
            attrib = {
                'fo:margin-bottom': '0.0835in',
                'fo:margin-top': '0.0835in',
                'text:line-number': '0',
                'text:number-lines': 'false',
                }
            el2 = SubElement(el1, 'style:paragraph-properties', 
                attrib=attrib, nsdict=SNSD)
            attrib = {
                'fo:font-size': '12pt',
                'fo:font-style': 'italic',
                'style:font-name': 'Times',
                'style:font-name-complex': 'Lucidasans1',
                'style:font-size-asian': '12pt',
                'style:font-size-complex': '12pt',
                'style:font-style-asian': 'italic',
                'style:font-style-complex': 'italic',
                }
            el2 = SubElement(el1, 'style:text-properties', 
                attrib=attrib, nsdict=SNSD)
        style_name = 'rstframestyle%d' % self.image_style_count
        # Add the styles
        attrib = {
            'style:name': style_name,
            'style:family': 'graphic',
            'style:parent-style-name': self.rststyle('figureframe'),
            }
        el1 = SubElement(self.automatic_styles, 
            'style:style', attrib=attrib, nsdict=SNSD)
        halign = 'center'
        valign = 'top'
        if 'align' in node.attributes:
            align = node.attributes['align'].split()
            for val in align:
                if val in ('left', 'center', 'right'):
                    halign = val
                elif val in ('top', 'middle', 'bottom'):
                    valign = val
        attrib = {}
        wrap = False
        classes = node.parent.attributes.get('classes')
        if classes and 'wrap' in classes:
            wrap = True
        if wrap:
            attrib['style:wrap'] = 'dynamic'
        else:
            attrib['style:wrap'] = 'none'
        el2 = SubElement(el1,
            'style:graphic-properties', attrib=attrib, nsdict=SNSD)
        attrib = {
            'draw:style-name': style_name,
            'draw:name': 'Frame1',
            'text:anchor-type': 'paragraph',
            'draw:z-index': '0',
            }
        attrib['svg:width'] = width
        el3 = SubElement(current_element, 'draw:frame', attrib=attrib)
        attrib = {}
        el4 = SubElement(el3, 'draw:text-box', attrib=attrib)
        attrib = {
            'text:style-name': self.rststyle('caption'),
            }
        el5 = SubElement(el4, 'text:p', attrib=attrib)
        return el3, el4, el5, caption

    def generate_image(self, node, source, destination, current_element,
        frame_attrs=None):
        width, height = self.get_image_scaled_width_height(node, source)
        self.image_style_count += 1
        style_name = 'rstframestyle%d' % self.image_style_count
        # Add the style.
        attrib = {
            'style:name': style_name,
            'style:family': 'graphic',
            'style:parent-style-name': self.rststyle('image'),
            }
        el1 = SubElement(self.automatic_styles, 
            'style:style', attrib=attrib, nsdict=SNSD)
        halign = None
        valign = None
        if 'align' in node.attributes:
            align = node.attributes['align'].split()
            for val in align:
                if val in ('left', 'center', 'right'):
                    halign = val
                elif val in ('top', 'middle', 'bottom'):
                    valign = val
        if frame_attrs is None:
            attrib = {
                'style:vertical-pos': 'top',
                'style:vertical-rel': 'paragraph',
                'style:horizontal-rel': 'paragraph',
                'style:mirror': 'none',
                'fo:clip': 'rect(0cm 0cm 0cm 0cm)',
                'draw:luminance': '0%',
                'draw:contrast': '0%',
                'draw:red': '0%',
                'draw:green': '0%',
                'draw:blue': '0%',
                'draw:gamma': '100%',
                'draw:color-inversion': 'false',
                'draw:image-opacity': '100%',
                'draw:color-mode': 'standard',
                }
        else:
            attrib = frame_attrs
        if halign is not None:
            attrib['style:horizontal-pos'] = halign
        if valign is not None:
            attrib['style:vertical-pos'] = valign
        # If there is a classes/wrap directive or we are 
        #   inside a table, add a no-wrap style.
        wrap = False
        classes = node.attributes.get('classes')
        if classes and 'wrap' in classes:
            wrap = True
        if wrap:
            attrib['style:wrap'] = 'dynamic'
        else:
            attrib['style:wrap'] = 'none'
        # If we are inside a table, add a no-wrap style.
        if self.is_in_table(node):
            attrib['style:wrap'] = 'none'
        el2 = SubElement(el1,
            'style:graphic-properties', attrib=attrib, nsdict=SNSD)
        # Add the content.
        #el = SubElement(current_element, 'text:p',
        #    attrib={'text:style-name': self.rststyle('textbody')})
        attrib={
            'draw:style-name': style_name,
            'draw:name': 'graphics2',
            'draw:z-index': '1',
            }
        if isinstance(node.parent, nodes.TextElement):
            attrib['text:anchor-type'] = 'as-char' #vds
        else:
            attrib['text:anchor-type'] = 'paragraph'
        attrib['svg:width'] = width
        attrib['svg:height'] = height
        el1 = SubElement(current_element, 'draw:frame', attrib=attrib)
        el2 = SubElement(el1, 'draw:image', attrib={
            'xlink:href': '%s' % (destination, ),
            'xlink:type': 'simple',
            'xlink:show': 'embed',
            'xlink:actuate': 'onLoad',
            })
        return el1, width

    def is_in_table(self, node):
        node1 = node.parent
        while node1:
            if isinstance(node1, docutils.nodes.entry):
                return True
            node1 = node1.parent
        return False

    def visit_legend(self, node):
        if isinstance(node.parent, docutils.nodes.figure):
            el1 = self.current_element[-1]
            el1 = el1[0][0]
            self.current_element = el1
            self.paragraph_style_stack.append(self.rststyle('legend'))

    def depart_legend(self, node):
        if isinstance(node.parent, docutils.nodes.figure):
            self.paragraph_style_stack.pop()
            self.set_to_parent()
            self.set_to_parent()
            self.set_to_parent()

    def visit_line_block(self, node):
        self.line_indent_level += 1
        self.line_block_level += 1

    def depart_line_block(self, node):
        self.line_indent_level -= 1
        self.line_block_level -= 1

    def visit_line(self, node):
        style = 'lineblock%d' % self.line_indent_level
        el1 = SubElement(self.current_element, 'text:p', attrib={
                'text:style-name': self.rststyle(style),
                })
        self.current_element = el1

    def depart_line(self, node):
        self.set_to_parent()

    def visit_literal(self, node):
        el = SubElement(self.current_element, 'text:span',
            attrib={'text:style-name': self.rststyle('inlineliteral')})
        self.set_current_element(el)

    def depart_literal(self, node):
        self.set_to_parent()

    def visit_inline(self, node):
        styles = node.attributes.get('classes', ())
        if styles:
            el = self.current_element
            for inline_style in styles:
                el = SubElement(el, 'text:span',
                                attrib={'text:style-name':
                                        self.rststyle(inline_style)})
            count = len(styles)
        else:
            # No style was specified so use a default style (old code
            # crashed if no style was given)
            el = SubElement(self.current_element, 'text:span')
            count = 1

        self.set_current_element(el)
        self.inline_style_count_stack.append(count)

    def depart_inline(self, node):
        count = self.inline_style_count_stack.pop()
        for x in range(count):
            self.set_to_parent()

    def _calculate_code_block_padding(self, line):
        count = 0
        matchobj = SPACES_PATTERN.match(line)
        if matchobj:
            pad = matchobj.group()
            count = len(pad)
        else:
            matchobj = TABS_PATTERN.match(line)
            if matchobj:
                pad = matchobj.group()
                count = len(pad) * 8
        return count

    def _add_syntax_highlighting(self, insource, language):
        lexer = pygments.lexers.get_lexer_by_name(language, stripall=True)
        if language in ('latex', 'tex'):
            fmtr = OdtPygmentsLaTeXFormatter(lambda name, parameters=():
                self.rststyle(name, parameters),
                escape_function=escape_cdata)
        else:
            fmtr = OdtPygmentsProgFormatter(lambda name, parameters=():
                self.rststyle(name, parameters),
                escape_function=escape_cdata)
        outsource = pygments.highlight(insource, lexer, fmtr)
        return outsource

    def fill_line(self, line):
        line = FILL_PAT1.sub(self.fill_func1, line)
        line = FILL_PAT2.sub(self.fill_func2, line)
        return line

    def fill_func1(self, matchobj):
        spaces = matchobj.group(0)
        repl = '<text:s text:c="%d"/>' % (len(spaces), )
        return repl

    def fill_func2(self, matchobj):
        spaces = matchobj.group(0)
        repl = ' <text:s text:c="%d"/>' % (len(spaces) - 1, )
        return repl

    def visit_literal_block(self, node):
        if len(self.paragraph_style_stack) > 1:
            wrapper1 = '<text:p text:style-name="%s">%%s</text:p>' % (
                self.rststyle('codeblock-indented'), )
        else:
            wrapper1 = '<text:p text:style-name="%s">%%s</text:p>' % (
                self.rststyle('codeblock'), )
        source = node.astext()
        if (pygments and
            self.settings.add_syntax_highlighting
            #and
            #node.get('hilight', False)
            ):
            language = node.get('language', 'python')
            source = self._add_syntax_highlighting(source, language)
        else:
            source = escape_cdata(source)
        lines = source.split('\n')
        # If there is an empty last line, remove it.
        if lines[-1] == '':
            del lines[-1]
        lines1 = ['<wrappertag1 xmlns:text="urn:oasis:names:tc:opendocument:xmlns:text:1.0">']

        my_lines = []
        for my_line in lines:
            my_line = self.fill_line(my_line)
            my_line = my_line.replace("&#10;", "\n")
            my_lines.append(my_line)
        my_lines_str = '<text:line-break/>'.join(my_lines)
        my_lines_str2 = wrapper1 % (my_lines_str, )
        lines1.append(my_lines_str2)
        lines1.append('</wrappertag1>')
        s1 = ''.join(lines1)
        if WhichElementTree != "lxml":
            s1 = s1.encode("utf-8")
        el1 = etree.fromstring(s1)
        children = el1.getchildren()
        for child in children:
            self.current_element.append(child)

    def depart_literal_block(self, node):
        pass

    visit_doctest_block = visit_literal_block
    depart_doctest_block = depart_literal_block

    # placeholder for math (see docs/dev/todo.txt)
    def visit_math(self, node):
        self.document.reporter.warning('"math" role not supported',
                base_node=node)
        self.visit_literal(node)

    def depart_math(self, node):
        self.depart_literal(node)

    def visit_math_block(self, node):
        self.document.reporter.warning('"math" directive not supported',
                base_node=node)
        self.visit_literal_block(node)

    def depart_math_block(self, node):
        self.depart_literal_block(node)

    def visit_meta(self, node):
        name = node.attributes.get('name')
        content = node.attributes.get('content')
        if name is not None and content is not None:
            self.meta_dict[name] = content

    def depart_meta(self, node):
        pass

    def visit_option_list(self, node):
        table_name = 'tableoption'
        #
        # Generate automatic styles
        if not self.optiontablestyles_generated:
            self.optiontablestyles_generated = True
            el = SubElement(self.automatic_styles, 'style:style', attrib={
                'style:name': self.rststyle(table_name),
                'style:family': 'table'}, nsdict=SNSD)
            el1 = SubElement(el, 'style:table-properties', attrib={
                'style:width': '17.59cm',
                'table:align': 'left',
                'style:shadow': 'none'}, nsdict=SNSD)
            el = SubElement(self.automatic_styles, 'style:style', attrib={
                'style:name': self.rststyle('%s.%%c' % table_name, ( 'A', )),
                'style:family': 'table-column'}, nsdict=SNSD)
            el1 = SubElement(el, 'style:table-column-properties', attrib={
                'style:column-width': '4.999cm'}, nsdict=SNSD)
            el = SubElement(self.automatic_styles, 'style:style', attrib={
                'style:name': self.rststyle('%s.%%c' % table_name, ( 'B', )),
                'style:family': 'table-column'}, nsdict=SNSD)
            el1 = SubElement(el, 'style:table-column-properties', attrib={
                'style:column-width': '12.587cm'}, nsdict=SNSD)
            el = SubElement(self.automatic_styles, 'style:style', attrib={
                'style:name': self.rststyle(
                    '%s.%%c%%d' % table_name, ( 'A', 1, )),
                'style:family': 'table-cell'}, nsdict=SNSD)
            el1 = SubElement(el, 'style:table-cell-properties', attrib={
                'fo:background-color': 'transparent',
                'fo:padding': '0.097cm',
                'fo:border-left': '0.035cm solid #000000',
                'fo:border-right': 'none',
                'fo:border-top': '0.035cm solid #000000',
                'fo:border-bottom': '0.035cm solid #000000'}, nsdict=SNSD)
            el2 = SubElement(el1, 'style:background-image', nsdict=SNSD)
            el = SubElement(self.automatic_styles, 'style:style', attrib={
                'style:name': self.rststyle(
                    '%s.%%c%%d' % table_name, ( 'B', 1, )),
                'style:family': 'table-cell'}, nsdict=SNSD)
            el1 = SubElement(el, 'style:table-cell-properties', attrib={
                'fo:padding': '0.097cm',
                'fo:border': '0.035cm solid #000000'}, nsdict=SNSD)
            el = SubElement(self.automatic_styles, 'style:style', attrib={
                'style:name': self.rststyle(
                    '%s.%%c%%d' % table_name, ( 'A', 2, )),
                'style:family': 'table-cell'}, nsdict=SNSD)
            el1 = SubElement(el, 'style:table-cell-properties', attrib={
                'fo:padding': '0.097cm',
                'fo:border-left': '0.035cm solid #000000',
                'fo:border-right': 'none',
                'fo:border-top': 'none',
                'fo:border-bottom': '0.035cm solid #000000'}, nsdict=SNSD)
            el = SubElement(self.automatic_styles, 'style:style', attrib={
                'style:name': self.rststyle(
                    '%s.%%c%%d' % table_name, ( 'B', 2, )),
                'style:family': 'table-cell'}, nsdict=SNSD)
            el1 = SubElement(el, 'style:table-cell-properties', attrib={
                'fo:padding': '0.097cm',
                'fo:border-left': '0.035cm solid #000000',
                'fo:border-right': '0.035cm solid #000000',
                'fo:border-top': 'none',
                'fo:border-bottom': '0.035cm solid #000000'}, nsdict=SNSD)
        #
        # Generate table data
        el = self.append_child('table:table', attrib={
            'table:name': self.rststyle(table_name),
            'table:style-name': self.rststyle(table_name),
            })
        el1 = SubElement(el, 'table:table-column', attrib={
            'table:style-name': self.rststyle(
                '%s.%%c' % table_name, ( 'A', ))})
        el1 = SubElement(el, 'table:table-column', attrib={
            'table:style-name': self.rststyle(
                '%s.%%c' % table_name, ( 'B', ))})
        el1 = SubElement(el, 'table:table-header-rows')
        el2 = SubElement(el1, 'table:table-row')
        el3 = SubElement(el2, 'table:table-cell', attrib={
            'table:style-name': self.rststyle(
                '%s.%%c%%d' % table_name, ( 'A', 1, )),
            'office:value-type': 'string'})
        el4 = SubElement(el3, 'text:p', attrib={
            'text:style-name': 'Table_20_Heading'})
        el4.text= 'Option'
        el3 = SubElement(el2, 'table:table-cell', attrib={
            'table:style-name': self.rststyle(
                '%s.%%c%%d' % table_name, ( 'B', 1, )),
            'office:value-type': 'string'})
        el4 = SubElement(el3, 'text:p', attrib={
            'text:style-name': 'Table_20_Heading'})
        el4.text= 'Description'
        self.set_current_element(el)

    def depart_option_list(self, node):
        self.set_to_parent()

    def visit_option_list_item(self, node):
        el = self.append_child('table:table-row')
        self.set_current_element(el)

    def depart_option_list_item(self, node):
        self.set_to_parent()

    def visit_option_group(self, node):
        el = self.append_child('table:table-cell', attrib={
            'table:style-name': 'Table%d.A2' % self.table_count,
            'office:value-type': 'string',
        })
        self.set_current_element(el)

    def depart_option_group(self, node):
        self.set_to_parent()

    def visit_option(self, node):
        el = self.append_child('text:p', attrib={
            'text:style-name': 'Table_20_Contents'})
        el.text = node.astext()

    def depart_option(self, node):
        pass

    def visit_option_string(self, node):
        pass

    def depart_option_string(self, node):
        pass

    def visit_option_argument(self, node):
        pass

    def depart_option_argument(self, node):
        pass

    def visit_description(self, node):
        el = self.append_child('table:table-cell', attrib={
            'table:style-name': 'Table%d.B2' % self.table_count,
            'office:value-type': 'string',
        })
        el1 = SubElement(el, 'text:p', attrib={
            'text:style-name': 'Table_20_Contents'})
        el1.text = node.astext()
        raise nodes.SkipChildren()

    def depart_description(self, node):
        pass

    def visit_paragraph(self, node):
        self.in_paragraph = True
        if self.in_header:
            el = self.append_p('header')
        elif self.in_footer:
            el = self.append_p('footer')
        else:
            style_name = self.paragraph_style_stack[-1]
            el = self.append_child('text:p',
                attrib={'text:style-name': style_name})
            self.append_pending_ids(el)
        self.set_current_element(el)

    def depart_paragraph(self, node):
        self.in_paragraph = False
        self.set_to_parent()
        if self.in_header:
            self.header_content.append(
                self.current_element.getchildren()[-1])
            self.current_element.remove(
                self.current_element.getchildren()[-1])
        elif self.in_footer:
            self.footer_content.append(
                self.current_element.getchildren()[-1])
            self.current_element.remove(
                self.current_element.getchildren()[-1])

    def visit_problematic(self, node):
        pass

    def depart_problematic(self, node):
        pass

    def visit_raw(self, node):
        if 'format' in node.attributes:
            formats = node.attributes['format']
            formatlist = formats.split()
            if 'odt' in formatlist:
                rawstr = node.astext()
                attrstr = ' '.join(['%s="%s"' % (k, v, )
                    for k,v in CONTENT_NAMESPACE_ATTRIB.items()])
                contentstr = '<stuff %s>%s</stuff>' % (attrstr, rawstr, )
                if WhichElementTree != "lxml":
                    contentstr = contentstr.encode("utf-8")
                content = etree.fromstring(contentstr)
                elements = content.getchildren()
                if len(elements) > 0:
                    el1 = elements[0]
                    if self.in_header:
                        pass
                    elif self.in_footer:
                        pass
                    else:
                        self.current_element.append(el1)
        raise nodes.SkipChildren()

    def depart_raw(self, node):
        if self.in_header:
            pass
        elif self.in_footer:
            pass
        else:
            pass

    def visit_reference(self, node):
        text = node.astext()
        if self.settings.create_links:
            if node.has_key('refuri'):
                    href = node['refuri']
                    if ( self.settings.cloak_email_addresses
                         and href.startswith('mailto:')):
                        href = self.cloak_mailto(href)
                    el = self.append_child('text:a', attrib={
                        'xlink:href': '%s' % href,
                        'xlink:type': 'simple',
                        })
                    self.set_current_element(el)
            elif node.has_key('refid'):
                if self.settings.create_links:
                    href = node['refid']
                    el = self.append_child('text:reference-ref', attrib={
                        'text:ref-name': '%s' % href,
                        'text:reference-format': 'text',
                        })
            else:
                self.document.reporter.warning(
                    'References must have "refuri" or "refid" attribute.')
        if (self.in_table_of_contents and
            len(node.children) >= 1 and
            isinstance(node.children[0], docutils.nodes.generated)):
            node.remove(node.children[0])

    def depart_reference(self, node):
        if self.settings.create_links:
            if node.has_key('refuri'):
                self.set_to_parent()

    def visit_rubric(self, node):
        style_name = self.rststyle('rubric')
        classes = node.get('classes')
        if classes:
            class1 = classes[0]
            if class1:
                style_name = class1
        el = SubElement(self.current_element, 'text:h', attrib = {
            #'text:outline-level': '%d' % section_level,
            #'text:style-name': 'Heading_20_%d' % section_level,
            'text:style-name': style_name,
            })
        text = node.astext()
        el.text = self.encode(text)

    def depart_rubric(self, node):
        pass

    def visit_section(self, node, move_ids=1):
        self.section_level += 1
        self.section_count += 1
        if self.settings.create_sections:
            el = self.append_child('text:section', attrib={
                'text:name': 'Section%d' % self.section_count,
                'text:style-name': 'Sect%d' % self.section_level,
                })
            self.set_current_element(el)

    def depart_section(self, node):
        self.section_level -= 1
        if self.settings.create_sections:
            self.set_to_parent()

    def visit_strong(self, node):
        el = SubElement(self.current_element, 'text:span',
            attrib={'text:style-name': self.rststyle('strong')})
        self.set_current_element(el)

    def depart_strong(self, node):
        self.set_to_parent()

    def visit_substitution_definition(self, node):
        raise nodes.SkipChildren()

    def depart_substitution_definition(self, node):
        pass

    def visit_system_message(self, node):
        pass

    def depart_system_message(self, node):
        pass

    def get_table_style(self, node):
        table_style = None
        table_name = None
        use_predefined_table_style = False
        str_classes = node.get('classes')
        if str_classes is not None:
            for str_class in str_classes:
                if str_class.startswith(TABLESTYLEPREFIX):
                    table_name = str_class
                    use_predefined_table_style = True
                    break
        if table_name is not None:
            table_style = self.table_styles.get(table_name)
            if table_style is None:
                # If we can't find the table style, issue warning
                #   and use the default table style.
                self.document.reporter.warning(
                    'Can\'t find table style "%s".  Using default.' % (
                    table_name, ))
                table_name = TABLENAMEDEFAULT
                table_style = self.table_styles.get(table_name)
                if table_style is None:
                    # If we can't find the default table style, issue a warning
                    #   and use a built-in default style.
                    self.document.reporter.warning(
                        'Can\'t find default table style "%s".  Using built-in default.' % (
                        table_name, ))
                    table_style = BUILTIN_DEFAULT_TABLE_STYLE
        else:
            table_name = TABLENAMEDEFAULT
            table_style = self.table_styles.get(table_name)
            if table_style is None:
                # If we can't find the default table style, issue a warning
                #   and use a built-in default style.
                self.document.reporter.warning(
                    'Can\'t find default table style "%s".  Using built-in default.' % (
                    table_name, ))
                table_style = BUILTIN_DEFAULT_TABLE_STYLE
        return table_style

    def visit_table(self, node):
        self.table_count += 1
        table_style = self.get_table_style(node)
        table_name = '%s%%d' % TABLESTYLEPREFIX
        el1 = SubElement(self.automatic_styles, 'style:style', attrib={
            'style:name': self.rststyle(
                '%s' % table_name, ( self.table_count, )),
            'style:family': 'table',
            }, nsdict=SNSD)
        if table_style.backgroundcolor is None:
            el1_1 = SubElement(el1, 'style:table-properties', attrib={
                #'style:width': '17.59cm',
                #'table:align': 'margins',
                'table:align': 'left',
                'fo:margin-top': '0in',
                'fo:margin-bottom': '0.10in',
                }, nsdict=SNSD)
        else:
            el1_1 = SubElement(el1, 'style:table-properties', attrib={
                #'style:width': '17.59cm',
                'table:align': 'margins',
                'fo:margin-top': '0in',
                'fo:margin-bottom': '0.10in',
                'fo:background-color': table_style.backgroundcolor,
                }, nsdict=SNSD)
        # We use a single cell style for all cells in this table.
        # That's probably not correct, but seems to work.
        el2 = SubElement(self.automatic_styles, 'style:style', attrib={
            'style:name': self.rststyle(
                '%s.%%c%%d' % table_name, ( self.table_count, 'A', 1, )),
            'style:family': 'table-cell',
            }, nsdict=SNSD)
        thickness = self.settings.table_border_thickness
        if thickness is None:
            line_style1 = table_style.border
        else:
            line_style1 = '0.%03dcm solid #000000' % (thickness, )
        el2_1 = SubElement(el2, 'style:table-cell-properties', attrib={
            'fo:padding': '0.049cm',
            'fo:border-left': line_style1,
            'fo:border-right': line_style1,
            'fo:border-top': line_style1,
            'fo:border-bottom': line_style1,
            }, nsdict=SNSD)
        title = None
        for child in node.children:
            if child.tagname == 'title':
                title = child.astext()
                break
        if title is not None:
            el3 = self.append_p('table-title', title)
        else:
            pass
        el4 = SubElement(self.current_element, 'table:table', attrib={
            'table:name': self.rststyle(
                '%s' % table_name, ( self.table_count, )),
            'table:style-name': self.rststyle(
                '%s' % table_name, ( self.table_count, )),
            })
        self.set_current_element(el4)
        self.current_table_style = el1
        self.table_width = 0.0

    def depart_table(self, node):
        attribkey = add_ns('style:width', nsdict=SNSD)
        attribval = '%.4fin' % (self.table_width, )
        el1 = self.current_table_style
        el2 = el1[0]
        el2.attrib[attribkey] = attribval
        self.set_to_parent()

    def visit_tgroup(self, node):
        self.column_count = ord('A') - 1

    def depart_tgroup(self, node):
        pass

    def visit_colspec(self, node):
        self.column_count += 1
        colspec_name = self.rststyle(
            '%s%%d.%%s' % TABLESTYLEPREFIX,
            (self.table_count, chr(self.column_count), )
            )
        colwidth = node['colwidth'] / 12.0
        el1 = SubElement(self.automatic_styles, 'style:style', attrib={
            'style:name': colspec_name,
            'style:family': 'table-column',
            }, nsdict=SNSD)
        el1_1 = SubElement(el1, 'style:table-column-properties', attrib={
            'style:column-width': '%.4fin' % colwidth 
            },
            nsdict=SNSD)
        el2 = self.append_child('table:table-column', attrib={
            'table:style-name': colspec_name,
            })
        self.table_width += colwidth

    def depart_colspec(self, node):
        pass

    def visit_thead(self, node):
        el = self.append_child('table:table-header-rows')
        self.set_current_element(el)
        self.in_thead = True
        self.paragraph_style_stack.append('Table_20_Heading')

    def depart_thead(self, node):
        self.set_to_parent()
        self.in_thead = False
        self.paragraph_style_stack.pop()

    def visit_row(self, node):
        self.column_count = ord('A') - 1
        el = self.append_child('table:table-row')
        self.set_current_element(el)

    def depart_row(self, node):
        self.set_to_parent()

    def visit_entry(self, node):
        self.column_count += 1
        cellspec_name = self.rststyle(
            '%s%%d.%%c%%d' % TABLESTYLEPREFIX, 
            (self.table_count, 'A', 1, )
            )
        attrib={
            'table:style-name': cellspec_name,
            'office:value-type': 'string',
            }
        morecols = node.get('morecols', 0)
        if morecols > 0:
            attrib['table:number-columns-spanned'] = '%d' % (morecols + 1,)
            self.column_count += morecols
        morerows = node.get('morerows', 0)
        if morerows > 0:
            attrib['table:number-rows-spanned'] = '%d' % (morerows + 1,)
        el1 = self.append_child('table:table-cell', attrib=attrib)
        self.set_current_element(el1)

    def depart_entry(self, node):
        self.set_to_parent()

    def visit_tbody(self, node):
        pass

    def depart_tbody(self, node):
        pass

    def visit_target(self, node):
        #
        # I don't know how to implement targets in ODF.
        # How do we create a target in oowriter?  A cross-reference?
        if not (node.has_key('refuri') or node.has_key('refid')
                or node.has_key('refname')):
            pass
        else:
            pass

    def depart_target(self, node):
        pass

    def visit_title(self, node, move_ids=1, title_type='title'):
        if isinstance(node.parent, docutils.nodes.section):
            section_level = self.section_level
            if section_level > 7:
                self.document.reporter.warning(
                    'Heading/section levels greater than 7 not supported.')
                self.document.reporter.warning(
                    '    Reducing to heading level 7 for heading: "%s"' % (
                        node.astext(), ))
                section_level = 7
            el1 = self.append_child('text:h', attrib = {
                'text:outline-level': '%d' % section_level,
                #'text:style-name': 'Heading_20_%d' % section_level,
                'text:style-name': self.rststyle(
                    'heading%d', (section_level, )),
                })
            self.append_pending_ids(el1)
            self.set_current_element(el1)
        elif isinstance(node.parent, docutils.nodes.document):
            #    text = self.settings.title
            #else:
            #    text = node.astext()
            el1 = SubElement(self.current_element, 'text:p', attrib = {
                'text:style-name': self.rststyle(title_type),
                })
            self.append_pending_ids(el1)
            text = node.astext()
            self.title = text
            self.found_doc_title = True
            self.set_current_element(el1)

    def depart_title(self, node):
        if (isinstance(node.parent, docutils.nodes.section) or
            isinstance(node.parent, docutils.nodes.document)):
            self.set_to_parent()

    def visit_subtitle(self, node, move_ids=1):
        self.visit_title(node, move_ids, title_type='subtitle')

    def depart_subtitle(self, node):
        self.depart_title(node)

    def visit_title_reference(self, node):
        el = self.append_child('text:span', attrib={
            'text:style-name': self.rststyle('quotation')})
        el.text = self.encode(node.astext())
        raise nodes.SkipChildren()

    def depart_title_reference(self, node):
        pass

    def generate_table_of_content_entry_template(self, el1):
        for idx in range(1, 11):
            el2 = SubElement(el1, 
                'text:table-of-content-entry-template', 
                attrib={
                    'text:outline-level': "%d" % (idx, ),
                    'text:style-name': self.rststyle('contents-%d' % (idx, )),
                })
            el3 = SubElement(el2, 'text:index-entry-chapter')
            el3 = SubElement(el2, 'text:index-entry-text')
            el3 = SubElement(el2, 'text:index-entry-tab-stop', attrib={
                'style:leader-char': ".",
                'style:type': "right",
                })
            el3 = SubElement(el2, 'text:index-entry-page-number')

    def find_title_label(self, node, class_type, label_key):
        label = ''
        title_node = None
        for child in node.children:
            if isinstance(child, class_type):
                title_node = child
                break
        if title_node is not None:
            label = title_node.astext()
        else:
            label = self.language.labels[label_key]
        return label

    def visit_topic(self, node):
        if 'classes' in node.attributes:
            if 'contents' in node.attributes['classes']:
                label = self.find_title_label(node, docutils.nodes.title,
                    'contents')
                if self.settings.generate_oowriter_toc:
                    el1 = self.append_child('text:table-of-content', attrib={
                        'text:name': 'Table of Contents1',
                        'text:protected': 'true',
                        'text:style-name': 'Sect1',
                        })
                    el2 = SubElement(el1,
                        'text:table-of-content-source',
                        attrib={
                            'text:outline-level': '10',
                        })
                    el3 =SubElement(el2, 'text:index-title-template', attrib={
                        'text:style-name': 'Contents_20_Heading',
                        })
                    el3.text = label
                    self.generate_table_of_content_entry_template(el2)
                    el4 = SubElement(el1, 'text:index-body')
                    el5 = SubElement(el4, 'text:index-title')
                    el6 = SubElement(el5, 'text:p', attrib={
                        'text:style-name': self.rststyle('contents-heading'),
                        })
                    el6.text = label
                    self.save_current_element = self.current_element
                    self.table_of_content_index_body = el4
                    self.set_current_element(el4)
                else:
                    el = self.append_p('horizontalline')
                    el = self.append_p('centeredtextbody')
                    el1 = SubElement(el, 'text:span',
                        attrib={'text:style-name': self.rststyle('strong')})
                    el1.text = label
                self.in_table_of_contents = True
            elif 'abstract' in node.attributes['classes']:
                el = self.append_p('horizontalline')
                el = self.append_p('centeredtextbody')
                el1 = SubElement(el, 'text:span',
                    attrib={'text:style-name': self.rststyle('strong')})
                label = self.find_title_label(node, docutils.nodes.title,
                    'abstract')
                el1.text = label
            elif 'dedication' in node.attributes['classes']:
                el = self.append_p('horizontalline')
                el = self.append_p('centeredtextbody')
                el1 = SubElement(el, 'text:span',
                    attrib={'text:style-name': self.rststyle('strong')})
                label = self.find_title_label(node, docutils.nodes.title,
                    'dedication')
                el1.text = label

    def depart_topic(self, node):
        if 'classes' in node.attributes:
            if 'contents' in node.attributes['classes']:
                if self.settings.generate_oowriter_toc:
                    self.update_toc_page_numbers(
                        self.table_of_content_index_body)
                    self.set_current_element(self.save_current_element)
                else:
                    el = self.append_p('horizontalline')
                self.in_table_of_contents = False

    def update_toc_page_numbers(self, el):
        collection = []
        self.update_toc_collect(el, 0, collection)
        self.update_toc_add_numbers(collection)

    def update_toc_collect(self, el, level, collection):
        collection.append((level, el))
        level += 1
        for child_el in el.getchildren():
            if child_el.tag != 'text:index-body':
                self.update_toc_collect(child_el, level, collection)

    def update_toc_add_numbers(self, collection):
        for level, el1 in collection:
            if (el1.tag == 'text:p' and
                el1.text != 'Table of Contents'):
                el2 = SubElement(el1, 'text:tab')
                el2.tail = '9999'


    def visit_transition(self, node):
        el = self.append_p('horizontalline')

    def depart_transition(self, node):
        pass

    #
    # Admonitions
    #
    def visit_warning(self, node):
        self.generate_admonition(node, 'warning')

    def depart_warning(self, node):
        self.paragraph_style_stack.pop()

    def visit_attention(self, node):
        self.generate_admonition(node, 'attention')

    depart_attention = depart_warning

    def visit_caution(self, node):
        self.generate_admonition(node, 'caution')

    depart_caution = depart_warning

    def visit_danger(self, node):
        self.generate_admonition(node, 'danger')

    depart_danger = depart_warning

    def visit_error(self, node):
        self.generate_admonition(node, 'error')

    depart_error = depart_warning

    def visit_hint(self, node):
        self.generate_admonition(node, 'hint')

    depart_hint = depart_warning

    def visit_important(self, node):
        self.generate_admonition(node, 'important')

    depart_important = depart_warning

    def visit_note(self, node):
        self.generate_admonition(node, 'note')

    depart_note = depart_warning

    def visit_tip(self, node):
        self.generate_admonition(node, 'tip')

    depart_tip = depart_warning

    def visit_admonition(self, node):
        title = None
        for child in node.children:
            if child.tagname == 'title':
                title = child.astext()
        if title is None:
            classes1 = node.get('classes')
            if classes1:
                title = classes1[0]
        self.generate_admonition(node, 'generic', title)

    depart_admonition = depart_warning

    def generate_admonition(self, node, label, title=None):
        el1 = SubElement(self.current_element, 'text:p', attrib = {
            'text:style-name': self.rststyle('admon-%s-hdr', ( label, )),
            })
        if title:
            el1.text = title
        else:
            el1.text = '%s!' % (label.capitalize(), )
        s1 = self.rststyle('admon-%s-body', ( label, ))
        self.paragraph_style_stack.append(s1)

    #
    # Roles (e.g. subscript, superscript, strong, ...
    #
    def visit_subscript(self, node):
        el = self.append_child('text:span', attrib={
            'text:style-name': 'rststyle-subscript',
            })
        self.set_current_element(el)

    def depart_subscript(self, node):
        self.set_to_parent()

    def visit_superscript(self, node):
        el = self.append_child('text:span', attrib={
            'text:style-name': 'rststyle-superscript',
            })
        self.set_current_element(el)

    def depart_superscript(self, node):
        self.set_to_parent()


# Use an own reader to modify transformations done.
class Reader(standalone.Reader):

    def get_transforms(self):
        default = standalone.Reader.get_transforms(self)
        if self.settings.create_links:
            return default
        return [ i
                 for i in default
                 if i is not references.DanglingReferences ]
                                                                                                                                                                                                                                                                            usr/local/lib/python2.7/dist-packages/docutils/writers/odf_odt/__init__.pyc                         0100644 0000000 0000062 00000346600 13077704402 025451  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   s  d  Z  d Z d Z d d l Z d d l Z d d l Z d d l Z d d l Z d d l m	 Z	 d d l
 Z
 d d l Z d d l Z d d l Z d d l Z d d l Z d d l m Z m Z m Z m Z m Z d d l m Z d d l m Z d	 Z y e d
 É Ç WnÖ e k
 rãZ y d d l m Z d Z WnU e k
 ráZ y d d l m Z d Z Wn% e k
 rÉZ d Z  e e  É Ç n Xn Xn Xy2 d d l! Z! d d l" Z! d d l# m$ Z$ m% Z% Wn e e& f k
 rﬂZ' e( Z! n Xy d d l) Z* WnZ e k
 rLy/ d d l+ Z+ d e, f d Ñ  É  YZ* e+ e* _+ Wn e k
 rHe( Z* n Xn Xe d k r±d d l- Z- e- j. É  Z/ e0 e j1 e2 É rèe j1 Z3 n	 e j3 Z3 d e3 f d Ñ  É  YZ4 n  e j5 d É Z6 e j5 d É Z7 e j5 d É Z8 e j5 d É Z9 d Z: d e: Z; d d d d d f Z< d Z= d Z> i d  d! 6d" d# 6d$ d% 6d& d' 6d( d) 6d* d+ 6d, d- 6d. d/ 6d0 d1 6d2 d3 6e> d4 6d5 d6 6d7 d8 6d9 d: 6d; d< 6d= d> 6d? d@ 6dA dB 6dC dD 6dE dF 6dG dH 6dI dJ 6dK dL 6dM dN 6Z? Z@ i d  d! 6d" d# 6d$ d% 6d& d' 6d( d) 6d* d+ 6d, d- 6d. d/ 6d0 d1 6d2 d3 6e> d4 6d; d< 6d5 d6 6d7 d8 6d9 d: 6d= d> 6d? d@ 6dA dB 6dC dD 6dE dF 6dI dJ 6ZA ZB i dO dP 6ZC ZD i d" d# 6d0 d1 6e> d4 6d5 d6 6dI dJ 6ZE ZF i d  dQ 6d" dR 6d$ dS 6d& dT 6d( dU 6d* dV 6d, dW 6d. dX 6d0 dY 6d2 dZ 6e> d[ 6d; d\ 6d5 d] 6d7 d^ 6d9 d_ 6d= d` 6d? da 6dA db 6dC dc 6dE dd 6dG de 6dI df 6dK dg 6dM dh 6ZG i d  dQ 6d" dR 6d$ dS 6d& dT 6d( dU 6d* dV 6d, dW 6d. dX 6d0 dY 6d2 dZ 6e> d[ 6d; d\ 6d5 d] 6d7 d^ 6d9 d_ 6d= d` 6d? da 6dA db 6dC dc 6dE dd 6dI df 6ZH i dO di 6ZI i d" dR 6d0 dY 6e> d[ 6d5 d] 6dI df 6ZJ e( e( e@ dj Ñ Z1 e( e( e@ dk Ñ ZK dl Ñ  ZL e@ dm Ñ ZM dn Ñ  ZN do Ñ  ZO e j5 dp É ZP dq Ñ  ZQ dr e, f ds Ñ  É  YZR eR d dt É ZS du e, f dv Ñ  É  YZT dw e jU f dx Ñ  É  YZU dy e jV f dz Ñ  É  YZW d{ e jX f d| Ñ  É  YZX d S(}   s%   
Open Document Format (ODF) Writer.

s   1.0at   reStructuredTextiˇˇˇˇN(   t   minidom(   t   frontendt   nodest   utilst   writerst	   languages(   t
   standalone(   t
   referencest    s   Ignoring lxml(   t   ElementTreet   elementtreesm   Must install either a version of Python containing ElementTree (Python version >=2.5) or install ElementTree.(   t   OdtPygmentsProgFormattert   OdtPygmentsLaTeXFormattert   PILc           B   s   e  Z RS(    (   t   __name__t
   __module__(    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR   F   s    t   _ElementInterfaceWrapperc           B   s&   e  Z d d  Ñ Z d Ñ  Z d Ñ  Z RS(   c         C   s!   t  j |  | | É d  t |  <d  S(   N(   t   _ElementInterfacet   __init__t   Nonet   _parents(   t   selft   tagt   attrib(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR   b   s    c         C   s   | t  |  <d  S(   N(   R   (   R   t   parent(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   setparente   s    c         C   s   t  |  S(   N(   R   (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   getparentg   s    N(   R   R   R   R   R   R   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR   a   s   	s   ( +)s   (\t+)s   ^ +s    {2,}s   rststyle-table-s   %s0t   borders
   border-tops   border-lefts   border-rights   border-bottoms   Docutils.org/odf_odts0   urn:oasis:names:tc:opendocument:xmlns:office:1.0s/   urn:oasis:names:tc:opendocument:xmlns:chart:1.0t   charts    http://purl.org/dc/elements/1.1/t   dcs!   http://www.w3.org/2001/xml-eventst   doms.   urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0t   dr3ds1   urn:oasis:names:tc:opendocument:xmlns:drawing:1.0t   draws;   urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0t   fos.   urn:oasis:names:tc:opendocument:xmlns:form:1.0t   forms"   http://www.w3.org/1998/Math/MathMLt   maths.   urn:oasis:names:tc:opendocument:xmlns:meta:1.0t   metas3   urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0t   numbert   offices!   http://openoffice.org/2004/officet   ooos   http://openoffice.org/2004/calct   ooocs!   http://openoffice.org/2004/writert   ooows6   urn:oasis:names:tc:opendocument:xmlns:presentation:1.0t   presentations0   urn:oasis:names:tc:opendocument:xmlns:script:1.0t   scripts/   urn:oasis:names:tc:opendocument:xmlns:style:1.0t   styles8   urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0t   svgs/   urn:oasis:names:tc:opendocument:xmlns:table:1.0t   tables.   urn:oasis:names:tc:opendocument:xmlns:text:1.0t   texts   http://www.w3.org/2002/xformst   xformss   http://www.w3.org/1999/xlinkt   xlinks    http://www.w3.org/2001/XMLSchemat   xsds)   http://www.w3.org/2001/XMLSchema-instancet   xsis2   urn:oasis:names:tc:opendocument:xmlns:manifest:1.0t   manifests   xmlns:charts   xmlns:dcs	   xmlns:doms
   xmlns:dr3ds
   xmlns:draws   xmlns:fos
   xmlns:forms
   xmlns:maths
   xmlns:metas   xmlns:numbers   xmlns:offices   xmlns:presentations	   xmlns:ooos
   xmlns:ooocs
   xmlns:ooows   xmlns:scripts   xmlns:styles	   xmlns:svgs   xmlns:tables
   xmlns:texts   xmlns:xformss   xmlns:xlinks	   xmlns:xsds	   xmlns:xsis   xmlns:manifestc         C   sg   | d  k r i  } n  t |  | | É \ }  } t d k rT t j |  | d | É} n t |  | É } | S(   Nt   lxmlt   nsmap(   R   t   fix_nst   WhichElementTreet   etreet   ElementR   (   R   R   R7   t   nsdictt   el(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR;     s    	c         C   sÑ   | d  k r i  } n  t | | | É \ } } t d k rW t j |  | | d | É} n) t | | É } |  j | É | j |  É | S(   NR6   R7   (   R   R8   R9   R:   t
   SubElementR   t   appendR   (   R   R   R   R7   R<   R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR>     s    	c         C   sU   t  |  | É } i  } x3 | j É  D]% \ } } t  | | É } | | | <q" W| | f S(   N(   t   add_nst	   iteritems(   R   R   R<   t   nstagt   nsattribt   keyt   valt   nskey(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR8   %  s    c         C   sc   t  d k r_ |  j d É \ } } | j | É } | d  k rL t d | Ç n  d | | f }  n  |  S(   NR6   t   :s   Invalid namespace prefix: %ss   {%s}%s(   R9   t   splitt   getR   t   RuntimeError(   R   R<   RB   t   namet   ns(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR@   -  s    c         C   sX   t  j  É  } t j d k r1 |  j | d d Én |  j | É | j É  } | j É  | S(   Ni   i   t   encodingt   unicode(   i   i   (   t   StringIOt   syst   version_infot   writet   getvaluet   close(   t   ett	   outstreamt   s1(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   ToString6  s    
c         C   sç   |  j  d d É }  |  j  d d É }  |  j  d d É }  d } xJ |  D]B } t | É t d É k r{ | d	 t | É f 7} qC | | 7} qC W| S(
   Nt   &s   &amp;t   <s   &lt;t   >s   &gt;R	   s   s   &#x%X;(   t   replacet   ord(   R0   t   asciit   char(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   escape_cdataA  s    s   \b(\w*)\b\W*c         C   sz   |  d 7}  g  } d } t  j |  | É } xK | d  k	 ru | j É  d } | j | É | j É  } t  j |  | É } q+ W| S(   Nt    i    (   t   WORD_SPLIT_PAT1t   searchR   t   groupsR?   t   end(   t   linet   wordst   pos1t   mot   word(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   split_wordsQ  s    
t
   TableStylec           B   sY   e  Z d d d  Ñ Z d Ñ  Z d Ñ  Z e e e É Z d Ñ  Z d Ñ  Z	 e e e	 É Z
 RS(   c         C   s   | |  _  | |  _ d  S(   N(   R   t   backgroundcolor(   R   R   Rm   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR   e  s    	c         C   s   |  j  S(   N(   t   border_(   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_border_h  s    c         C   s   | |  _  d  S(   N(   Rn   (   R   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   set_border_j  s    c         C   s   |  j  S(   N(   t   backgroundcolor_(   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_backgroundcolor_m  s    c         C   s   | |  _  d  S(   N(   Rq   (   R   Rm   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   set_backgroundcolor_o  s    N(   R   R   R   R   Ro   Rp   t   propertyR   Rr   Rs   Rm   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRl   d  s   				s   0.0007in solid #000000t	   ListLevelc           B   sM   e  Z e e d  Ñ Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z	 RS(   c         C   s   | |  _  | |  _ | |  _ d  S(   N(   t   levelt   sibling_levelt   nested_level(   R   Rv   Rw   Rx   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR   z  s    		c         C   s   | |  _  d  S(   N(   Rw   (   R   Rw   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   set_sibling~  s    c         C   s   |  j  S(   N(   Rw   (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_sibling  s    c         C   s   | |  _  d  S(   N(   Rx   (   R   Rx   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   set_nestedÄ  s    c         C   s   |  j  S(   N(   Rx   (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   get_nestedÅ  s    c         C   s   | |  _  d  S(   N(   Rv   (   R   Rv   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   set_levelÇ  s    c         C   s   |  j  S(   N(   Rv   (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   get_levelÉ  s    (
   R   R   t   TrueR   Ry   Rz   R{   R|   R}   R~   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRu   y  s   					t   Writerc           B   s˛  e  Z d  Z d Z dK Z d e Z e j e j	 j
 e j É  d É e j	 j
 e j	 j e É e É É Z d Z e j e j	 j
 e j É  d É e j	 j
 e j	 j e É e É É Z d dL d e d g i e d	 6d
 d 6f d d g i d d 6f d d g i e d	 6d d 6d d 6e j d 6f d d g i e d	 6d d 6d d 6e j d 6f d d g i dL d	 6e j d 6f d d g i e d	 6d d 6d d 6e j d 6f d d g i e d	 6d d 6d d 6e j d 6f d  d! g i e d	 6d d 6d" d 6e j d 6f d# d$ g i e d	 6d d 6d" d 6e j d 6f d% d& g i e d	 6d d 6d' d 6e j d 6f d( d) g i e d	 6d d 6d' d 6e j d 6f d* d+ g i e d	 6d d 6d, d 6e j d 6f d- d. g i e d	 6d d 6d, d 6e j d 6f d/ d0 g i e d	 6d d 6d1 d 6e j d 6f d2 d3 g i e d	 6d d 6d1 d 6e j d 6f d4 d5 g i d6 d	 6d7 d 6f d8 d9 g i d6 d	 6d: d 6f f f Z i d; d< 6Z dM Z d> Z dN Z d@ Ñ  Z dA Ñ  Z dB Ñ  Z e j  dC Ñ Z! dD Ñ  Z" dE Ñ  Z# dF Ñ  Z$ dG Ñ  Z% dH Ñ  Z& dI Ñ  Z' dJ Ñ  Z( RS(O   s'   application/vnd.oasis.opendocument.texts   .odtt   odtt   stylest   dummys   template.txts   ODF-Specific Optionss$   Specify a stylesheet.  Default: "%s"s   --stylesheett   defaultt
   stylesheett   dests}  Specify a configuration/mapping file relative to the current working directory for additional ODF options.  In particular, this file may contain a section named "Formats" that maps default style names to names to be used in the resulting output file allowing for adhering to external standards. For more info and the format of the configuration/mapping file, see the odtwriter doc.s   --odf-config-files   <file>t   metavarsy   Obfuscate email addresses to confuse harvesters while still keeping email links usable with standards-compliant browsers.s   --cloak-email-addressest
   store_truet   actiont   cloak_email_addressest	   validators!   Do not obfuscate email addresses.s   --no-cloak-email-addressest   store_falsesL   Specify the thickness of table borders in thousands of a cm.  Default is 35.s   --table-border-thicknesss/   Add syntax highlighting in literal code blocks.s   --add-syntax-highlightingt   add_syntax_highlightings@   Do not add syntax highlighting in literal code blocks. (default)s   --no-syntax-highlightings'   Create sections for headers.  (default)s   --create-sectionst   create_sectionss#   Do not create sections for headers.s   --no-sectionss   Create links.s   --create-linkst   create_linkss   Do not create links.  (default)s
   --no-linkssF   Generate endnotes at end of document, not footnotes at bottom of page.s   --endnotes-end-doct   endnotes_end_docsP   Generate footnotes at bottom of page, not endnotes at end of document. (default)s   --no-endnotes-end-docsP   Generate a bullet list table of contents, not an ODF/oowriter table of contents.s   --generate-list-toct   generate_oowriter_tocsH   Generate an ODF/oowriter table of contents, not a bullet list. (default)s   --generate-oowriter-tocsÖ   Specify the contents of an custom header line.  See odf_odt writer documentation for details about special field character sequences.s   --custom-odt-headerR	   t   custom_headersÖ   Specify the contents of an custom footer line.  See odf_odt writer documentation for details about special field character sequences.s   --custom-odt-footert   custom_footert   xmlcharrefreplacet   output_encoding_error_handlert   stylesheet_paths   odf_odt writerR   c         C   s   t  j j |  É t |  _ d  S(   N(   R   RÄ   R   t   ODFTranslatort   translator_class(   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR      s    c         C   su   |  j  j |  _ |  j |  j  É |  _ |  j j |  j É |  j  j |  j É |  j j É  |  j É  |  j	 d |  _
 d  S(   Nt   whole(   t   documentt   settingsRò   t   visitort   retrieve_stylest	   EXTENSIONt	   walkaboutt   add_doc_titlet   assemble_my_partst   partst   output(   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   translate$  s    
c         C   sP  t  j j |  É t j É  } t j | d t j É } |  j | d |  j	 d t j
 É|  j j É  } |  j | d | É |  j É  } |  j | d | É |  j É  } |  j | d | É |  j É  } |  j | d | É |  j | É |  j | É | j É  | j d É | j É  } | j É  | |  j d	 <|  j j j |  j d
 <t j |  j d <d S(   sE   Assemble the `self.parts` dictionary.  Extend in subclasses.
        t   wt   mimetypet   compress_types   content.xmls   META-INF/manifest.xmls   meta.xmls
   styles.xmli    Rô   RM   t   versionN(   R   RÄ   t   assemble_partst   tempfilet   NamedTemporaryFilet   zipfilet   ZipFilet   ZIP_DEFLATEDt   write_zip_strt	   MIME_TYPEt
   ZIP_STOREDRú   t   content_astextt   create_manifestt   create_metat   get_stylesheett   store_embedded_filest   copy_from_stylesheetRT   t   seekt   readR¢   Rö   Rõ   t   output_encodingt   docutilst   __version__(   R   t   ft   zfilet   contentRW   Rô   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR°   -  s,    


c         C   sM   t  j t  j  É  É } t j | | É } d | _ | | _ | j | | É d  S(   Ni§Å  iˇˇ  l    i§Å  l     H (   t   timet	   localtimeR¨   t   ZipInfot   external_attrRß   t   writestr(   R   Ræ   RK   t   bytesRß   R¡   t   zinfo(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRØ   G  s
    		c         C   sÄ   |  j  j É  } xj | D]b \ } } | d  k r4 q n  y | j | | É Wq t k
 rw } |  j j j d | f É q Xq Wd  S(   Ns   Can't open file %s.(   Rú   t   get_embedded_file_listR   RR   t   OSErrorRö   t   reportert   warning(   R   Ræ   t   embedded_filest   sourcet   destinationt   e(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR∂   O  s    c         C   s;   |  j  j } t j | d É } | j d É } | j É  | S(   s.   
        modeled after get_stylesheet
        t   rs   settings.xml(   Rõ   RÖ   R¨   R≠   Rπ   RT   (   R   t
   stylespathRæ   RW   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_settingsZ  s
    
c         C   s   |  j  j É  } | S(   sX   Get the stylesheet from the visitor.
        Ask the visitor to setup the page.
        (   Rú   t
   setup_page(   R   RW   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRµ   d  s    c         C   sú   |  j  j } t j | d É } | j d É } |  j | d | É | j É  } x? | D]7 } | j d É rS | j | É } | j | | É qS qS W| j	 É  d S(   sL   Copy images, settings, etc from the stylesheet doc into target doc.
        Rœ   s   settings.xmls	   Pictures/N(
   Rõ   RÖ   R¨   R≠   Rπ   RØ   t   namelistt
   startswithRƒ   RT   (   R   t
   outzipfileR–   t	   inzipfileRW   R”   RK   t   imageobj(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR∑   k  s    c         C   s   d  S(   N(    (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR©   {  s    c         C   sB  t  d k r' t d d t d t É} n t d d t d t É} t j | É } t | d d i |  j d 6d d	 6d t Ét | d d i d
 d 6d d	 6d t Ét | d d i d
 d 6d d	 6d t Ét | d d i d
 d 6d d	 6d t Ét | d d i d
 d 6d d	 6d t Ét	 | É } t
 j | É } | j d É } | S(   NR6   s   manifest:manifestR7   R<   R   s   manifest:file-entrys   manifest:media-typet   /s   manifest:full-paths   text/xmls   content.xmls
   styles.xmls   settings.xmls   meta.xmls     (   R9   R;   t   MANIFEST_NAMESPACE_DICTt   MANIFEST_NAMESPACE_ATTRIBR:   R
   R>   R∞   t   MANNSDRX   R   t   parseStringt   toprettyxml(   R   t   roott   docRW   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR≥   ~  s@    			





c         C   sz  t  d k r' t d d t d t É} n t d d t d t É} t j | É } t | d d t É} t | d d t É} d t f | _	 t
 j j d	 d
 É } t | d d t É} | | _	 t j d t j É  É } t | d d t É} | | _	 t | d d t É} | | _	 t | d d t É} | | _	 t | d d t É} d | _	 t | d d t É} d | _	 t | d d t É} d | _	 |  j j É  } t | d d t É} | rΩ| | _	 n	 d | _	 |  j j É  } | j d É } | d  k	 r.t | É }	 x/ |	 D]$ }
 t | d d t É} |
 | _	 qWn  | j d É } | d  k	 rjt | d d t É} | | _	 n  t | É } | S(   NR6   s   office:document-metaR7   R<   R   s   office:metas   meta:generators   Docutils/rst2odf.py/%st   USERR	   s   meta:initial-creators   %Y-%m-%dT%H:%M:%Ss   meta:creation-dates
   dc:creators   dc:dates   dc:languages   en-USs   meta:editing-cyclest   1s   meta:editing-durationt   PT00M01Ss   dc:titles
   [no title]t   keywordss   meta:keywordt   descriptions   dc:description(   R9   R;   t   META_NAMESPACE_DICTt   META_NAMESPACE_ATTRIBR:   R
   R>   t   METNSDt   VERSIONR0   t   ost   environRI   R¿   t   strftimeR¡   Rú   t	   get_titlet   get_meta_dictR   Rk   RX   (   R   Rﬁ   Rﬂ   t   el1RW   t   s2t   titlet	   meta_dictt
   keywordstrR„   t   keywordR‰   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR¥   £  sZ    											(   RÅ   N(   Rñ   (   s   writers()   R   R   R∞   Rû   t	   supportedt   default_stylesheetR   t   relative_pathRÈ   t   patht   joint   getcwdt   dirnamet   __file__t   default_stylesheet_patht   default_templatet   default_template_pathR   t   FalseR   t   validate_booleant   validate_nonnegative_intR   t   settings_spect   settings_defaultst   relative_path_settingst   config_sectiont   config_section_dependenciesR   R§   R°   R¨   RÆ   RØ   R∂   R—   Rµ   R∑   R©   R≥   R¥   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRÄ   Ü  sÙ   
$$
	
















						
				%Ró   c        [   B   s€  e  Z dOZ d[ Ñ  Z d\ Ñ  Z d] Ñ  Z d^ Ñ  Z d_ Ñ  Z d` Ñ  Z da Ñ  Z	 db Ñ  Z
 dPdc Ñ Z dd Ñ  Z de Ñ  Z df Ñ  Z dg Ñ  Z e dh É \ Z Z Z e j di É Z dj Ñ  Z dk Ñ  Z dl Ñ  Z dm Ñ  Z dn Ñ  Z do Ñ  Z dp Ñ  Z dq Ñ  Z dr Ñ  Z ds Ñ  Z  dt Ñ  Z! dQdQdu Ñ Z# dQdv Ñ Z$ dw Ñ  Z% dx Ñ  Z& dy Ñ  Z' dz Ñ  Z( d{ Ñ  Z) d| Ñ  Z* d} Ñ  Z+ d~ Ñ  Z, d Ñ  Z- dÄ Ñ  Z. dÅ Ñ  Z/ dÇ Ñ  Z0 dÉ Ñ  Z1 dÑ Ñ  Z2 dÖ Ñ  Z3 dÜ Ñ  Z4 dá Ñ  Z5 dà Ñ  Z6 dâ Ñ  Z7 dä Ñ  Z8 dã Ñ  Z9 då Ñ  Z: dç Ñ  Z; dé Ñ  Z< dè Ñ  Z= dê Ñ  Z> dë Ñ  Z? dí Ñ  Z@ dì Ñ  ZA dî Ñ  ZB dï Ñ  ZC dñ Ñ  ZD dó Ñ  ZE dò Ñ  ZF dô Ñ  ZG dö Ñ  ZH dõ Ñ  ZI dú Ñ  ZJ dù Ñ  ZK dû Ñ  ZL dü Ñ  ZM d† Ñ  ZN d° Ñ  ZO d¢ Ñ  ZP d£ Ñ  ZQ d§ Ñ  ZR d• Ñ  ZS d¶ Ñ  ZT dß Ñ  ZU d® Ñ  ZV d© Ñ  ZW d™ Ñ  ZX d´ Ñ  ZY d¨ Ñ  ZZ d≠ Ñ  Z[ dÆ Ñ  Z\ dØ Ñ  Z] d∞ Ñ  Z^ d± Ñ  Z_ d≤ Ñ  Z` d≥ Ñ  Za d¥ Ñ  Zb dµ Ñ  Zc d∂ Ñ  Zd d∑ Ñ  Ze d∏ Ñ  Zf dπ Ñ  Zg d∫ Ñ  Zh dª Ñ  Zi dº Ñ  Zj dΩ Ñ  Zk dæ Ñ  Zl dø Ñ  Zm d¿ Ñ  Zn d¡ Ñ  Zo d¬ Ñ  Zp d√ Ñ  Zq dƒ Ñ  Zr d≈ Ñ  Zs d∆ Ñ  Zt d« Ñ  Zu d» Ñ  Zv d… Ñ  Zw d  Ñ  Zx dÀ dÃ dÕ dŒ dœ d– d— d“ d” g	 Zy d‘ Ñ  Zz d’ Ñ  Z{ d÷ Ñ  Z| d◊ Ñ  Z} dÿ Ñ  Z~ dŸ Ñ  Z d⁄ Ñ  ZÄ d€ Ñ  ZÅ d‹ Ñ  ZÇ d› Ñ  ZÉ dﬁ Ñ  ZÑ dﬂ Ñ  ZÖ d‡ Ñ  ZÜ d· Ñ  Zá d‚ Ñ  Zà d„ Ñ  Zâ d‰ Ñ  Zä dQdÂ Ñ Zã dÊ Ñ  Zå dÁ Ñ  Zç dË Ñ  Zé dÈ Ñ  Zè dÍ Ñ  Zê dÎ Ñ  Zë dÏ Ñ  Zí dÌ Ñ  Zì dÓ Ñ  Zî dÔ Ñ  Zï d Ñ  Zñ dÒ Ñ  Zó dÚ Ñ  Zò dÛ Ñ  Zô dÙ Ñ  Zö dı Ñ  Zõ dˆ Ñ  Zú d˜ Ñ  Zù eú Zû eù Zü d¯ Ñ  Z† d˘ Ñ  Z° d˙ Ñ  Z¢ d˚ Ñ  Z£ d¸ Ñ  Z§ d˝ Ñ  Z• d˛ Ñ  Z¶ dˇ Ñ  Zß d Ñ  Z® dÑ  Z© dÑ  Z™ dÑ  Z´ dÑ  Z¨ dÑ  Z≠ dÑ  ZÆ dÑ  ZØ dÑ  Z∞ d	Ñ  Z± d
Ñ  Z≤ dÑ  Z≥ dÑ  Z¥ dÑ  Zµ dÑ  Z∂ dÑ  Z∑ dÑ  Z∏ dÑ  Zπ dÑ  Z∫ dÑ  Zª dÑ  Zº dÑ  ZΩ ddÑ Zæ dÑ  Zø dÑ  Z¿ dÑ  Z¡ dÑ  Z¬ dÑ  Z√ dÑ  Zƒ dÑ  Z≈ dÑ  Z∆ d Ñ  Z« d!Ñ  Z» d"Ñ  Z… d#Ñ  Z  d$Ñ  ZÀ d%Ñ  ZÃ d&Ñ  ZÕ d'Ñ  ZŒ d(Ñ  Zœ d)Ñ  Z– d*Ñ  Z— d+Ñ  Z“ d,Ñ  Z” d-Ñ  Z‘ d.Ñ  Z’ d/Ñ  Z÷ dd0 d0Ñ Z◊ d1Ñ  Zÿ dd2Ñ ZŸ d3Ñ  Z⁄ d4Ñ  Z€ d5Ñ  Z‹ d6Ñ  Z› d7Ñ  Zﬁ d8Ñ  Zﬂ d9Ñ  Z‡ d:Ñ  Z· d;Ñ  Z‚ d<Ñ  Z„ d=Ñ  Z‰ d>Ñ  ZÂ d?Ñ  ZÊ d@Ñ  ZÁ dAÑ  ZË eÁ ZÈ dBÑ  ZÍ eÁ ZÎ dCÑ  ZÏ eÁ ZÌ dDÑ  ZÓ eÁ ZÔ dEÑ  Z eÁ ZÒ dFÑ  ZÚ eÁ ZÛ dGÑ  ZÙ eÁ Zı dHÑ  Zˆ eÁ Z˜ dIÑ  Z¯ eÁ Z˘ dQdJÑ Z˙ dKÑ  Z˚ dLÑ  Z¸ dMÑ  Z˝ dNÑ  Z˛ RS(R  t   attributiont   blockindentt
   blockquotes   blockquote-bulletitems   blockquote-bulletlists   blockquote-enumitems   blockquote-enumlistt
   bulletitemt
   bulletlistt   captiont   legendt   centeredtextbodyt	   codeblocks   codeblock-indenteds   codeblock-classnames   codeblock-comments   codeblock-functionnames   codeblock-keywords   codeblock-names   codeblock-numbers   codeblock-operators   codeblock-stringt   emphasist   enumitemt   enumlistt   epigraphs   epigraph-bulletitems   epigraph-bulletlists   epigraph-enumitems   epigraph-enumlistt   footert   footnotet   citationt   headert
   highlightss   highlights-bulletitems   highlights-bulletlists   highlights-enumitems   highlights-enumlistt   horizontallinet   inlineliteralt	   quotationt   rubrict   strongs   table-titlet   textbodyt   tocbulletlistt   tocenumlistR   t   subtitlet   heading1t   heading2t   heading3t   heading4t   heading5t   heading6t   heading7s   admon-attention-hdrs   admon-attention-bodys   admon-caution-hdrs   admon-caution-bodys   admon-danger-hdrs   admon-danger-bodys   admon-error-hdrs   admon-error-bodys   admon-generic-hdrs   admon-generic-bodys   admon-hint-hdrs   admon-hint-bodys   admon-important-hdrs   admon-important-bodys   admon-note-hdrs   admon-note-bodys   admon-tip-hdrs   admon-tip-bodys   admon-warning-hdrs   admon-warning-bodyt   tableoptions   tableoption.%cs   tableoption.%c%ds   Table%ds
   Table%d.%cs   Table%d.%c%dt
   lineblock1t
   lineblock2t
   lineblock3t
   lineblock4t
   lineblock5t
   lineblock6t   imaget   figureframec   	      C   sK  t  j j |  | É | j |  _ |  j j } t j | | j É |  _ i  |  _	 |  j j
 rÈ d d l m } | É  } | j |  j j
 É xb | j d É D]N \ } } | |  j k rÃ |  j j j d | f É n  | j d É |  j	 | <qî Wn  d |  _ d |  _ t d k rt d d	 t É} n t d d
 t É} t j d | É |  _ | |  _ t | d É t | d É t | d É } | |  _ t | d É } |  j | É } | |  _ | |  _ |  j  d É g |  _! g  |  _" d |  _# t$ d É d |  _% d |  _& t' |  _( d  |  _* d  |  _+ d  |  _, d |  _- d |  _. i  |  _/ g  |  _0 d |  _1 d |  _2 g  |  _3 g  |  _4 t' |  _5 t' |  _6 d |  _7 t' |  _8 d  |  _9 d |  _: d |  _; i  |  _< g  |  _= d |  _> d |  _? g  |  _@ t' |  _A t' |  _B g  |  _C i  |  _D d |  _E d |  _F d  |  _G d |  _H d |  _I d |  _J d  |  _K d  |  _L t' |  _M g  |  _N d  S(   Niˇˇˇˇ(   t   ConfigParsert   Formatss,   Style "%s" is not a style used by odtwriter.s   utf-8i    R6   s   office:document-contentR7   R   t   elements   office:scriptss   office:font-face-declss   office:automatic-styless   office:bodyR  t   Ai   t   pythonR	   (O   R   t   GenericNodeVisitorR   Rõ   t   language_codeR   t   get_languageR…   t   languaget
   format_mapt   odf_config_fileR2  Rπ   t   itemst   used_stylesRö   R    t   decodet   section_levelt   section_countR9   R;   t   CONTENT_NAMESPACE_DICTt   CONTENT_NAMESPACE_ATTRIBR:   R
   t   content_treet   current_elementR>   t   automatic_stylest   generate_content_elementt   body_text_elementt   rststylet   paragraph_style_stackt   list_style_stackt   table_countR]   t   column_countt   trace_levelRˇ   t   optiontablestyles_generatedR   t
   field_namet   field_elementR   t   image_countt   image_style_countt
   image_dictt   embedded_file_listt   syntaxhighlightingt   syntaxhighlight_lexert   header_contentt   footer_contentt	   in_headert	   in_footert
   blockstylet   in_table_of_contentst   table_of_content_index_bodyt
   list_levelt   def_list_levelt   footnote_ref_dictt   footnote_listt   footnote_chars_idxt   footnote_levelt   pending_idst   in_paragrapht   found_doc_titlet   bumped_list_level_stackRÒ   t   line_block_levelt   line_indent_levelt   citation_idt   style_indext   str_stylesheett   str_stylesheetcontentt   dom_stylesheett   table_stylest   in_citationt   inline_style_count_stack(	   R   Rö   t   lcodeR2  t   parserRI  t   formatRﬁ   R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR     sö    																																																	c         C   s   |  j  S(   N(   Rm  (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_str_stylesheetl  s    c         C   s
  d } |  j j } t j j | É d } | d k r\ t | d É } | j É  } | j É  n\ | | k r• t	 j
 | d É } | j d É } | j d É } | j É  n t d | | f Ç | |  _ | |  _ t j |  j É |  _ t j |  j É |  _ |  j | É |  _ d S(   s|   Retrieve the stylesheet from either a .xml file or from
        a .odt (zip) file.  Return the content as a string.
        i   s   .xmlRœ   s
   styles.xmls   content.xmls,   stylesheet path (%s) must be %s or .xml fileN(   R   Rõ   RÖ   RÈ   R˜   t   splitextt   openRπ   RT   R¨   R≠   RJ   Rm  Rn  R:   t
   fromstringRo  t   dom_stylesheetcontentt   extract_table_stylesRp  (   R   t	   extensionRÔ   R–   t   extt
   stylesfileRW   Ræ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRù   o  s$    		c         C   só  t  j | É } i  } | j d t d f É } xa| D]Y} | j d t d f É } | j d É d } | j d t d f É } | j t É r6 | j | É }	 |	 d  k r√ t	 É  }	 |	 | | <n  | d k r-| j d	 t d f É }
 |
 j d
 t d d f É } | d  k	 rå| d k rå| |	 _
 qåqè| d k rè| j d t d f É }
 |
 d  k	 rå|  j |
 É } | d  k	 râ| |	 _ qâqåqèq6 q6 W| S(   Ns   {%s}automatic-stylesR'   s   {%s}nameR-   t   .i    s
   {%s}familyR/   s   {%s}table-propertiess   {%s}%sR"   s   background-colort   nones
   table-cells   {%s}table-cell-properties(   R:   Ry  t   findt   CNSDRI   RH   R‘   t   TABLESTYLEPREFIXR   Rl   Rm   t   get_propertyR   (   R   t
   styles_strRﬁ   Rp  t   auto_stylest	   stylenodeRK   t	   tablenamet   familyt
   tablestylet
   propertiesRt   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR{  á  s8    	c         C   sT   d  } xG t D]? } | j d t d | f É } | d  k	 r | d k r | Sq W| S(   Ns   {%s}%sR"   RÄ  (   R   t   TABLEPROPERTYNAMESRI   RÇ  (   R   Rá  R   t   propertyname(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRÑ  •  s    c         C   sö   |  j  j } | rh | |  _ |  j sh t d d i |  j d É d 6É} | | _ |  j j d | É qh n  |  j |  j É } | d  k	 rñ |  j
 | É n  d  S(   Ns   text:pR   R   s   text:style-namei    (   Rõ   R   Rg  R;   RI  R0   RH  t   insertt   find_first_text_pR   t   attach_page_style(   R   R0   R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR†   ≠  s    			c         C   sp   | j  d k s | j  d k r" | S| j É  rh x3 | j É  D]% } |  j | É } | d k	 r; | Sq; Wd Sd Sd S(   sH   Search the generated doc and return the first <text:p> element.
        s   text:ps   text:hN(   R   t   getchildrenRè  R   (   R   R=   t   childRÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRè  ª  s    c         C   su   | j  d É } d } t |  j d d i | d 6d d 6d d	 6d
 t É} | ra | j d | É n  | j d | É d S(   sÆ   Attach the default page style.

        Create an automatic-style that refers to the current style
        of this element and that refers to the default page style.
        s   text:style-namet   P1003s   style:styleR   s
   style:names   rststyle-pagedefaults   style:master-page-namet	   paragraphs   style:familyR<   s   style:parent-style-nameN(   RI   R>   RF  t   SNSDt   set(   R   R=   t   current_stylet
   style_nameRÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRê  Ã  s    
	c         C   s'   | | } |  j  j | d | É } | S(   s‡   
        Returns the style name to use for the given style.

        If `parameters` is given `name` must contain a matching number of ``%`` and
        is used as a format expression with `parameters` as the value.
        s   rststyle-%s(   R;  RI   (   R   RK   t
   parameterst   name1t	   stylename(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRI  ﬂ  s    
c         C   s   t  | d É S(   Ns   office:text(   R>   (   R   Rﬁ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRG  Í  s    c         C   s{   |  j  |  j É t |  j É d k sR t |  j É d k sR |  j j sR |  j j re |  j |  j É n  t	 j
 |  j É } | S(   Ni    (   t   setup_paperRo  t   lenRX  RY  Rõ   Rí   Rì   t   add_header_footerR:   t   tostring(   R   t   new_content(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR“   Ì  s    *c            sw   y> t  j d É } t t | j É  j É  É \ â â  | j É  Wn d \ â â  n Xá  á á f d Ü  â à | É d  S(   Ns   paperconf -s 2> /dev/nullid  i  c            sÏ   |  j  d t d k r« |  j j d t d É r« d à |  j d t d <d à  |  j d t d <d d à |  j d t d <|  j d	 t d <d d à  |  j d
 t d <|  j d t d <n! x |  j É  D] } à | É q‘ Wd  S(   Ns   {%s}page-layout-propertiesR-   s   {%s}page-widthR"   s   %.3fpts   {%s}page-heightgöôôôôôπ?s   {%s}margin-lefts   {%s}margin-rights   {%s}margin-tops   {%s}margin-bottom(   R   Rï  R   t   has_keyRë  (   R=   t   subel(   t   hR•   t   walk(    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR§  ¸  s    03 (   id  i  (   RÈ   t   popent   mapt   floatRπ   RH   RT   (   R   t   root_elt   fin(    (   R£  R•   R§  sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRú  ı  s    !c         C   sm  | j  d t d É } d t f } | j  | É } | d  k rC d  Sd t d f } | j | É } d  } d t d f } |  j d É } x- | D]% } | j | É | k rê | } Pqê qê W| d  k r… d  S| }	 |  j s‰ |  j j	 rút
 d k rt |	 d	 d
 t É}
 n t |	 d	 d t d
 t É}
 xF |  j D]; } t d d
 t É} |  j d É | j | <|
 j | É q-W|  j j	 rú|  j |
 |  j j	 d | É } qún  |  j s±|  j j rit
 d k r’t |	 d d
 t É}
 n t |	 d d t d
 t É}
 xF |  j D]; } t d d
 t É} |  j d É | j | <|
 j | É q˙W|  j j ri|  j |
 |  j j d | É } qin  d  S(   Ns   {%s}automatic-stylesR'   s   {%s}master-styless   {%s}master-pageR-   s   {%s}namet   pagedefaultR6   s   style:headerR<   R   s   text:style-nameR  s   style:footerR  (   RÅ  Rï  t   NAME_SPACE_1R   t   findallRI  RI   RX  Rõ   Rí   R9   R>   t   STYLES_NAMESPACE_ATTRIBt   STYLES_NAMESPACE_DICTR@   R   R?   t   create_custom_headfootRY  Rì   (   R   R®  RF  R˜   t	   master_elt   master_el_containert   target_attribt   target_nameR=   RÓ   t   el2t   attrkeyt   elcustom(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRû    sX    				i   s   %(..?)%c   
      C   s  t  | d d i |  j | É d 6É} d  } |  j | É } x≈ | D]Ω } | d t j k r’ | d d k rá d | d f } t | Ç n  |  j | | d | | É }	 |	 d  k rÃ d | d f } t | Ç q˛ |	 } qA | d  k rÒ | d | _ qA | d | _	 qA Wd  S(   Ns   text:pR   s   text:style-namei    i   t   pt   Pt   t1t   t2t   t3t   t4t   d1t   d2t   d3t   d4t   d5t   st   tt   as   bad field spec: %%%s%%(   R∑  R∏  s   t1s   t2Rª  Rº  RΩ  s   d2Rø  R¿  R¡  R¬  R√  Rƒ  (
   R>   RI  R   t   split_field_specifiers_iterRó   t
   code_fieldRJ   t   make_field_elementR0   t   tail(
   R   R   R0   Rò  RF  RE  t
   field_itert   itemt   msgRÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRØ  @  s*      			c         C   st
  | d k r+ t  | d d i d d 6É} nE
| d k rO t  | d d i  É} n!
| d k r0|  j d	 7_ t  | d
 d i |  j | É d 6d d 6d |  j d 6É} t  | d d i d |  j d 6t d d 6t d d 6É} t  | d d i d d 6É} t  | d É } d | _ t  | d d i d d 6É} n@	| d k rE|  j d	 7_ t  | d
 d i |  j | É d 6d d 6d |  j d 6É} t  | d d i d |  j d 6t d d 6t d d 6É} t  | d d i d d 6É} t  | d É } d | _ t  | d d i d d 6É} t  | d É } d | _ t  | d d i d d 6É} n+| d k rM|  j d	 7_ t  | d
 d i |  j | É d 6d d 6d |  j d 6É} t  | d d i d |  j d 6t d d 6t d d 6É} t  | d d i d d 6É} t  | d É } d | _ t  | d d i d d 6É} t  | d É } d | _ t  | d  É } n#| d! k râ|  j d	 7_ t  | d
 d i |  j | É d 6d d 6d |  j d 6É} t  | d d i d |  j d 6t d d 6t d d 6É} t  | d d i d d 6É} t  | d É } d | _ t  | d d i d d 6É} t  | d É } d | _ t  | d d i d d 6É} t  | d É } d | _ t  | d  É } nÁ| d" k rë|  j d	 7_ t  | d# d i |  j | É d 6d$ |  j d 6É} t  | d% d i d$ |  j d 6d d& 6t d d 6t d d 6É} t  | d' d i d d 6É} t  | d É } d( | _ t  | d) d i d d 6É} t  | d É } d( | _ t  | d* É } nﬂ| d+ k r¶|  j d	 7_ t  | d# d i |  j | É d 6d$ |  j d 6É} t  | d% d i d$ |  j d 6d d& 6t d d 6t d d 6É} t  | d' d i d d 6É} t  | d É } d( | _ t  | d) d i d d 6É} t  | d É } d( | _ t  | d* d i d d 6É} n | d, k r¥|  j d	 7_ t  | d# d i |  j | É d 6d$ |  j d 6É} t  | d% d i d$ |  j d 6d d& 6t d d 6t d d 6É} t  | d' d i d d- 6É} t  | d É } d | _ t  | d) d i  É} t  | d É } d. | _ t  | d* d i d d 6É} nº| d/ k r…|  j d	 7_ t  | d# d i |  j | É d 6d$ |  j d 6É} t  | d% d i d$ |  j d 6d d& 6t d d 6t d d 6É} t  | d' d i d d- 6d d 6É} t  | d É } d | _ t  | d) d i  É} t  | d É } d. | _ t  | d* d i d d 6É} nß| d0 k r◊	|  j d	 7_ t  | d# d i |  j | É d 6d$ |  j d 6É} t  | d% d i d$ |  j d 6t d d 6t d d 6É} t  | d* d i d d 6É} t  | d É } d1 | _ t  | d' d i d d 6É} t  | d É } d1 | _ t  | d) d i d d 6É} nô | d2 k r
t  | d3 d i |  j | É d 6É} ne | d4 k r?
t  | d5 d i |  j | É d 6É} n1 | d6 k rj
t  | d7 d i d8 d 6É} n d  } | S(9   NR∑  s   text:page-numberR   t   currents   text:select-pageR∏  s   text:page-countRπ  i   s	   text:times   text:style-namet   trues
   text:fixeds   rst-time-style-%ds   style:data-style-names   number:time-styles
   style:nameR&   s   xmlns:numberR-   s   xmlns:styles   number:hourst   longs   number:styles   number:textRG   s   number:minutesR∫  s   number:secondsRª  Ra   s   number:am-pmRº  RΩ  s	   text:dates   rst-date-style-%ds   number:date-styles   number:automatic-orders   number:monthRÿ   s
   number:days   number:yearRæ  Rø  s   number:textuals   , R¿  R¡  t   -R¬  s   text:subjectR√  s
   text:titleRƒ  s   text:author-namet   false(   R>   Rl  RI  Rï  R0   R   (   R   R   R0   Rò  RF  RÓ   R¥  t   el3(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR«  [  s~   																		c         c   s∂   d } t  | É } x| t rê t j j | | É } | rå | j É  } | | k rf t j | | | !f Vn  t j | j d É f V| j	 É  } q Pq W| | } | r≤ t j | f Vn  d  S(   Ni    i   (
   Rù  R   Ró   t	   field_patRc   t   startt	   code_textR∆  t   groupRe   (   R   R0   Rh   t   pos_endRi   t   pos2t   trailing(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR≈  N  s    	
c         C   s.   |  j  j É  } t j | É } t | É } | S(   N(   RD  t   getrootR:   R
   RX   (   R   Rﬁ   RU   RW   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   astext`  s    c         C   s
   |  j  É  S(   N(   R⁄  (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR≤   f  s    c         C   s   | |  _  d  S(   N(   R   (   R   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   set_titlei  s    c         C   s   |  j  S(   N(   R   (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRÏ   j  s    c         C   s   | |  _  d  S(   N(   RU  (   R   RU  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   set_embedded_file_listk  s    c         C   s   |  j  S(   N(   RU  (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR«   m  s    c         C   s   |  j  S(   N(   RÒ   (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRÌ   n  s    c         C   s¨  x•|  j  D]ö\ } } | j j d g  É } t } xp| D]h} |  j j | É } | d  k	 r8 | rá t } t j | É } | j	 | É q†| j
 É  } t | É d k r†| d }	 |	 j }
 t d d t É} | j | d É } | d  k rÒ d } n  t d d t É} | | _ |  j j r!d } n d	 } | j j É  t d
 d t É} | | j | <t d d t É} | | j | <t d d t É} d | j | <|
 | _ q†q8 q8 Wq
 Wd  S(   Nt   backrefsi    s   text:idR<   s   footnote-errorR	   s   text:note-reft   endnoteR  s   text:note-classs   text:ref-names   text:reference-formatt   page(   Rb  t
   attributesRI   R   Ra  R   Rˇ   t   copyt   deepcopyR?   Rë  Rù  R0   R@   Rï  R   Rõ   Rê   R   t   clear(   R   t   nodeRÓ   R›  t   firstt   refR¥  R—  t   childrenRí  t   ref1t	   attribkeyt   id1R   t
   note_class(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   process_footnotesp  s>    
				c         C   sL   | d  k r |  j } n  | d  k r6 t | | É } n t | | | É } | S(   N(   R   RE  R>   (   R   R   R   R   R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   append_childñ  s    c         C   sN   |  j  d d i |  j | É d 6É} |  j | É | d  k	 rJ | | _ n  | S(   Ns   text:pR   s   text:style-name(   RÌ  RI  t   append_pending_idsR   R0   (   R   R-   R0   t   result(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   append_pü  s    c         C   sJ   |  j  j r= x. |  j D]  } t | d d i | d 6Éq Wn  g  |  _ d  S(   Ns   text:reference-markR   s	   text:name(   Rõ   Rè   Re  R>   (   R   R=   t   id(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRÓ  ß  s
    c         C   s   | |  _  d  S(   N(   RE  (   R   R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   set_current_elementÆ  s    c         C   s   |  j  j É  |  _  d  S(   N(   RE  R   (   R   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   set_to_parent±  s    c         C   sg   d |  j  j | f } |  j d É } t | d d i |  j d É d 6É} | | _ |  j d É } | S(   Ns   %s:R  s	   text:spanR   R  s   text:style-nameR  (   R:  t   labelsR  R>   RI  R0   (   R   R‰  t   labelR=   RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   generate_labeled_block¥  s    	c         C   sg   d |  j  j | f } |  j d É } t | d d i |  j d É d 6É} | | _ | j É  | _ | S(   Ns   %s:R  s	   text:spanR   R  s   text:style-name(   R:  RÙ  R  R>   RI  R0   R⁄  R»  (   R   R‰  Rı  R=   RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   generate_labeled_lineΩ  s    	c         C   s   | j  d d É } | S(   Nu   ¬†Ra   (   R\   (   R   R0   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   encode∆  s    c         C   s$   |  j  | É t j j |  | É d S(   s9   Override to catch basic attributes which many nodes have.N(   t   handle_basic_attsR   R7  t   dispatch_visit(   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR˙  —  s    c         C   s6   t  | t j É r2 | d r2 |  j | d 7_ n  d  S(   Nt   ids(   t
   isinstanceR   R;   Re  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR˘  ÷  s    c         C   s!   |  j  j j d | j f É d  S(   Ns   missing visit_%s(   Rö   R…   R    t   tagname(   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   default_visit⁄  s    c         C   s!   |  j  j j d | j f É d  S(   Ns   missing depart_%s(   Rö   R…   R    R˝  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   default_departure›  s    c         C   s¬   t  | j t j j É r d  S| j É  } t |  j j É  É d k rë |  j j É  d j	 rx |  j j É  d j	 | 7_	 qæ | |  j j É  d _	 n- |  j j
 r≤ |  j j
 | 7_
 n | |  j _
 d  S(   Ni    iˇˇˇˇ(   R¸  R   Rª   R   t   literal_blockR⁄  Rù  RE  Rë  R»  R0   (   R   R‰  R0   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_Text‡  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_TextÚ  s    c         C   s#   |  j  | d É } |  j | É d  S(   Nt   address(   Rˆ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_address˘  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_address˝  s    c         C   sJ   t  | j t j É r' |  j d É } n |  j | d É } |  j | É d  S(   NR  t   author(   R¸  R   R   t   authorsR  Rˆ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_author   s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_author  s    c         C   sX   d |  j  j d f } |  j d É } t | d d i |  j d É d 6É} | | _ d  S(   Ns   %s:R  R  s	   text:spanR   R  s   text:style-name(   R:  RÙ  R  R>   RI  R0   (   R   R‰  Rı  R=   RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_authors
  s
    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_authors  s    c         C   s#   |  j  | d É } |  j | É d  S(   Nt   contact(   Rˆ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_contact  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_contact  s    c         C   s#   |  j  | d É } |  j | É d  S(   Nt	   copyright(   Rˆ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_copyright  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_copyright  s    c         C   s   |  j  | d É d  S(   Nt   date(   R˜  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_date"  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_date%  s    c         C   s#   |  j  | d É } |  j | É d  S(   Nt   organization(   Rˆ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_organization(  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_organization,  s    c         C   s#   |  j  | d É } |  j | É d  S(   Nt   status(   Rˆ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_status/  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_status3  s    c         C   s   |  j  | d É } d  S(   Nt   revision(   R˜  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_revision6  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_revision9  s    c         C   s   |  j  | d É } d  S(   NR®   (   R˜  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_version<  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_version@  s    c         C   s   |  j  d | j É  É } d  S(   NR  (   R  R⁄  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_attributionD  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_attributionG  s    c         C   s¿   d | j  d k rA |  j j |  j d É É |  j d É |  _ nl d | j  d k rÇ |  j j |  j d É É |  j d É |  _ n+ |  j j |  j d É É |  j d É |  _ |  j d 7_ d  S(   NR  t   classesR  R	  i   (   R‡  RJ  R?   RI  R\  Rj  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_block_quoteJ  s    c         C   s)   |  j  j É  d |  _ |  j d 8_ d  S(   NR	   i   (   RJ  t   popR\  Rj  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_block_quoteV  s    	c         C   sD  |  j  d 7_  |  j rﬁ |  j j r' q@| j d É rç d | j d k rç t |  j d d i |  j d É d 6É} |  j	 j
 |  j d É É nA t |  j d d i |  j d	 É d 6É} |  j	 j
 |  j d
 É É |  j | É nb|  j |  j d É k r:t |  j d d i |  j d É d 6É} |  j	 j
 |  j d É É n˘ |  j |  j d É k rñt |  j d d i |  j d É d 6É} |  j	 j
 |  j d É É nù |  j |  j d É k rÚt |  j d d i |  j d É d 6É} |  j	 j
 |  j d É É nA t |  j d d i |  j d É d 6É} |  j	 j
 |  j d
 É É |  j | É d  S(   Ni   R"  s   auto-tocs	   text:listR   R   s   text:style-nameR  R  R
  R	  s   blockquote-bulletlists   blockquote-bulletitemR  s   highlights-bulletlists   highlights-bulletitemR  s   epigraph-bulletlists   epigraph-bulletitemR  (   R_  R]  Rõ   Rë   R°  R‡  R>   RE  RI  RK  R?   RÚ  R\  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_bullet_list[  s@    				c         C   s\   |  j  r2 |  j j r qI |  j É  |  j j É  n |  j É  |  j j É  |  j d 8_ d  S(   Ni   (   R]  Rõ   Rë   RÛ  RK  R$  R_  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_bullet_listá  s    	

c         C   s   t  j É  Ç d  S(   N(   R   t   SkipChildren(   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_captionì  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_captionó  s    c         C   s   |  j  d É } t | d d i  É} t | d d i  É} t j j d d É } | | _ t | d d i  É} | j É  | _ d  S(   NR  s   office:annotationR   s
   dc:creatorR‡   R	   s   text:p(   R  R>   RÈ   RÍ   RI   R0   R⁄  (   R   R‰  R=   RÓ   R¥  RW   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_commentö  s    	c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_comment£  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_compound¶  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_compound™  s    c         C   sK   | j  j d d É } t | É d k rG |  j j |  j | d É É n  d  S(   NR"  i    (    (   R‡  RI   Rù  RJ  R?   RI  (   R   R‰  RÇ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_container≠  s    c         C   s;   | j  j d d É } t | É d k r7 |  j j É  n  d  S(   NR"  i    (    (   R‡  RI   Rù  RJ  R$  (   R   R‰  RÇ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_container≤  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_decoration∑  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_decoration∫  s    c         C   s1   |  j  d 7_  |  j d k r- t d É Ç n  d  S(   Ni   i   s*   max definition list nesting level exceeded(   R`  R_  RJ   (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_definition_listΩ  s    c         C   s   |  j  d 8_  d  S(   Ni   (   R`  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_definition_list√  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_definition_list_item∆  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_definition_list_item…  s    c         C   sB   |  j  d |  j É } | j É  | _ |  j | É t j É  Ç d  S(   Ns   deflist-term-%d(   R  R`  R⁄  R0   RÚ  R   R(  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_termÃ  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_term“  s    c         C   s:   |  j  j |  j d |  j É É |  j j t d É É d  S(   Ns   deflist-def-%di   (   RJ  R?   RI  R`  Rh  Ru   (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_definition’  s    	c         C   s   |  j  j É  |  j j É  d  S(   N(   RJ  R$  Rh  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_definition⁄  s    c         C   sm   |  j  j É  } t | É d k ri | d } t | d d i |  j d É d 6É} d | j É  f | _ n  d  S(   Ni    iˇˇˇˇs	   text:spanR   R  s   text:style-names    (%s)(   RE  Rë  Rù  R>   RI  R⁄  R0   (   R   R‰  t   elsR=   RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_classifierﬁ  s    
c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_classifierÁ  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_documentÍ  s    c         C   s   |  j  É  d  S(   N(   RÏ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_documentÌ  s    c         C   so   |  j  d 7_  |  j d 7_ |  j j rk |  j d d i d |  j d 6d |  j  d 6É} |  j | É n  d  S(   Ni   s   text:sectionR   s	   Section%ds	   text:names   Sect%ds   text:style-name(   R@  RA  Rõ   Ré   RÌ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_docinfo  s    c         C   s,   |  j  d 8_  |  j j r( |  j É  n  d  S(   Ni   (   R@  Rõ   Ré   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_docinfo˙  s    c         C   s9   t  |  j d d i |  j d É d 6É} |  j | É d  S(   Ns	   text:spanR   R  s   text:style-name(   R>   RE  RI  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_emphasisˇ  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_emphasis  s    c         C   s|  |  j  } |  j |  j d É k rb t | d d i |  j d É d 6É} |  j j |  j d É É n	|  j |  j d É k rª t | d d i |  j d É d 6É} |  j j |  j d	 É É n∞ |  j |  j d
 É k rt | d d i |  j d É d 6É} |  j j |  j d É É nW d | j d d É f } t | d d i |  j | É d 6É} |  j j |  j d É É |  j | É d  S(   NR	  s	   text:listR   s   blockquote-enumlists   text:style-names   blockquote-enumitemR  s   highlights-enumlists   highlights-enumitemR  s   epigraph-enumlists   epigraph-enumitems   enumlist-%st   enumtypet   arabicR  (   RE  R\  RI  R>   RK  R?   RI   RÚ  (   R   R‰  RÓ   R¥  t   liststylename(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_enumerated_list  s$    	c         C   s   |  j  É  |  j j É  d  S(   N(   RÛ  RK  R$  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_enumerated_list   s    
c         C   s3  |  j  rZ |  j j r; |  j j |  j d |  j f É É q/|  j d É } |  j | É n’ |  j d É } | } t	 |  j
 É d k r|  j
 d } | j É  r| j t É x[ |  j
 D]M } xD t | j É  É D]0 } |  j d d | É} |  j d d | É} qÕ Wq¥ Wqn  |  j j |  j d É |  j | É d  S(   Ns   contents-%ds   text:list-itemi    iˇˇˇˇs	   text:listR   (   R]  Rõ   Rë   RJ  R?   RI  R_  RÌ  RÚ  Rù  Rh  Rz   R{   Rˇ   t   rangeR~   RK  (   R   R‰  RÓ   R—  t	   level_objt
   level_obj1t   idxR¥  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_list_item$  s&    		c         C   s”   |  j  r2 |  j j r% |  j j É  qœ |  j É  nù t |  j É d k r∏ |  j d } | j É  r∏ | j	 t
 É xE |  j D]7 } x. t | j É  É D] } |  j É  |  j É  qê Wqw Wq∏ n  |  j j É  |  j É  d  S(   Ni    iˇˇˇˇ(   R]  Rõ   Rë   RJ  R$  RÛ  Rù  Rh  Rz   R{   R   RI  R~   (   R   R‰  RJ  RK  RL  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_list_item>  s    	
c         C   s   t  |  _ d  S(   N(   R   RZ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_headerP  s    c         C   s   t  |  _ d  S(   N(   Rˇ   RZ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_headerS  s    c         C   s   t  |  _ d  S(   N(   R   R[  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_footerV  s    c         C   s   t  |  _ d  S(   N(   Rˇ   R[  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_footerY  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_field\  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_field_  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_field_listb  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_field_liste  s    c         C   sG   |  j  d É } t | d d i |  j d É d 6É} | j É  | _ d  S(   NR  s	   text:spanR   R  s   text:style-name(   R  R>   RI  R⁄  R0   (   R   R‰  R=   RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_field_nameh  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_field_namen  s    c         C   s   |  j  j |  j d É É d  S(   NR  (   RJ  R?   RI  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_field_bodyq  s    c         C   s   |  j  j É  d  S(   N(   RJ  R$  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_field_bodyt  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_figurew  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_figurez  s    c         C   sî   |  j  d 7_  |  j |  _ t d É } | |  _ |  j j | | f É t | t j j	 É rw |  j
 j |  j d É É n |  j
 j |  j d É É d  S(   Ni   s   text:note-bodyR  R  (   Rd  RE  t   save_footnote_currentR;   Rb  R?   R¸  Rª   R   R  RJ  RI  (   R   R‰  RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_footnote}  s    	c         C   s,   |  j  j É  |  j |  _ |  j d 8_ d  S(   Ni   (   RJ  R$  R]  RE  Rd  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_footnoteà  s    t   *s   **s   ***s   ++s   +++s   ##s   ###s   @@s   @@@c   
      C   sÀ  |  j  d k rª| j d d } | j j d É } | d  k rG d } n  |  j j r\ d } n d } |  j d d i d	 | f d
 6| d 6É} t | j j d d É É } t | t	 j
 j É rÙ d | j É  } t | d d i | d 6É} | | _ n∑ | d k r4t | d d i | j É  d 6É} | j É  | _ nw | d k r´|  j t t j É k rdd |  _ n  t j |  j }	 |  j d 7_ t | d d i |	 d 6É} |	 | _ n  | |  j | <n  t
 j É  Ç d  S(   Ni    R˚  t   refidR	   Rﬁ  R  s	   text:noteR   s   %ss   text:ids   text:note-classt   autoi   s   [%s]s   text:note-citations
   text:labelR·   R`  (   Rd  R‡  RI   R   Rõ   Rê   RÌ  t   strR¸  Rª   R   t   citation_referenceR⁄  R>   R0   Rc  Rù  Ró   t   footnote_charsRa  R(  (
   R   R‰  RÒ  Ra  RÎ  RÓ   t	   note_autoR  R¥  t   footnote_char(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_footnote_referenceî  sB    			
c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_footnote_referenceº  s    c         C   s^   t  |  _ x | j d D] } | |  _ Pq W|  j j |  j d É É |  j j t d É É d  S(   NR˚  R  i   (	   R   Rq  R‡  Rk  RJ  R?   RI  Rh  Ru   (   R   R‰  RÒ  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_citationø  s    		c         C   s0   d  |  _ |  j j É  |  j j É  t |  _ d  S(   N(   R   Rk  RJ  R$  Rh  Rˇ   Rq  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_citation«  s    	c         C   sì   |  j  j r\ | j d } |  j d d i d | f d 6d d 6É} d | _ |  j | É n3 |  j j d  k r} d |  j _ n |  j j d 7_ d  S(	   NRa  s   text:reference-refR   s   %ss   text:ref-nameR0   s   text:reference-formatt   [(   Rõ   Rè   R‡  RÌ  R0   RÚ  RE  R   (   R   R‰  RÒ  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_citation_referenceÕ  s    	c         C   s/   |  j  j d 7_ |  j j r+ |  j É  n  d  S(   Nt   ](   RE  R0   Rõ   Rè   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_citation_reference€  s    c         C   sØ   t  | j t j j É r' t j É  Ç nÑ |  j d  k	 r´ |  j d É } |  j	 | É |  j
 j rü t | d É } d | _ |  j d d i d |  j f d 6É} q´ d | _ n  d  S(   NR  s	   text:spanRl  s   text:reference-mark-startR   s   %ss	   text:name(   R¸  R   Rª   R   R  R(  Rk  R   R  RÚ  Rõ   Rè   R>   R0   RÌ  (   R   R‰  R=   t   el0RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_label‡  s    	c         C   sù   t  | j t j j É r n~ |  j d  k	 rô |  j j rz |  j	 d d i d |  j f d 6É} t
 |  j d É } d | _ n |  j j d 7_ |  j É  n  d  S(   Ns   text:reference-mark-endR   s   %ss	   text:names	   text:spanRn  (   R¸  R   Rª   R   R  Rk  R   Rõ   Rè   RÌ  R>   RE  R0   RÛ  (   R   R‰  R=   Rp  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_labelÔ  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_generated˝  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_generated   s    c         C   s   t  j j | É r d Sd Sd  S(   Ni   i    (   RÈ   R˜   t   exists(   R   R˜   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   check_file_exists  s    c         C   s  d | j  k r¬ | j  d } | j d É s∆ | j t j É sè t j | É \ } } | rè t j j | É } | rå d | t j | f } qå qè n  |  j | É sø |  j	 j
 j d | f É d  Sq∆ n d  S| |  j k rÎ |  j | \ } } n(|  j d 7_ t j j | É d } d |  j | f } | j d É rÿyd t j | É } | j É  }	 | j É  t j d d t É}
 |
 j |	 É |
 j É  |
 j } | } Wn0 t j k
 r»} |  j	 j
 j d	 | f É n X| | f } n t j j | É | f } |  j j | É | | f |  j | <|  j r(|  j } n( t |  j d
 d i |  j d É d 6É} | } t  | j! t" j# j$ É r‘|  j% | | | | É \ } } } } i  } |  j& | | | | | É \ } } | d  k	 rÏ| | _( qÏn |  j& | | | | É } d  S(   Nt   uris   http:s   %s%s%ss   Cannot find image file %s.i   s   Pictures/1%08x%st   wbt   deletes   Can't open image url %s.s   text:pR   R  s   text:style-name()   R‡  R‘   RÈ   t   sepR   t   get_source_lineR˜   R˙   Rv  Rö   R…   R    RT  RR  RH   t   urllib2t   urlopenRπ   RT   R™   R´   Rˇ   RR   RK   t	   HTTPErrort   abspathRU  R?   Rf  RE  R>   RI  R¸  R   Rª   R   t   figuret   generate_figuret   generate_imageR   R»  (   R   R‰  RÃ   t	   docsourceRf   R˙   t   filenameRÕ   t   imgfileRø   t   imgfile2t   imgfilenameRŒ   t   specRÓ   R¥  R—  t   el4t   el5R  R   t   el6t   width(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_image	  sd    


	
	c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_imageD  s    c         C   s®   d  } | | j k r§ | j | } | d } | j É  rE | d  } n d } y t | É } Wn7 t k
 rî } |  j j j d | | j | f É n X| | g } n  | S(   Ni˛ˇˇˇt   pxs   Invalid %s for image: "%s"(   R   R‡  t   isalphaRß  t
   ValueErrorRö   R…   R    (   R   R‰  t   attrt   sizet   unitRŒ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_image_width_heightG  s    
c         C   s£   d | j  k rô yP t | j  d É } | d k  rT |  j j j d | f É d } n  | d } Wqü t k
 rï } |  j j j d | j  d f É qü Xn d } | S(   Nt   scalei   s!   scale out of range (%s), using 1.g{ÆG·zÑ?s   Invalid scale for image: "%s"g      ?(   R‡  t   intRö   R…   R    Rë  (   R   R‰  Rñ  RŒ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_image_scaleY  s    	c   
      C   sÚ  |  j  | É } |  j | d É } |  j | d É } d } t d  k	 r∏ | |  j k r∏ |  j | \ } } t j j | d É }	 |	 j j d | É } y t	 | É Wqæ | | f } qæ Xn d  }	 | d  k s÷ | d  k r8|	 d  k rÒ t
 d É Ç n  | d  k r|	 j d d g } n  | d  k r8|	 j d	 d g } q8n  | d c | 9<| d c | 9<| d	 d k rÉ| d | d d
 g } n  | d	 d k rÆ| d | d	 d
 g } n  t | d É | d <t | d É | d <d j | É d j | É f S(   NRå  t   heightiH   Rœ   t   dpis4   image size not fully specified and PIL not installedi    Rè  i   t   inR	   (   iH   iH   (   Rò  Rï  R   R   RT  t   ImageRx  t   infoRI   t   iterRJ   Rì  Rc  R¯   (
   R   R‰  RÃ   Rñ  Rå  Rô  Rö  RÑ  RÕ   R◊   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_image_scaled_width_heightj  s<          c         C   s  d  } |  j | | É \ } } x2 | j j D]$ } | j d k r+ | j É  } q+ q+ W|  j d 7_ | d  k	 rGi d d 6d d 6d d 6d	 d
 6}	 t |  j d d |	 d t	 É}
 i d d 6d d 6d d 6d d 6}	 t |
 d d |	 d t	 É} i d d 6d d 6d d 6d d 6d d 6d d 6d d  6d d! 6}	 t |
 d" d |	 d t	 É} n  d# |  j } i | d 6d$ d 6|  j
 d% É d
 6}	 t |  j d d |	 d t	 É}
 d& } d' } d( | j k r| j d( j É  } x; | D]0 } | d= k rÊ| } qÀ| d> k rÀ| } qÀqÀWn  i  }	 t } | j j j d- É } | r>d. | k r>t } n  | rQd/ |	 d0 <n
 d1 |	 d0 <t |
 d2 d |	 d t	 É} i | d3 6d4 d5 6d d6 6d d7 6}	 | |	 d8 <t | d9 d |	 É} i  }	 t | d: d |	 É} i |  j
 d É d; 6}	 t | d< d |	 É} | | | | f S(?   NR  i   t   extras   style:classRî  s   style:familyt   Captions
   style:namet   Standards   style:parent-style-names   style:styleR   R<   s   0.0835ins   fo:margin-bottoms   fo:margin-topt   0s   text:line-numberR–  s   text:number-liness   style:paragraph-propertiest   12pts   fo:font-sizet   italics   fo:font-stylet   Timess   style:font-namet   Lucidasans1s   style:font-name-complexs   style:font-size-asians   style:font-size-complexs   style:font-style-asians   style:font-style-complexs   style:text-propertiess   rstframestyle%dt   graphicR1  t   centert   topt   alignt   leftt   rightt   middlet   bottomR"  t   wrapt   dynamics
   style:wrapRÄ  s   style:graphic-propertiess   draw:style-namet   Frame1s	   draw:names   text:anchor-types   draw:z-indexs	   svg:widths
   draw:frames   draw:text-boxs   text:style-names   text:p(   s   lefts   centers   right(   s   topRÆ  RØ  (   R   Rü  R   RÁ  R˝  R⁄  RS  R>   RF  Rï  RI  R‡  RH   Rˇ   RI   R   (   R   R‰  RÃ   RÕ   RE  R  Rå  Rô  t   node1R   RÓ   R¥  Rò  t   halignt   valignR´  RE   R∞  R"  R—  Râ  Rä  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRÅ  ä  sé    


			


c         C   s   |  j  | | É \ } } |  j d 7_ d |  j } i | d 6d d 6|  j d É d 6}	 t |  j d d	 |	 d
 t É}
 d  } d  } d | j k r‚ | j d j É  } x; | D]0 } | d@ k r∆ | } q´ | dA k r´ | } q´ q´ Wn  | d  k rYi d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d  d! 6d" d# 6d  d$ 6d% d& 6}	 n | }	 | d  k	 rx| |	 d' <n  | d  k	 rë| |	 d <n  t	 } | j j
 d( É } | rƒd) | k rƒt } n  | r◊d* |	 d+ <n
 d |	 d+ <|  j | É r˝d |	 d+ <n  t |
 d, d	 |	 d
 t É} i | d- 6d. d/ 6d0 d1 6}	 t | j t j É rUd2 |	 d3 <n
 d |	 d3 <| |	 d4 <| |	 d5 <t | d6 d	 |	 É}
 t |
 d7 d	 i d8 | f d9 6d: d; 6d< d= 6d> d? 6É} |
 | f S(B   Ni   s   rstframestyle%ds
   style:nameR®  s   style:familyR0  s   style:parent-style-names   style:styleR   R<   R´  R¨  R©  R≠  R™  RÆ  RØ  s   style:vertical-posRî  s   style:vertical-rels   style:horizontal-relRÄ  s   style:mirrors   rect(0cm 0cm 0cm 0cm)s   fo:clips   0%s   draw:luminances   draw:contrasts   draw:reds
   draw:greens	   draw:blues   100%s
   draw:gammaR–  s   draw:color-inversions   draw:image-opacityt   standards   draw:color-modes   style:horizontal-posR"  R∞  R±  s
   style:wraps   style:graphic-propertiess   draw:style-namet	   graphics2s	   draw:nameR·   s   draw:z-indexs   as-chars   text:anchor-types	   svg:widths
   svg:heights
   draw:frames
   draw:images   %ss
   xlink:hreft   simples
   xlink:typet   embeds
   xlink:showt   onLoads   xlink:actuate(   s   lefts   centers   right(   s   tops   middles   bottom(   Rü  RS  RI  R>   RF  Rï  R   R‡  RH   Rˇ   RI   R   t   is_in_tableR¸  R   R   t   TextElement(   R   R‰  RÃ   RÕ   RE  t   frame_attrsRå  Rô  Rò  R   RÓ   R¥  Rµ  R´  RE   R∞  R"  R¥  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRÇ  ›  sÑ    			




c         C   s<   | j  } x, | r7 t | t j j É r+ t S| j  } q Wt S(   N(   R   R¸  Rª   R   t   entryR   Rˇ   (   R   R‰  R≥  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRª  0	  s    		c         C   s\   t  | j t j j É rX |  j d } | d d } | |  _ |  j j |  j d É É n  d  S(   Niˇˇˇˇi    R  (	   R¸  R   Rª   R   RÄ  RE  RJ  R?   RI  (   R   R‰  RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_legend8	  s
    	c         C   sJ   t  | j t j j É rF |  j j É  |  j É  |  j É  |  j É  n  d  S(   N(   R¸  R   Rª   R   RÄ  RJ  R$  RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_legend?	  s
    

c         C   s"   |  j  d 7_  |  j d 7_ d  S(   Ni   (   Rj  Ri  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_line_blockF	  s    c         C   s"   |  j  d 8_  |  j d 8_ d  S(   Ni   (   Rj  Ri  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_line_blockJ	  s    c         C   sB   d |  j  } t |  j d d i |  j | É d 6É} | |  _ d  S(   Ns   lineblock%ds   text:pR   s   text:style-name(   Rj  R>   RE  RI  (   R   R‰  R-   RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_lineN	  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_lineU	  s    c         C   s9   t  |  j d d i |  j d É d 6É} |  j | É d  S(   Ns	   text:spanR   R  s   text:style-name(   R>   RE  RI  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_literalX	  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_literal]	  s    c         C   s¢   | j  j d d É } | ri |  j } x3 | D]+ } t | d d i |  j | É d 6É} q+ Wt | É } n t |  j d É } d } |  j | É |  j j | É d  S(   NR"  s	   text:spanR   s   text:style-namei   (    (	   R‡  RI   RE  R>   RI  Rù  RÚ  Rr  R?   (   R   R‰  RÇ   R=   t   inline_stylet   count(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_inline`	  s    	c         C   s4   |  j  j É  } x t | É D] } |  j É  q Wd  S(   N(   Rr  R$  RI  RÛ  (   R   R‰  R»  t   x(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_inliner	  s    c         C   sn   d } t  j | É } | r6 | j É  } t | É } n4 t j | É } | rj | j É  } t | É d } n  | S(   Ni    i   (   t   SPACES_PATTERNt   matchR’  Rù  t   TABS_PATTERN(   R   Rf   R»  t   matchobjt   pad(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   _calculate_code_block_paddingw	  s    c            s|   t  j j | d t É} | d k rE t d á  f d Ü d t É} n t d	 á  f d Ü d t É} t  j | | | É } | S(
   Nt   stripallt   latext   texc            s   à  j  |  | É S(   N(   RI  (   RK   Rô  (   R   (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   <lambda>á	  s    t   escape_functionc            s   à  j  |  | É S(   N(   RI  (   RK   Rô  (   R   (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR’  ã	  s    (   R”  R‘  (    (    (   t   pygmentst   lexerst   get_lexer_by_nameR   R   R`   R   t	   highlight(   R   t   insourceR:  t   lexert   fmtrt	   outsource(    (   R   sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   _add_syntax_highlightingÑ	  s    	c         C   s.   t  j |  j | É } t j |  j | É } | S(   N(   t	   FILL_PAT1t   subt
   fill_func1t	   FILL_PAT2t
   fill_func2(   R   Rf   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   fill_lineë	  s    c         C   s&   | j  d É } d t | É f } | S(   Ni    s   <text:s text:c="%d"/>(   R’  Rù  (   R   Rœ  t   spacest   repl(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR‚  ñ	  s    c         C   s*   | j  d É } d t | É d f } | S(   Ni    s    <text:s text:c="%d"/>i   (   R’  Rù  (   R   Rœ  RÊ  RÁ  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR‰  õ	  s    c         C   sØ  t  |  j É d k r. d |  j d É f } n d |  j d É f } | j É  } t râ |  j j râ | j d d É } |  j | | É } n t	 | É } | j
 d É } | d d	 k ræ | d =n  d
 g } g  } x< | D]4 } |  j | É } | j d d É } | j | É q‘ Wd j | É }	 | |	 f }
 | j |
 É | j d É d	 j | É } t d k ro| j d É } n  t j | É } | j É  } x | D] } |  j j | É qëWd  S(   Ni   s)   <text:p text:style-name="%s">%%s</text:p>s   codeblock-indentedR  R:  R6  s   
iˇˇˇˇR	   sI   <wrappertag1 xmlns:text="urn:oasis:names:tc:opendocument:xmlns:text:1.0">s   &#10;s   <text:line-break/>s   </wrappertag1>R6   s   utf-8(   Rù  RJ  RI  R⁄  R◊  Rõ   Rç   RI   Rﬂ  R`   RH   RÂ  R\   R?   R¯   R9   R¯  R:   Ry  Rë  RE  (   R   R‰  t   wrapper1RÃ   R:  t   linest   lines1t   my_linest   my_linet   my_lines_strt   my_lines_str2RW   RÓ   RÁ  Rí  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_literal_block†	  s>    
	c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_literal_block»	  s    c         C   s*   |  j  j j d d | É|  j | É d  S(   Ns   "math" role not supportedt	   base_node(   Rö   R…   R    R≈  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_mathœ	  s    c         C   s   |  j  | É d  S(   N(   R∆  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_math‘	  s    c         C   s*   |  j  j j d d | É|  j | É d  S(   Ns   "math" directive not supportedRÒ  (   Rö   R…   R    RÔ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_math_block◊	  s    c         C   s   |  j  | É d  S(   N(   R  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_math_block‹	  s    c         C   sP   | j  j d É } | j  j d É } | d  k	 rL | d  k	 rL | |  j | <n  d  S(   NRK   Rø   (   R‡  RI   R   RÒ   (   R   R‰  RK   Rø   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_metaﬂ	  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_metaÂ	  s    c      	   C   só  d } |  j  s+t |  _  t |  j d d i |  j | É d 6d d 6d t É} t | d d i d	 d
 6d d 6d d 6d t É} t |  j d d i |  j d | d5 É d 6d d 6d t É} t | d d i d d 6d t É} t |  j d d i |  j d | d6 É d 6d d 6d t É} t | d d i d d 6d t É} t |  j d d i |  j d | d7 É d 6d d 6d t É} t | d d i d d 6d d 6d d  6d d! 6d d" 6d d# 6d t É} t | d$ d t É} t |  j d d i |  j d | d8 É d 6d d 6d t É} t | d d i d d 6d d% 6d t É} t |  j d d i |  j d | d9 É d 6d d 6d t É} t | d d i d d 6d d  6d d! 6d d" 6d d# 6d t É} t |  j d d i |  j d | d: É d 6d d 6d t É} t | d d i d d 6d d  6d d! 6d d" 6d d# 6d t É} n  |  j d' d i |  j | É d( 6|  j | É d) 6É} t | d* d i |  j d | d; É d) 6É} t | d* d i |  j d | d< É d) 6É} t | d+ É } t | d, É } t | d- d i |  j d | d= É d) 6d. d/ 6É} t | d0 d i d1 d2 6É} d3 | _ t | d- d i |  j d | d> É d) 6d. d/ 6É} t | d0 d i d1 d2 6É} d4 | _ |  j | É d  S(?   NR)  s   style:styleR   s
   style:nameR/   s   style:familyR<   s   style:table-propertiess   17.59cms   style:widthR¨  s   table:alignRÄ  s   style:shadows   %s.%%cR5  s   table-columns   style:table-column-propertiess   4.999cms   style:column-widtht   Bs   12.587cms	   %s.%%c%%di   s
   table-cells   style:table-cell-propertiest   transparents   fo:background-colors   0.097cms
   fo:paddings   0.035cm solid #000000s   fo:border-lefts   fo:border-rights   fo:border-tops   fo:border-bottoms   style:background-images	   fo:borderi   s   table:tables
   table:names   table:style-names   table:table-columns   table:table-header-rowss   table:table-rows   table:table-cellt   strings   office:value-types   text:pt   Table_20_Headings   text:style-namet   Optiont   Description(   R5  (   R¯  (   R5  i   (   R¯  i   (   R5  i   (   R¯  i   (   R5  (   R¯  (   R5  i   (   R¯  i   (	   RO  R   R>   RF  RI  Rï  RÌ  R0   RÚ  (   R   R‰  t
   table_nameR=   RÓ   R¥  R—  Râ  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_option_listË	  s™    				c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_option_listD
  s    c         C   s    |  j  d É } |  j | É d  S(   Ns   table:table-row(   RÌ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_option_list_itemG
  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_option_list_itemK
  s    c         C   s;   |  j  d d i d |  j d 6d d 6É} |  j | É d  S(   Ns   table:table-cellR   s
   Table%d.A2s   table:style-nameR˙  s   office:value-type(   RÌ  RL  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_option_groupN
  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_option_groupU
  s    c         C   s/   |  j  d d i d d 6É} | j É  | _ d  S(   Ns   text:pR   t   Table_20_Contentss   text:style-name(   RÌ  R⁄  R0   (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_optionX
  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_option]
  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_option_string`
  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_option_stringc
  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_option_argumentf
  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_option_argumenti
  s    c         C   se   |  j  d d i d |  j d 6d d 6É} t | d d i d d	 6É} | j É  | _ t j É  Ç d  S(
   Ns   table:table-cellR   s
   Table%d.B2s   table:style-nameR˙  s   office:value-types   text:pR  s   text:style-name(   RÌ  RL  R>   R⁄  R0   R   R(  (   R   R‰  R=   RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_descriptionl
  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_descriptionv
  s    c         C   sÜ   t  |  _ |  j r$ |  j d É } nQ |  j r? |  j d É } n6 |  j d } |  j d d i | d 6É} |  j | É |  j | É d  S(   NR  R  iˇˇˇˇs   text:pR   s   text:style-name(	   R   Rf  RZ  R  R[  RJ  RÌ  RÓ  RÚ  (   R   R‰  R=   Rò  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_paragraphy
  s    			c         C   s£   t  |  _ |  j É  |  j rY |  j j |  j j É  d É |  j j |  j j É  d É nF |  j	 rü |  j
 j |  j j É  d É |  j j |  j j É  d É n  d  S(   Niˇˇˇˇ(   Rˇ   Rf  RÛ  RZ  RX  R?   RE  Rë  t   removeR[  RY  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_paragraphÜ
  s    	
						c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_problematicî
  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_problematicó
  s    c         C   s  d | j  k r| j  d } | j É  } d | k r| j É  } d j g  t j É  D] \ } } d | | f ^ qS É } d | | f } t d k r¶ | j d É } n  t j	 | É }	 |	 j
 É  }
 t |
 É d k r|
 d } |  j rÈ q|  j rı q|  j j | É qqn  t j É  Ç d  S(	   NRu  RÅ   Ra   s   %s="%s"s   <stuff %s>%s</stuff>R6   s   utf-8i    (   R‡  RH   R⁄  R¯   RC  R=  R9   R¯  R:   Ry  Rë  Rù  RZ  R[  RE  R?   R   R(  (   R   R‰  t   formatst
   formatlistt   rawstrt   kt   vt   attrstrt
   contentstrRø   t   elementsRÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   visit_rawö
  s(    	/
		c         C   s   |  j  r n |  j r n  d  S(   N(   RZ  R[  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   depart_raw±
  s
    		c         C   sR  | j  É  } |  j j r˝ | j d É rï | d } |  j j r^ | j d É r^ |  j | É } n  |  j d d i d | d 6d d 6É} |  j | É q˝ | j d	 É rÁ |  j j r˙ | d	 } |  j d
 d i d | d 6d d 6É} q˙ q˝ |  j	 j
 j d É n  |  j rNt | j É d k rNt | j d t j j É rN| j | j d É n  d  S(   Nt   refuris   mailto:s   text:aR   s   %ss
   xlink:hrefR∏  s
   xlink:typeRa  s   text:reference-refs   text:ref-nameR0   s   text:reference-formats3   References must have "refuri" or "refid" attribute.i   i    (   R⁄  Rõ   Rè   R°  Rä   R‘   t   cloak_mailtoRÌ  RÚ  Rö   R…   R    R]  Rù  RÁ  R¸  Rª   R   t	   generatedR  (   R   R‰  R0   t   hrefR=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_referenceπ
  s.    


	c         C   s/   |  j  j r+ | j d É r+ |  j É  q+ n  d  S(   NR  (   Rõ   Rè   R°  RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_reference’
  s    c         C   sÅ   |  j  d É } | j d É } | r@ | d } | r@ | } q@ n  t |  j d d i | d 6É} | j É  } |  j | É | _ d  S(   NR  R"  i    s   text:hR   s   text:style-name(   RI  RI   R>   RE  R⁄  R¯  R0   (   R   R‰  Rò  R"  t   class1R=   R0   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_rubric⁄
  s    
c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_rubricÈ
  s    i   c         C   so   |  j  d 7_  |  j d 7_ |  j j rk |  j d d i d |  j d 6d |  j  d 6É} |  j | É n  d  S(   Ni   s   text:sectionR   s	   Section%ds	   text:names   Sect%ds   text:style-name(   R@  RA  Rõ   Ré   RÌ  RÚ  (   R   R‰  t   move_idsR=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_sectionÏ
  s    c         C   s,   |  j  d 8_  |  j j r( |  j É  n  d  S(   Ni   (   R@  Rõ   Ré   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_sectionˆ
  s    c         C   s9   t  |  j d d i |  j d É d 6É} |  j | É d  S(   Ns	   text:spanR   R  s   text:style-name(   R>   RE  RI  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_strong˚
  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_strong   s    c         C   s   t  j É  Ç d  S(   N(   R   R(  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_substitution_definition  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_substitution_definition  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_system_message	  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_system_message  s    c         C   s<  d  } d  } t } | j d É } | d  k	 r` x0 | D]% } | j t É r4 | } t } Pq4 q4 Wn  | d  k	 rÒ |  j j | É } | d  k r8|  j j j	 d | f É t
 } |  j j | É } | d  k rÓ |  j j j	 d | f É t } qÓ q8nG t
 } |  j j | É } | d  k r8|  j j j	 d | f É t } n  | S(   NR"  s,   Can't find table style "%s".  Using default.s=   Can't find default table style "%s".  Using built-in default.(   R   Rˇ   RI   R‘   RÉ  R   Rp  Rö   R…   R    t   TABLENAMEDEFAULTt   BUILTIN_DEFAULT_TABLE_STYLE(   R   R‰  t   table_styleR˛  t   use_predefined_table_stylet   str_classest	   str_class(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   get_table_style  s>    	c      
   C   sl  |  j  d 7_  |  j | É } d t } t |  j d d i |  j d | |  j  f É d 6d d 6d	 t É} | j d  k r¨ t | d
 d i d d 6d d 6d d 6d	 t É} n: t | d
 d i d d 6d d 6d d 6| j d 6d	 t É} t |  j d d i |  j d | |  j  d d f É d 6d d 6d	 t É} |  j	 j
 } | d  k rR| j } n d | f } t | d d i d d 6| d 6| d 6| d 6| d 6d	 t É}	 d  }
 x0 | j D]% } | j d k r≠| j É  }
 Pq≠q≠W|
 d  k	 r˜|  j d |
 É } n  t |  j d  d i |  j d | |  j  f É d! 6|  j d | |  j  f É d" 6É} |  j | É | |  _ d# |  _ d  S($   Ni   s   %s%%ds   style:styleR   s   %ss
   style:nameR/   s   style:familyR<   s   style:table-propertiesR¨  s   table:alignt   0ins   fo:margin-tops   0.10ins   fo:margin-bottomt   marginss   fo:background-colors	   %s.%%c%%dR5  s
   table-cells   0.%03dcm solid #000000s   style:table-cell-propertiess   0.049cms
   fo:paddings   fo:border-lefts   fo:border-rights   fo:border-tops   fo:border-bottomR   s   table-titles   table:tables
   table:names   table:style-nameg        (   RL  R5  RÉ  R>   RF  RI  Rï  Rm   R   Rõ   t   table_border_thicknessR   RÁ  R˝  R⁄  R  RE  RÚ  t   current_table_stylet   table_width(   R   R‰  R1  R˛  RÓ   t   el1_1R¥  t	   thicknesst   line_style1t   el2_1R   Rí  R—  Râ  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_table7  sf    

	
	
	
		c         C   sP   t  d d t É} d |  j f } |  j } | d } | | j | <|  j É  d  S(   Ns   style:widthR<   s   %.4fini    (   R@   Rï  R:  R9  R   RÛ  (   R   R‰  RÈ  t	   attribvalRÓ   R¥  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_tablev  s    	
c         C   s   t  d É d |  _ d  S(   NR5  i   (   R]   RM  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_tgroup~  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_tgroupÅ  s    c         C   s∆   |  j  d 7_  |  j d t |  j t |  j  É f É } | d d } t |  j d d i | d 6d d	 6d
 t É} t | d d i d | d 6d
 t É} |  j d d i | d 6É} |  j	 | 7_	 d  S(   Ni   s	   %s%%d.%%st   colwidthg      (@s   style:styleR   s
   style:names   table-columns   style:familyR<   s   style:table-column-propertiess   %.4fins   style:column-widths   table:table-columns   table:style-name(
   RM  RI  RÉ  RL  t   chrR>   RF  Rï  RÌ  R:  (   R   R‰  t   colspec_nameRD  RÓ   R;  R¥  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_colspecÑ  s    
		c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_colspecò  s    c         C   s9   |  j  d É } |  j | É t |  _ |  j j d É d  S(   Ns   table:table-header-rowsR˚  (   RÌ  RÚ  R   t   in_theadRJ  R?   (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_theadõ  s    	c         C   s$   |  j  É  t |  _ |  j j É  d  S(   N(   RÛ  Rˇ   RI  RJ  R$  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_thead°  s    
	c         C   s3   t  d É d |  _ |  j d É } |  j | É d  S(   NR5  i   s   table:table-row(   R]   RM  RÌ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   visit_row¶  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   depart_row´  s    c         C   sÊ   |  j  d 7_  |  j d t |  j d d f É } i | d 6d d 6} | j d d É } | d k rä d	 | d f | d
 <|  j  | 7_  n  | j d d É } | d k r¿ d	 | d f | d <n  |  j d d | É} |  j | É d  S(   Ni   s   %s%%d.%%c%%dR5  s   table:style-nameR˙  s   office:value-typet   morecolsi    s   %ds   table:number-columns-spannedt   morerowss   table:number-rows-spanneds   table:table-cellR   (   RM  RI  RÉ  RL  RI   RÌ  RÚ  (   R   R‰  t   cellspec_nameR   RN  RO  RÓ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_entryÆ  s     
c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_entry¬  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_tbody≈  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_tbody»  s    c         C   s4   | j  d É p* | j  d É p* | j  d É s0 n  d  S(   NR  Ra  t   refname(   R°  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_targetÀ  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_target’  s    c         C   s;  t  | j t j j É rº |  j } | d k ri |  j j j d É |  j j j d | j	 É  f É d } n  |  j
 d d i d | d 6|  j d | f É d	 6É} |  j | É |  j | É n{ t  | j t j j É r7t |  j d
 d i |  j | É d	 6É} |  j | É | j	 É  } | |  _ t |  _ |  j | É n  d  S(   Ni   s4   Heading/section levels greater than 7 not supported.s1       Reducing to heading level 7 for heading: "%s"s   text:hR   s   %ds   text:outline-levels	   heading%ds   text:style-names   text:p(   R¸  R   Rª   R   t   sectionR@  Rö   R…   R    R⁄  RÌ  RI  RÓ  RÚ  R>   RE  R   R   Rg  (   R   R‰  R&  t
   title_typeR@  RÓ   R0   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_titleÿ  s.    				c         C   sA   t  | j t j j É s0 t  | j t j j É r= |  j É  n  d  S(   N(   R¸  R   Rª   R   RX  Rö   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_title˜  s    c         C   s   |  j  | | d d Éd  S(   NRY  R!  (   RZ  (   R   R‰  R&  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_subtitle¸  s    c         C   s   |  j  | É d  S(   N(   R[  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_subtitleˇ  s    c         C   sM   |  j  d d i |  j d É d 6É} |  j | j É  É | _ t j É  Ç d  S(   Ns	   text:spanR   R  s   text:style-name(   RÌ  RI  R¯  R⁄  R0   R   R(  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_title_reference  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_title_reference  s    c      	   C   s®   x° t  d d É D]ê } t | d d i d | f d 6|  j d | f É d 6É} t | d	 É } t | d
 É } t | d d i d d 6d d 6É} t | d É } q Wd  S(   Ni   i   s$   text:table-of-content-entry-templateR   s   %ds   text:outline-levels   contents-%ds   text:style-names   text:index-entry-chapters   text:index-entry-texts   text:index-entry-tab-stopR  s   style:leader-charR≠  s
   style:types   text:index-entry-page-number(   RI  R>   RI  (   R   RÓ   RL  R¥  R—  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt(   generate_table_of_content_entry_template  s    c         C   sh   d } d  } x* | j D] } t | | É r | } Pq q W| d  k	 rT | j É  } n |  j j | } | S(   NR	   (   R   RÁ  R¸  R⁄  R:  RÙ  (   R   R‰  t
   class_typet	   label_keyRı  t
   title_nodeRí  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   find_title_label  s    c   
      C   sã  d | j  k rád | j  d k rä|  j | t j j d É } |  j j r2|  j d d i d d 6d d 6d	 d
 6É} t | d d i d d 6É} t | d d i d d
 6É} | | _	 |  j
 | É t | d É } t | d É } t | d d i |  j d É d
 6É} | | _	 |  j |  _ | |  _ |  j | É nL |  j d É }	 |  j d É }	 t |	 d d i |  j d É d
 6É} | | _	 t |  _ qád | j  d k r|  j d É }	 |  j d É }	 t |	 d d i |  j d É d
 6É} |  j | t j j d É } | | _	 qád | j  d k rá|  j d É }	 |  j d É }	 t |	 d d i |  j d É d
 6É} |  j | t j j d É } | | _	 qán  d  S(   NR"  t   contentss   text:table-of-contentR   s   Table of Contents1s	   text:nameRÕ  s   text:protectedt   Sect1s   text:style-names   text:table-of-content-sourcet   10s   text:outline-levels   text:index-title-templatet   Contents_20_Headings   text:index-bodys   text:index-titles   text:ps   contents-headingR  R  s	   text:spanR  t   abstractt
   dedication(   R‡  Rd  Rª   R   R   Rõ   Rë   RÌ  R>   R0   R`  RI  RE  t   save_current_elementR^  RÚ  R  R   R]  (
   R   R‰  Rı  RÓ   R¥  R—  Râ  Rä  Rã  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_topic(  s^    							c         C   ss   d | j  k ro d | j  d k ro |  j j rQ |  j |  j É |  j |  j É n |  j d É } t |  _	 qo n  d  S(   NR"  Re  R  (
   R‡  Rõ   Rë   t   update_toc_page_numbersR^  RÚ  Rk  R  Rˇ   R]  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_topic^  s    
c         C   s*   g  } |  j  | d | É |  j | É d  S(   Ni    (   t   update_toc_collectt   update_toc_add_numbers(   R   R=   t
   collection(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRm  i  s    c         C   s]   | j  | | f É | d 7} x9 | j É  D]+ } | j d k r* |  j | | | É q* q* Wd  S(   Ni   s   text:index-body(   R?   Rë  R   Ro  (   R   R=   Rv   Rq  t   child_el(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRo  n  s
    
c         C   sT   xM | D]E \ } } | j  d k r | j d k r t | d É } d | _ q q Wd  S(   Ns   text:ps   Table of Contentss   text:tabt   9999(   R   R0   R>   R»  (   R   Rq  Rv   RÓ   R¥  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRp  u  s
    c         C   s   |  j  d É } d  S(   NR  (   R  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_transition}  s    c         C   s   d  S(   N(    (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_transitionÄ  s    c         C   s   |  j  | d É d  S(   NR    (   t   generate_admonition(   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_warningÜ  s    c         C   s   |  j  j É  d  S(   N(   RJ  R$  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_warningâ  s    c         C   s   |  j  | d É d  S(   Nt	   attention(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_attentionå  s    c         C   s   |  j  | d É d  S(   Nt   caution(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_cautionë  s    c         C   s   |  j  | d É d  S(   Nt   danger(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_dangerñ  s    c         C   s   |  j  | d É d  S(   Nt   error(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_errorõ  s    c         C   s   |  j  | d É d  S(   Nt   hint(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_hint†  s    c         C   s   |  j  | d É d  S(   Nt	   important(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_important•  s    c         C   s   |  j  | d É d  S(   Nt   note(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt
   visit_note™  s    c         C   s   |  j  | d É d  S(   Nt   tip(   Rv  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt	   visit_tipØ  s    c         C   sÄ   d  } x/ | j D]$ } | j d k r | j É  } q q W| d  k ri | j d É } | ri | d } qi n  |  j | d | É d  S(   NR   R"  i    t   generic(   R   RÁ  R˝  R⁄  RI   Rv  (   R   R‰  R   Rí  t   classes1(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_admonition¥  s    c         C   s   t  |  j d d i |  j d | f É d 6É} | r@ | | _ n d | j É  f | _ |  j d | f É } |  j j | É d  S(   Ns   text:pR   s   admon-%s-hdrs   text:style-names   %s!s   admon-%s-body(   R>   RE  RI  R0   t
   capitalizeRJ  R?   (   R   R‰  Rı  R   RÓ   RW   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRv  ¡  s    c         C   s-   |  j  d d i d d 6É} |  j | É d  S(   Ns	   text:spanR   s   rststyle-subscripts   text:style-name(   RÌ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_subscriptœ  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_subscript’  s    c         C   s-   |  j  d d i d d 6É} |  j | É d  S(   Ns	   text:spanR   s   rststyle-superscripts   text:style-name(   RÌ  RÚ  (   R   R‰  R=   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   visit_superscriptÿ  s    c         C   s   |  j  É  d  S(   N(   RÛ  (   R   R‰  (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   depart_superscriptﬁ  s    ([   s   attributions   blockindents
   blockquotes   blockquote-bulletitems   blockquote-bulletlists   blockquote-enumitems   blockquote-enumlists
   bulletitems
   bulletlists   captions   legends   centeredtextbodys	   codeblocks   codeblock-indenteds   codeblock-classnames   codeblock-comments   codeblock-functionnames   codeblock-keywords   codeblock-names   codeblock-numbers   codeblock-operators   codeblock-strings   emphasiss   enumitemR  s   epigraphs   epigraph-bulletitems   epigraph-bulletlists   epigraph-enumitems   epigraph-enumlists   footers   footnotes   citations   headers
   highlightss   highlights-bulletitems   highlights-bulletlists   highlights-enumitems   highlights-enumlists   horizontallines   inlineliterals	   quotations   rubrics   strongs   table-titles   textbodys   tocbulletlists   tocenumlists   titles   subtitleR"  R#  R$  R%  R&  R'  R(  s   admon-attention-hdrs   admon-attention-bodys   admon-caution-hdrs   admon-caution-bodys   admon-danger-hdrs   admon-danger-bodys   admon-error-hdrs   admon-error-bodys   admon-generic-hdrs   admon-generic-bodys   admon-hint-hdrs   admon-hint-bodys   admon-important-hdrs   admon-important-bodys   admon-note-hdrs   admon-note-bodys   admon-tip-hdrs   admon-tip-bodys   admon-warning-hdrs   admon-warning-bodys   tableoptions   tableoption.%cs   tableoption.%c%ds   Table%ds
   Table%d.%cs   Table%d.%c%dR*  R+  R,  R-  R.  R/  s   images   figureframe(    N(ˇ   R   R   R>  R   Rv  Rù   R{  RÑ  R†   Rè  Rê  RI  RG  R“   Rú  Rû  RI  t	   code_noneR∆  R‘  t   ret   compileR“  RØ  R«  R≈  R⁄  R≤   R€  RÏ   R‹  R«   RÌ   RÏ  R   RÌ  R  RÓ  RÚ  RÛ  Rˆ  R˜  R¯  R˙  R˘  R˛  Rˇ  R  R  R  R  R  R	  R
  R  R  R  R  R  R  R  R  R  R  R  R  R  R  R  R   R!  R#  R%  R&  R'  R)  R*  R+  R,  R-  R.  R/  R0  R1  R2  R3  R4  R5  R6  R7  R8  R9  R:  R<  R=  R>  R?  R@  RA  RB  RC  RG  RH  RM  RN  RO  RP  RQ  RR  RS  RT  RU  RV  RW  RX  RY  RZ  R[  R\  R^  R_  Re  Rh  Ri  Rj  Rk  Rm  Ro  Rq  Rr  Rs  Rt  Rv  Rç  Ré  Rï  Rò  Rü  RÅ  RÇ  Rª  Rø  R¿  R¡  R¬  R√  Rƒ  R≈  R∆  R…  RÀ  R—  Rﬂ  RÂ  R‚  R‰  RÔ  R  t   visit_doctest_blockt   depart_doctest_blockRÚ  RÛ  RÙ  Rı  Rˆ  R˜  Rˇ  R   R  R  R  R  R  R  R  R	  R
  R  R  R  R  R  R  R  R  R  R!  R"  R$  R%  R'  R(  R)  R*  R+  R,  R-  R.  R5  R?  RA  RB  RC  RG  RH  RJ  RK  RL  RM  RQ  RR  RS  RT  RV  RW  RZ  R[  R\  R]  R^  R_  R`  Rd  Rl  Rn  Rm  Ro  Rp  Rt  Ru  Rw  Rx  Rz  t   depart_attentionR|  t   depart_cautionR~  t   depart_dangerRÄ  t   depart_errorRÇ  t   depart_hintRÑ  t   depart_importantRÜ  t   depart_noteRà  t
   depart_tipRã  t   depart_admonitionRv  Rç  Ré  Rè  Rê  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRó   ⁄  s^                                                       	W											2		Û									&																																								,																										
																									(											;				 	TR																	(								\												
											
								(	?														
								6																				t   Readerc           B   s   e  Z d  Ñ  Z RS(   c         C   sH   t  j j |  É } |  j j r" | Sg  | D] } | t j k	 r) | ^ q) S(   N(   R   Rü  t   get_transformsRõ   Rè   R   t   DanglingReferences(   R   RÑ   t   i(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyR†  Â  s    
(   R   R   R†  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyRü  „  s   (Y   t   __doc__RË   t   __docformat__RP   RÈ   t   os.pathR™   R¨   t   xml.domR   R¿   Rí  RO   R·  R|  Rª   R   R   R   R   R   t   docutils.readersR   t   docutils.transformsR   R9   t   ImportErrorRŒ   t	   xml.etreeR
   R:   R   RW   R◊  t   pygments.lexerst   pygmentsformatterR   R   t   SyntaxErrort   expR   t	   PIL.ImageR   Rú  t   objectt   weakreft   WeakKeyDictionaryR   R¸  R;   t   typeR   R   Rì  RÃ  RŒ  R‡  R„  RÉ  R/  Rå  t   GENERATOR_DESCR´  RB  RÇ  RÆ  Rï  RŸ   R€   RÂ   RÁ   RC  R≠  R⁄   RÊ   R>   R8   R@   RX   R`   Rb   Rk   Rl   R0  Ru   RÄ   R7  Ró   Rü  (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/__init__.pyt   <module>   sé  (


	
	




						ˇ Uˇ ˇ ˇ ˇ ˇ ˇ ˇ ˇ ˇ ˇ                                                                                                                                 usr/local/lib/python2.7/dist-packages/docutils/writers/odf_odt/pygmentsformatter.py                 0100644 0000000 0000062 00000011077 13077704374 027346  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # $Id: pygmentsformatter.py 5853 2009-01-19 21:02:02Z dkuhlman $
# Author: Dave Kuhlman <dkuhlman@rexx.com>
# Copyright: This module has been placed in the public domain.

"""

Additional support for Pygments formatter.

"""


import pygments
import pygments.formatter


class OdtPygmentsFormatter(pygments.formatter.Formatter):
    def __init__(self, rststyle_function, escape_function):
        pygments.formatter.Formatter.__init__(self)
        self.rststyle_function = rststyle_function
        self.escape_function = escape_function

    def rststyle(self, name, parameters=( )):
        return self.rststyle_function(name, parameters)


class OdtPygmentsProgFormatter(OdtPygmentsFormatter):
    def format(self, tokensource, outfile):
        tokenclass = pygments.token.Token
        for ttype, value in tokensource:
            value = self.escape_function(value)
            if ttype == tokenclass.Keyword:
                s2 = self.rststyle('codeblock-keyword')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Literal.String:
                s2 = self.rststyle('codeblock-string')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype in (
                    tokenclass.Literal.Number.Integer,
                    tokenclass.Literal.Number.Integer.Long,
                    tokenclass.Literal.Number.Float,
                    tokenclass.Literal.Number.Hex,
                    tokenclass.Literal.Number.Oct,
                    tokenclass.Literal.Number,
                    ):
                s2 = self.rststyle('codeblock-number')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Operator:
                s2 = self.rststyle('codeblock-operator')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Comment:
                s2 = self.rststyle('codeblock-comment')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Name.Class:
                s2 = self.rststyle('codeblock-classname')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Name.Function:
                s2 = self.rststyle('codeblock-functionname')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Name:
                s2 = self.rststyle('codeblock-name')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            else:
                s1 = value
            outfile.write(s1)


class OdtPygmentsLaTeXFormatter(OdtPygmentsFormatter):
    def format(self, tokensource, outfile):
        tokenclass = pygments.token.Token
        for ttype, value in tokensource:
            value = self.escape_function(value)
            if ttype == tokenclass.Keyword:
                s2 = self.rststyle('codeblock-keyword')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype in (tokenclass.Literal.String,
                    tokenclass.Literal.String.Backtick,
                    ):
                s2 = self.rststyle('codeblock-string')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Name.Attribute:
                s2 = self.rststyle('codeblock-operator')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            elif ttype == tokenclass.Comment:
                if value[-1] == '\n':
                    s2 = self.rststyle('codeblock-comment')
                    s1 = '<text:span text:style-name="%s">%s</text:span>\n' % \
                        (s2, value[:-1], )
                else:
                    s2 = self.rststyle('codeblock-comment')
                    s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                        (s2, value, )
            elif ttype == tokenclass.Name.Builtin:
                s2 = self.rststyle('codeblock-name')
                s1 = '<text:span text:style-name="%s">%s</text:span>' % \
                    (s2, value, )
            else:
                s1 = value
            outfile.write(s1)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                 usr/local/lib/python2.7/dist-packages/docutils/writers/odf_odt/pygmentsformatter.pyc                0100644 0000000 0000062 00000007325 13077704402 027502  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   sj   d  Z  d d l Z d d l Z d e j j f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d S(	   s.   

Additional support for Pygments formatter.

iˇˇˇˇNt   OdtPygmentsFormatterc           B   s   e  Z d  Ñ  Z d d Ñ Z RS(   c         C   s)   t  j j j |  É | |  _ | |  _ d  S(   N(   t   pygmentst	   formattert	   Formattert   __init__t   rststyle_functiont   escape_function(   t   selfR   R   (    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyR      s    	c         C   s   |  j  | | É S(   N(   R   (   R   t   namet
   parameters(    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyt   rststyle   s    (    (   t   __name__t
   __module__R   R
   (    (    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyR       s   	t   OdtPygmentsProgFormatterc           B   s   e  Z d  Ñ  Z RS(   c         C   s  t  j j } x| D]\ } } |  j | É } | | j k r_ |  j d É } d | | f } n´| | j j k rì |  j d É } d | | f } nw| | j j j	 | j j j	 j
 | j j j | j j j | j j j | j j f k r	|  j d É } d | | f } n| | j k r:|  j d É } d | | f } n– | | j k rk|  j d É } d | | f } nü | | j j k rü|  j d É } d | | f } nk | | j j k r”|  j d É } d | | f } n7 | | j k r|  j d	 É } d | | f } n | } | j | É q Wd  S(
   Ns   codeblock-keywords.   <text:span text:style-name="%s">%s</text:span>s   codeblock-strings   codeblock-numbers   codeblock-operators   codeblock-comments   codeblock-classnames   codeblock-functionnames   codeblock-name(   R   t   tokent   TokenR   t   KeywordR
   t   Literalt   Stringt   Numbert   Integert   Longt   Floatt   Hext   Octt   Operatort   Commentt   Namet   Classt   Functiont   write(   R   t   tokensourcet   outfilet
   tokenclasst   ttypet   valuet   s2t   s1(    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyt   format   sV    (   R   R   R&   (    (    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyR      s   t   OdtPygmentsLaTeXFormatterc           B   s   e  Z d  Ñ  Z RS(   c         C   så  t  j j } xy| D]q\ } } |  j | É } | | j k r_ |  j d É } d | | f } n| | j j | j j j f k r¢ |  j d É } d | | f } n’ | | j	 j
 k r÷ |  j d É } d | | f } n° | | j k r=| d d k r|  j d É } d | | d  f } qw|  j d É } d | | f } n: | | j	 j k rq|  j d	 É } d | | f } n | } | j | É q Wd  S(
   Ns   codeblock-keywords.   <text:span text:style-name="%s">%s</text:span>s   codeblock-strings   codeblock-operatoriˇˇˇˇs   
s   codeblock-comments/   <text:span text:style-name="%s">%s</text:span>
s   codeblock-name(   R   R   R   R   R   R
   R   R   t   BacktickR   t	   AttributeR   t   BuiltinR   (   R   R   R    R!   R"   R#   R$   R%   (    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyR&   L   s<    (   R   R   R&   (    (    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyR'   K   s   (   t   __doc__R   t   pygments.formatterR   R   R    R   R'   (    (    (    sL   /tmp/pip-build-awuatQ/docutils/docutils/writers/odf_odt/pygmentsformatter.pyt   <module>	   s
   
1                                                                                                                                                                                                                                                                                                           usr/local/lib/python2.7/dist-packages/docutils/writers/odf_odt/styles.odt                           0100644 0000000 0000062 00000040164 13077704374 025234  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        PK    l©⁄>^∆2'   '      mimetypeapplication/vnd.oasis.opendocument.textPK  l©⁄>               content.xmlÌZ_o€6Ôß\`ÿ»≤Ï§uº$Eë†ÿÄ§övÿ[@ãîÕF"5íÚü∑~áΩn_ÆüdGRí)«éï8Œú¢}h#ﬁÔx?ﬁèG¶«ofi‚Màêî≥ìVÿÓ¥<¬"é)ù¥>}|Á˜[oN_º8ÊqL#2¿< S¬îq¶‡_‘ôXÈI+l¿ë§r¿PJ‰@EûVj\Ù¿≥#RÕì∆ÍÏj+2SMï5∂¶ãÜÕ-∞´çö6U÷X™´Û¶ 3ô¯1ØßRtâ≈,°ÏÊ§5V*¡t:mO{m.FAxttiE8™pY.É¬Q@¢ç… láAâMâBM˘i¨KâÂÈêà∆ÆA
›ä™úågƒd¥∆5—â∆πa¿ıˆpÛˆ∞´õ"5^ì~p	BÛ◊Â≈"D⁄‘ñ∆÷\	ö5^¶Eª˙úÛä™V∞‘–Ìv:Å˝v–”;·SA<∫°$™<Œ”UN\ ¬'ù¶U‚kG»5
›¿ä+∞ƒkß˛ÛÚ‚*ì-¿t3ÿßL*ƒû:kWzíq°*«ƒÕ&D´[q´4Yø›µ¥Ñé∆+°@ß¿÷áçÁO(ôæ¨’√ªÛ·(0†*q)I ]RaãÂêYF’+AâN?ï‡4HûÌzMÈ¨Ÿt:!8éóg\⁄ëî=µ ?ZÊÎ#ä^a…9¡„∆Å%ìz^(0ZTÃQím=_S5ì⁄Y†éB˙…D¿Ø+p‹Üè÷ÈØ<GÌîÅ3√âÍ«(">&Q"A‚€¢XI<˚≠ùq“∫RH\Õ”!áhC,Q)MÊK¬≈$∫¬Iﬁò˘“JÉçvﬁ”tòKÔí3Ó]¨0ı ∏¸•Ü≤C5ÀÌèÉB=H9&Ç’ UîÃòŒn¿Îú|F‰ﬁÑf-+≥ÇSapÇ5	›ÿxäò˜ûmvàm‡°—è√QØy3=ãj¿LN©îôkìπLsî+Æ˜Q‰õπ‹<7◊÷"§2üæ©8~ß"P¨≈"=E9áfPàPî»BaJ±>é_QÆÌ‚PBG∞ïS$FP∆øë{kø]I∫í$OŸ
ÜVpõh1^Ì“*I¸%aÿ?8¸y{Ê·Í$IVáaóvÃ¬ˆæ–iwz}√Fá\¿˜+#Èt^SÊIûPÏΩÏò?.N–—Äå3‚+û5—r•tÎ∞π≠èŒvÍ£ù—~€›˚–.Ó:ê{ÂëÕ¿ß˜—ÍLîkñÄ¢õë‡9√∫öq»}†=Ï«±µPöp`4E#X˚¡j€-¯Ÿ÷Ó…j˜´£ÉzöıÔSª7h;Èº
π≠èû†vÔÇˆS’Ó-B{G]⁄I ˜ #õÅO‡£ﬂoÂvÜ	îçKË˜ZÎJ´ıés˝>„∫¨R[Úòæ˚Eè3œ:V„s.çÁæá¬ÃSX‹›P"…Ωq+ÆMÒ+Axü—{»"‡öŒ0∏Ñ§H;?Éœ_⁄zìÂâ⁄ºËR§ß)^bıΩkı¢™K€ä´Yykr<7∫≈∑v©eQ]¯D™ù-RgöòGπ,Z≥ÆïòHàÜØj˛ˆéÕ˚º$ÂÑπ/!+%û¬Tf	ö˚<W	eˆÒÑ$∞¡ZVl›¯[í@®Öyø)Lm9„«≈u|Î©‡««ôÈ‹˛é°tf∞Œõ÷JfU›ÑÑ4>µ¬!Á7–∏›@. °\#◊◊Áò\Pvs}›ø~›’Ì˜˚`ÛäaÁ¡ö›ö¶	ÉÕwØ≥4a¯AÊÔ–´˜~\æ`¸‰}˝Ú∑ß∆ƒ+ˆ™ÌÑ-¡"Y”"[±˝y›õáï∫a∫Ö)ìg1g—p6P÷˝oA¿‘äBS˙Çd)%±∑HO«Ç‡S;∫dﬁFf√≈£+JrÃ3¿¡6’)\Ãº>UM‰ØªùÎ3˚´HŸ:=Á„ ã∆àçàâÇÜÇ¯ôJÀ©]n±‡tôëß1NËlVÂí`o8_®È'géïgÕ—ÆE’l∫%_Ïóèﬁkè†“∫]£Ù¶TçΩLêòŒ ÉˇY‚ÒıÀøª]ÊŸc/3ÿ@≥>^%Ú£¶w˜â◊ÙM”<{jöﬂ3‰ô—‹ì©çﬁ›lU›–◊ºQÈØmí¬[MKhõGÁòO¢4+[´„ôü§=W·åà$%ú¶ÇDäN@¬=”ﬂ€„÷⁄”c≈…˚†˛'l–ˇÑ€Ù?·ˇ”ˇÑè∂Ôb_=öﬂ^>è ˚lhÓ…Ò=CˆñÊûd».[àù‡™ƒ‚Y∞˙∂œÜ’ÁÚˇ>˝PK◊Ïõµ  ,  PK   l©⁄>ﬂ=<1Û        manifest.rdf•ë±nÉ0Ewæ¬rf¸ÇYädhîπjø¿CP¿˘ôí¸}]ä“¢U’—ˆ’π˜»˘·:ÙÏÕ8Í–<{Œå≠∞Ól[…7Ò?îQÓÍF=O,§-©p*¯Ÿ˚QÃÛ,ÊT†k!…≤ˆ§åC"¶õı˙[⁄Ò2b,∑î®#V”`¨_A·Í™±"Åö:äq4v!ZlöÆ2ê	ÉÒ∆Kª„Ïcè~≈…|ÅØ¯≥¶'Ì¸ÚÏ·‰*S
≠ù"tr¯5M˛÷˙
Á}¯j"’„'Ù‘ıÊ.#ˇ*Éu≥ï˘15t•Íeô¥©Jˇ]µıÃa˝‚2zPK  l©⁄>            
   styles.xmlÌ]ÕíÎ6vﬁ˚)Tr9U≥†$Í_∑ßgn<U∂„öÎ…v
"Aâ6E0 ’ÍûW»"ªdõgÀì?$R†DÇêHÍ≤]Â€M¸ùÛù¿¡~˚«˜É7xÉ8tëˇ:4Gì· ˙≤]˜:¸ÎØüåıèﬂ}ı’∑»q\æÿ»:†aÙ·¡p@J˚·O|±ˇÇ@ËÜ/>8¿%≤^P ˝§–ãò˚Öµ≈ü∞  gô≈“|è ¶y3e¡∂|À,≥X⁄∆‡T∂0ÕK@ã;®l·˜–3dXËÄ»ÕIÒÓπ˛ÔØ√}/„ÒÈtùf#Ñwcs≥ŸåYj*∞ïÊéÿcπlk=H«Ê»'y0eÂ£yEë¸„aqih@.¨æÌJ3‚mW çµ∏47XÊ¨ygvyÛŒl±ÏD˚õ¨«?ëDˆøü~<s ∂EÛf†≤∞îVìÁÀ#ÑRQiﬁAô∏”…d>ÊπOW≥ü∞A,d∑Æf∑Äg•à£É4íœì|£4Mrc™taÕã1Ü¬Q*àS~Ä"ËL”Óµè^q˜¢©I÷∂miV"ŒlL∫!∫ÒÊ¬”◊ôÒÁ:˛õ1ÀîR:gë¨ç_ˇ2¶i‚H'éGYah'1_"¸êíàtö◊EPGÉJ¡*Âµêqa:&cP4F∂3≈∂3"ø˚jêL"SÇ,hÿ–ÚBí2¯ñ˜Ë4e¿ˇ¶∏ø?G ˛8lÅéÙﬁ$◊¡ı>râÁJh˜!Q˝›yÍ¯f;?ªáÌ1¸Ñ|4¯Q“‘?Ä Öˇò…≈eZÊπçÙ!v	ô»Üÿœd	‹»"˝›qﬂ°]BÆÅøÅ?>;J%‰ë»7¯∞ÀÿQãø†?£Õm@Ñ¨%P¡4∑©Œ∑≈„πJHû‹0º)Ÿ∑„B2'4ÁNè†ÖpÙbo(i ñuáA∞w-⁄M“¸Ò3#¿§á·»%ı^¬=∞—… ÕÜÔØ√…»4◊¶Kî§\¶ì.d¶áF ã¯∆a˜ÔD‡Ò‹Ê¸ZÓ7*ç%…K«“ı^‰ï’É‰uNn¥7∏˜Ê /å	í` ^"Z<âñ1¿1B¥!B◊Üàg^∞I#Lñ-ÜÄxGaD®%)tä¢“û¸:Ù∞m3¸p}“yÅz∫¢Fâ†LŒDP2<† å≈À/Í«î∏PÌBÇãO≠ÕG=‰!‚HE¯Hf qÒB˜ÔDlsDÏô¸›Ï»#Ë≥:˙&4˘ÎÁåZ¥úAx‡'•c†‚
í4ò⁄)Æ)Iê’G=/æ‘ò¶^÷ô&ëZ˘–0ñÙ™íΩ-E{xìC†˝G∞á>õ˛ÿd87òTØCÉ‹TëíTéæyÖ'íL&UÇ aÃm.&Ù1lótLü62Õ7”≈π∑»Ë:Æ…%¡å≈ÛC]¬—öÓdÁº˚ëíµôrÎj´Z®+Ú	&DûdÄÎ3&a⁄Ù"Sp˜π,µ˚˜3\°OD≤eÌa⁄(≈»xM®‚Å §÷#ÇÅ—I"yöÎöøC⁄¡hOWê¥ÎïAl:ı2}`{X8V$fı@AI/ 8)óU˛J≤¸m:˘€ŸIi“o|Á1π∞UÚ ç§râE¡ åkÄ…†C‡#–ƒÂ}3~∂EQDWWì—d=£cK‘€`äö”]6;ﬁ¿`êÕU
“äpx–âò≤Y.≤†`w∑èŒP±aîã?‰ıSôD¡_)·ÿ¬îPá>ÊNpqˆåÃe≠
•˝ïyr>Û‰ÄwaôÈÈrÓI¸˛‹¥3?Œj≥ä¥Ç™S≠DÕ‡‘.¶ºßƒ9¶
)r|*≈âdÙD«àπ$|£„Ωyã3yÊLd.æ9õÌy∑"ktªÿ(¨àê»K%…Ú≤gkîN3∞ÚÍÊö^7◊¥asMkök;r¸-A<[≤§#À’äVÃw-ÆPúöT©leyÌizq˝∫x0ªŒÉY√<òÈ‰Åö¡ÎT≥πÊ◊Õ5oÿ\ÛzÊZãÉlù^ªŒûZ;≠ºÚˆŸ≈u,&¡B#	î¨]Àöömµºn´e√∂Z÷≥’™≤≠VulUP∏ñ≠~tC›À7èVy}ôMMH∑´∑[∞Ç&“`p{ƒéÕk˜”xKa‘Hˆ∂'Q`˛4ˇ8ëÖ.ﬂtõçÊÀÈÚº∆å>"æEÙ!äèKV≤m¶ãiæ∂™MÍHLùïÔVê∫<A>!=π©å≈zeéñÎÂ“Õeö´π9Zm≥FMˆ+Ω—Œ˘=%¯Ü∫lfŸ˘<mµp’pVÇAn∂êAP#nSu5(íÿqùv~Jª∏™ﬂéa‰:ç÷íÜO€Y§™axsj´Íx÷t.‚>~⁄EOÚã∞õZ+ª›√™Ÿô•\qÔ§î¡ã∑^Æº¢=È¨‰ìâ©IÉ™ÖùçsﬁJQ˘é,ò‰M"ö[öx6Á§zòÙœDØwçñrY}ÕŒ/ø`»OXE–¶„?ıáÂsåòs f”Ä;ú¶k„(Ÿ3™’ON_› ô’œü€*I≈l\ˇF%µ(˚Cz
Ü˜GBïÇÖlöo fz‘÷èV˚Á∆•x√òuììkG{q¢öL÷Æ? øò≥¯ˆÑ’ õ/OJjb„•è|(>ç« ¸c&i˛° Äπòìvmt§‹◊Î	˝ØÍêô¯Wà°@[êT∫>ò.Øå•“¥îóÀÍ¥ƒaƒôân:G◊ÎôôVÿjæ≈∂¿˙}á——∑œQÄr≤4!´{ ;XÓ`ïL€£Á¡Ë˛@Òv∫ïá¨ﬂomÁ+xG≥Õl’‰¶|™‡ûØÚÍÏƒf6zµl«^P™≥¸â·≠≥söŸò’≤}z	Ôı∏d^õ:˚ôÌE-õÄuµ©≥=ñŸ}”≤GVWõ:˚<ôm$-õ= ⁄∞q˜?éäkŸ;ú¢öÀGÎ—ZØ„@;i^&N•0Œ∑u†£PÎ9ˆ&≥ÎÙƒöÆÅ<≈%êdµU≤˜P5Tcf˙N…ˆxd⁄u⁄Ω˛~Ò·ñˆ!K=õDrªÍ'Y»ÜlÃWQ^u∫G»2≥^l÷Ö1Îsöû˛kÀr»O.î0öL'f&û ƒ!B‰πˆ‡Î	˚IZÂÔT≈AÑflÕœ¿ìıßß6, Œ©›eA°4∏®ŒéÚérº]¡OTk'{<· B“™–wF bö$ÌŒÒ&ˆ¶C[G%ß∆~J∫S“.dÙ¬Óˆ®:»<Á™áæ›ñŸS«v¨r1p3h?⁄Uñ-3Ñ≤≥LÃÊQ”)∏PΩçCŒY]a⁄{-vüa—z[À÷Auâﬁ ØWÎUﬁB“Bﬁªø,¿«°g¯£Ô˘˝∏Å}†= Ï≥+Ql•U‰„|•Œ+hY2dëylÙ!îT8#[KÃÛŸ˝=œä±ÈôVüi8ˆ<ªäLœ≤˙,≥ÅøÉ∏'Y0=«Ísbåzä·“3¨>√ˆ.©∞'òñû_ı˘ÂË›≈†'ŸUlz¶’g›öÌI&á•ÁW}~En–”KäJœÆ˙Ïä/˘ÓVàLœ≤:,√«-ﬁ_oÂÈº&èæ$á2g6[.Îæ|UÁæßÃuRZ.}™˚ ™¶6+⁄¨äµâtû_Tø	,ïS~X,µ¬¯≈ﬁñ≤õ¬¬Œ)Ω*YkZ)u?Aïî^O‘2SLì≤Ûˆ≈˙?Úµû3•ó µ`∂Ó,fJØZj¿ÃM;ãô“ùZ0[v3%áJf]aŸØ5ﬂΩ)t->∑ô˜zb∑¡⁄ÉÄ.õ]e∆7¨´ﬂ˛ºÆu˚sAÈZnIË{˚ám4‰µÎ‹ã,Yı‚v•õŸU«/eãÚ˛\rô÷†o®¢çT·∞ú™ØC•o_©Do™›[∑*qk]&QÒÀiJo”Úk7•µJri'ø◊Â:´≤y•kŸ$ã⁄◊>2∑‰UªÈÓ¬≤ZÔêõî?Õ?N‘;ﬂ`,ø	7âY∞-ì!ÕFÙΩÊ\Ëu8z‘›πóÃRZ2älôV`V¡wIRf)	£ìY˙?≤Tã^ã—z2[tûcJKlë7≥
+¯ÊI 1%a¥rl∂ôn⁄ƒ±ÂdevûcJ!	ë7Û
+¯PK 1%a¥rl±Œﬂi—,«ÊÊ§‡¢ˇqÃPä·àƒYT Y¡á`Rí)	£ïd´¯õm!Ÿî]◊⁄qí)≈ºDﬁ,+p¨‡6)«îÑ— ±Õz™˜∞öõò´Çœ_tàcJ€ë"oV8V∞5örLIç3GÊjc∂ácÛ—z:ŸtûcÎ∫[W‡ÿ˙«îÑ— ±Ÿjq}Ê¡[NÁÛŒslSócõ
€‹‡òí0Z9∂Xµ»õèÊ”Ó{cÊ§.≈ÃIï–Î‰…‘‰— ≤’r›¢≈|4ùô›_Ï’?“%Ú'Ÿ,œ∏´KiW„bπ¢m
˝ﬂÒDÀÍõ”˘œiT€ú.(≠ÈÃ‹	w
ﬁ˚b:Ï¥gÒAmÁ+”j´i9∏û»M˛’,v…µÚTÔ÷E]ò˝î∂t⁄ƒ√)‘rÌbÖAiø¶.Ué<™'5D◊;CNi;¶çz<tJõı†”äkfÏnÄqwÄ≠&Mpß->P˙Ñ∏>®‰=K>´†0È›Æà»œl˘ø%ı˘„@∫X¡ª”úÉ\∂1ˆ““ı5ƒ?≥;o6≈≥]mÁ⁄∞g?*Ùs0ØL8» Çõ+ü	K	YƒE°¥x∫¶ªVAöiS˝‰Êü¡ûPòáxùØú”çÈ^Î Ó˜Nª"ˇüﬁ-_üó≈ﬂêyx#W¡i´æ™ Iè˚ûK©Û∂◊zLÒ¯ûv¥í dCB>˝VN∂ÎÁ£>qUµ¬£À®_Ènîç{›|’[UJ◊ßÅ:œ%´ GIƒ]ÌÜ:íÔ¯¿%\:é≤–Ù∂˙‚AÍJ¥7€ZJô≥„Û;¸†oÑT‘/'nX$1√:˛*í‹HÒ«ñÍ+CzÇ$˛≠Iâ‡é£Ipææ≥®	÷˜7·Ë^~ò∞V`ª4ıÓΩa˝àﬁ‡}ãBœ£mDËﬁ≈"?–¶Îv	è€–¬n ÔÍ∑g>˛4›#&’ÎojàC™◊+IVÈ_Èjﬂµ.¸Ãûë$~&
√v5ÅoÌ6¯FπÖx€Ωº'! Ú˚G&p"ô^áˆë„º‰â∑NiZ m#≠,§nÑ·π7À≥ÌntƒÈ.+Oz£“Y¿£ DQpëÄÈ&ìÛóYy…ÏÀ©BjÆ∏≤üIØ*Bæ∏g•6+π˝È∏ª#ÜñÙ·€ç}b≈n– A¸ÇdEL>]ìÓ$ºåjM
mJíí/}^$_˙å”D∫S¡<zÕÚ=9%Rì˜ÁjúÏßGõíü- 	3hr·–%W˛çßƒ¥»df∑≈E¯âã‹çbpÉ6π÷)!ã2ÛÚynâIÒêk 29ëu¶çô%_áÿídˆV;s)≥ßçÑr„ÿCy:l	KiëláÇ…È!a‡üåfoœ‰,ü%◊ùÅójP*B∑ˆ”Á≈^zaüqqyëxß—c±ü=/ˆãÏrÏ«~˛ºÿ/∞_ ±_>˚≈Ûbø*¿~%«~ıpÏóœãΩÙ€õ∆≈Ü®∏O˙XÏWœã˝¶ ˚ç˚Õ√±_?+ˆ¶ySÜª˘p‘7Oã˙® ˜ë˘—„±?ø;Ú|‡O¿ü ¡üÍ?óö[üØ-.ÿ8&¶†yƒ’± I⁄aaá¸
ô˝)∆~Æµ°èé„æ”◊\$40KÛÄ€{IIx>lÕíbfƒìkG˚4u,‚X†^E ¶Ì†˝gÌ—’ Û∂ `6°˝¢5⁄7‘ˇóÌ†˝WÌ—øô˛øn ”&¥ﬂ¥F˚Ü˙?uf€ÇÄ> ƒ=…-;”|”ó‰Ÿn˙íÖ©s0≤ÇºN√⁄¸:¸øˇ˘Ø˚ªí*'≥Ø€ÄÎP9ôZπˇºª⁄‡dﬁk‡˛˚ÔÔº∂9ô€€Dg-Îı∂6ôø‹DO≠‡.∑9ô£›DW-Ôg∑8ôáﬁHOÌ‹'sÌõË¨e=˚ñ¿&[4—S+,	ZÇút1—D_-øñ∏'r5V!≤“0df»l3¯R„‹*®Ví◊dY„!m˝ÈÉ‚˙¿ö}t}hÕü=‹Æ™≈õ◊á÷Ú˘˘˙¿Z}Q}h≠ü}ã@Tõ/a?A\§˘NÔ>øˇÅWqÔw%⁄g«–¨ºUqÕ?ËF≥k±Ω ˚∑∆Xùp>˚¶∆C±Ï‹∏Yyß„±pvÕ €èE≥k„fÂ=ëG¬˘Ï%≈≤s„fı›ì«‚Ÿ8ÎÏ¢W∫–Î¬˙3^ùXMı'≈Ö”›ÄÎ⁄\ﬂüÒj≈Ø~ÂÛx‰:\∆´-gº˙•ÀÉ*umåÎœx›aAR„¨óÁÛ√ü◊∫ªfMù≠∫ªbçùÉ∫≥fMùY∫∑ZÕù/∫ªfMù∫ªbçù€π≥fMù±π∑Zûáπªj≠8∫≤ww{è^ˆÒ’>æ⁄‡˙¯j_Ì„´ù@ÆèØˆÒ’>æ⁄ÿ˙¯j_m:æ*,H˙¯j_Ì„´}|µèØˆÒ’>æ⁄«Wª_ÖÅÀø?’GW˚ËjgÄÎ£´}tµèÆvπ>∫⁄GW˚Ëj`Î£´}tµÈËj∫Èc´}lµè≠ˆ±’>∂⁄«V˚ÿj[Ìdl5ˆaÄ¡÷µzW¶wezW¶wezW¶wezW¶we:È –è?c‡{†≈ù˘É+ÓåfÕ⁄„ŒhV¨EÓåVÕ⁄„ŒËU´MÓåfÕ⁄„ŒhV¨EÓåVÕ⁄„ŒËU´UÓåf’ZËŒ`t ˛˝¢3Ó3∏3ö5kè;£Y±π3Z5kè;£W≠6π3ö5kè;£Y±π3Z5kè;£W≠Vπ3öUkó;sÇªGg˛È‹Õöµ«ù—¨Xã‹≠öµ«ù—´Võ‹Õöµ«ù—¨Xã‹≠öµ«ù—´V´‹Õ™µ–ùπstÊœœ‡Œh÷¨=Óåf≈Z‰Œh’¨=Óå^µ⁄‰Œh÷¨=Óåf≈Z‰Œh’¨=Óå^µZÂŒhVÌ!Óåè"Úwwƒ rë?HÀa¯:täËﬂÚ≥A±Ù¿ëÒº#ù¨‚áI¡–PË“ _áÿ¡L.ßÎÔZüç¨„˙WÆÇê–∑ãdtÂ2
-xÆœr»ZbâÕG^ò(Å'ÑµâπY2õÉ◊r√ÉNßπæÖ!’úNNT¥o«§j◊Ç¸≈ºê>âÄcD¸ »µå4)·◊•g˙”/©?ÈÄÉÎ}P`¿ﬁTK»“p¬VÏ1ƒ±ÎöÊ‚≈DÍ:àøÜ<wG≤H=§X\Ôo«0rù#$®íöO€	x¸± ı-¶*Z¸ Å›òîÈ§ﬂ~†cî’%8ò9ë“å9°XJ‹È◊|DHûÓ!Ω»çpÀ,‰\\;·td Ï•@‹é0p#V€‡`"ƒæÿ˘ŸEÑiè)kœŒ˘9é%äxÛ'L∏N:’ŸDw—6µd<<ûÍ3q˝ÏêôÊ
aê‘ôÉì…JPﬂ&”Aî`ôfõµ$pàçÂyÄMmŒ;#Ô¢¸9>¡”≈7…Syøøû∞ütTæf[—˙{∆QN€±ò‡∞.($HÍ,G∑iO∑ûnUËñA$.ßgC] ≥M§6À=edH'–¨Fy±î;¡¨Ô}'êtÇs=±o›/$´6§N£ƒGL‹«”™Dﬂ1~N+ÃÙùœƒv6¿ˆŸœ:√+x4„U•aRöbCΩHwµ1¬W´ÕNà€òÃí√Ÿï§~Ùwø–ñ„,¥^qmBZÅxêGå˘*&^|íAM4£†ZeÖ…0rU€Ï»«vS€©>mœ- µMIõcf˙<Y&)ˇPKªŒûI  ûm PK    l©⁄>æòµ‹  ‹     meta.xml<?xml version="1.0" encoding="UTF-8"?>

<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:ooo="http://openoffice.org/2004/office" xmlns:grddl="http://www.w3.org/2003/g/data-view#" office:version="1.2" grddl:transformation="http://docs.oasis-open.org/office/1.2/xslt/odf2rdf.xsl">
 <office:meta><meta:generator>LibreOffice/3.3$Unix LibreOffice_project/330m19$Build-202</meta:generator><meta:initial-creator>dkuhlman</meta:initial-creator><meta:creation-date>2006-08-15T13:56:07</meta:creation-date><dc:date>2011-06-26T14:11:24</dc:date><meta:editing-cycles>106</meta:editing-cycles><meta:editing-duration>P1DT11H31M20S</meta:editing-duration><dc:creator>Dave Kuhlman</dc:creator><meta:document-statistic meta:table-count="2" meta:image-count="0" meta:object-count="0" meta:page-count="1" meta:paragraph-count="6" meta:word-count="57" meta:character-count="344"/><meta:user-defined meta:name="Info 1"/><meta:user-defined meta:name="Info 2"/><meta:user-defined meta:name="Info 3"/><meta:user-defined meta:name="Info 4"/></office:meta>
</office:document-meta>PK    l©⁄>ÏØ;b°  °     Thumbnails/thumbnail.pngâPNG

   IHDR   ∆      g?û  hIDATxúÌù[åEÜAq=°"ûYE‰†+"QQ—‡iQ	â1&& çbLñ~ˇxÌïâQ.‘4\®7ö∞ö`ƒxXOxH<¨.Ç
»˛oÊïŒÙÃ¸ª¯ˆ–∏œs1È©©Æ™Ó~¶ÍÎ⁄ŸÍQÄèQ∫o•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†ò)K©’´Woﬁºy÷¨YS¶Ly˘ÂóØø˛˙ó^zÈ¶õnJ~ˇ˝˜£é:J˘Ù?¸p``†´´Î˚Ôø;vÏË—£SŒÜ˘Sb±ä(Í»#è<˚Ï≥Ûïæ˝ˆ€◊]w]æ©´V≠ö7oû6>˝Ù”1c∆úzÍ©ëÆ“Æ∫Í™|’É?ê·LYJÕù;˜Ò«ˇ„è?^}ı’oø˝ˆŸgü=‰êC^{Ìµ={ˆÏﬁΩ˚Ç.x·Öé;Ó8	ßKÈW_}µ.™6§‘gü}∂i”¶#F\{Ìµ 9q‚ƒwﬁygJçîˇÚÀ/Í©ßfœû˝ÎØø÷U°è>˘‰ìΩ{˜ûr )'ûx‚1«≠z˙Èß?¸_|Q)Q„{ÔΩ˜›wﬂ≈^ü˛˘å3Tµ
9r§Ø¸ã/÷Î%ó\R¨•≈ÅîtV
 RJÁ∑ØØÔÉ>––Wˇ¯„èﬂ∏q£˙ı_}ı’7ﬂ|£h¬Ñ	∫*ø¸ÚK§k/]i]KmlﬂæΩøøˇå3Œàú˛˘ßÚtwwÁÛÀ?9˜˛˚Ôè5™Æ
}$u‘EuttvÿaÎ÷≠Sô]tëä˙ÎØøîG9%´◊Ø_/	Tàﬁˆˆˆ~¸Ò«áz®dRç ¨}’’i£a--d8SñRG}Ù“•K’OË™Î™ËUÁZoeòæ–ÚÊ‚ã/~„ç7f’àtÌ•a%vü9s¶∂uu#ßJX∞`A1ˇ˘ÁüØ◊bÈ#ı+rK2E±wﬂ}w|ö≤›sœ=±ªﬁNü>=ﬂ`Ÿ¥W√ZZ»p¶,•tÍK*åî±"Fâw|œ<ÛLggßFäsŒ9ß¯iäj≈+Øº“bºhS∑¶.–ñﬂO>˘‰¬Ö5~Õô3ßŸ^äØı™˚∆„€∂m;‚à#∂9∫∫¡H©îÙµ/Q)Cäjó/_ﬁWCë–ä+4 û|Ú…z˚ı◊_+ÚU∞•XD˜Ü
ôO?˝ÙGyDú"*]eãP∑SG9„«èÙ—GuS¶Î'q„£wﬂ}7
_¥hQæ1Áû{Æ2+`⁄∞aÉ2l›∫UÉT⁄QØJî+ëπY<ÆÚ{zz‰J›çBƒÈ˛Ñ)¿ˇÚÀ/∑lŸmû?~yg∏öî®îN´zùz›IÈ∂K)?˝ÙìÆÂoø˝¶∑2IﬂW]uªvÌR`˚„è?™ô6möd“ùZÑÃ⁄´SG9?ˇ¸≥¸P£∑r(‚∞®ÎÔøˇVV◊ò[oΩU¬)Óñ"≤A°w⁄Q˜}J‹πsÁ@çfÒ∏ âñ‘›(Dú~Ï±«Í–tO†D˘9À;Ωï•D•|¡ÿ–-}l<¿ŸæÒ;"‚˚Ôø_Øì'OŒj!≥aı∆+WÆTˇ±d…íuã1uîìÚÁ?∫ÛŒ;ı™K^◊òõoæYØ'NÃj~ÍÛc«©SßÊõ≈„YmXT«SèGú«•¸:®·ß∑cˆºnÃé∑Òö?Ôi˚ˆ€oœÁOÈu©·æ≠„É‚eéîf%ß“RJÃq\yÂï˘ÙHÃW=l} JU*Ö’
åb‡ÀZŒw◊ÌŸˆo“º´´+_iç»ò ≈[sz=Ì¥”ÚÂ7√#ΩXµ∆\U≠†m?œ◊øÖïJaµ¬d∫~
íZDæi/}›·^zÈ•
uãs”Õ&ÕwÏÿ°Ò.Õøø˘Êõ©R˚ƒOtttDKT†.øBüﬁﬁ^ï¨ZÙQ™∫ı|ΩB¥8®`.?_?a¬ÑËÆÜ9%*ï¬j]H›Õ)Ä’’m˘ûwﬁyiØò4W¢‚ËÜs”Õ&Õ’')ÃOÛÔJIïÍ≠J”ÜÇqy†éD2Èn@ıÆ]ªVJ©êTuÎ˘zÌá†H¸ÑN»œ◊Î#	˜√?Ëﬁ¢º≥Z}JT*Ö’B∑`q•Fæ˘(D±≠2+VÜfs”-&Õ”¸{îì∫}*?Ù9ßOüÈsÁŒ≠´∫ı|}:Ñ8∫|’A<ú)Q©¸âŒ_⁄ÿ(Fæ≈ÃÒi],‹∫êÜïä{ÔΩ∑Yu≈™Sûb’≈ÍﬁÚgÉvÑÁ˘ƒˇ˚Kíl–?â¢"L.Ô(`®¥#<“/I§HqzZ˚*dV6≈1ä∏µØÚå;6´˝a8"tÖ2È ÌœáÙKíÜ””⁄wÎ÷≠ ÷ŸŸ©Y%l⁄¥)z≤à–e≠Úów,0x⁄ûÈó$ßß”æz·s∂/jπÌ∂€¥Ò˙ÎØœû=ªºcÅ¡”é\cŸôgûô"ßPAë–W\°û&b«ﬂïÿ,$Øü”v úïähTR¸§—j—¢E‘bF'#xzÓπÁ‚¯6l–Ün„ßNù™◊Õõ7+˙7n\y-Ñ2(Q©¯Q@ƒOz´∞È£„«èèDuHı“˚˚˚ïMΩ>’M\ÃÉó◊<(âïä§PI€∫#ÎÍÍJâT]sÕ5Ÿæ?‡gµ¿+´g
∂™Ûk5<%*ïˇ≈A√ƒÜÚq”Ü#•+U™”òÍ¥§$JT™:√Vu~Ò]ùñd„oœaxÇR`•¿JÅî3L"¥õÍ¥§$òDh+’iI∆$,†òA)0ÉR`Ü;ævSùñîDYJUÁæ⁄òA)0ÉR`•¿Lµ¯±q„F›ùu÷Yˇ¸ÅQîÓÚ¸(2§ÂäYu≥£VÆ\yÀ-∑¨[∑Ó≤À.k÷å¸j≈“⁄h´V≠ö9sf› l*jÁŒù≈ƒ¥~sŸTÎÅ⁄±ØØOØˇ¸Å{˜ÓÌØë‡G,',_ÛÁnà\ø~},õVŒééµ'5uøü¢]TÚò1czzzbë™‚™…3fÃà÷*ßJàfÔ⁄µkÀñ-›››:jI,0°3¨jsooÔ⁄µko∏·Ü5k÷út“IJT3TWjÌÖ^®∑≈ULÌTÎÅ€∑oﬂ±cGÊx‡áŒµÆA›?tm‘ùŸ¸¬∆˘Ö¥„∏q„î¢æAΩHZxx‰»ëRPˆ§¶ı) i)3]Ô∑ﬁzK}∞jy˛˘Áó-[ñ÷èà%‘V¨X°˛O%®"5@éÍõ6yÚ‰X¬*˛Rª»~µYyæ¯‚ã˘ÛÁ«¢ﬂÍΩt§˘Uôµo{÷æ™÷?‚€ô9¯D'î¯q◊]w•*Ã/lúÌ[∏!ñ2ãuÚk?ˆÿc˘œ≤Ê´7;∫4QßQO™È–&Mö§Zö≠öú’ñPãÂñ„4ÍUKãf≈"©ÖKñ,…jˇ≤¶bSu”¶MKÂ∑mäµ‹<éGAºUˇqÉŒ~¨NÈ≠£•,∑ÅbÖ∫Xõ-Ä÷ŸŸYlOP˜_ÑÕ÷:ä+û5[6-≠⁄P∑¨C˛ä∆Q◊≠ÃVlF√ı K1sã£+õ≤î“Û√ﬂx„ç(¢Ö•±T√ea>ı†.àêBQZ√Xá˘#À™CâJihø„é;$AD!‘b	®ÜÀ¬6[V*D$îÌãcÍ`e›’äPñRäZdâYæ|yD!ÍK"¶i∏,l≥e•ÚA@DBYìX˘´bE(E©#˛˜›˜ê^/~hﬂ'k±˜`ÚÄçÅÅˇxdˆÃ†ò)Y©sß∫?t◊F·Í¥$´Xc‹–KÅî3(fP
Ãî¨Ti1‡ê©NK≤ä5∆ΩòA)0√ºTa^
`?@)0ÉR`•¿ÛRÇJ5∆ΩòA)0√ºTa^
`?@)0ÉR`•¿JÅ¶:ïjåz)0SäRˆˇâÜÉz)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0ÉR`•¿JÅî3(fP
Ã†òA)0Û?:€_Cı@•#    IENDÆB`ÇPK   l©⁄>           '   Configurations2/accelerator/current.xml PK    l©⁄>               Configurations2/progressbar/PK    l©⁄>               Configurations2/floater/PK    l©⁄>               Configurations2/popupmenu/PK    l©⁄>               Configurations2/toolpanel/PK    l©⁄>               Configurations2/menubar/PK    l©⁄>               Configurations2/toolbar/PK    l©⁄>               Configurations2/images/Bitmaps/PK    l©⁄>               Configurations2/statusbar/PK  l©⁄>               settings.xmlµZ[S‚H~˜WPyWƒÀ¨RÍT¿aÜÖkÁ≠I–kßO™ª#Ô˜t\àÑ~≤L∫˚Îs˚Œ%‹|ùG¢ÚJsî∑^Ì‰‘´Ä0‰rrÎ=[«Wﬁ◊ª££èy ıÉ$ié5CktÖˆK]œ^ﬂzâíudöÎ∫dË∫	ÍÉ\n´\]O—≤'s¡ÂÎ≠75&ÆW´≥ŸÏdv~ÇjR≠]__W”∑À• 1ülï≠˛ÖàÔ@vCvôÏÏÙÙ¢ö˝ÔUÚK~–ÕôwwTYjb© zTπ…Q≤?«‹@dT…€˚›zÑ[„0{Wù=m„ﬁˇÔ˚E{|là±∑|c1Ω('ﬁ›ÈMu˝à›éÓ¿ÿ∏:˚Öáf∫Ò≥Û/ßÁÂ~ üL7_øvy}^BÑ¡g}…˘†9erzeÑ(ÄIÔŒ®ˆ«iÀÜ¬ôÜG°aÃÑﬁ	‚8bÒ1ó!Ã!\W\Ó|Ö)Ä‘"[≤ù%⁄· ÕµQ‹⁄¿∫¸Y·≈∑<Ω–A/jW≈ﬁÚ¢¿™ù_˛uYÓpÕGˆàÆÌﬂù∂?ª_X6tk@h†1≈ÓŸUàﬂà—ê\ıÀ)*SZ?‰ílÅâi¢H"π 9FI-1àØ˚S√ñöj±¿†*ê„¥î∂⁄z aK—É=≈ÿÙfÖ™
ó‰4ò¶ÍMk(#Ôî∆≥âbÜ*É]Ûπ/ŒzDéÊ'éöL ‹§ï£«bP-Ö— L≤J˚góë¬Ã¥›ÒòîQò%K¢§ÚX2Ì1w©X?ÄíæÊLˆò$5±KÅ˙`+LXMü≈2‚ZGÎ)4‹-T´<~(:T¸?«!3õ
§?RÌvj"±
g:"PCêi¯r—‡í©ÖW›·∏oQl#!Ø	 ûr”ÕD)"{fò’D£à…ÇRrKÌê)5Aan^ãª≤;˙ßáÆ$„X,û5(+ÉSΩˆòbibXe8¢.G?1òÖõ#äùHT–‚JälhSnñ¶-üíhÍ—ÎiˆÔ ¨ NŒ÷AˆÅÖ(≈¬]r]µæoÜ,Â∆>-"tÌ$çÓÉ†Ï˙F-LÊ.›Õ‚˘2l&_5Â*ÎyM&ÇD8OæîhRî‚ÙUbHë˙Eg Æ ªTåõ?≠WÔªEKVå/˜`äÇh⁄—ùÔÒ	ÕœD>^XcÎn¶èL&L4∞WG∞îl%Ù_ˆâ›1Z[wÿƒ}>t'QWÑyÛdÔ¿Q≈±πÿ–¬”UJÖL.LiwnK*›©=W‰∆»Àeç Á‰V¸ÖﬂÊ‘±–Yêµç
uLeΩ”Œ«éóV∞∂öaö<)V†ÌüÅ–v“|ß`ü:ã_â$™å©ñÂü%≠òˇ)#[sIœ}–`lm„£lV¶∞Ö.ô,„fõ‹∆k>zô@ÉØÖ…ZOs∏÷Ä¯ îd¬))tc?Ét‡ƒﬂ∂@‘ÆÎıwkQ˜FD¥tzwÄˆﬂéÿ{FµÉß√¨%ÀˆáW]è‡±Øﬂô–ó±Ñ/äñ™ñX§c;gÕ=
¡bÈ®¢	BÿXw:a±çÑ˝lçóŒŒ>JM)ıSJ@ëXß⁄7ˇ<ò¡Ë®XÎ˜òdEóÎKïF-QjY◊ŸÄ$Î_s¬b⁄∞Xop9∏∫WlñŒ‰ù@§Ÿ´…bì(∞HDQ∫+-ﬂ;“!ÈÃOGﬂYßLƒhU:±%ánÀ◊Ær¶%≈_Ÿ/ ∫≤)Pªí06ÿCàbÒ…‡·S†O>Ô‹T◊~πÒ˛hÌg-wˇPK5&FsR  #  PK  l©⁄>               META-INF/manifest.xmlµïKn√ Ü˜9Ö≈∂2¥YUVúH≠‘§ xÏ"ÒQr˚B‘$nõ>ÖùA√˜˝ÿ‡Y¨vZU[AZ”ízO*0¬v“-y]ø‘èdµú-47≤áÄÕÒ°JÎL8[Ωi,24Ükä∆:0ùQÉ¡Ês}ìMÀYu˜RAù
˝æ:À†ìº∆ΩÉñpÁîSN∂5=∏ËXAvHŒ´Gªöè¶˚®TÌ8æµÑ6)C∞¥ëÀ4aÊπ`wº7ﬂıw?*és4U›4{¿ΩÇpEÙﬂ±ê_ïö¿ú.S◊oQoó*0<>“\=ÕÚ'¸&ºgkz9D¯∫aŒ∏† ≠g"z›âôÓ*"pﬁBÿBÇ^YéP*Ωu—•?G,ÉGkï„T|^ÏΩÁÏ≈‡áÎÿìDÕ]°kˆ·(¬»1^sÊøˆ∞Mæ˚4J*∆éˇ≈∏m ƒ‘ÛO-`¡æµ¸Â;PKPIKÙe  -  PK     l©⁄>^∆2'   '                    mimetypePK   l©⁄>◊Ïõµ  ,               M   content.xmlPK    l©⁄>ﬂ=<1Û                  ;  manifest.rdfPK   l©⁄>ªŒûI  ûm 
             X  styles.xmlPK     l©⁄>æòµ‹  ‹               Ÿ  meta.xmlPK     l©⁄>ÏØ;b°  °               €$  Thumbnails/thumbnail.pngPK    l©⁄>           '             ≤2  Configurations2/accelerator/current.xmlPK     l©⁄>                         ˘2  Configurations2/progressbar/PK     l©⁄>                         33  Configurations2/floater/PK     l©⁄>                         i3  Configurations2/popupmenu/PK     l©⁄>                         °3  Configurations2/toolpanel/PK     l©⁄>                         Ÿ3  Configurations2/menubar/PK     l©⁄>                         4  Configurations2/toolbar/PK     l©⁄>                         E4  Configurations2/images/Bitmaps/PK     l©⁄>                         Ç4  Configurations2/statusbar/PK   l©⁄>5&FsR  #               ∫4  settings.xmlPK   l©⁄>PIKÙe  -               F:  META-INF/manifest.xmlPK      p  Ó;                                                                                                                                                                                                                                                                                                                                                                                                                usr/local/lib/python2.7/dist-packages/docutils/writers/pep_html/                                    0042755 0000000 0000062 00000000000 13077704402 023363  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/pep_html/__init__.py                         0100644 0000000 0000062 00000006663 13077704374 025512  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # $Id: __init__.py 7630 2013-03-15 22:27:04Z milde $
# Author: David Goodger <goodger@python.org>
# Copyright: This module has been placed in the public domain.

"""
PEP HTML Writer.
"""

__docformat__ = 'reStructuredText'


import sys
import os
import os.path
import codecs
import docutils
from docutils import frontend, nodes, utils, writers
from docutils.writers import html4css1


class Writer(html4css1.Writer):

    default_stylesheet = 'pep.css'

    default_stylesheet_path = utils.relative_path(
        os.path.join(os.getcwd(), 'dummy'),
        os.path.join(os.path.dirname(__file__), default_stylesheet))

    default_template = 'template.txt'

    default_template_path = utils.relative_path(
        os.path.join(os.getcwd(), 'dummy'),
        os.path.join(os.path.dirname(__file__), default_template))

    settings_spec = html4css1.Writer.settings_spec + (
        'PEP/HTML-Specific Options',
        'For the PEP/HTML writer, the default value for the --stylesheet-path '
        'option is "%s", and the default value for --template is "%s". '
        'See HTML-Specific Options above.'
        % (default_stylesheet_path, default_template_path),
        (('Python\'s home URL.  Default is "http://www.python.org".',
          ['--python-home'],
          {'default': 'http://www.python.org', 'metavar': '<URL>'}),
         ('Home URL prefix for PEPs.  Default is "." (current directory).',
          ['--pep-home'],
          {'default': '.', 'metavar': '<URL>'}),
         # For testing.
         (frontend.SUPPRESS_HELP,
          ['--no-random'],
          {'action': 'store_true', 'validator': frontend.validate_boolean}),))

    settings_default_overrides = {'stylesheet_path': default_stylesheet_path,
                                  'template': default_template_path,}

    relative_path_settings = ('template',)

    config_section = 'pep_html writer'
    config_section_dependencies = ('writers', 'html4css1 writer')

    def __init__(self):
        html4css1.Writer.__init__(self)
        self.translator_class = HTMLTranslator

    def interpolation_dict(self):
        subs = html4css1.Writer.interpolation_dict(self)
        settings = self.document.settings
        pyhome = settings.python_home
        subs['pyhome'] = pyhome
        subs['pephome'] = settings.pep_home
        if pyhome == '..':
            subs['pepindex'] = '.'
        else:
            subs['pepindex'] = pyhome + '/dev/peps'
        index = self.document.first_child_matching_class(nodes.field_list)
        header = self.document[index]
        self.pepnum = header[0][1].astext()
        subs['pep'] = self.pepnum
        if settings.no_random:
            subs['banner'] = 0
        else:
            import random
            subs['banner'] = random.randrange(64)
        try:
            subs['pepnum'] = '%04i' % int(self.pepnum)
        except ValueError:
            subs['pepnum'] = self.pepnum
        self.title = header[1][1].astext()
        subs['title'] = self.title
        subs['body'] = ''.join(
            self.body_pre_docinfo + self.docinfo + self.body)
        return subs

    def assemble_parts(self):
        html4css1.Writer.assemble_parts(self)
        self.parts['title'] = [self.title]
        self.parts['pepnum'] = self.pepnum


class HTMLTranslator(html4css1.HTMLTranslator):

    def depart_field_list(self, node):
        html4css1.HTMLTranslator.depart_field_list(self, node)
        if 'rfc2822' in node['classes']:
             self.body.append('<hr />\n')
                                                                             usr/local/lib/python2.7/dist-packages/docutils/writers/pep_html/__init__.pyc                        0100644 0000000 0000062 00000010127 13077704402 025633  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   s∞   d  Z  d Z d d l Z d d l Z d d l Z d d l Z d d l Z d d l m Z m Z m	 Z	 m
 Z
 d d l m Z d e j f d Ñ  É  YZ d e j f d	 Ñ  É  YZ d S(
   s   
PEP HTML Writer.
t   reStructuredTextiˇˇˇˇN(   t   frontendt   nodest   utilst   writers(   t	   html4css1t   Writerc        
   B   sY  e  Z d  Z e j e j j e j É  d É e j j e j j	 e
 É e É É Z d Z e j e j j e j É  d É e j j e j j	 e
 É e É É Z e j j d d e e f d d g i d d 6d	 d
 6f d d g i d d 6d	 d
 6f e j d g i d d 6e j d 6f f f Z i e d 6e d 6Z d Z d Z d Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   s   pep.csst   dummys   template.txts   PEP/HTML-Specific Optionss£   For the PEP/HTML writer, the default value for the --stylesheet-path option is "%s", and the default value for --template is "%s". See HTML-Specific Options above.s7   Python's home URL.  Default is "http://www.python.org".s   --python-homes   http://www.python.orgt   defaults   <URL>t   metavars>   Home URL prefix for PEPs.  Default is "." (current directory).s
   --pep-homet   .s   --no-randomt
   store_truet   actiont	   validatort   stylesheet_patht   templates   pep_html writerR   s   html4css1 writerc         C   s   t  j j |  É t |  _ d  S(   N(   R   R   t   __init__t   HTMLTranslatort   translator_class(   t   self(    (    sD   /tmp/pip-build-awuatQ/docutils/docutils/writers/pep_html/__init__.pyR   <   s    c         C   sh  t  j j |  É } |  j j } | j } | | d <| j | d <| d k rW d | d <n | d | d <|  j j t j	 É } |  j | } | d d j
 É  |  _ |  j | d	 <| j r¡ d | d
 <n d d  l } | j d É | d
 <y d t |  j É | d <Wn t k
 r|  j | d <n X| d d j
 É  |  _ |  j | d <d j |  j |  j |  j É | d <| S(   Nt   pyhomet   pephomes   ..R
   t   pepindexs	   /dev/pepsi    i   t   pept   banneriˇˇˇˇi@   s   %04it   pepnumt   titlet    t   body(   R   R   t   interpolation_dictt   documentt   settingst   python_homet   pep_homet   first_child_matching_classR   t
   field_listt   astextR   t	   no_randomt   randomt	   randranget   intt
   ValueErrorR   t   joint   body_pre_docinfot   docinfoR   (   R   t   subsR   R   t   indext   headerR&   (    (    sD   /tmp/pip-build-awuatQ/docutils/docutils/writers/pep_html/__init__.pyR   @   s2    	
	c         C   s7   t  j j |  É |  j g |  j d <|  j |  j d <d  S(   NR   R   (   R   R   t   assemble_partsR   t   partsR   (   R   (    (    sD   /tmp/pip-build-awuatQ/docutils/docutils/writers/pep_html/__init__.pyR0   ]   s    (   s   template(   s   writerss   html4css1 writer(   t   __name__t
   __module__t   default_stylesheetR   t   relative_patht   ost   pathR*   t   getcwdt   dirnamet   __file__t   default_stylesheet_patht   default_templatet   default_template_pathR   R   t   settings_specR   t   SUPPRESS_HELPt   validate_booleant   settings_default_overridest   relative_path_settingst   config_sectiont   config_section_dependenciesR   R   R0   (    (    (    sD   /tmp/pip-build-awuatQ/docutils/docutils/writers/pep_html/__init__.pyR      s:   $$	
!

		R   c           B   s   e  Z d  Ñ  Z RS(   c         C   s:   t  j j |  | É d | d k r6 |  j j d É n  d  S(   Nt   rfc2822t   classess   <hr />
(   R   R   t   depart_field_listR   t   append(   R   t   node(    (    sD   /tmp/pip-build-awuatQ/docutils/docutils/writers/pep_html/__init__.pyRG   e   s    (   R2   R3   RG   (    (    (    sD   /tmp/pip-build-awuatQ/docutils/docutils/writers/pep_html/__init__.pyR   c   s   (   t   __doc__t   __docformat__t   sysR6   t   os.patht   codecst   docutilsR   R   R   R   t   docutils.writersR   R   R   (    (    (    sD   /tmp/pip-build-awuatQ/docutils/docutils/writers/pep_html/__init__.pyt   <module>   s   "N                                                                                                                                                                                                                                                                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/docutils/writers/pep_html/pep.css                             0100644 0000000 0000062 00000014337 13077704374 024674  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /*
:Author: David Goodger
:Contact: goodger@python.org
:date: $Date: 2006-05-21 22:44:42 +0200 (So, 21. Mai 2006) $
:version: $Revision: 4564 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the PEP HTML output of Docutils.
*/

/* "! important" is used here to override other ``margin-top`` and
   ``margin-bottom`` styles that are later in the stylesheet or 
   more specific.  See http://www.w3.org/TR/CSS1#the-cascade */
.first {
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.navigation {
  width: 100% ;
  background: #99ccff ;
  margin-top: 0px ;
  margin-bottom: 0px }

.navigation .navicon {
  width: 150px ;
  height: 35px }

.navigation .textlinks {
  padding-left: 1em ;
  text-align: left }

.navigation td, .navigation th {
  padding-left: 0em ;
  padding-right: 0em ;
  vertical-align: middle }

.rfc2822 {
  margin-top: 0.5em ;
  margin-left: 0.5em ;
  margin-right: 0.5em ;
  margin-bottom: 0em }

.rfc2822 td {
  text-align: left }

.rfc2822 th.field-name {
  text-align: right ;
  font-family: sans-serif ;
  padding-right: 0.5em ;
  font-weight: bold ;
  margin-bottom: 0em }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

body {
  margin: 0px ;
  margin-bottom: 1em ;
  padding: 0px }

dl.docutils dd {
  margin-bottom: 0.5em }

div.section {
  margin-left: 1em ;
  margin-right: 1em ;
  margin-bottom: 1.5em }

div.section div.section {
  margin-left: 0em ;
  margin-right: 0em ;
  margin-top: 1.5em }

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.footer {
  margin-left: 1em ;
  margin-right: 1em }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1 {
  font-family: sans-serif ;
  font-size: large }

h2 {
  font-family: sans-serif ;
  font-size: medium }

h3 {
  font-family: sans-serif ;
  font-size: small }

h4 {
  font-family: sans-serif ;
  font-style: italic ;
  font-size: small }

h5 {
  font-family: sans-serif;
  font-size: x-small }

h6 {
  font-family: sans-serif;
  font-style: italic ;
  font-size: x-small }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

img.borderless {
  border: 0 }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-family: sans-serif ;
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

td.num {
  text-align: right }

th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }
                                                                                                                                                                                                                                                                                                 usr/local/lib/python2.7/dist-packages/docutils/writers/pep_html/template.txt                        0100644 0000000 0000062 00000002416 13077704374 025745  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        <?xml version="1.0" encoding="%(encoding)s" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=%(encoding)s" />
  <meta name="generator" content="Docutils %(version)s: http://docutils.sourceforge.net/" />
  <title>PEP %(pep)s -- %(title)s</title>
  %(stylesheet)s
</head>
<body bgcolor="white">
<table class="navigation" cellpadding="0" cellspacing="0"
       width="100%%" border="0">
<tr><td class="navicon" width="150" height="35">
<a href="%(pyhome)s/" title="Python Home Page">
<img src="%(pyhome)s/pics/PyBanner%(banner)03d.gif" alt="[Python]"
 border="0" width="150" height="35" /></a></td>
<td class="textlinks" align="left">
[<b><a href="%(pyhome)s/">Python Home</a></b>]
[<b><a href="%(pepindex)s/">PEP Index</a></b>]
[<b><a href="%(pephome)s/pep-%(pepnum)s.txt">PEP Source</a></b>]
</td></tr></table>
<div class="document">
%(body)s
%(body_suffix)s
                                                                                                                                                                                                                                                  usr/local/lib/python2.7/dist-packages/docutils/writers/pseudoxml.py                                 0100644 0000000 0000062 00000001404 13077704374 024147  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # $Id: pseudoxml.py 7320 2012-01-19 22:33:02Z milde $
# Author: David Goodger <goodger@python.org>
# Copyright: This module has been placed in the public domain.

"""
Simple internal document tree Writer, writes indented pseudo-XML.
"""

__docformat__ = 'reStructuredText'


from docutils import writers


class Writer(writers.Writer):

    supported = ('pprint', 'pformat', 'pseudoxml')
    """Formats this writer supports."""

    config_section = 'pseudoxml writer'
    config_section_dependencies = ('writers',)

    output = None
    """Final translated form of `document`."""

    def translate(self):
        self.output = self.document.pformat()

    def supports(self, format):
        """This writer supports all format-specific elements."""
        return True
                                                                                                                                                                                                                                                            usr/local/lib/python2.7/dist-packages/docutils/writers/pseudoxml.pyc                                0100644 0000000 0000062 00000002306 13077704402 024304  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   s9   d  Z  d Z d d l m Z d e j f d Ñ  É  YZ d S(   sC   
Simple internal document tree Writer, writes indented pseudo-XML.
t   reStructuredTextiˇˇˇˇ(   t   writerst   Writerc           B   s2   e  Z d Z d Z d Z d	 Z d Ñ  Z d Ñ  Z RS(
   t   pprintt   pformatt	   pseudoxmls   pseudoxml writerR   c         C   s   |  j  j É  |  _ d  S(   N(   t   documentR   t   output(   t   self(    (    s<   /tmp/pip-build-awuatQ/docutils/docutils/writers/pseudoxml.pyt	   translate   s    c         C   s   t  S(   s2   This writer supports all format-specific elements.(   t   True(   R   t   format(    (    s<   /tmp/pip-build-awuatQ/docutils/docutils/writers/pseudoxml.pyt   supports   s    (   s   pprints   pformatR   (   s   writersN(	   t   __name__t
   __module__t	   supportedt   config_sectiont   config_section_dependenciest   NoneR   R	   R   (    (    (    s<   /tmp/pip-build-awuatQ/docutils/docutils/writers/pseudoxml.pyR      s   	N(   t   __doc__t   __docformat__t   docutilsR   R   (    (    (    s<   /tmp/pip-build-awuatQ/docutils/docutils/writers/pseudoxml.pyt   <module>   s                                                                                                                                                                                                                                                                                                                             usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/                                     0042755 0000000 0000062 00000000000 13077704402 023126  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/__init__.py                          0100644 0000000 0000062 00000034502 13077704374 025246  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # $Id: __init__.py 7720 2013-09-05 12:54:56Z milde $
# Authors: Chris Liechti <cliechti@gmx.net>;
#          David Goodger <goodger@python.org>
# Copyright: This module has been placed in the public domain.

"""
S5/HTML Slideshow Writer.
"""

__docformat__ = 'reStructuredText'


import sys
import os
import re
import docutils
from docutils import frontend, nodes, utils
from docutils.writers import html4css1
from docutils.parsers.rst import directives
from docutils._compat import b

themes_dir_path = utils.relative_path(
    os.path.join(os.getcwd(), 'dummy'),
    os.path.join(os.path.dirname(__file__), 'themes'))

def find_theme(name):
    # Where else to look for a theme?
    # Check working dir?  Destination dir?  Config dir?  Plugins dir?
    path = os.path.join(themes_dir_path, name)
    if not os.path.isdir(path):
        raise docutils.ApplicationError(
            'Theme directory not found: %r (path: %r)' % (name, path))
    return path


class Writer(html4css1.Writer):

    settings_spec = html4css1.Writer.settings_spec + (
        'S5 Slideshow Specific Options',
        'For the S5/HTML writer, the --no-toc-backlinks option '
        '(defined in General Docutils Options above) is the default, '
        'and should not be changed.',
        (('Specify an installed S5 theme by name.  Overrides --theme-url.  '
          'The default theme name is "default".  The theme files will be '
          'copied into a "ui/<theme>" directory, in the same directory as the '
          'destination file (output HTML).  Note that existing theme files '
          'will not be overwritten (unless --overwrite-theme-files is used).',
          ['--theme'],
          {'default': 'default', 'metavar': '<name>',
           'overrides': 'theme_url'}),
         ('Specify an S5 theme URL.  The destination file (output HTML) will '
          'link to this theme; nothing will be copied.  Overrides --theme.',
          ['--theme-url'],
          {'metavar': '<URL>', 'overrides': 'theme'}),
         ('Allow existing theme files in the ``ui/<theme>`` directory to be '
          'overwritten.  The default is not to overwrite theme files.',
          ['--overwrite-theme-files'],
          {'action': 'store_true', 'validator': frontend.validate_boolean}),
         ('Keep existing theme files in the ``ui/<theme>`` directory; do not '
          'overwrite any.  This is the default.',
          ['--keep-theme-files'],
          {'dest': 'overwrite_theme_files', 'action': 'store_false'}),
         ('Set the initial view mode to "slideshow" [default] or "outline".',
          ['--view-mode'],
          {'choices': ['slideshow', 'outline'], 'default': 'slideshow',
           'metavar': '<mode>'}),
         ('Normally hide the presentation controls in slideshow mode. '
          'This is the default.',
          ['--hidden-controls'],
          {'action': 'store_true', 'default': True,
           'validator': frontend.validate_boolean}),
         ('Always show the presentation controls in slideshow mode.  '
          'The default is to hide the controls.',
          ['--visible-controls'],
          {'dest': 'hidden_controls', 'action': 'store_false'}),
         ('Enable the current slide indicator ("1 / 15").  '
          'The default is to disable it.',
          ['--current-slide'],
          {'action': 'store_true', 'validator': frontend.validate_boolean}),
         ('Disable the current slide indicator.  This is the default.',
          ['--no-current-slide'],
          {'dest': 'current_slide', 'action': 'store_false'}),))

    settings_default_overrides = {'toc_backlinks': 0}

    config_section = 's5_html writer'
    config_section_dependencies = ('writers', 'html4css1 writer')

    def __init__(self):
        html4css1.Writer.__init__(self)
        self.translator_class = S5HTMLTranslator


class S5HTMLTranslator(html4css1.HTMLTranslator):

    s5_stylesheet_template = """\
<!-- configuration parameters -->
<meta name="defaultView" content="%(view_mode)s" />
<meta name="controlVis" content="%(control_visibility)s" />
<!-- style sheet links -->
<script src="%(path)s/slides.js" type="text/javascript"></script>
<link rel="stylesheet" href="%(path)s/slides.css"
      type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="%(path)s/outline.css"
      type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="%(path)s/print.css"
      type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="%(path)s/opera.css"
      type="text/css" media="projection" id="operaFix" />\n"""
    # The script element must go in front of the link elements to
    # avoid a flash of unstyled content (FOUC), reproducible with
    # Firefox.

    disable_current_slide = """
<style type="text/css">
#currentSlide {display: none;}
</style>\n"""

    layout_template = """\
<div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header">
%(header)s
</div>
<div id="footer">
%(title)s%(footer)s
</div>
</div>\n"""
# <div class="topleft"></div>
# <div class="topright"></div>
# <div class="bottomleft"></div>
# <div class="bottomright"></div>

    default_theme = 'default'
    """Name of the default theme."""

    base_theme_file = '__base__'
    """Name of the file containing the name of the base theme."""

    direct_theme_files = (
        'slides.css', 'outline.css', 'print.css', 'opera.css', 'slides.js')
    """Names of theme files directly linked to in the output HTML"""

    indirect_theme_files = (
        's5-core.css', 'framing.css', 'pretty.css', 'blank.gif', 'iepngfix.htc')
    """Names of files used indirectly; imported or used by files in
    `direct_theme_files`."""

    required_theme_files = indirect_theme_files + direct_theme_files
    """Names of mandatory theme files."""

    def __init__(self, *args):
        html4css1.HTMLTranslator.__init__(self, *args)
        #insert S5-specific stylesheet and script stuff:
        self.theme_file_path = None
        self.setup_theme()
        view_mode = self.document.settings.view_mode
        control_visibility = ('visible', 'hidden')[self.document.settings
                                                   .hidden_controls]
        self.stylesheet.append(self.s5_stylesheet_template
                               % {'path': self.theme_file_path,
                                  'view_mode': view_mode,
                                  'control_visibility': control_visibility})
        if not self.document.settings.current_slide:
            self.stylesheet.append(self.disable_current_slide)
        self.add_meta('<meta name="version" content="S5 1.1" />\n')
        self.s5_footer = []
        self.s5_header = []
        self.section_count = 0
        self.theme_files_copied = None

    def setup_theme(self):
        if self.document.settings.theme:
            self.copy_theme()
        elif self.document.settings.theme_url:
            self.theme_file_path = self.document.settings.theme_url
        else:
            raise docutils.ApplicationError(
                'No theme specified for S5/HTML writer.')

    def copy_theme(self):
        """
        Locate & copy theme files.

        A theme may be explicitly based on another theme via a '__base__'
        file.  The default base theme is 'default'.  Files are accumulated
        from the specified theme, any base themes, and 'default'.
        """
        settings = self.document.settings
        path = find_theme(settings.theme)
        theme_paths = [path]
        self.theme_files_copied = {}
        required_files_copied = {}
        # This is a link (URL) in HTML, so we use "/", not os.sep:
        self.theme_file_path = '%s/%s' % ('ui', settings.theme)
        if settings._destination:
            dest = os.path.join(
                os.path.dirname(settings._destination), 'ui', settings.theme)
            if not os.path.isdir(dest):
                os.makedirs(dest)
        else:
            # no destination, so we can't copy the theme
            return
        default = False
        while path:
            for f in os.listdir(path):  # copy all files from each theme
                if f == self.base_theme_file:
                    continue            # ... except the "__base__" file
                if ( self.copy_file(f, path, dest)
                     and f in self.required_theme_files):
                    required_files_copied[f] = 1
            if default:
                break                   # "default" theme has no base theme
            # Find the "__base__" file in theme directory:
            base_theme_file = os.path.join(path, self.base_theme_file)
            # If it exists, read it and record the theme path:
            if os.path.isfile(base_theme_file):
                lines = open(base_theme_file).readlines()
                for line in lines:
                    line = line.strip()
                    if line and not line.startswith('#'):
                        path = find_theme(line)
                        if path in theme_paths: # check for duplicates (cycles)
                            path = None         # if found, use default base
                        else:
                            theme_paths.append(path)
                        break
                else:                   # no theme name found
                    path = None         # use default base
            else:                       # no base theme file found
                path = None             # use default base
            if not path:
                path = find_theme(self.default_theme)
                theme_paths.append(path)
                default = True
        if len(required_files_copied) != len(self.required_theme_files):
            # Some required files weren't found & couldn't be copied.
            required = list(self.required_theme_files)
            for f in required_files_copied.keys():
                required.remove(f)
            raise docutils.ApplicationError(
                'Theme files not found: %s'
                % ', '.join(['%r' % f for f in required]))

    files_to_skip_pattern = re.compile(r'~$|\.bak$|#$|\.cvsignore$')

    def copy_file(self, name, source_dir, dest_dir):
        """
        Copy file `name` from `source_dir` to `dest_dir`.
        Return 1 if the file exists in either `source_dir` or `dest_dir`.
        """
        source = os.path.join(source_dir, name)
        dest = os.path.join(dest_dir, name)
        if dest in self.theme_files_copied:
            return 1
        else:
            self.theme_files_copied[dest] = 1
        if os.path.isfile(source):
            if self.files_to_skip_pattern.search(source):
                return None
            settings = self.document.settings
            if os.path.exists(dest) and not settings.overwrite_theme_files:
                settings.record_dependencies.add(dest)
            else:
                src_file = open(source, 'rb')
                src_data = src_file.read()
                src_file.close()
                dest_file = open(dest, 'wb')
                dest_dir = dest_dir.replace(os.sep, '/')
                dest_file.write(src_data.replace(
                    b('ui/default'),
                    dest_dir[dest_dir.rfind('ui/'):].encode(
                    sys.getfilesystemencoding())))
                dest_file.close()
                settings.record_dependencies.add(source)
            return 1
        if os.path.isfile(dest):
            return 1

    def depart_document(self, node):
        self.head_prefix.extend([self.doctype,
                                 self.head_prefix_template %
                                 {'lang': self.settings.language_code}])
        self.html_prolog.append(self.doctype)
        self.meta.insert(0, self.content_type % self.settings.output_encoding)
        self.head.insert(0, self.content_type % self.settings.output_encoding)
        if self.math_header:
            if self.math_output == 'mathjax':
                self.head.extend(self.math_header)
            else:
                self.stylesheet.extend(self.math_header)
        # skip content-type meta tag with interpolated charset value:
        self.html_head.extend(self.head[1:])
        self.fragment.extend(self.body)
        # special S5 code up to the next comment line
        header = ''.join(self.s5_header)
        footer = ''.join(self.s5_footer)
        title = ''.join(self.html_title).replace('<h1 class="title">', '<h1>')
        layout = self.layout_template % {'header': header,
                                         'title': title,
                                         'footer': footer}
        self.body_prefix.extend(layout)
        self.body_prefix.append('<div class="presentation">\n')
        self.body_prefix.append(
            self.starttag({'classes': ['slide'], 'ids': ['slide0']}, 'div'))
        if not self.section_count:
            self.body.append('</div>\n')
        #
        self.body_suffix.insert(0, '</div>\n')
        self.html_body.extend(self.body_prefix[1:] + self.body_pre_docinfo
                              + self.docinfo + self.body
                              + self.body_suffix[:-1])

    def depart_footer(self, node):
        start = self.context.pop()
        self.s5_footer.append('<h2>')
        self.s5_footer.extend(self.body[start:])
        self.s5_footer.append('</h2>')
        del self.body[start:]

    def depart_header(self, node):
        start = self.context.pop()
        header = ['<div id="header">\n']
        header.extend(self.body[start:])
        header.append('\n</div>\n')
        del self.body[start:]
        self.s5_header.extend(header)

    def visit_section(self, node):
        if not self.section_count:
            self.body.append('\n</div>\n')
        self.section_count += 1
        self.section_level += 1
        if self.section_level > 1:
            # dummy for matching div's
            self.body.append(self.starttag(node, 'div', CLASS='section'))
        else:
            self.body.append(self.starttag(node, 'div', CLASS='slide'))

    def visit_subtitle(self, node):
        if isinstance(node.parent, nodes.section):
            level = self.section_level + self.initial_header_level - 1
            if level == 1:
                level = 2
            tag = 'h%s' % level
            self.body.append(self.starttag(node, tag, ''))
            self.context.append('</%s>\n' % tag)
        else:
            html4css1.HTMLTranslator.visit_subtitle(self, node)

    def visit_title(self, node):
        html4css1.HTMLTranslator.visit_title(self, node)
                                                                                                                                                                                              usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/__init__.pyc                         0100644 0000000 0000062 00000030721 13077704402 025400  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   s	  d  Z  d Z d d l Z d d l Z d d l Z d d l Z d d l m Z m Z m Z d d l	 m
 Z
 d d l m Z d d l m Z e j e j j e j É  d É e j j e j j e É d	 É É Z d
 Ñ  Z d e
 j f d Ñ  É  YZ d e
 j f d Ñ  É  YZ d S(   s   
S5/HTML Slideshow Writer.
t   reStructuredTextiˇˇˇˇN(   t   frontendt   nodest   utils(   t	   html4css1(   t
   directives(   t   bt   dummyt   themesc         C   sG   t  j j t |  É } t  j j | É sC t j d |  | f É Ç n  | S(   Ns(   Theme directory not found: %r (path: %r)(   t   ost   patht   joint   themes_dir_patht   isdirt   docutilst   ApplicationError(   t   nameR
   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyt
   find_theme   s
    t   Writerc           B   sl  e  Z e j j d  d d d g i d d 6d d 6d d 6f d	 d
 g i d d 6d d 6f d d g i d d 6e j d 6f d d g i d d 6d d 6f d d g i d d g d 6d d 6d d 6f d d g i d d 6e d 6e j d 6f d d  g i d! d 6d d 6f d" d# g i d d 6e j d 6f d$ d% g i d& d 6d d 6f f	 f Z i d' d( 6Z d) Z	 d- Z
 d, Ñ  Z RS(.   s   S5 Slideshow Specific Optionsså   For the S5/HTML writer, the --no-toc-backlinks option (defined in General Docutils Options above) is the default, and should not be changed.sB  Specify an installed S5 theme by name.  Overrides --theme-url.  The default theme name is "default".  The theme files will be copied into a "ui/<theme>" directory, in the same directory as the destination file (output HTML).  Note that existing theme files will not be overwritten (unless --overwrite-theme-files is used).s   --themet   defaults   <name>t   metavart	   theme_urlt	   overridessÅ   Specify an S5 theme URL.  The destination file (output HTML) will link to this theme; nothing will be copied.  Overrides --theme.s   --theme-urls   <URL>t   themes{   Allow existing theme files in the ``ui/<theme>`` directory to be overwritten.  The default is not to overwrite theme files.s   --overwrite-theme-filest
   store_truet   actiont	   validatorsf   Keep existing theme files in the ``ui/<theme>`` directory; do not overwrite any.  This is the default.s   --keep-theme-filest   overwrite_theme_filest   destt   store_falses@   Set the initial view mode to "slideshow" [default] or "outline".s   --view-modet	   slideshowt   outlinet   choicess   <mode>sO   Normally hide the presentation controls in slideshow mode. This is the default.s   --hidden-controlss^   Always show the presentation controls in slideshow mode.  The default is to hide the controls.s   --visible-controlst   hidden_controlssM   Enable the current slide indicator ("1 / 15").  The default is to disable it.s   --current-slides:   Disable the current slide indicator.  This is the default.s   --no-current-slidet   current_slidei    t   toc_backlinkss   s5_html writert   writerss   html4css1 writerc         C   s   t  j j |  É t |  _ d  S(   N(   R   R   t   __init__t   S5HTMLTranslatort   translator_class(   t   self(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyR%   Y   s    (   R$   s   html4css1 writer(   t   __name__t
   __module__R   R   t   settings_specR   t   validate_booleant   Truet   settings_default_overridest   config_sectiont   config_section_dependenciesR%   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyR   $   sJ   	

R&   c           B   s•   e  Z d  Z d Z d Z d Z d Z d Z d Z e e Z	 d Ñ  Z
 d Ñ  Z d Ñ  Z e j d É Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   sú  <!-- configuration parameters -->
<meta name="defaultView" content="%(view_mode)s" />
<meta name="controlVis" content="%(control_visibility)s" />
<!-- style sheet links -->
<script src="%(path)s/slides.js" type="text/javascript"></script>
<link rel="stylesheet" href="%(path)s/slides.css"
      type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="%(path)s/outline.css"
      type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="%(path)s/print.css"
      type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="%(path)s/opera.css"
      type="text/css" media="projection" id="operaFix" />
sA   
<style type="text/css">
#currentSlide {display: none;}
</style>
s•   <div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header">
%(header)s
</div>
<div id="footer">
%(title)s%(footer)s
</div>
</div>
R   t   __base__s
   slides.csss   outline.csss	   print.csss	   opera.csss	   slides.jss   s5-core.csss   framing.csss
   pretty.csss	   blank.gifs   iepngfix.htcc         G   s—   t  j j |  | å d  |  _ |  j É  |  j j j } d |  j j j	 } |  j
 j |  j i |  j d 6| d 6| d 6É |  j j j sú |  j
 j |  j É n  |  j d É g  |  _ g  |  _ d |  _ d  |  _ d  S(	   Nt   visiblet   hiddenR
   t	   view_modet   control_visibilitys)   <meta name="version" content="S5 1.1" />
i    (   R2   s   hidden(   R   t   HTMLTranslatorR%   t   Nonet   theme_file_patht   setup_themet   documentt   settingsR4   R!   t
   stylesheett   appendt   s5_stylesheet_templateR"   t   disable_current_slidet   add_metat	   s5_footert	   s5_headert   section_countt   theme_files_copied(   R(   t   argsR4   R5   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyR%   ô   s     	
			c         C   sS   |  j  j j r |  j É  n3 |  j  j j r@ |  j  j j |  _ n t j d É Ç d  S(   Ns&   No theme specified for S5/HTML writer.(   R:   R;   R   t
   copy_themeR   R8   R   R   (   R(   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyR9   ≠   s    c         C   sÖ  |  j  j } t | j É } | g } i  |  _ i  } d d | j f |  _ | j r° t j j	 t j j
 | j É d | j É } t j j | É s• t j | É q• n d St } xO| r¸x] t j | É D]L } | |  j k rﬂ qƒ n  |  j | | | É rƒ | |  j k rƒ d | | <qƒ qƒ W| rPn  t j j	 | |  j É } t j j | É r»t | É j É  }	 xq |	 D]Z }
 |
 j É  }
 |
 ra|
 j d É rat |
 É } | | k r™d } n | j | É PqaqaWd } n d } | sÆ t |  j É } | j | É t } qÆ qÆ Wt | É t |  j É k rÅt |  j É } x! | j É  D] } | j | É q4Wt j  d d j	 g  | D] } d | ^ qaÉ É Ç n  d S(	   s  
        Locate & copy theme files.

        A theme may be explicitly based on another theme via a '__base__'
        file.  The default base theme is 'default'.  Files are accumulated
        from the specified theme, any base themes, and 'default'.
        s   %s/%st   uiNi   t   #s   Theme files not found: %ss   , s   %r(!   R:   R;   R   R   RD   R8   t   _destinationR	   R
   R   t   dirnameR   t   makedirst   Falset   listdirt   base_theme_filet	   copy_filet   required_theme_filest   isfilet   opent	   readlinest   stript
   startswithR7   R=   t   default_themeR-   t   lent   listt   keyst   removeR   R   (   R(   R;   R
   t   theme_pathst   required_files_copiedR   R   t   fRN   t   linest   linet   required(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyRF   ∂   s\    				!			s   ~$|\.bak$|#$|\.cvsignore$c   
      C   si  t  j j | | É } t  j j | | É } | |  j k r= d Sd |  j | <t  j j | É rO|  j j | É rr d S|  j j	 } t  j j
 | É r≠ | j r≠ | j j | É nû t | d É } | j É  } | j É  t | d É }	 | j t  j d É } |	 j | j t d É | | j d É j t j É  É É É |	 j É  | j j | É d St  j j | É red Sd S(   sç   
        Copy file `name` from `source_dir` to `dest_dir`.
        Return 1 if the file exists in either `source_dir` or `dest_dir`.
        i   t   rbt   wbt   /s
   ui/defaults   ui/N(   R	   R
   R   RD   RQ   t   files_to_skip_patternt   searchR7   R:   R;   t   existsR   t   record_dependenciest   addRR   t   readt   closet   replacet   sept   writeR   t   rfindt   encodet   syst   getfilesystemencoding(
   R(   R   t
   source_dirt   dest_dirt   sourceR   R;   t   src_filet   src_datat	   dest_file(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyRO   ¯   s2    
	
c         C   s  |  j  j |  j |  j i |  j j d 6g É |  j j |  j É |  j j	 d |  j
 |  j j É |  j j	 d |  j
 |  j j É |  j rƒ |  j d k rÆ |  j j |  j É qƒ |  j j |  j É n  |  j j |  j d É |  j j |  j É d j |  j É } d j |  j É } d j |  j É j d d É } |  j i | d 6| d	 6| d
 6} |  j j | É |  j j d É |  j j |  j i d g d 6d g d 6d É É |  j sæ|  j j d É n  |  j j	 d d É |  j j |  j d |  j |  j |  j |  j d  É d  S(   Nt   langi    t   mathjaxi   t    s   <h1 class="title">s   <h1>t   headert   titlet   footers   <div class="presentation">
t   slidet   classest   slide0t   idst   divs   </div>
iˇˇˇˇ(    t   head_prefixt   extendt   doctypet   head_prefix_templateR;   t   language_codet   html_prologR=   t   metat   insertt   content_typet   output_encodingt   headt   math_headert   math_outputR<   t	   html_headt   fragmentt   bodyR   RB   RA   t
   html_titleRk   t   layout_templatet   body_prefixt   starttagRC   t   body_suffixt	   html_bodyt   body_pre_docinfot   docinfo(   R(   t   nodeR{   R}   R|   t   layout(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyt   depart_document  s6      		'		c         C   sT   |  j  j É  } |  j j d É |  j j |  j | É |  j j d É |  j | 3d  S(   Ns   <h2>s   </h2>(   t   contextt   popRA   R=   RÑ   Rí   (   R(   Rõ   t   start(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyt   depart_footer;  s
    c         C   sW   |  j  j É  } d g } | j |  j | É | j d É |  j | 3|  j j | É d  S(   Ns   <div id="header">
s   
</div>
(   Rû   Rü   RÑ   Rí   R=   RB   (   R(   Rõ   R†   R{   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyt   depart_headerB  s    	
c         C   sî   |  j  s |  j j d É n  |  j  d 7_  |  j d 7_ |  j d k rn |  j j |  j | d d d ÉÉ n" |  j j |  j | d d d ÉÉ d  S(   Ns   
</div>
i   RÇ   t   CLASSt   sectionR~   (   RC   Rí   R=   t   section_levelRñ   (   R(   Rõ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyt   visit_sectionJ  s    	%c         C   sï   t  | j t j É r~ |  j |  j d } | d k r> d } n  d | } |  j j |  j | | d É É |  j	 j d | É n t
 j j |  | É d  S(   Ni   i   s   h%sRz   s   </%s>
(   t
   isinstancet   parentR   R§   R•   t   initial_header_levelRí   R=   Rñ   Rû   R   R6   t   visit_subtitle(   R(   Rõ   t   levelt   tag(    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyR™   U  s    	
c         C   s   t  j j |  | É d  S(   N(   R   R6   t   visit_title(   R(   Rõ   (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyR≠   `  s    (   s
   slides.csss   outline.csss	   print.csss	   opera.csss	   slides.js(   s   s5-core.csss   framing.csss
   pretty.csss	   blank.gifs   iepngfix.htc(   R)   R*   R>   R?   Rî   RV   RN   t   direct_theme_filest   indirect_theme_filesRP   R%   R9   RF   t   ret   compileRd   RO   Rù   R°   R¢   R¶   R™   R≠   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyR&   ^   s&   
				@	!	"				(   t   __doc__t   __docformat__Rp   R	   R∞   R   R   R   R   t   docutils.writersR   t   docutils.parsers.rstR   t   docutils._compatR   t   relative_pathR
   R   t   getcwdRJ   t   __file__R   R   R   R6   R&   (    (    (    sC   /tmp/pip-build-awuatQ/docutils/docutils/writers/s5_html/__init__.pyt   <module>   s   $	
:                                               usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/                              0042755 0000000 0000062 00000000000 13077704402 024413  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/README.txt                    0100644 0000000 0000062 00000000455 13077704374 026120  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Except where otherwise noted (default/iepngfix.htc), all files in this
directory have been released into the Public Domain.

These files are based on files from S5 1.1, released into the Public
Domain by Eric Meyer.  For further details, please see
http://www.meyerweb.com/eric/tools/s5/credits.html.
                                                                                                                                                                                                                   usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/big-black/                    0042755 0000000 0000062 00000000000 13077704402 026226  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/big-black/__base__            0100644 0000000 0000062 00000000046 13077704374 027662  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # base theme of this theme:
big-white
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/big-black/framing.css         0100644 0000000 0000062 00000001617 13077704374 030373  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* The following styles size, place, and layer the slide components.
   Edit these if you want to change the overall slide layout.
   The commented lines can be uncommented (and modified, if necessary) 
    to help you with the rearrangement process. */

/* target = 1024x768 */

div#header, div#footer, .slide {width: 100%; top: 0; left: 0;}
div#header {top: 0; z-index: 1;}
div#footer {display:none;}
.slide {top: 0; width: 92%; padding: 0.1em 4% 4%; z-index: 2;}
/*  list-style: none;} */
div#controls {left: 50%; bottom: 0; width: 50%; z-index: 100;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0;}
#currentSlide {position: absolute; width: 10%; left: 45%; bottom: 1em;
  z-index: 10;}
html>body #currentSlide {position: fixed;}

/*
div#header {background: #FCC;}
div#footer {background: #CCF;}
div#controls {background: #BBD;}
div#currentSlide {background: #FFC;}
*/
                                                                                                                 usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/big-black/pretty.css          0100644 0000000 0000062 00000007026 13077704374 030277  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Following are the presentation styles -- edit away! */

html, body {margin: 0; padding: 0;}
body {background: black; color: white;}
:link, :visited {text-decoration: none; color: cyan;}
#controls :active {color: #888 !important;}
#controls :focus {outline: 1px dotted #CCC;}

blockquote {padding: 0 2em 0.5em; margin: 0 1.5em 0.5em;}
blockquote p {margin: 0;}

kbd {font-weight: bold; font-size: 1em;}
sup {font-size: smaller; line-height: 1px;}

.slide pre {padding: 0; margin-left: 0; margin-right: 0; font-size: 90%;}
.slide ul ul li {list-style: square;}
.slide img.leader {display: block; margin: 0 auto;}
.slide tt {font-size: 90%;}

.slide {font-size: 3em; font-family: sans-serif; font-weight: bold;}
.slide h1 {padding-top: 0; z-index: 1; margin: 0; font-size: 120%;}
.slide h2 {font-size: 110%;}
.slide h3 {font-size: 105%;}
h1 abbr {font-variant: small-caps;}

div#controls {position: absolute; left: 50%; bottom: 0;
  width: 50%; text-align: right; font: bold 0.9em sans-serif;}
html>body div#controls {position: fixed; padding: 0 0 1em 0; top: auto;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0; padding: 0;}
#controls #navLinks a {padding: 0; margin: 0 0.5em; 
  border: none; color: #888; cursor: pointer;}
#controls #navList {height: 1em;}
#controls #navList #jumplist {position: absolute; bottom: 0; right: 0;
  background: black; color: #CCC;}

#currentSlide {text-align: center; font-size: 0.5em; color: #AAA;
  font-family: sans-serif; font-weight: bold;}

#slide0 h1 {position: static; margin: 0 0 0.5em; padding-top: 0.3em; top: 0;
  font-size: 150%; white-space: normal; background: transparent;}
#slide0 h2 {font: 110%; font-style: italic; color: gray;}
#slide0 h3 {margin-top: 1.5em; font-size: 1.5em;}
#slide0 h4 {margin-top: 0; font-size: 1em;}

ul.urls {list-style: none; display: inline; margin: 0;}
.urls li {display: inline; margin: 0;}
.external {border-bottom: 1px dotted gray;}
html>body .external {border-bottom: none;}
.external:after {content: " \274F"; font-size: smaller; color: #FCC;}

.incremental, .incremental *, .incremental *:after {
  color: black; visibility: visible; border: 0;}
img.incremental {visibility: hidden;}
.slide .current {color: lime;}

.slide-display {display: inline ! important;}

.huge {font-size: 150%;}
.big {font-size: 120%;}
.small {font-size: 75%;}
.tiny {font-size: 50%;}
.huge tt, .big tt, .small tt, .tiny tt {font-size: 115%;}
.huge pre, .big pre, .small pre, .tiny pre {font-size: 115%;}

.maroon {color: maroon;}
.red {color: red;}
.magenta {color: magenta;}
.fuchsia {color: fuchsia;}
.pink {color: #FAA;}
.orange {color: orange;}
.yellow {color: yellow;}
.lime {color: lime;}
.green {color: green;}
.olive {color: olive;}
.teal {color: teal;}
.cyan {color: cyan;}
.aqua {color: aqua;}
.blue {color: blue;}
.navy {color: navy;}
.purple {color: purple;}
.black {color: black;}
.gray {color: gray;}
.silver {color: silver;}
.white {color: white;}

.left {text-align: left ! important;}
.center {text-align: center ! important;}
.right {text-align: right ! important;}

.animation {position: relative; margin: 1em 0; padding: 0;}
.animation img {position: absolute;}

/* Docutils-specific overrides */

.slide table.docinfo {margin: 0.5em 0 0.5em 1em;}

div.sidebar {background-color: black;}

pre.literal-block, pre.doctest-block {background-color: black;}

tt.docutils {background-color: black;}

/* diagnostics */
/*
li:after {content: " [" attr(class) "]"; color: #F88;}
div:before {content: "[" attr(class) "]"; color: #F88;}
*/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/big-white/                    0042755 0000000 0000062 00000000000 13077704402 026272  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/big-white/framing.css         0100644 0000000 0000062 00000001612 13077704374 030432  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* The following styles size, place, and layer the slide components.
   Edit these if you want to change the overall slide layout.
   The commented lines can be uncommented (and modified, if necessary) 
   to help you with the rearrangement process. */

/* target = 1024x768 */

div#header, div#footer, .slide {width: 100%; top: 0; left: 0;}
div#footer {display:none;}
.slide {top: 0; width: 92%; padding: 0.25em 4% 4%; z-index: 2;}
div#controls {left: 50%; bottom: 0; width: 50%; z-index: 100;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0;}
#currentSlide {position: absolute; width: 10%; left: 45%; bottom: 1em;
  z-index: 10;}
html>body #currentSlide {position: fixed;}

/*
div#header {background: #FCC;}
div#footer {background: #CCF;}
div#controls {background: #BBD;}
div#currentSlide {background: #FFC;}
*/
                                                                                                                      usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/big-white/pretty.css          0100644 0000000 0000062 00000006756 13077704374 030354  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Following are the presentation styles -- edit away! */

html, body {margin: 0; padding: 0;}
body {background: white; color: black;}
:link, :visited {text-decoration: none; color: #00C;}
#controls :active {color: #88A !important;}
#controls :focus {outline: 1px dotted #227;}

blockquote {padding: 0 2em 0.5em; margin: 0 1.5em 0.5em;}
blockquote p {margin: 0;}

kbd {font-weight: bold; font-size: 1em;}
sup {font-size: smaller; line-height: 1px;}

.slide pre {padding: 0; margin-left: 0; margin-right: 0; font-size: 90%;}
.slide ul ul li {list-style: square;}
.slide img.leader {display: block; margin: 0 auto;}
.slide tt {font-size: 90%;}

.slide {font-size: 3em; font-family: sans-serif; font-weight: bold;}
.slide h1 {padding-top: 0; z-index: 1; margin: 0; font-size: 120%;}
.slide h2 {font-size: 110%;}
.slide h3 {font-size: 105%;}
h1 abbr {font-variant: small-caps;}

div#controls {position: absolute; left: 50%; bottom: 0;
  width: 50%; text-align: right; font: bold 0.9em sans-serif;}
html>body div#controls {position: fixed; padding: 0 0 1em 0; top: auto;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0; padding: 0;}
#controls #navLinks a {padding: 0; margin: 0 0.5em; 
  border: none; color: #005; cursor: pointer;}
#controls #navList {height: 1em;}
#controls #navList #jumplist {position: absolute; bottom: 0; right: 0;
  background: #DDD; color: #227;}

#currentSlide {text-align: center; font-size: 0.5em; color: #444;
  font-family: sans-serif; font-weight: bold;}

#slide0 h1 {position: static; margin: 0 0 0.5em; padding-top: 0.3em; top: 0;
  font-size: 150%; white-space: normal; background: transparent;}
#slide0 h2 {font: 110%; font-style: italic; color: gray;}
#slide0 h3 {margin-top: 1.5em; font-size: 1.5em;}
#slide0 h4 {margin-top: 0; font-size: 1em;}

ul.urls {list-style: none; display: inline; margin: 0;}
.urls li {display: inline; margin: 0;}
.external {border-bottom: 1px dotted gray;}
html>body .external {border-bottom: none;}
.external:after {content: " \274F"; font-size: smaller; color: #77B;}

.incremental, .incremental *, .incremental *:after {
  color: white; visibility: visible; border: 0;}
img.incremental {visibility: hidden;}
.slide .current {color: green;}

.slide-display {display: inline ! important;}

.huge {font-size: 150%;}
.big {font-size: 120%;}
.small {font-size: 75%;}
.tiny {font-size: 50%;}
.huge tt, .big tt, .small tt, .tiny tt {font-size: 115%;}
.huge pre, .big pre, .small pre, .tiny pre {font-size: 115%;}

.maroon {color: maroon;}
.red {color: red;}
.magenta {color: magenta;}
.fuchsia {color: fuchsia;}
.pink {color: #FAA;}
.orange {color: orange;}
.yellow {color: yellow;}
.lime {color: lime;}
.green {color: green;}
.olive {color: olive;}
.teal {color: teal;}
.cyan {color: cyan;}
.aqua {color: aqua;}
.blue {color: blue;}
.navy {color: navy;}
.purple {color: purple;}
.black {color: black;}
.gray {color: gray;}
.silver {color: silver;}
.white {color: white;}

.left {text-align: left ! important;}
.center {text-align: center ! important;}
.right {text-align: right ! important;}

.animation {position: relative; margin: 1em 0; padding: 0;}
.animation img {position: absolute;}

/* Docutils-specific overrides */

.slide table.docinfo {margin: 0.5em 0 0.5em 1em;}

pre.literal-block, pre.doctest-block {background-color: white;}

tt.docutils {background-color: white;}

/* diagnostics */
/*
li:after {content: " [" attr(class) "]"; color: #F88;}
div:before {content: "[" attr(class) "]"; color: #F88;}
*/
                  usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/                      0042755 0000000 0000062 00000000000 13077704402 026037  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/blank.gif             0100644 0000000 0000062 00000000061 13077704374 027615  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        GIF89a  ëˇ ˇˇˇ   ¿¿¿   !˘   ,       T ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                               usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/framing.css           0100644 0000000 0000062 00000001753 13077704374 030205  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* The following styles size, place, and layer the slide components.
   Edit these if you want to change the overall slide layout.
   The commented lines can be uncommented (and modified, if necessary) 
   to help you with the rearrangement process. */

/* target = 1024x768 */

div#header, div#footer, .slide {width: 100%; top: 0; left: 0;}
div#header {position: fixed; top: 0; height: 3em; z-index: 1;}
div#footer {top: auto; bottom: 0; height: 2.5em; z-index: 5;}
.slide {top: 0; width: 92%; padding: 2.5em 4% 4%; z-index: 2;}
div#controls {left: 50%; bottom: 0; width: 50%; z-index: 100;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0;}
#currentSlide {position: absolute; width: 10%; left: 45%; bottom: 1em;
  z-index: 10;}
html>body #currentSlide {position: fixed;}

/*
div#header {background: #FCC;}
div#footer {background: #CCF;}
div#controls {background: #BBD;}
div#currentSlide {background: #FFC;}
*/
                     usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/iepngfix.htc          0100644 0000000 0000062 00000002246 13077704374 030357  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        <public:component>
<public:attach event="onpropertychange" onevent="doFix()" />

<script>

// IE5.5+ PNG Alpha Fix v1.0 by Angus Turnbull http://www.twinhelix.com
// Free usage permitted as long as this notice remains intact.

// This must be a path to a blank image. That's all the configuration you need here.
var blankImg = 'ui/default/blank.gif';

var f = 'DXImageTransform.Microsoft.AlphaImageLoader';

function filt(s, m) {
 if (filters[f]) {
  filters[f].enabled = s ? true : false;
  if (s) with (filters[f]) { src = s; sizingMethod = m }
 } else if (s) style.filter = 'progid:'+f+'(src="'+s+'",sizingMethod="'+m+'")';
}

function doFix() {
 if ((parseFloat(navigator.userAgent.match(/MSIE (\S+)/)[1]) < 5.5) ||
  (event && !/(background|src)/.test(event.propertyName))) return;

 if (tagName == 'IMG') {
  if ((/\.png$/i).test(src)) {
   filt(src, 'image');  // was 'scale'
   src = blankImg;
  } else if (src.indexOf(blankImg) < 0) filt();
 } else if (style.backgroundImage) {
  if (style.backgroundImage.match(/^url[("']+(.*\.png)[)"']+$/i)) {
   var s = RegExp.$1;
   style.backgroundImage = '';
   filt(s, 'crop');
  } else filt();
 }
}

doFix();

</script>
</public:component>                                                                                                                                                                                                                                                                                                                                                          usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/opera.css             0100644 0000000 0000062 00000000405 13077704374 027661  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* DO NOT CHANGE THESE unless you really want to break Opera Show */
.slide {
	visibility: visible !important;
	position: static !important;
	page-break-before: always;
}
#slide0 {page-break-before: avoid;}
                                                                                                                                                                                                                                                           usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/outline.css           0100644 0000000 0000062 00000001210 13077704374 030225  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Don't change this unless you want the layout stuff to show up in the
   outline view! */

.layout div, #footer *, #controlForm * {display: none;}
#footer, #controls, #controlForm, #navLinks, #toggle {
  display: block; visibility: visible; margin: 0; padding: 0;}
#toggle {float: right; padding: 0.5em;}
html>body #toggle {position: fixed; top: 0; right: 0;}

/* making the outline look pretty-ish */

#slide0 h1, #slide0 h2, #slide0 h3, #slide0 h4 {border: none; margin: 0;}
#toggle {border: 1px solid; border-width: 0 0 1px 1px; background: #FFF;}

.outline {display: inline ! important;}
                                                                                                                                                                                                                                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/pretty.css            0100644 0000000 0000062 00000010440 13077704374 030102  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Following are the presentation styles -- edit away! */

html, body {margin: 0; padding: 0;}
body {background: white; color: black;}
/* Replace the background style above with the style below (and again for
   div#header) for a graphic: */
/* background: white url(bodybg.gif) -16px 0 no-repeat; */
:link, :visited {text-decoration: none; color: #00C;}
#controls :active {color: #88A !important;}
#controls :focus {outline: 1px dotted #227;}
h1, h2, h3, h4 {font-size: 100%; margin: 0; padding: 0; font-weight: inherit;}

blockquote {padding: 0 2em 0.5em; margin: 0 1.5em 0.5em;}
blockquote p {margin: 0;}

kbd {font-weight: bold; font-size: 1em;}
sup {font-size: smaller; line-height: 1px;}

.slide pre {padding: 0; margin-left: 0; margin-right: 0; font-size: 90%;}
.slide ul ul li {list-style: square;}
.slide img.leader {display: block; margin: 0 auto;}
.slide tt {font-size: 90%;}

div#header, div#footer {background: #005; color: #AAB; font-family: sans-serif;}
/* background: #005 url(bodybg.gif) -16px 0 no-repeat; */
div#footer {font-size: 0.5em; font-weight: bold; padding: 1em 0;}
#footer h1 {display: block; padding: 0 1em;}
#footer h2 {display: block; padding: 0.8em 1em 0;}

.slide {font-size: 1.2em;}
.slide h1 {position: absolute; top: 0.45em; z-index: 1;
  margin: 0; padding-left: 0.7em; white-space: nowrap;
  font: bold 150% sans-serif; color: #DDE; background: #005;}
.slide h2 {font: bold 120%/1em sans-serif; padding-top: 0.5em;}
.slide h3 {font: bold 100% sans-serif; padding-top: 0.5em;}
h1 abbr {font-variant: small-caps;}

div#controls {position: absolute; left: 50%; bottom: 0;
  width: 50%; text-align: right; font: bold 0.9em sans-serif;}
html>body div#controls {position: fixed; padding: 0 0 1em 0; top: auto;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0; padding: 0;}
#controls #navLinks a {padding: 0; margin: 0 0.5em; 
  background: #005; border: none; color: #779; cursor: pointer;}
#controls #navList {height: 1em;}
#controls #navList #jumplist {position: absolute; bottom: 0; right: 0;
  background: #DDD; color: #227;}

#currentSlide {text-align: center; font-size: 0.5em; color: #449;
  font-family: sans-serif; font-weight: bold;}

#slide0 {padding-top: 1.5em}
#slide0 h1 {position: static; margin: 1em 0 0; padding: 0; color: #000;
  font: bold 2em sans-serif; white-space: normal; background: transparent;}
#slide0 h2 {font: bold italic 1em sans-serif; margin: 0.25em;}
#slide0 h3 {margin-top: 1.5em; font-size: 1.5em;}
#slide0 h4 {margin-top: 0; font-size: 1em;}

ul.urls {list-style: none; display: inline; margin: 0;}
.urls li {display: inline; margin: 0;}
.external {border-bottom: 1px dotted gray;}
html>body .external {border-bottom: none;}
.external:after {content: " \274F"; font-size: smaller; color: #77B;}

.incremental, .incremental *, .incremental *:after {visibility: visible;
  color: white; border: 0;}
img.incremental {visibility: hidden;}
.slide .current {color: green;}

.slide-display {display: inline ! important;}

.huge {font-family: sans-serif; font-weight: bold; font-size: 150%;}
.big {font-family: sans-serif; font-weight: bold; font-size: 120%;}
.small {font-size: 75%;}
.tiny {font-size: 50%;}
.huge tt, .big tt, .small tt, .tiny tt {font-size: 115%;}
.huge pre, .big pre, .small pre, .tiny pre {font-size: 115%;}

.maroon {color: maroon;}
.red {color: red;}
.magenta {color: magenta;}
.fuchsia {color: fuchsia;}
.pink {color: #FAA;}
.orange {color: orange;}
.yellow {color: yellow;}
.lime {color: lime;}
.green {color: green;}
.olive {color: olive;}
.teal {color: teal;}
.cyan {color: cyan;}
.aqua {color: aqua;}
.blue {color: blue;}
.navy {color: navy;}
.purple {color: purple;}
.black {color: black;}
.gray {color: gray;}
.silver {color: silver;}
.white {color: white;}

.left {text-align: left ! important;}
.center {text-align: center ! important;}
.right {text-align: right ! important;}

.animation {position: relative; margin: 1em 0; padding: 0;}
.animation img {position: absolute;}

/* Docutils-specific overrides */

.slide table.docinfo {margin: 1em 0 0.5em 2em;}

pre.literal-block, pre.doctest-block {background-color: white;}

tt.docutils {background-color: white;}

/* diagnostics */
/*
li:after {content: " [" attr(class) "]"; color: #F88;}
div:before {content: "[" attr(class) "]"; color: #F88;}
*/
                                                                                                                                                                                                                                usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/print.css             0100644 0000000 0000062 00000001462 13077704374 027713  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* The following rule is necessary to have all slides appear in print!
   DO NOT REMOVE IT! */
.slide, ul {page-break-inside: avoid; visibility: visible !important;}
h1 {page-break-after: avoid;}

body {font-size: 12pt; background: white;}
* {color: black;}

#slide0 h1 {font-size: 200%; border: none; margin: 0.5em 0 0.25em;}
#slide0 h3 {margin: 0; padding: 0;}
#slide0 h4 {margin: 0 0 0.5em; padding: 0;}
#slide0 {margin-bottom: 3em;}

#header {display: none;}
#footer h1 {margin: 0; border-bottom: 1px solid; color: gray;
  font-style: italic;}
#footer h2, #controls {display: none;}

.print {display: inline ! important;}

/* The following rule keeps the layout stuff out of print.
   Remove at your own risk! */
.layout, .layout * {display: none !important;}
                                                                                                                                                                                                              usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/s5-core.css           0100644 0000000 0000062 00000000703 13077704374 030031  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Do not edit or override these styles!
   The system will likely break if you do. */

div#header, div#footer, div#controls, .slide {position: absolute;}
html>body div#header, html>body div#footer, 
  html>body div#controls, html>body .slide {position: fixed;}
.handout {display: none;}
.layout {display: block;}
.slide, .hideme, .incremental {visibility: hidden;}
#slide0 {visibility: visible;}
                                                             usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/slides.css            0100644 0000000 0000062 00000000433 13077704374 030037  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */

/* required to make the slide show run at all */
@import url(s5-core.css);

/* sets basic placement and size of slide components */
@import url(framing.css);

/* styles that make the slides look good */
@import url(pretty.css);
                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/default/slides.js             0100644 0000000 0000062 00000036670 13077704374 027677  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        // S5 v1.1 slides.js -- released into the Public Domain
// Modified for Docutils (http://docutils.sf.net) by David Goodger
//
// Please see http://www.meyerweb.com/eric/tools/s5/credits.html for
// information about all the wonderful and talented contributors to this code!

var undef;
var slideCSS = '';
var snum = 0;
var smax = 1;
var slideIDs = new Array();
var incpos = 0;
var number = undef;
var s5mode = true;
var defaultView = 'slideshow';
var controlVis = 'visible';

var isIE = navigator.appName == 'Microsoft Internet Explorer' ? 1 : 0;
var isOp = navigator.userAgent.indexOf('Opera') > -1 ? 1 : 0;
var isGe = navigator.userAgent.indexOf('Gecko') > -1 && navigator.userAgent.indexOf('Safari') < 1 ? 1 : 0;

function hasClass(object, className) {
	if (!object.className) return false;
	return (object.className.search('(^|\\s)' + className + '(\\s|$)') != -1);
}

function hasValue(object, value) {
	if (!object) return false;
	return (object.search('(^|\\s)' + value + '(\\s|$)') != -1);
}

function removeClass(object,className) {
	if (!object) return;
	object.className = object.className.replace(new RegExp('(^|\\s)'+className+'(\\s|$)'), RegExp.$1+RegExp.$2);
}

function addClass(object,className) {
	if (!object || hasClass(object, className)) return;
	if (object.className) {
		object.className += ' '+className;
	} else {
		object.className = className;
	}
}

function GetElementsWithClassName(elementName,className) {
	var allElements = document.getElementsByTagName(elementName);
	var elemColl = new Array();
	for (var i = 0; i< allElements.length; i++) {
		if (hasClass(allElements[i], className)) {
			elemColl[elemColl.length] = allElements[i];
		}
	}
	return elemColl;
}

function isParentOrSelf(element, id) {
	if (element == null || element.nodeName=='BODY') return false;
	else if (element.id == id) return true;
	else return isParentOrSelf(element.parentNode, id);
}

function nodeValue(node) {
	var result = "";
	if (node.nodeType == 1) {
		var children = node.childNodes;
		for (var i = 0; i < children.length; ++i) {
			result += nodeValue(children[i]);
		}		
	}
	else if (node.nodeType == 3) {
		result = node.nodeValue;
	}
	return(result);
}

function slideLabel() {
	var slideColl = GetElementsWithClassName('*','slide');
	var list = document.getElementById('jumplist');
	smax = slideColl.length;
	for (var n = 0; n < smax; n++) {
		var obj = slideColl[n];

		var did = 'slide' + n.toString();
		if (obj.getAttribute('id')) {
			slideIDs[n] = obj.getAttribute('id');
		}
		else {
			obj.setAttribute('id',did);
			slideIDs[n] = did;
		}
		if (isOp) continue;

		var otext = '';
		var menu = obj.firstChild;
		if (!menu) continue; // to cope with empty slides
		while (menu && menu.nodeType == 3) {
			menu = menu.nextSibling;
		}
	 	if (!menu) continue; // to cope with slides with only text nodes

		var menunodes = menu.childNodes;
		for (var o = 0; o < menunodes.length; o++) {
			otext += nodeValue(menunodes[o]);
		}
		list.options[list.length] = new Option(n + ' : '  + otext, n);
	}
}

function currentSlide() {
	var cs;
	var footer_nodes;
	var vis = 'visible';
	if (document.getElementById) {
		cs = document.getElementById('currentSlide');
		footer_nodes = document.getElementById('footer').childNodes;
	} else {
		cs = document.currentSlide;
		footer = document.footer.childNodes;
	}
	cs.innerHTML = '<span id="csHere">' + snum + '<\/span> ' + 
		'<span id="csSep">\/<\/span> ' + 
		'<span id="csTotal">' + (smax-1) + '<\/span>';
	if (snum == 0) {
		vis = 'hidden';
	}
	cs.style.visibility = vis;
	for (var i = 0; i < footer_nodes.length; i++) {
		if (footer_nodes[i].nodeType == 1) {
			footer_nodes[i].style.visibility = vis;
		}
	}		
}

function go(step) {
	if (document.getElementById('slideProj').disabled || step == 0) return;
	var jl = document.getElementById('jumplist');
	var cid = slideIDs[snum];
	var ce = document.getElementById(cid);
	if (incrementals[snum].length > 0) {
		for (var i = 0; i < incrementals[snum].length; i++) {
			removeClass(incrementals[snum][i], 'current');
			removeClass(incrementals[snum][i], 'incremental');
		}
	}
	if (step != 'j') {
		snum += step;
		lmax = smax - 1;
		if (snum > lmax) snum = lmax;
		if (snum < 0) snum = 0;
	} else
		snum = parseInt(jl.value);
	var nid = slideIDs[snum];
	var ne = document.getElementById(nid);
	if (!ne) {
		ne = document.getElementById(slideIDs[0]);
		snum = 0;
	}
	if (step < 0) {incpos = incrementals[snum].length} else {incpos = 0;}
	if (incrementals[snum].length > 0 && incpos == 0) {
		for (var i = 0; i < incrementals[snum].length; i++) {
			if (hasClass(incrementals[snum][i], 'current'))
				incpos = i + 1;
			else
				addClass(incrementals[snum][i], 'incremental');
		}
	}
	if (incrementals[snum].length > 0 && incpos > 0)
		addClass(incrementals[snum][incpos - 1], 'current');
	ce.style.visibility = 'hidden';
	ne.style.visibility = 'visible';
	jl.selectedIndex = snum;
	currentSlide();
	number = 0;
}

function goTo(target) {
	if (target >= smax || target == snum) return;
	go(target - snum);
}

function subgo(step) {
	if (step > 0) {
		removeClass(incrementals[snum][incpos - 1],'current');
		removeClass(incrementals[snum][incpos], 'incremental');
		addClass(incrementals[snum][incpos],'current');
		incpos++;
	} else {
		incpos--;
		removeClass(incrementals[snum][incpos],'current');
		addClass(incrementals[snum][incpos], 'incremental');
		addClass(incrementals[snum][incpos - 1],'current');
	}
}

function toggle() {
	var slideColl = GetElementsWithClassName('*','slide');
	var slides = document.getElementById('slideProj');
	var outline = document.getElementById('outlineStyle');
	if (!slides.disabled) {
		slides.disabled = true;
		outline.disabled = false;
		s5mode = false;
		fontSize('1em');
		for (var n = 0; n < smax; n++) {
			var slide = slideColl[n];
			slide.style.visibility = 'visible';
		}
	} else {
		slides.disabled = false;
		outline.disabled = true;
		s5mode = true;
		fontScale();
		for (var n = 0; n < smax; n++) {
			var slide = slideColl[n];
			slide.style.visibility = 'hidden';
		}
		slideColl[snum].style.visibility = 'visible';
	}
}

function showHide(action) {
	var obj = GetElementsWithClassName('*','hideme')[0];
	switch (action) {
	case 's': obj.style.visibility = 'visible'; break;
	case 'h': obj.style.visibility = 'hidden'; break;
	case 'k':
		if (obj.style.visibility != 'visible') {
			obj.style.visibility = 'visible';
		} else {
			obj.style.visibility = 'hidden';
		}
	break;
	}
}

// 'keys' code adapted from MozPoint (http://mozpoint.mozdev.org/)
function keys(key) {
	if (!key) {
		key = event;
		key.which = key.keyCode;
	}
	if (key.which == 84) {
		toggle();
		return;
	}
	if (s5mode) {
		switch (key.which) {
			case 10: // return
			case 13: // enter
				if (window.event && isParentOrSelf(window.event.srcElement, 'controls')) return;
				if (key.target && isParentOrSelf(key.target, 'controls')) return;
				if(number != undef) {
					goTo(number);
					break;
				}
			case 32: // spacebar
			case 34: // page down
			case 39: // rightkey
			case 40: // downkey
				if(number != undef) {
					go(number);
				} else if (!incrementals[snum] || incpos >= incrementals[snum].length) {
					go(1);
				} else {
					subgo(1);
				}
				break;
			case 33: // page up
			case 37: // leftkey
			case 38: // upkey
				if(number != undef) {
					go(-1 * number);
				} else if (!incrementals[snum] || incpos <= 0) {
					go(-1);
				} else {
					subgo(-1);
				}
				break;
			case 36: // home
				goTo(0);
				break;
			case 35: // end
				goTo(smax-1);
				break;
			case 67: // c
				showHide('k');
				break;
		}
		if (key.which < 48 || key.which > 57) {
			number = undef;
		} else {
			if (window.event && isParentOrSelf(window.event.srcElement, 'controls')) return;
			if (key.target && isParentOrSelf(key.target, 'controls')) return;
			number = (((number != undef) ? number : 0) * 10) + (key.which - 48);
		}
	}
	return false;
}

function clicker(e) {
	number = undef;
	var target;
	if (window.event) {
		target = window.event.srcElement;
		e = window.event;
	} else target = e.target;
    if (target.href != null || hasValue(target.rel, 'external') || isParentOrSelf(target, 'controls') || isParentOrSelf(target,'embed') || isParentOrSelf(target, 'object')) return true; 
	if (!e.which || e.which == 1) {
		if (!incrementals[snum] || incpos >= incrementals[snum].length) {
			go(1);
		} else {
			subgo(1);
		}
	}
}

function findSlide(hash) {
	var target = document.getElementById(hash);
	if (target) {
		for (var i = 0; i < slideIDs.length; i++) {
			if (target.id == slideIDs[i]) return i;
		}
	}
	return null;
}

function slideJump() {
	if (window.location.hash == null || window.location.hash == '') {
		currentSlide();
		return;
	}
	if (window.location.hash == null) return;
	var dest = null;
	dest = findSlide(window.location.hash.slice(1));
	if (dest == null) {
		dest = 0;
	}
	go(dest - snum);
}

function fixLinks() {
	var thisUri = window.location.href;
	thisUri = thisUri.slice(0, thisUri.length - window.location.hash.length);
	var aelements = document.getElementsByTagName('A');
	for (var i = 0; i < aelements.length; i++) {
		var a = aelements[i].href;
		var slideID = a.match('\#.+');
		if ((slideID) && (slideID[0].slice(0,1) == '#')) {
			var dest = findSlide(slideID[0].slice(1));
			if (dest != null) {
				if (aelements[i].addEventListener) {
					aelements[i].addEventListener("click", new Function("e",
						"if (document.getElementById('slideProj').disabled) return;" +
						"go("+dest+" - snum); " +
						"if (e.preventDefault) e.preventDefault();"), true);
				} else if (aelements[i].attachEvent) {
					aelements[i].attachEvent("onclick", new Function("",
						"if (document.getElementById('slideProj').disabled) return;" +
						"go("+dest+" - snum); " +
						"event.returnValue = false;"));
				}
			}
		}
	}
}

function externalLinks() {
	if (!document.getElementsByTagName) return;
	var anchors = document.getElementsByTagName('a');
	for (var i=0; i<anchors.length; i++) {
		var anchor = anchors[i];
		if (anchor.getAttribute('href') && hasValue(anchor.rel, 'external')) {
			anchor.target = '_blank';
			addClass(anchor,'external');
		}
	}
}

function createControls() {
	var controlsDiv = document.getElementById("controls");
	if (!controlsDiv) return;
	var hider = ' onmouseover="showHide(\'s\');" onmouseout="showHide(\'h\');"';
	var hideDiv, hideList = '';
	if (controlVis == 'hidden') {
		hideDiv = hider;
	} else {
		hideList = hider;
	}
	controlsDiv.innerHTML = '<form action="#" id="controlForm"' + hideDiv + '>' +
	'<div id="navLinks">' +
	'<a accesskey="t" id="toggle" href="javascript:toggle();">&#216;<\/a>' +
	'<a accesskey="z" id="prev" href="javascript:go(-1);">&laquo;<\/a>' +
	'<a accesskey="x" id="next" href="javascript:go(1);">&raquo;<\/a>' +
	'<div id="navList"' + hideList + '><select id="jumplist" onchange="go(\'j\');"><\/select><\/div>' +
	'<\/div><\/form>';
	if (controlVis == 'hidden') {
		var hidden = document.getElementById('navLinks');
	} else {
		var hidden = document.getElementById('jumplist');
	}
	addClass(hidden,'hideme');
}

function fontScale() {  // causes layout problems in FireFox that get fixed if browser's Reload is used; same may be true of other Gecko-based browsers
	if (!s5mode) return false;
	var vScale = 22;  // both yield 32 (after rounding) at 1024x768
	var hScale = 32;  // perhaps should auto-calculate based on theme's declared value?
	if (window.innerHeight) {
		var vSize = window.innerHeight;
		var hSize = window.innerWidth;
	} else if (document.documentElement.clientHeight) {
		var vSize = document.documentElement.clientHeight;
		var hSize = document.documentElement.clientWidth;
	} else if (document.body.clientHeight) {
		var vSize = document.body.clientHeight;
		var hSize = document.body.clientWidth;
	} else {
		var vSize = 700;  // assuming 1024x768, minus chrome and such
		var hSize = 1024; // these do not account for kiosk mode or Opera Show
	}
	var newSize = Math.min(Math.round(vSize/vScale),Math.round(hSize/hScale));
	fontSize(newSize + 'px');
	if (isGe) {  // hack to counter incremental reflow bugs
		var obj = document.getElementsByTagName('body')[0];
		obj.style.display = 'none';
		obj.style.display = 'block';
	}
}

function fontSize(value) {
	if (!(s5ss = document.getElementById('s5ss'))) {
		if (!isIE) {
			document.getElementsByTagName('head')[0].appendChild(s5ss = document.createElement('style'));
			s5ss.setAttribute('media','screen, projection');
			s5ss.setAttribute('id','s5ss');
		} else {
			document.createStyleSheet();
			document.s5ss = document.styleSheets[document.styleSheets.length - 1];
		}
	}
	if (!isIE) {
		while (s5ss.lastChild) s5ss.removeChild(s5ss.lastChild);
		s5ss.appendChild(document.createTextNode('body {font-size: ' + value + ' !important;}'));
	} else {
		document.s5ss.addRule('body','font-size: ' + value + ' !important;');
	}
}

function notOperaFix() {
	slideCSS = document.getElementById('slideProj').href;
	var slides = document.getElementById('slideProj');
	var outline = document.getElementById('outlineStyle');
	slides.setAttribute('media','screen');
	outline.disabled = true;
	if (isGe) {
		slides.setAttribute('href','null');   // Gecko fix
		slides.setAttribute('href',slideCSS); // Gecko fix
	}
	if (isIE && document.styleSheets && document.styleSheets[0]) {
		document.styleSheets[0].addRule('img', 'behavior: url(ui/default/iepngfix.htc)');
		document.styleSheets[0].addRule('div', 'behavior: url(ui/default/iepngfix.htc)');
		document.styleSheets[0].addRule('.slide', 'behavior: url(ui/default/iepngfix.htc)');
	}
}

function getIncrementals(obj) {
	var incrementals = new Array();
	if (!obj) 
		return incrementals;
	var children = obj.childNodes;
	for (var i = 0; i < children.length; i++) {
		var child = children[i];
		if (hasClass(child, 'incremental')) {
			if (child.nodeName == 'OL' || child.nodeName == 'UL') {
				removeClass(child, 'incremental');
				for (var j = 0; j < child.childNodes.length; j++) {
					if (child.childNodes[j].nodeType == 1) {
						addClass(child.childNodes[j], 'incremental');
					}
				}
			} else {
				incrementals[incrementals.length] = child;
				removeClass(child,'incremental');
			}
		}
		if (hasClass(child, 'show-first')) {
			if (child.nodeName == 'OL' || child.nodeName == 'UL') {
				removeClass(child, 'show-first');
				if (child.childNodes[isGe].nodeType == 1) {
					removeClass(child.childNodes[isGe], 'incremental');
				}
			} else {
				incrementals[incrementals.length] = child;
			}
		}
		incrementals = incrementals.concat(getIncrementals(child));
	}
	return incrementals;
}

function createIncrementals() {
	var incrementals = new Array();
	for (var i = 0; i < smax; i++) {
		incrementals[i] = getIncrementals(document.getElementById(slideIDs[i]));
	}
	return incrementals;
}

function defaultCheck() {
	var allMetas = document.getElementsByTagName('meta');
	for (var i = 0; i< allMetas.length; i++) {
		if (allMetas[i].name == 'defaultView') {
			defaultView = allMetas[i].content;
		}
		if (allMetas[i].name == 'controlVis') {
			controlVis = allMetas[i].content;
		}
	}
}

// Key trap fix, new function body for trap()
function trap(e) {
	if (!e) {
		e = event;
		e.which = e.keyCode;
	}
	try {
		modifierKey = e.ctrlKey || e.altKey || e.metaKey;
	}
	catch(e) {
		modifierKey = false;
	}
	return modifierKey || e.which == 0;
}

function startup() {
	defaultCheck();
	if (!isOp) createControls();
	slideLabel();
	fixLinks();
	externalLinks();
	fontScale();
	if (!isOp) {
		notOperaFix();
		incrementals = createIncrementals();
		slideJump();
		if (defaultView == 'outline') {
			toggle();
		}
		document.onkeyup = keys;
		document.onkeypress = trap;
		document.onclick = clicker;
	}
}

window.onload = startup;
window.onresize = function(){setTimeout('fontScale()', 50);}
                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/medium-black/                 0042755 0000000 0000062 00000000000 13077704402 026745  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/medium-black/__base__         0100644 0000000 0000062 00000000051 13077704374 030375  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # base theme of this theme:
medium-white
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/medium-black/pretty.css       0100644 0000000 0000062 00000007677 13077704374 031032  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Following are the presentation styles -- edit away! */

html, body {margin: 0; padding: 0;}
body {background: black; color: white;}
:link, :visited {text-decoration: none; color: cyan;}
#controls :active {color: #888 !important;}
#controls :focus {outline: 1px dotted #CCC;}
h1, h2, h3, h4 {font-size: 100%; margin: 0; padding: 0; font-weight: inherit;}

blockquote {padding: 0 2em 0.5em; margin: 0 1.5em 0.5em;}
blockquote p {margin: 0;}

kbd {font-weight: bold; font-size: 1em;}
sup {font-size: smaller; line-height: 1px;}

.slide pre {padding: 0; margin-left: 0; margin-right: 0; font-size: 90%;}
.slide ul ul li {list-style: square;}
.slide img.leader {display: block; margin: 0 auto;}
.slide tt {font-size: 90%;}

div#footer {font-family: sans-serif; color: #AAA; 
  font-size: 0.5em; font-weight: bold; padding: 1em 0;}
#footer h1 {display: block; padding: 0 1em;}
#footer h2 {display: block; padding: 0.8em 1em 0;}

.slide {font-size: 1.75em;}
.slide h1 {padding-top: 0; z-index: 1; margin: 0; font: bold 150% sans-serif;}
.slide h2 {font: bold 125% sans-serif; padding-top: 0.5em;}
.slide h3 {font: bold 110% sans-serif; padding-top: 0.5em;}
h1 abbr {font-variant: small-caps;}

div#controls {position: absolute; left: 50%; bottom: 0;
  width: 50%; text-align: right; font: bold 0.9em sans-serif;}
html>body div#controls {position: fixed; padding: 0 0 1em 0; top: auto;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0; padding: 0;}
#controls #navLinks a {padding: 0; margin: 0 0.5em; 
  border: none; color: #888; cursor: pointer;}
#controls #navList {height: 1em;}
#controls #navList #jumplist {position: absolute; bottom: 0; right: 0;
  background: black; color: #CCC;}

#currentSlide {text-align: center; font-size: 0.5em; color: #AAA;
  font-family: sans-serif; font-weight: bold;}

#slide0 h1 {position: static; margin: 0 0 0.5em; padding-top: 1em; top: 0;
  font: bold 150% sans-serif; white-space: normal; background: transparent;}
#slide0 h2 {font: bold italic 125% sans-serif; color: gray;}
#slide0 h3 {margin-top: 1.5em; font: bold 110% sans-serif;}
#slide0 h4 {margin-top: 0; font-size: 1em;}

ul.urls {list-style: none; display: inline; margin: 0;}
.urls li {display: inline; margin: 0;}
.external {border-bottom: 1px dotted gray;}
html>body .external {border-bottom: none;}
.external:after {content: " \274F"; font-size: smaller; color: #FCC;}

.incremental, .incremental *, .incremental *:after {
  color: black; visibility: visible; border: 0;}
img.incremental {visibility: hidden;}
.slide .current {color: lime;}

.slide-display {display: inline ! important;}

.huge {font-family: sans-serif; font-weight: bold; font-size: 150%;}
.big {font-family: sans-serif; font-weight: bold; font-size: 120%;}
.small {font-size: 75%;}
.tiny {font-size: 50%;}
.huge tt, .big tt, .small tt, .tiny tt {font-size: 115%;}
.huge pre, .big pre, .small pre, .tiny pre {font-size: 115%;}

.maroon {color: maroon;}
.red {color: red;}
.magenta {color: magenta;}
.fuchsia {color: fuchsia;}
.pink {color: #FAA;}
.orange {color: orange;}
.yellow {color: yellow;}
.lime {color: lime;}
.green {color: green;}
.olive {color: olive;}
.teal {color: teal;}
.cyan {color: cyan;}
.aqua {color: aqua;}
.blue {color: blue;}
.navy {color: navy;}
.purple {color: purple;}
.black {color: black;}
.gray {color: gray;}
.silver {color: silver;}
.white {color: white;}

.left {text-align: left ! important;}
.center {text-align: center ! important;}
.right {text-align: right ! important;}

.animation {position: relative; margin: 1em 0; padding: 0;}
.animation img {position: absolute;}

/* Docutils-specific overrides */

.slide table.docinfo {margin: 0.5em 0 0.5em 1em;}

div.sidebar {background-color: black;}

pre.literal-block, pre.doctest-block {background-color: black;}

tt.docutils {background-color: black;}

/* diagnostics */
/*
li:after {content: " [" attr(class) "]"; color: #F88;}
div:before {content: "[" attr(class) "]"; color: #F88;}
*/
                                                                 usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/medium-white/                 0042755 0000000 0000062 00000000000 13077704402 027011  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/medium-white/framing.css      0100644 0000000 0000062 00000001660 13077704374 031154  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* The following styles size, place, and layer the slide components.
   Edit these if you want to change the overall slide layout.
   The commented lines can be uncommented (and modified, if necessary) 
    to help you with the rearrangement process. */

/* target = 1024x768 */

div#header, div#footer, .slide {width: 100%; top: 0; left: 0;}
div#footer {top: auto; bottom: 0; height: 2.5em; z-index: 5;}
.slide {top: 0; width: 92%; padding: 0.75em 4% 0 4%; z-index: 2;}
div#controls {left: 50%; bottom: 0; width: 50%; z-index: 100;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0;}
#currentSlide {position: absolute; width: 10%; left: 45%; bottom: 1em;
  z-index: 10;}
html>body #currentSlide {position: fixed;}

/*
div#header {background: #FCC;}
div#footer {background: #CCF;}
div#controls {background: #BBD;}
div#currentSlide {background: #FFC;}
*/
                                                                                usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/medium-white/pretty.css       0100644 0000000 0000062 00000007627 13077704374 031071  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Following are the presentation styles -- edit away! */

html, body {margin: 0; padding: 0;}
body {background: white; color: black;}
:link, :visited {text-decoration: none; color: #00C;}
#controls :active {color: #888 !important;}
#controls :focus {outline: 1px dotted #222;}
h1, h2, h3, h4 {font-size: 100%; margin: 0; padding: 0; font-weight: inherit;}

blockquote {padding: 0 2em 0.5em; margin: 0 1.5em 0.5em;}
blockquote p {margin: 0;}

kbd {font-weight: bold; font-size: 1em;}
sup {font-size: smaller; line-height: 1px;}

.slide pre {padding: 0; margin-left: 0; margin-right: 0; font-size: 90%;}
.slide ul ul li {list-style: square;}
.slide img.leader {display: block; margin: 0 auto;}
.slide tt {font-size: 90%;}

div#footer {font-family: sans-serif; color: #444; 
  font-size: 0.5em; font-weight: bold; padding: 1em 0;}
#footer h1 {display: block; padding: 0 1em;}
#footer h2 {display: block; padding: 0.8em 1em 0;}

.slide {font-size: 1.75em;}
.slide h1 {padding-top: 0; z-index: 1; margin: 0; font: bold 150% sans-serif;}
.slide h2 {font: bold 125% sans-serif; padding-top: 0.5em;}
.slide h3 {font: bold 110% sans-serif; padding-top: 0.5em;}
h1 abbr {font-variant: small-caps;}

div#controls {position: absolute; left: 50%; bottom: 0;
  width: 50%; text-align: right; font: bold 0.9em sans-serif;}
html>body div#controls {position: fixed; padding: 0 0 1em 0; top: auto;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0; padding: 0;}
#controls #navLinks a {padding: 0; margin: 0 0.5em; 
  border: none; color: #888; cursor: pointer;}
#controls #navList {height: 1em;}
#controls #navList #jumplist {position: absolute; bottom: 0; right: 0;
  background: #DDD; color: #222;}

#currentSlide {text-align: center; font-size: 0.5em; color: #444;
  font-family: sans-serif; font-weight: bold;}

#slide0 h1 {position: static; margin: 0 0 0.5em; padding-top: 1em; top: 0;
  font: bold 150% sans-serif; white-space: normal; background: transparent;}
#slide0 h2 {font: bold italic 125% sans-serif; color: gray;}
#slide0 h3 {margin-top: 1.5em; font: bold 110% sans-serif;}
#slide0 h4 {margin-top: 0; font-size: 1em;}

ul.urls {list-style: none; display: inline; margin: 0;}
.urls li {display: inline; margin: 0;}
.external {border-bottom: 1px dotted gray;}
html>body .external {border-bottom: none;}
.external:after {content: " \274F"; font-size: smaller; color: #77B;}

.incremental, .incremental *, .incremental *:after {
  color: white; visibility: visible; border: 0;}
img.incremental {visibility: hidden;}
.slide .current {color: green;}

.slide-display {display: inline ! important;}

.huge {font-family: sans-serif; font-weight: bold; font-size: 150%;}
.big {font-family: sans-serif; font-weight: bold; font-size: 120%;}
.small {font-size: 75%;}
.tiny {font-size: 50%;}
.huge tt, .big tt, .small tt, .tiny tt {font-size: 115%;}
.huge pre, .big pre, .small pre, .tiny pre {font-size: 115%;}

.maroon {color: maroon;}
.red {color: red;}
.magenta {color: magenta;}
.fuchsia {color: fuchsia;}
.pink {color: #FAA;}
.orange {color: orange;}
.yellow {color: yellow;}
.lime {color: lime;}
.green {color: green;}
.olive {color: olive;}
.teal {color: teal;}
.cyan {color: cyan;}
.aqua {color: aqua;}
.blue {color: blue;}
.navy {color: navy;}
.purple {color: purple;}
.black {color: black;}
.gray {color: gray;}
.silver {color: silver;}
.white {color: white;}

.left {text-align: left ! important;}
.center {text-align: center ! important;}
.right {text-align: right ! important;}

.animation {position: relative; margin: 1em 0; padding: 0;}
.animation img {position: absolute;}

/* Docutils-specific overrides */

.slide table.docinfo {margin: 0.5em 0 0.5em 1em;}

pre.literal-block, pre.doctest-block {background-color: white;}

tt.docutils {background-color: white;}

/* diagnostics */
/*
li:after {content: " [" attr(class) "]"; color: #F88;}
div:before {content: "[" attr(class) "]"; color: #F88;}
*/
                                                                                                         usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/small-black/                  0042755 0000000 0000062 00000000000 13077704402 026575  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/small-black/__base__          0100644 0000000 0000062 00000000050 13077704374 030224  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # base theme of this theme:
small-white
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/small-black/pretty.css        0100644 0000000 0000062 00000007676 13077704374 030661  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Following are the presentation styles -- edit away! */

html, body {margin: 0; padding: 0;}
body {background: black; color: white;}
:link, :visited {text-decoration: none; color: cyan;}
#controls :active {color: #888 !important;}
#controls :focus {outline: 1px dotted #CCC;}
h1, h2, h3, h4 {font-size: 100%; margin: 0; padding: 0; font-weight: inherit;}

blockquote {padding: 0 2em 0.5em; margin: 0 1.5em 0.5em;}
blockquote p {margin: 0;}

kbd {font-weight: bold; font-size: 1em;}
sup {font-size: smaller; line-height: 1px;}

.slide pre {padding: 0; margin-left: 0; margin-right: 0; font-size: 90%;}
.slide ul ul li {list-style: square;}
.slide img.leader {display: block; margin: 0 auto;}
.slide tt {font-size: 90%;}

div#footer {font-family: sans-serif; color: #AAA; 
  font-size: 0.5em; font-weight: bold; padding: 1em 0;}
#footer h1 {display: block; padding: 0 1em;}
#footer h2 {display: block; padding: 0.8em 1em 0;}

.slide {font-size: 1.2em;}
.slide h1 {padding-top: 0; z-index: 1; margin: 0; font: bold 150% sans-serif;}
.slide h2 {font: bold 120% sans-serif; padding-top: 0.5em;}
.slide h3 {font: bold 100% sans-serif; padding-top: 0.5em;}
h1 abbr {font-variant: small-caps;}

div#controls {position: absolute; left: 50%; bottom: 0;
  width: 50%; text-align: right; font: bold 0.9em sans-serif;}
html>body div#controls {position: fixed; padding: 0 0 1em 0; top: auto;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0; padding: 0;}
#controls #navLinks a {padding: 0; margin: 0 0.5em; 
  border: none; color: #888; cursor: pointer;}
#controls #navList {height: 1em;}
#controls #navList #jumplist {position: absolute; bottom: 0; right: 0;
  background: black; color: #CCC;}

#currentSlide {text-align: center; font-size: 0.5em; color: #AAA;
  font-family: sans-serif; font-weight: bold;}

#slide0 {padding-top: 0em}
#slide0 h1 {position: static; margin: 1em 0 0; padding: 0;
  font: bold 2em sans-serif; white-space: normal; background: transparent;}
#slide0 h2 {font: bold italic 1em sans-serif; margin: 0.25em;}
#slide0 h3 {margin-top: 1.5em; font-size: 1.5em;}
#slide0 h4 {margin-top: 0; font-size: 1em;}

ul.urls {list-style: none; display: inline; margin: 0;}
.urls li {display: inline; margin: 0;}
.external {border-bottom: 1px dotted gray;}
html>body .external {border-bottom: none;}
.external:after {content: " \274F"; font-size: smaller; color: #FCC;}

.incremental, .incremental *, .incremental *:after {
  color: black; visibility: visible; border: 0;}
img.incremental {visibility: hidden;}
.slide .current {color: lime;}

.slide-display {display: inline ! important;}

.huge {font-family: sans-serif; font-weight: bold; font-size: 150%;}
.big {font-family: sans-serif; font-weight: bold; font-size: 120%;}
.small {font-size: 75%;}
.tiny {font-size: 50%;}
.huge tt, .big tt, .small tt, .tiny tt {font-size: 115%;}
.huge pre, .big pre, .small pre, .tiny pre {font-size: 115%;}

.maroon {color: maroon;}
.red {color: red;}
.magenta {color: magenta;}
.fuchsia {color: fuchsia;}
.pink {color: #FAA;}
.orange {color: orange;}
.yellow {color: yellow;}
.lime {color: lime;}
.green {color: green;}
.olive {color: olive;}
.teal {color: teal;}
.cyan {color: cyan;}
.aqua {color: aqua;}
.blue {color: blue;}
.navy {color: navy;}
.purple {color: purple;}
.black {color: black;}
.gray {color: gray;}
.silver {color: silver;}
.white {color: white;}

.left {text-align: left ! important;}
.center {text-align: center ! important;}
.right {text-align: right ! important;}

.animation {position: relative; margin: 1em 0; padding: 0;}
.animation img {position: absolute;}

/* Docutils-specific overrides */

.slide table.docinfo {margin: 1em 0 0.5em 2em;}

div.sidebar {background-color: black;}

pre.literal-block, pre.doctest-block {background-color: black;}

tt.docutils {background-color: black;}

/* diagnostics */
/*
li:after {content: " [" attr(class) "]"; color: #F88;}
div:before {content: "[" attr(class) "]"; color: #F88;}
*/
                                                                  usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/small-white/                  0042755 0000000 0000062 00000000000 13077704402 026641  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/small-white/framing.css       0100644 0000000 0000062 00000001655 13077704374 031010  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* The following styles size, place, and layer the slide components.
   Edit these if you want to change the overall slide layout.
   The commented lines can be uncommented (and modified, if necessary) 
    to help you with the rearrangement process. */

/* target = 1024x768 */

div#header, div#footer, .slide {width: 100%; top: 0; left: 0;}
div#footer {top: auto; bottom: 0; height: 2.5em; z-index: 5;}
.slide {top: 0; width: 92%; padding: 1em 4% 0 4%; z-index: 2;}
div#controls {left: 50%; bottom: 0; width: 50%; z-index: 100;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0;}
#currentSlide {position: absolute; width: 10%; left: 45%; bottom: 1em;
  z-index: 10;}
html>body #currentSlide {position: fixed;}

/*
div#header {background: #FCC;}
div#footer {background: #CCF;}
div#controls {background: #BBD;}
div#currentSlide {background: #FFC;}
*/
                                                                                   usr/local/lib/python2.7/dist-packages/docutils/writers/s5_html/themes/small-white/pretty.css        0100644 0000000 0000062 00000007641 13077704374 030715  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* This file has been placed in the public domain. */
/* Following are the presentation styles -- edit away! */

html, body {margin: 0; padding: 0;}
body {background: white; color: black;}
:link, :visited {text-decoration: none; color: #00C;}
#controls :active {color: #888 !important;}
#controls :focus {outline: 1px dotted #222;}
h1, h2, h3, h4 {font-size: 100%; margin: 0; padding: 0; font-weight: inherit;}

blockquote {padding: 0 2em 0.5em; margin: 0 1.5em 0.5em;}
blockquote p {margin: 0;}

kbd {font-weight: bold; font-size: 1em;}
sup {font-size: smaller; line-height: 1px;}

.slide pre {padding: 0; margin-left: 0; margin-right: 0; font-size: 90%;}
.slide ul ul li {list-style: square;}
.slide img.leader {display: block; margin: 0 auto;}
.slide tt {font-size: 90%;}

div#footer {font-family: sans-serif; color: #444; 
  font-size: 0.5em; font-weight: bold; padding: 1em 0;}
#footer h1 {display: block; padding: 0 1em;}
#footer h2 {display: block; padding: 0.8em 1em 0;}

.slide {font-size: 1.2em;}
.slide h1 {padding-top: 0; z-index: 1; margin: 0; font: bold 150% sans-serif;}
.slide h2 {font: bold 120% sans-serif; padding-top: 0.5em;}
.slide h3 {font: bold 100% sans-serif; padding-top: 0.5em;}
h1 abbr {font-variant: small-caps;}

div#controls {position: absolute; left: 50%; bottom: 0;
  width: 50%; text-align: right; font: bold 0.9em sans-serif;}
html>body div#controls {position: fixed; padding: 0 0 1em 0; top: auto;}
div#controls form {position: absolute; bottom: 0; right: 0; width: 100%;
  margin: 0; padding: 0;}
#controls #navLinks a {padding: 0; margin: 0 0.5em; 
  border: none; color: #888; cursor: pointer;}
#controls #navList {height: 1em;}
#controls #navList #jumplist {position: absolute; bottom: 0; right: 0;
  background: #DDD; color: #222;}

#currentSlide {text-align: center; font-size: 0.5em; color: #444;
  font-family: sans-serif; font-weight: bold;}

#slide0 {padding-top: 0em}
#slide0 h1 {position: static; margin: 1em 0 0; padding: 0;
  font: bold 2em sans-serif; white-space: normal; background: transparent;}
#slide0 h2 {font: bold italic 1em sans-serif; margin: 0.25em;}
#slide0 h3 {margin-top: 1.5em; font-size: 1.5em;}
#slide0 h4 {margin-top: 0; font-size: 1em;}

ul.urls {list-style: none; display: inline; margin: 0;}
.urls li {display: inline; margin: 0;}
.external {border-bottom: 1px dotted gray;}
html>body .external {border-bottom: none;}
.external:after {content: " \274F"; font-size: smaller; color: #77B;}

.incremental, .incremental *, .incremental *:after {
  color: white; visibility: visible; border: 0; border: 0;}
img.incremental {visibility: hidden;}
.slide .current {color: green;}

.slide-display {display: inline ! important;}

.huge {font-family: sans-serif; font-weight: bold; font-size: 150%;}
.big {font-family: sans-serif; font-weight: bold; font-size: 120%;}
.small {font-size: 75%;}
.tiny {font-size: 50%;}
.huge tt, .big tt, .small tt, .tiny tt {font-size: 115%;}
.huge pre, .big pre, .small pre, .tiny pre {font-size: 115%;}

.maroon {color: maroon;}
.red {color: red;}
.magenta {color: magenta;}
.fuchsia {color: fuchsia;}
.pink {color: #FAA;}
.orange {color: orange;}
.yellow {color: yellow;}
.lime {color: lime;}
.green {color: green;}
.olive {color: olive;}
.teal {color: teal;}
.cyan {color: cyan;}
.aqua {color: aqua;}
.blue {color: blue;}
.navy {color: navy;}
.purple {color: purple;}
.black {color: black;}
.gray {color: gray;}
.silver {color: silver;}
.white {color: white;}

.left {text-align: left ! important;}
.center {text-align: center ! important;}
.right {text-align: right ! important;}

.animation {position: relative; margin: 1em 0; padding: 0;}
.animation img {position: absolute;}

/* Docutils-specific overrides */

.slide table.docinfo {margin: 1em 0 0.5em 2em;}

pre.literal-block, pre.doctest-block {background-color: white;}

tt.docutils {background-color: white;}

/* diagnostics */
/*
li:after {content: " [" attr(class) "]"; color: #F88;}
div:before {content: "[" attr(class) "]"; color: #F88;}
*/
                                                                                               usr/local/lib/python2.7/dist-packages/docutils/writers/xetex/                                       0042755 0000000 0000062 00000000000 13077704402 022710  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils/writers/xetex/__init__.py                            0100644 0000000 0000062 00000012201 13077704374 025020  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #!/usr/bin/env python
# -*- coding: utf-8 -*-

# :Author: G√ºnter Milde <milde@users.sourceforge.net>
# :Revision: $Revision: 7852 $
# :Date: $Date: 2015-03-21 17:07:49 +0100 (Sa, 21. M√§r 2015) $
# :Copyright: ¬© 2010 G√ºnter Milde.
# :License: Released under the terms of the `2-Clause BSD license`_, in short:
# 
#    Copying and distribution of this file, with or without modification,
#    are permitted in any medium without royalty provided the copyright
#    notice and this notice are preserved.
#    This file is offered as-is, without any warranty.
# 
# .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause

"""
XeLaTeX document tree Writer.

A variant of Docutils' standard 'latex2e' writer producing LaTeX output
suited for processing with the Unicode-aware TeX engines
LuaTeX and XeTeX.
"""

__docformat__ = 'reStructuredText'

import os
import os.path
import re

import docutils
from docutils import frontend, nodes, utils, writers, languages
from docutils.writers import latex2e

class Writer(latex2e.Writer):
    """A writer for Unicode-aware LaTeX variants (XeTeX, LuaTeX)"""

    supported = ('lxtex', 'xetex','xelatex','luatex', 'lualatex')
    """Formats this writer supports."""

    default_template = 'xelatex.tex'
    default_preamble = '\n'.join([
        r'% Linux Libertine (free, wide coverage, not only for Linux)',
        r'\setmainfont{Linux Libertine O}',
        r'\setsansfont{Linux Biolinum O}',
        r'\setmonofont[HyphenChar=None,Scale=MatchLowercase]{DejaVu Sans Mono}',
    ])

    config_section = 'xetex writer'
    config_section_dependencies = ('writers', 'latex2e writer')

    settings_spec = frontend.filter_settings_spec(
        latex2e.Writer.settings_spec,
        'font_encoding',
        template=('Template file. Default: "%s".' % default_template,
          ['--template'], {'default': default_template, 'metavar': '<file>'}),
        latex_preamble=('Customization by LaTeX code in the preamble. '
          'Default: select "Linux Libertine" fonts.',
          ['--latex-preamble'],
          {'default': default_preamble}),
        )

    def __init__(self):
        latex2e.Writer.__init__(self)
        self.settings_defaults.update({'fontencoding': ''}) # use default (EU1 or EU2)
        self.translator_class = XeLaTeXTranslator


class Babel(latex2e.Babel):
    """Language specifics for XeTeX.

    Use `polyglossia` instead of `babel` and adapt settings.
    """
    language_codes = latex2e.Babel.language_codes.copy()
    # Additionally supported or differently named languages:
    language_codes.update({
        # code          Polyglossia-name       comment
        'cop':          'coptic',
        'de':           'german', # new spelling (de_1996)
        'de-1901':      'ogerman', # old spelling
        'dv':           'divehi',  # Maldivian
        'dsb':          'lsorbian',
        'el-polyton':   'polygreek',
        'fa':           'farsi',
        'grc':          'ancientgreek',
        'hsb':          'usorbian',
        'sh-Cyrl':      'serbian', # Serbo-Croatian, Cyrillic script
        'sh-Latn':      'croatian', # Serbo-Croatian, Latin script
        'sq':           'albanian',
        'sr':           'serbian', # Cyrillic script (sr-Cyrl)
        'th':           'thai',
        'vi':           'vietnamese',
        # zh-Latn:      ???        #     Chinese Pinyin
        })
    # normalize (downcase) keys
    language_codes = dict([(k.lower(), v) for (k,v) in language_codes.items()])

    # Languages without Polyglossia support:
    for key in ('af',           # 'afrikaans',
                'de-AT',        # 'naustrian',
                'de-AT-1901',   # 'austrian',
                'fr-CA',        # 'canadien',
                'grc-ibycus',   # 'ibycus', (Greek Ibycus encoding)
                'sr-Latn',      # 'serbian script=latin'
               ):
        del(language_codes[key.lower()])

    def __init__(self, language_code, reporter):
        self.language_code = language_code
        self.reporter = reporter
        self.language = self.language_name(language_code)
        self.otherlanguages = {}
        self.warn_msg = 'Language "%s" not supported by XeTeX (polyglossia).'
        self.quote_index = 0
        self.quotes = ('"', '"')
        # language dependent configuration:
        # double quotes are "active" in some languages (e.g. German).
        self.literal_double_quote = u'"' # TODO: use \textquotedbl

    def __call__(self):
        setup = [r'\usepackage{polyglossia}',
                 r'\setdefaultlanguage{%s}' % self.language]
        if self.otherlanguages:
            setup.append(r'\setotherlanguages{%s}' %
                         ','.join(sorted(self.otherlanguages.keys())))
        return '\n'.join(setup)


class XeLaTeXTranslator(latex2e.LaTeXTranslator):

    def __init__(self, document):
        self.is_xetex = True  # typeset with XeTeX or LuaTeX engine
        latex2e.LaTeXTranslator.__init__(self, document, Babel)
        if self.latex_encoding == 'utf8':
            self.requirements.pop('_inputenc', None)
        else:
            self.requirements['_inputenc'] = (r'\XeTeXinputencoding %s '
                                              % self.latex_encoding)
                                                                                                                                                                                                                                                                                                                                                                                               usr/local/lib/python2.7/dist-packages/docutils/writers/xetex/__init__.pyc                           0100644 0000000 0000062 00000011517 13077704402 025164  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
¸àˇXc           @   s√   d  Z  d Z d d l Z d d l Z d d l Z d d l Z d d l m Z m Z m Z m	 Z	 m
 Z
 d d l m Z d e j f d Ñ  É  YZ d e j f d	 Ñ  É  YZ d
 e j f d Ñ  É  YZ d S(   s≥   
XeLaTeX document tree Writer.

A variant of Docutils' standard 'latex2e' writer producing LaTeX output
suited for processing with the Unicode-aware TeX engines
LuaTeX and XeTeX.
t   reStructuredTextiˇˇˇˇN(   t   frontendt   nodest   utilst   writerst	   languages(   t   latex2et   Writerc           B   sü   e  Z d  Z d Z d Z d j d d	 d
 d g É Z d Z d Z e	 j
 e j j d d d e d g i e d 6d d 6f d d d g i e d 6f ÉZ d Ñ  Z RS(   s9   A writer for Unicode-aware LaTeX variants (XeTeX, LuaTeX)t   lxtext   xetext   xelatext   luatext   lualatexs   xelatex.texs   
s;   % Linux Libertine (free, wide coverage, not only for Linux)s   \setmainfont{Linux Libertine O}s   \setsansfont{Linux Biolinum O}sD   \setmonofont[HyphenChar=None,Scale=MatchLowercase]{DejaVu Sans Mono}s   xetex writerR   s   latex2e writert   font_encodingt   templates   Template file. Default: "%s".s
   --templatet   defaults   <file>t   metavart   latex_preamblesU   Customization by LaTeX code in the preamble. Default: select "Linux Libertine" fonts.s   --latex-preamblec         C   s4   t  j j |  É |  j j i d d 6É t |  _ d  S(   Nt    t   fontencoding(   R   R   t   __init__t   settings_defaultst   updatet   XeLaTeXTranslatort   translator_class(   t   self(    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyR   ?   s    (   R   R	   R
   R   R   (   s   writerss   latex2e writer(   t   __name__t
   __module__t   __doc__t	   supportedt   default_templatet   joint   default_preamblet   config_sectiont   config_section_dependenciesR   t   filter_settings_specR   R   t   settings_specR   (    (    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyR   #   s&   	t   Babelc           B   s˝   e  Z d  Z e j j j É  Z e j i d d 6d d 6d d 6d d 6d	 d
 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6É e g  e j	 É  D] \ Z
 Z e
 j É  e f ^ q§ É Z x d& D] Z e e j É  =q“ Wd$ Ñ  Z d% Ñ  Z RS('   s`   Language specifics for XeTeX.

    Use `polyglossia` instead of `babel` and adapt settings.
    t   coptict   copt   germant   det   ogermans   de-1901t   divehit   dvt   lsorbiant   dsbt	   polygreeks
   el-polytont   farsit   fat   ancientgreekt   grct   usorbiant   hsbt   serbians   sh-Cyrlt   croatians   sh-Latnt   albaniant   sqt   srt   thait   tht
   vietnameset   vit   afs   de-ATs
   de-AT-1901s   fr-CAs
   grc-ibycuss   sr-Latnc         C   sU   | |  _  | |  _ |  j | É |  _ i  |  _ d |  _ d |  _ d |  _ d |  _ d  S(   Ns3   Language "%s" not supported by XeTeX (polyglossia).i    t   "u   "(   R@   R@   (	   t   language_codet   reportert   language_namet   languaget   otherlanguagest   warn_msgt   quote_indext   quotest   literal_double_quote(   R   RA   RB   (    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyR   l   s    						c         C   sU   d d |  j  g } |  j rH | j d d j t |  j j É  É É É n  d j | É S(   Ns   \usepackage{polyglossia}s   \setdefaultlanguage{%s}s   \setotherlanguages{%s}t   ,s   
(   RD   RE   t   appendR   t   sortedt   keys(   R   t   setup(    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyt   __call__x   s    		#(   s   afs   de-ATs
   de-AT-1901s   fr-CAs
   grc-ibycuss   sr-Latn(   R   R   R   R   R%   t   language_codest   copyR   t   dictt   itemst   kt   vt   lowert   keyR   RO   (    (    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyR%   E   s8   	7    
	R   c           B   s   e  Z d  Ñ  Z RS(   c         C   s\   t  |  _ t j j |  | t É |  j d k rD |  j j d d  É n d |  j |  j d <d  S(   Nt   utf8t	   _inputencs   \XeTeXinputencoding %s (
   t   Truet   is_xetexR   t   LaTeXTranslatorR   R%   t   latex_encodingt   requirementst   popt   None(   R   t   document(    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyR   É   s    	(   R   R   R   (    (    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyR   Å   s   (   R   t   __docformat__t   ost   os.patht   ret   docutilsR   R   R   R   R   t   docutils.writersR   R   R%   R\   R   (    (    (    sA   /tmp/pip-build-awuatQ/docutils/docutils/writers/xetex/__init__.pyt   <module>   s   ("<                                                                                                                                                                                 usr/local/lib/python2.7/dist-packages/docutils-0.13.1.dist-info/                                    0042755 0000000 0000062 00000000000 13077704403 022466  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/docutils-0.13.1.dist-info/DESCRIPTION.rst                     0100644 0000000 0000062 00000000344 13077704374 025006  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Docutils is a modular system for processing documentation
into useful formats, such as HTML, XML, and LaTeX.  For
input Docutils supports reStructuredText, an easy-to-read,
what-you-see-is-what-you-get plaintext markup syntax.

                                                                                                                                                                                                                                                                                            usr/local/lib/python2.7/dist-packages/docutils-0.13.1.dist-info/METADATA                            0100644 0000000 0000062 00000004434 13077704374 023600  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Metadata-Version: 2.0
Name: docutils
Version: 0.13.1
Summary: Docutils -- Python Documentation Utilities
Home-page: http://docutils.sourceforge.net/
Author: docutils-develop list
Author-email: docutils-develop@lists.sourceforge.net
License: public domain, Python, 2-Clause BSD, GPL 3 (see COPYING.txt)
Platform: OS-independent
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Console
Classifier: Intended Audience :: End Users/Desktop
Classifier: Intended Audience :: Other Audience
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: License :: Public Domain
Classifier: License :: OSI Approved :: Python Software Foundation License
Classifier: License :: OSI Approved :: BSD License
Classifier: License :: OSI Approved :: GNU General Public License (GPL)
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 2.4
Classifier: Programming Language :: Python :: 2.5
Classifier: Programming Language :: Python :: 2.6
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3
Classifier: Topic :: Documentation
Classifier: Topic :: Software Development :: Documentation
Classifier: Topic :: Text Processing
Classifier: Natural Language :: English
Classifier: Natural Language :: Afrikaans
Classifier: Natural Language :: Catalan
Classifier: Natural Language :: Chinese (Simplified)
Classifier: Natural Language :: Chinese (Traditional)
Classifier: Natural Language :: Czech
Classifier: Natural Language :: Dutch
Classifier: Natural Language :: Esperanto
Classifier: Natural Language :: Finnish
Classifier: Natural Language :: French
Classifier: Natural Language :: Galician
Classifier: Natural Language :: German
Classifier: Natural Language :: Italian
Classifier: Natural Language :: Japanese
Classifier: Natural Language :: Polish
Classifier: Natural Language :: Portuguese (Brazilian)
Classifier: Natural Language :: Russian
Classifier: Natural Language :: Slovak
Classifier: Natural Language :: Spanish
Classifier: Natural Language :: Swedish

Docutils is a modular system for processing documentation
into useful formats, such as HTML, XML, and LaTeX.  For
input Docutils supports reStructuredText, an easy-to-read,
what-you-see-is-what-you-get plaintext markup syntax.

                                                                                                                                                                                                                                    usr/local/lib/python2.7/dist-packages/docutils-0.13.1.dist-info/RECORD                              0100644 0000000 0000062 00000055363 13077704403 023376  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        docutils/__init__.py,sha256=RTXl6VRKgjphkAhV9jyi4nzLnec_cKwhKelzzqyDvoM,7564
docutils/_compat.py,sha256=urxfwKkKZkHb-6JaPM8uQs6pvjARDs8SrK_Fv65OsJE,1589
docutils/core.py,sha256=am2tMEVGMx0ynfd-jHbLSH8D3uWZh4updtxwZNb6570,29426
docutils/examples.py,sha256=nlPe2PYXNvz5ZAVRu7xHHiV7qML7s-eyUu4Gun7j3SY,3959
docutils/frontend.py,sha256=HHZm_inqzPUbZiXC7Wyd4fI2OITW9iNAyx4T9SjkWgw,35434
docutils/io.py,sha256=wrIBAPPxB5YOEMkeu22h97qIxrgeuA0mV_bAz8T0xX4,17054
docutils/nodes.py,sha256=ZqxeIdDJjCoMhHJQ_VCyaJ7W2vR6_78Q_wRP7QjMEEI,77359
docutils/statemachine.py,sha256=YFpV8C8Beo0jaTQFGSStdzlHBTrdpaPc7SziXQomu-Y,57572
docutils/languages/__init__.py,sha256=XqnVVaIrbKV0rLBaeFV7W_YkniFTymc8ecmzTD7o2ek,1626
docutils/languages/af.py,sha256=6wl-XbsF8wbSiBs5IORna4Lz-WPqnnye_6qr8Cbh_1c,1824
docutils/languages/ca.py,sha256=7_XR5q5GEXaeI4O5ianMmdnjWY_sRQD1ynuRB_HxUok,1940
docutils/languages/cs.py,sha256=GARzldc3tDZByhqf_R-cOh1QJDOrFvSJzqewRdWRNXw,1928
docutils/languages/da.py,sha256=88ZPB6ppJPWqNsaFQKKAC1aEZVLYw13BFR44vecp4MU,1907
docutils/languages/de.py,sha256=AQTUIl4j3x43kQi5800-lobZHsh06VOsrxfAjS5FHGM,1722
docutils/languages/en.py,sha256=tWVrPr6593mIzFokX_4Hw1fC6ZWC8GPdgpc72jmQq1g,1848
docutils/languages/eo.py,sha256=uGSGcjfeHFliqm-f9amMfsPIl3trHONYPXdGR_ybm8U,1948
docutils/languages/es.py,sha256=nk0PUeVyjFEu_8cNJA9Llsdv-W3kKx-wgOeaYGllqgw,1962
docutils/languages/fa.py,sha256=vsf5xJxJuzcPXyz8ad3Cuf9ntBoOND0zdhsE4dwJEjI,2044
docutils/languages/fi.py,sha256=yrE6Zhs-LdknXCpf-WX15QACQ75DroMpET95r3JD_OM,2026
docutils/languages/fr.py,sha256=FTaOYQQHvqFzkzuhbdFQPS7dPkcpGLUPMeStu0cjFGs,1893
docutils/languages/gl.py,sha256=6Uoq9rYigieFN0-LeSgoRmB9_ROX60Oqul7faPROMYs,2040
docutils/languages/he.py,sha256=BfiRLxQ5Y8pivYi7GbGQ5NJ-rEgUId9mstJR6YYkeAQ,2683
docutils/languages/it.py,sha256=Z3eh86YrmB8aT_Dl56X7W2gqpJgYK0v0QnJ07hekXlM,1808
docutils/languages/ja.py,sha256=VJc9fRk4H_OhD8wyx3-uGUay3qdqeAIHCZEF67EsMTQ,1942
docutils/languages/lt.py,sha256=Y1204UnrqJlvM1vyteckkrqkbU02dSvrnpHCB5b23oM,1940
docutils/languages/lv.py,sha256=tEqF4ya9h4FznB-uiUKQnNLY2XDFRatxKt2evJPhsDM,1867
docutils/languages/nl.py,sha256=3CjsGFeJgLZEw2xhHxAc4sYDKRW6ODUZsVyibjl7DmM,1865
docutils/languages/pl.py,sha256=ImdSmS6l4SgZ7uEaWQR5_aLNmv4K5onOInEtinPqWJk,1900
docutils/languages/pt_br.py,sha256=cW8OceiFMPzPICT6buhnjm3tvEEw4W1PG-GFC4MxhyI,1982
docutils/languages/ru.py,sha256=AkDQVhcW4cbvP0je-z8UJafQ-s2Lwc-eAIqXGCFZzco,2155
docutils/languages/sk.py,sha256=v4XMBxIx5d6zQY7ehjZdtgfUy9Hz999XdH9G9d7SxEc,1860
docutils/languages/sv.py,sha256=RoSMq1juzrIzQLBKXBDby-XAfrEGLE1Yz7XHE0s9qKU,2072
docutils/languages/zh_cn.py,sha256=kF2sokHa0Qr-3X45ZeWEb0mImZRlZpiX2TM6d9_GjpY,2026
docutils/languages/zh_tw.py,sha256=Xwrbf8wSylyMwwaNH6xYeAjMrldiBbDB_LElv67hGPQ,2771
docutils/parsers/__init__.py,sha256=ZuRqlhdstvG-sjxz1jziO8UFOvnrED_WXvhsSmegdGA,1657
docutils/parsers/null.py,sha256=LtO7n-E6lNOs4mLXZ2SiShB3C630SoJ80ugd9fh1vXI,445
docutils/parsers/rst/__init__.py,sha256=0tVKcUH5HkTmsXWgHb8dVMiHR8X86LvUGPtfoc9lucI,15764
docutils/parsers/rst/roles.py,sha256=JSf7v8yaZeiNXaCcud174IhHNImPPUcS8FtVIlBLz3c,14775
docutils/parsers/rst/states.py,sha256=N7y_2Q5OmmC0EbALNjT42yyFb4Wk4Qy67xMdTKTG8Zs,130771
docutils/parsers/rst/tableparser.py,sha256=F-Xkrwz-67778xJZGdSPHkO9b8FAEVOtZg92fj7LRH0,21022
docutils/parsers/rst/directives/__init__.py,sha256=QnFbA8ab5NtY4m09-lL5TxHGSi1PBlbMS3Ud9H3QDM0,13882
docutils/parsers/rst/directives/admonitions.py,sha256=w38T7YfRc0isuF5qmaw-6wOQgHx9xGHJBqu_gDqQCdI,2413
docutils/parsers/rst/directives/body.py,sha256=3amRRMJPyTdU-aB_oqzyoJDWPk_50xOexR7ExKkH0KI,9243
docutils/parsers/rst/directives/html.py,sha256=kBLbegxECF03eHyEbN-iGIPtTkBeS8bXr5TautU7SXo,3098
docutils/parsers/rst/directives/images.py,sha256=o11Rznz52EVsJ32FCF-Z-NFVrO2aHdFJA_zgg0pgro8,6882
docutils/parsers/rst/directives/misc.py,sha256=rYSYd8HQiCpQc3UNWw_Gg-2Rw3My287WHNP-AcHvNuI,23703
docutils/parsers/rst/directives/parts.py,sha256=Mx7y6BwTP1WAD_qnL-g0bjg1_O06NCXgqeYCPfP4JbI,4251
docutils/parsers/rst/directives/references.py,sha256=1Y1yhe_O2PqLtQUSly-ny291nrQKJgQiO4Hu7Xew9Zo,831
docutils/parsers/rst/directives/tables.py,sha256=m8wvAoqSAfGNSerulYNWd2rAF-XXkDJT1AMjZcSbQNg,22357
docutils/parsers/rst/include/README.txt,sha256=_C6pSfeGShQ0evvKKKZUtx4bP4RFG9UoUlgHoMn06DU,666
docutils/parsers/rst/include/isoamsa.txt,sha256=CioOAjUSuL_MG2JHqVHst0ceHzF0v3kupB6stgPMD2g,10925
docutils/parsers/rst/include/isoamsb.txt,sha256=pSD9D42IRcGBcjYXrJUBFicIA7KRtfBhCKnFlJiytC0,7242
docutils/parsers/rst/include/isoamsc.txt,sha256=wC2J-pHkHJMokFfOg6S5_6TX1LcibltUpLMWkm-OT3U,1723
docutils/parsers/rst/include/isoamsn.txt,sha256=LPorblUlj9fua5tpigH-lAfqPYj_yXWQiOa91CpBD7w,6721
docutils/parsers/rst/include/isoamso.txt,sha256=3CB6lhSNhRIAY-ST8hGPRrO-6wxI2jhYnWTU1_uBXyY,3825
docutils/parsers/rst/include/isoamsr.txt,sha256=3qVvk1ueHuE6jnHp8ypn6UWtZH5Ly2njNDj09Xeh2qU,11763
docutils/parsers/rst/include/isobox.txt,sha256=tYnVIj92mJ5jiY8H9-S3CzBprjU8scuJZ8BO_eWEdwc,3101
docutils/parsers/rst/include/isocyr1.txt,sha256=-V1dpOyKxXBzNBxcW7IJp1W-SIkaXd0KVm8TP58a5B8,4241
docutils/parsers/rst/include/isocyr2.txt,sha256=3pDslLms3yuJgQTcWtu8U1FMrMQ4KgxtDT18Ci6Mvz4,1882
docutils/parsers/rst/include/isodia.txt,sha256=-qThXeZ-WFGztOuu_koRrlvDJpSkMVB4ivU9yyE2y7Y,869
docutils/parsers/rst/include/isogrk1.txt,sha256=xnCDDphWarsNmum9SQRvntznPx7m547rRRuQs7PdYpQ,3010
docutils/parsers/rst/include/isogrk2.txt,sha256=zbi3-LuRB6T0jGj_yffmgm_8_mwz-6ygAYvgie32ls0,1705
docutils/parsers/rst/include/isogrk3.txt,sha256=X8fGxnVIG1ygvvc9hpYgUHt1d8ANdD-gxn6aKWEaRf0,2880
docutils/parsers/rst/include/isogrk4-wide.txt,sha256=rpweSoCmHEC1vL44LEeIE8Re2tm5FEAWnae6CO2oe1I,3035
docutils/parsers/rst/include/isogrk4.txt,sha256=zptf_ntrFuMsuk0OhEjUkRwYrz0YGDuD-_6ReIHOunY,372
docutils/parsers/rst/include/isolat1.txt,sha256=F5R0rnBefjAbqWFCkWMFpxVKWoSec8VM0KU8DRtMCYI,4397
docutils/parsers/rst/include/isolat2.txt,sha256=YBBbW3o9HD1JHV3QVfpaFeKnRsh2vPs0dNvpTJSEoSU,8466
docutils/parsers/rst/include/isomfrk-wide.txt,sha256=EtzR0nFzhkCmf8CKR4hLWSAgbUjHs4sYfpJEyDp8CjY,3334
docutils/parsers/rst/include/isomfrk.txt,sha256=zZy3M5BmklzpL02dImsAuWA1jVw7nxqx3xyZLKtILfA,519
docutils/parsers/rst/include/isomopf-wide.txt,sha256=QUhEHzhyuCM3qzrqG5luXuL28Uoqt7I7v-CfzToG8sI,1931
docutils/parsers/rst/include/isomopf.txt,sha256=MGuLb8WfrDm7GWvdmvYHsWtrWyh6MqRRo7wnpiaia0U,639
docutils/parsers/rst/include/isomscr-wide.txt,sha256=VHq8miDC5nKS6Rlvv9aWpS1D_naXcfZd1CsEpJ2W8-g,3231
docutils/parsers/rst/include/isomscr.txt,sha256=WvB9Zek3TqSyIDfw5QmE_uTvXNwjBpYU0EQttckdLJo,776
docutils/parsers/rst/include/isonum.txt,sha256=DHWd87O6CCaSz10PEGZOxLqpDLHiMZ6--0VR9o0Yt-Q,4066
docutils/parsers/rst/include/isopub.txt,sha256=oULMcx0Ugjk6EZAMcxHZpZM_MC7kNuzecu-sMAHVZro,4613
docutils/parsers/rst/include/isotech.txt,sha256=h6z4dEMoVtarA9E489Zru1H29c01hWWGqbfD3wgUmiM,9726
docutils/parsers/rst/include/mmlalias.txt,sha256=YxSvNJVNsrzgIGNjtAjtx2tVXUuby5twMZxr5Mq3PJo,45428
docutils/parsers/rst/include/mmlextra-wide.txt,sha256=KKNjVkG-xHbeCagQfQDotJxY5oF6S6Bmk60bEv49NUQ,9010
docutils/parsers/rst/include/mmlextra.txt,sha256=Y50tQh0fLYClCc0DUVrxr2loU5u5YaUaYbFc9PEya_c,6800
docutils/parsers/rst/include/s5defs.txt,sha256=_5JOMpDtaufiZbdxh6QKpICqLvGpB9cypHM-SEt3sKA,1036
docutils/parsers/rst/include/xhtml1-lat1.txt,sha256=-cEYtq3oOOoLQS6n2KmsAcIs3Y5s78mToBkUXuSrSKA,6112
docutils/parsers/rst/include/xhtml1-special.txt,sha256=dVNILahp_Jkf0bQVX-gGFcQXst3oR-FvQmAt6lDSTpE,1945
docutils/parsers/rst/include/xhtml1-symbol.txt,sha256=K-f7hr-LRv1NKOxjZtckBmtMQOiddlnJJ-6DG-YoAzI,7028
docutils/parsers/rst/languages/__init__.py,sha256=pcpaebmWUtAT1tA-2V3ddpUyfADaSDjFiEhl1FCNWPA,1085
docutils/parsers/rst/languages/af.py,sha256=CKdMjiS3nx4yNRrzeuwCoT0XeeQmHm2_O8U34BZns7s,3677
docutils/parsers/rst/languages/ca.py,sha256=7eAACvO9Dpnqujsc3BJZQktHk1RDjmwf4LeEvkV_66o,4467
docutils/parsers/rst/languages/cs.py,sha256=7g4NgLXvV5RP7oOqQT_TM033xW48mDQVoGGHhKSwZ8I,4857
docutils/parsers/rst/languages/da.py,sha256=u9zvTSVuqJBQ-KKlcZmi4SMAp_kQXNS6ZsHBEiVmXjY,3765
docutils/parsers/rst/languages/de.py,sha256=-vF9YMv-C3aecKdveQIIIZ_U9GBotNJm29rmiFoERzg,3465
docutils/parsers/rst/languages/en.py,sha256=z_J8xJ1gBTk5MX6u_bonFGoop_e8VF6jWgq9Tzl5gNY,3317
docutils/parsers/rst/languages/eo.py,sha256=q0025TiEuSZ_8VGZz2n86ZK4o6GVTdus1HBgdxAgz0A,3898
docutils/parsers/rst/languages/es.py,sha256=vranS55noGU_pSC0f7uyJ12szSoxMKgRJuEK-DQfhpk,4261
docutils/parsers/rst/languages/fa.py,sha256=XWeO9UdNGKbHWpcsAhEOgBvuLMGxjQ76I5ed7i2szPw,3430
docutils/parsers/rst/languages/fi.py,sha256=CiWQxGOSnLA05yONUB0tqsnv4IPCbvfPYU7obKRo-kU,3661
docutils/parsers/rst/languages/fr.py,sha256=42D2mXBLYl1Vc7KnVGi-CFQbhe_DTEIpT26_f3gWknI,3709
docutils/parsers/rst/languages/gl.py,sha256=48NwM1CfNZOfmSYkqfhUsAww2292kZLPlt_Ty5sGzxE,3711
docutils/parsers/rst/languages/he.py,sha256=go2_5QONLkGd4KS7ZIBur2vP04GUlN95XnOTizfwZOc,3640
docutils/parsers/rst/languages/it.py,sha256=ihEL_NivtrckGnU6dT_kTmOrafmPUIC7-e6KMUJ_y2Q,3270
docutils/parsers/rst/languages/ja.py,sha256=jaRnNN5sTXciz9O9_-kl7rlrScCJC12S3msQWPg5yH0,3863
docutils/parsers/rst/languages/lt.py,sha256=RWSEyHddq14wvtuIbDxRT-JnPuRh8Gk33hOHh5BEXFI,3584
docutils/parsers/rst/languages/lv.py,sha256=OfnTo1Si1V1E_7yNAwkyQMe6y07FsOA_F-1H2Fb6vIU,3381
docutils/parsers/rst/languages/nl.py,sha256=2yKY36FtTEkRl-YjBOm9KtLTQR8nTIGT5ORt1qhcWQk,3708
docutils/parsers/rst/languages/pl.py,sha256=RsEunaFFi6fiko9CZrVTyWTS7MbEuJLd0eAC5EOWWWo,3427
docutils/parsers/rst/languages/pt_br.py,sha256=wDfQWhP_ZikrL3o9T4SjyfhRmCg8Y9uIS6FnUrTASkw,3992
docutils/parsers/rst/languages/ru.py,sha256=abw64X77S-WFpIhbbn2v_YzzjphGyjqbMhaQjnLL1N0,3306
docutils/parsers/rst/languages/sk.py,sha256=dhy_kVHdIVSFW9aBnNBU3YTXstouhmeOMHzZsBQ7vfU,3979
docutils/parsers/rst/languages/sv.py,sha256=aLn14jd9xC8qKfglmLH4kXyeu-DA5rCxOUB-zva2BAI,4166
docutils/parsers/rst/languages/zh_cn.py,sha256=6FyYegjPnIFguqQhR9cBu5xxlrkRszNQHWGXEByF05M,4007
docutils/parsers/rst/languages/zh_tw.py,sha256=PswlAgKcAMvgQB2jbp1hDCpzG63ZfxgBwlJviK8KRHM,5172
docutils/readers/__init__.py,sha256=cZO94mGtqkuoe9BIRcTTqjtoOava88ELAcPWRZb7S-U,3465
docutils/readers/doctree.py,sha256=9QNTk_8x46sDkcSjzQiyFZxN-m9CBO3XA5bLar7OA0Q,1607
docutils/readers/pep.py,sha256=V9b6SUQ_h74KK11wq5k2icEPGWQuVDG5gCzhWlJdF3Y,1555
docutils/readers/standalone.py,sha256=6kRgqKD_REEZ_zZE5AW0rLj_rqOhisubS2ADyLjOAJQ,2340
docutils/transforms/__init__.py,sha256=1m2yYFlSCJMOGsznhuyupa_E7i-3cHaCifx_tDWe9rs,6505
docutils/transforms/components.py,sha256=F0fXyOZsf_OA0QsX-jIAsk3RLCrkEW9GRR1-l0Nx13o,1993
docutils/transforms/frontmatter.py,sha256=bq7KLUlMrxJIyZ7VZhvjTFv0Xe2bpFic1VVJ-YKO_0o,19456
docutils/transforms/misc.py,sha256=0jDAIndz8a7C5TVWLkC44N1pVfhwZu4nu-lnk1GmzGg,4882
docutils/transforms/parts.py,sha256=ZtZPn1M-KkVW6izjacc_J5pN3IIpoWKxeeMjQvwDhrI,6980
docutils/transforms/peps.py,sha256=4TQGmXHV7m6wZNnxaBQNjWhLTd179R-7AQxp01v1riI,11057
docutils/transforms/references.py,sha256=6LBqb-Ttjp_hOJ0I7sp3pIaOUzA3xklnqWzHvRYnDAw,36161
docutils/transforms/universal.py,sha256=AZQ7U5SqUTvMTr7P69AsSUstp-1vJaLXYERXlsu5b58,10596
docutils/transforms/writer_aux.py,sha256=4Zd8z8s4jTG2J0xSnm5hj1kiZrKN6FqvGvpJ1cb09oU,2609
docutils/utils/__init__.py,sha256=1r3DhCFAqPyjpXFcSbj-M6Jf3uhXY4IwYu2jr1MMJws,27412
docutils/utils/code_analyzer.py,sha256=Zs4rsIpwu74yVG52Qzw7kVlPT4weU9e6OBl1OR6cVPI,4929
docutils/utils/error_reporting.py,sha256=LUXi2BvIv1-b5-v0WKVWbVGav7V5c5QCUgstbpkyfss,8344
docutils/utils/punctuation_chars.py,sha256=TaFlGDgktQW1l-CdtTYFsAEQkW-Bwl-PI4tXZqUtnuE,14635
docutils/utils/roman.py,sha256=5dId_zz2VV8kvtKNNgLUpTR0zcuSIcADBD36XDjDZ44,2687
docutils/utils/smartquotes.py,sha256=hF6IXLP2-KS0nVeDTf4jwNQ8cecT3kZXy2XBCda98IM,33386
docutils/utils/urischemes.py,sha256=2Y9dzkd8_mri0isGvPwhX-oDhkVLKbw-T0UstBsqiIc,6275
docutils/utils/math/__init__.py,sha256=TUGMP6ytwBzbQCHrFSxSl8OcDdbLGfCCkGteBdWm6l0,1755
docutils/utils/math/latex2mathml.py,sha256=RHhZkCsESYCyyLL4-0NPJy8ma44NrS38QVmSUhbEcl8,17519
docutils/utils/math/math2html.py,sha256=yYGdkp-1ES1jY3z8rWnQn4L8oWKcr_F1NnNDzWhAZuc,182247
docutils/utils/math/tex2mathml_extern.py,sha256=8hv2rnoI9MXyayppjTjCc2I57DbVE9BDSzLUS0n-C9w,5634
docutils/utils/math/tex2unichar.py,sha256=0tXV29tatGECc6zDV78yvx-6vc5npfO1GukZrzbI5ps,35109
docutils/utils/math/unichar2tex.py,sha256=pQsCi50-vC7hbl0DsfHEK5Xn9jhHOAOtG6D0tTWGAAY,17590
docutils/writers/__init__.py,sha256=m56LRJvyrvD0vOuhY4X9HrrrxRCeICrcWyhn07SV4iU,4666
docutils/writers/_html_base.py,sha256=QnHr64OcNHUoLaugQmSvrxk_It7Mdy2nnyOohfmh_n4,61298
docutils/writers/docutils_xml.py,sha256=vtQhJOWejlk-RcU78xLGxC-S6E8kCLQFiBRlh543_Qo,7687
docutils/writers/manpage.py,sha256=E3M79vc4wiTOeO4tx92VJ-ZZNXAVxT88to4TvETSz9o,35660
docutils/writers/null.py,sha256=zyIuah_o8SlqvgbOWLRG9chpeNKky0D13lOTtR1E73U,450
docutils/writers/pseudoxml.py,sha256=2bRL9zMleW8jDuGaINvM52siZiJWH1-zQfEELJE2oPE,772
docutils/writers/html4css1/__init__.py,sha256=GjGEz13A-V7q14KTM1cF3VgQ8diJJVajmhBv0FZ20qI,33612
docutils/writers/html4css1/html4css1.css,sha256=BvqQaXs-bQ6Vx7TVsdXxxLwoiQeXQ-Wn1z7ZXRXk_q8,7210
docutils/writers/html4css1/template.txt,sha256=HDzUUyAv7gT4ewGQTqfOE2_9HOVyGu9-wCRgsmoCmjQ,114
docutils/writers/html5_polyglot/__init__.py,sha256=ZrymT-_l3RqiPzoGq1QvmvythJ-G4TclCkKqrmJuwjE,8487
docutils/writers/html5_polyglot/math.css,sha256=hGjowMetSh3oAlkm7_EA2pTtkv_Lg_TgwrBkyNs85Co,4783
docutils/writers/html5_polyglot/minimal.css,sha256=GmLUBUxIrfPDIlqcUWdWM-bkfM06i8YHmiJcuEn8wgA,6814
docutils/writers/html5_polyglot/plain.css,sha256=dMkAGlPXc5O9SuELYtm6ubTWsWkiMZCjG8N639PhKVA,7138
docutils/writers/html5_polyglot/template.txt,sha256=HDzUUyAv7gT4ewGQTqfOE2_9HOVyGu9-wCRgsmoCmjQ,114
docutils/writers/latex2e/__init__.py,sha256=D4HhsY9i_3BXE1LxdK4OfcQIWhEMYhrRgI5iUwIsW8c,124941
docutils/writers/latex2e/default.tex,sha256=SzMH7tZaryY2skUFPjUQrWc-EpcOwcqroO8wAaURtTk,476
docutils/writers/latex2e/titlepage.tex,sha256=wxPKr4rylqUamK2U0EJXQTaVQ1392ua5DtSVGDqrNsI,534
docutils/writers/latex2e/xelatex.tex,sha256=f-icXapSI6U9K_L4QWlewYY24vqS8wEViwWEDCSsSa8,481
docutils/writers/odf_odt/__init__.py,sha256=UR_cIr6N5WqFAYnsD3V7k1tnxz25fz2ro-atTYzsBO0,126196
docutils/writers/odf_odt/pygmentsformatter.py,sha256=iBsRNxRe-v378-whp_F8CwgvuK7Ck4o_Tx4Kae8NlYw,4671
docutils/writers/odf_odt/styles.odt,sha256=xKv9z2sd1qNxAH28X-5st5JuDZeTw6jyDOxXohsFrKY,16500
docutils/writers/pep_html/__init__.py,sha256=fM_-gcMw-VLZLgDEDKqiyaQdMWErf1pNbdwHRFVv2UE,3507
docutils/writers/pep_html/pep.css,sha256=UbFfiHHFSWusk2rEv7AUaTCS0r6TxfMzgLtW0VURwGw,6367
docutils/writers/pep_html/template.txt,sha256=CfyVCCoqqB3Y8hOyt7Uxf0XeyTwtFf926L_hJeaS1wU,1294
docutils/writers/s5_html/__init__.py,sha256=2UctGICm1P4vCQFdHGIjm4fPUo9rhcCv5J_dAF40yC8,14658
docutils/writers/s5_html/themes/README.txt,sha256=wsty9ouRFxVMrZV2EUTOmfMS_bJJpmA5CqU23fpMccM,301
docutils/writers/s5_html/themes/big-black/__base__,sha256=WeKnChXCPkrXDs7Xr-Qnf1i-bgFjkeaKJ-ilXV0R5lM,38
docutils/writers/s5_html/themes/big-black/framing.css,sha256=RctE4TbWO_ctWsmE1LSPdCVRMT1QFlTrNmQNKC4wC2Y,911
docutils/writers/s5_html/themes/big-black/pretty.css,sha256=VFK99wlPllRBKK0eQ2Yk6RC_-VDMREm-ue2Mp3YMs7A,3606
docutils/writers/s5_html/themes/big-white/framing.css,sha256=6M4vVFfoErc5LKtuol1RqnId0166VecGy6rYu9cPY9c,906
docutils/writers/s5_html/themes/big-white/pretty.css,sha256=YO7dDIRq7dXpIdC8pEOf7QaBb9nUvajfWkkQpxt3nJs,3566
docutils/writers/s5_html/themes/default/blank.gif,sha256=L1YbAqSTduNnms1ZdeN5Cr3_Cey636HhhYx7om4__O8,49
docutils/writers/s5_html/themes/default/framing.css,sha256=fcGapNDqnTT2w-2HpWTHb5yf9Yq-_31DJuazk7lCSQw,1003
docutils/writers/s5_html/themes/default/iepngfix.htc,sha256=ve7IwOG4pkjDmYItcuQrUbESmVaY6ACDhhA5YP9d73c,1190
docutils/writers/s5_html/themes/default/opera.css,sha256=guPZOg_BINv-LjV9_IAM7ILFQ-fKALNjlP1i06e5dmA,261
docutils/writers/s5_html/themes/default/outline.css,sha256=z3ACJiW3_gnG8XFvX602PMTYvKhbRybqCeoWl3O_pA0,648
docutils/writers/s5_html/themes/default/pretty.css,sha256=dUbMlVTFGx3ofvXGUmhnKAADhBkHsdU0ysWpxwX-70M,4384
docutils/writers/s5_html/themes/default/print.css,sha256=INhYRMsY7y2wd9p7tqjcDWBREXHUMO-2ApAWvITyetI,818
docutils/writers/s5_html/themes/default/s5-core.css,sha256=MrHjKxQ7P7ZFC2FmEq2BnkRWs59YVzUS_ZOw8CHC2Jk,451
docutils/writers/s5_html/themes/default/slides.css,sha256=VKYQ1Oe8lZ8LHxzPqJiU79J0z295nkmIbzsXL-N_dfQ,283
docutils/writers/s5_html/themes/default/slides.js,sha256=n6_977F6UKSfpYSDu5RKhS1g7iehHcmxm1jDLD17ME4,15800
docutils/writers/s5_html/themes/medium-black/__base__,sha256=822LJG-LrdBZY6CA7wsLFCFzsYfxbyz2mr1j6rpb1UA,41
docutils/writers/s5_html/themes/medium-black/pretty.css,sha256=zoRP67Cmy7JzwnXqKe02GwGzt0p5z509ymlbaxXuPoI,4031
docutils/writers/s5_html/themes/medium-white/framing.css,sha256=nstQg2Fwdm6TTRHflpYRE7Q3b2jFO5p6tyDXJhsmi0I,944
docutils/writers/s5_html/themes/medium-white/pretty.css,sha256=SafUPS2T_uel8lPQlvouTXUrgT9QY52nxnBJDt_pmP4,3991
docutils/writers/s5_html/themes/small-black/__base__,sha256=WmiB80z49RfMsy_7tFI042AfUgyztL5OXI3tap9EfQM,40
docutils/writers/s5_html/themes/small-black/pretty.css,sha256=G_e83H9lIDHXtUBJRCnsnxSiAhP0zaAafQwSviioUQ8,4030
docutils/writers/s5_html/themes/small-white/framing.css,sha256=klf55tsjjL7FuzlWi0yY_4bHJWZZhlD36VCevg45o70,941
docutils/writers/s5_html/themes/small-white/pretty.css,sha256=yaLNE-loYn_nSCuzvGVJWHAbh90dxdO5I06Cv-d4wcM,4001
docutils/writers/xetex/__init__.py,sha256=GsPbB-fiqmDVankdW2mWNUQysKLBB1TfYxe3YF1HQMU,5249
../../../bin/rst2html.py,sha256=_ZSHNn9dmPKAx6L7qZ8XgfPAy3KZv5MNky6n_8V3xiI,584
../../../bin/rst2html5.py,sha256=RxQhnlyp0iyPae4E_rwvaM9ToBFhfr16lywsnwC6xtY,1130
../../../bin/rst2latex.py,sha256=nLGST5HE554VD4EbuhUn2_6kijGgDFcQgOMa4RrFngI,781
../../../bin/rst2man.py,sha256=cJHLwJTI7kSR-7n_WhIQ_e11oEJr-ZMK97fKy5GZ3q0,590
../../../bin/rst2odt.py,sha256=iH9HaLPbzEfJU599E2DvAW2n2py69TXfJDOIZEHRsyk,754
../../../bin/rst2odt_prepstyles.py,sha256=tPj049dHEFj2cCedGmT6jSTtD-ZxLHrE4NJQVFLjZLk,1688
../../../bin/rst2pseudoxml.py,sha256=9SwwDEOFNz3AqOSI4CEvhieDm_3TgTPN_3FDPz6b5ys,591
../../../bin/rst2s5.py,sha256=zdT-5LNxruUZqMVe-Wjj1F-eXan9pLDBvxA1k38XRGw,627
../../../bin/rst2xetex.py,sha256=SzPM2iz6wCAc8Ki3sEnhCq6318jTQziosToib4FIzEw,861
../../../bin/rst2xml.py,sha256=MKbl4dkpIBjzh4GdITggzJpi-SMGoRaXdkbZs-yd05E,592
../../../bin/rstpep2html.py,sha256=TlXeA4lyMxtICwwaEERXcrXTleXfwyQE5qbooZLtcSw,660
docutils-0.13.1.dist-info/DESCRIPTION.rst,sha256=VEarWAl_dcwpCipAoNacho47mGV-DNvYRvczl9p5HEc,228
docutils-0.13.1.dist-info/METADATA,sha256=RKFmHijx6Ftf868FmcKG3YpxxLydgN3SFq5jKLmXuQQ,2332
docutils-0.13.1.dist-info/RECORD,,
docutils-0.13.1.dist-info/WHEEL,sha256=bee59qcPjkyXfMaxNWjl2CGotqfumWx9pC1hlVLr2mM,92
docutils-0.13.1.dist-info/metadata.json,sha256=GV-nUxDkFlugEttFjJsa57ihpGPo_9Jia3_cV62rrcA,1979
docutils-0.13.1.dist-info/top_level.txt,sha256=dPq3jQoxpMOEhrZ1tQh3_-9hqhdvOjUplSdSVDAc95A,9
docutils/languages/fi.pyc,,
docutils/writers/html4css1/__init__.pyc,,
docutils/utils/math/unichar2tex.pyc,,
docutils/parsers/rst/directives/body.pyc,,
docutils/parsers/rst/languages/sv.pyc,,
docutils/utils/punctuation_chars.pyc,,
docutils/parsers/rst/directives/images.pyc,,
docutils/languages/en.pyc,,
docutils/readers/__init__.pyc,,
docutils/languages/ru.pyc,,
docutils/languages/af.pyc,,
docutils/writers/odf_odt/__init__.pyc,,
docutils/examples.pyc,,
docutils/utils/math/tex2unichar.pyc,,
../../../bin/rstpep2html.pyc,,
docutils/statemachine.pyc,,
docutils/transforms/references.pyc,,
../../../bin/rst2latex.pyc,,
docutils/languages/__init__.pyc,,
docutils/writers/latex2e/__init__.pyc,,
docutils/languages/pt_br.pyc,,
docutils/parsers/rst/languages/de.pyc,,
docutils/utils/math/latex2mathml.pyc,,
docutils/parsers/rst/roles.pyc,,
../../../bin/rst2html5.pyc,,
docutils/utils/__init__.pyc,,
docutils/parsers/rst/directives/html.pyc,,
docutils/transforms/parts.pyc,,
../../../bin/rst2s5.pyc,,
../../../bin/rst2html.pyc,,
docutils/frontend.pyc,,
docutils/transforms/peps.pyc,,
docutils/core.pyc,,
docutils/languages/fr.pyc,,
docutils/utils/math/tex2mathml_extern.pyc,,
docutils/languages/es.pyc,,
docutils/utils/smartquotes.pyc,,
docutils/parsers/rst/languages/en.pyc,,
docutils/__init__.pyc,,
docutils/languages/lv.pyc,,
docutils/utils/code_analyzer.pyc,,
docutils/languages/sv.pyc,,
../../../bin/rst2xetex.pyc,,
docutils/languages/pl.pyc,,
docutils/languages/zh_cn.pyc,,
docutils/parsers/rst/languages/__init__.pyc,,
docutils/readers/pep.pyc,,
docutils/transforms/universal.pyc,,
../../../bin/rst2pseudoxml.pyc,,
../../../bin/rst2odt_prepstyles.pyc,,
docutils/parsers/rst/languages/pt_br.pyc,,
docutils/_compat.pyc,,
docutils/readers/doctree.pyc,,
docutils/writers/null.pyc,,
docutils/parsers/rst/directives/admonitions.pyc,,
docutils/writers/docutils_xml.pyc,,
docutils/transforms/writer_aux.pyc,,
docutils/parsers/rst/languages/zh_tw.pyc,,
docutils/parsers/rst/languages/it.pyc,,
docutils/utils/math/__init__.pyc,,
docutils/parsers/rst/languages/cs.pyc,,
docutils/languages/fa.pyc,,
docutils/languages/lt.pyc,,
docutils/utils/urischemes.pyc,,
docutils/parsers/rst/directives/parts.pyc,,
docutils/parsers/null.pyc,,
docutils/parsers/rst/languages/sk.pyc,,
docutils/transforms/misc.pyc,,
docutils/parsers/rst/languages/gl.pyc,,
docutils/parsers/rst/directives/__init__.pyc,,
docutils/parsers/rst/languages/da.pyc,,
docutils/languages/ja.pyc,,
docutils/languages/eo.pyc,,
docutils/languages/he.pyc,,
docutils/languages/it.pyc,,
docutils/transforms/__init__.pyc,,
docutils/writers/pseudoxml.pyc,,
docutils/readers/standalone.pyc,,
docutils/parsers/rst/states.pyc,,
docutils/languages/gl.pyc,,
docutils/writers/manpage.pyc,,
docutils/languages/sk.pyc,,
docutils/parsers/rst/languages/eo.pyc,,
docutils/parsers/rst/directives/misc.pyc,,
docutils/writers/__init__.pyc,,
docutils/parsers/rst/languages/zh_cn.pyc,,
docutils/writers/pep_html/__init__.pyc,,
../../../bin/rst2man.pyc,,
docutils/parsers/rst/languages/fi.pyc,,
docutils/parsers/rst/languages/pl.pyc,,
docutils/parsers/rst/languages/he.pyc,,
docutils/parsers/rst/languages/ca.pyc,,
docutils/languages/da.pyc,,
docutils/parsers/rst/languages/af.pyc,,
docutils/utils/error_reporting.pyc,,
docutils/parsers/rst/languages/nl.pyc,,
docutils/languages/de.pyc,,
docutils/parsers/rst/languages/ja.pyc,,
docutils/parsers/rst/languages/fr.pyc,,
docutils/parsers/__init__.pyc,,
docutils/utils/roman.pyc,,
docutils/writers/xetex/__init__.pyc,,
docutils/parsers/rst/languages/ru.pyc,,
docutils/io.pyc,,
docutils/parsers/rst/languages/fa.pyc,,
docutils/writers/_html_base.pyc,,
docutils/languages/zh_tw.pyc,,
docutils/transforms/frontmatter.pyc,,
docutils/parsers/rst/directives/references.pyc,,
docutils/languages/cs.pyc,,
docutils/parsers/rst/languages/es.pyc,,
docutils/nodes.pyc,,
docutils/writers/s5_html/__init__.pyc,,
docutils/languages/ca.pyc,,
../../../bin/rst2xml.pyc,,
docutils/parsers/rst/tableparser.pyc,,
docutils/utils/math/math2html.pyc,,
docutils/transforms/components.pyc,,
docutils/languages/nl.pyc,,
docutils/parsers/rst/__init__.pyc,,
docutils/writers/html5_polyglot/__init__.pyc,,
docutils/writers/odf_odt/pygmentsformatter.pyc,,
docutils/parsers/rst/directives/tables.pyc,,
docutils/parsers/rst/languages/lv.pyc,,
../../../bin/rst2odt.pyc,,
docutils/parsers/rst/languages/lt.pyc,,
                                                                                                                                                                                                                                                                             usr/local/lib/python2.7/dist-packages/docutils-0.13.1.dist-info/WHEEL                               0100644 0000000 0000062 00000000134 13077704374 023255  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Wheel-Version: 1.0
Generator: bdist_wheel (0.29.0)
Root-Is-Purelib: true
Tag: py2-none-any

                                                                                                                                                                                                                                                                                                                                                                                                                                    usr/local/lib/python2.7/dist-packages/docutils-0.13.1.dist-info/metadata.json                       0100644 0000000 0000062 00000003673 13077704374 025154  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        {"classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Intended Audience :: End Users/Desktop", "Intended Audience :: Other Audience", "Intended Audience :: Developers", "Intended Audience :: System Administrators", "License :: Public Domain", "License :: OSI Approved :: Python Software Foundation License", "License :: OSI Approved :: BSD License", "License :: OSI Approved :: GNU General Public License (GPL)", "Operating System :: OS Independent", "Programming Language :: Python :: 2.4", "Programming Language :: Python :: 2.5", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Topic :: Documentation", "Topic :: Software Development :: Documentation", "Topic :: Text Processing", "Natural Language :: English", "Natural Language :: Afrikaans", "Natural Language :: Catalan", "Natural Language :: Chinese (Simplified)", "Natural Language :: Chinese (Traditional)", "Natural Language :: Czech", "Natural Language :: Dutch", "Natural Language :: Esperanto", "Natural Language :: Finnish", "Natural Language :: French", "Natural Language :: Galician", "Natural Language :: German", "Natural Language :: Italian", "Natural Language :: Japanese", "Natural Language :: Polish", "Natural Language :: Portuguese (Brazilian)", "Natural Language :: Russian", "Natural Language :: Slovak", "Natural Language :: Spanish", "Natural Language :: Swedish"], "extensions": {"python.details": {"contacts": [{"email": "docutils-develop@lists.sourceforge.net", "name": "docutils-develop list", "role": "author"}], "document_names": {"description": "DESCRIPTION.rst"}, "project_urls": {"Home": "http://docutils.sourceforge.net/"}}}, "generator": "bdist_wheel (0.29.0)", "license": "public domain, Python, 2-Clause BSD, GPL 3 (see COPYING.txt)", "metadata_version": "2.0", "name": "docutils", "platform": "OS-independent", "summary": "Docutils -- Python Documentation Utilities", "version": "0.13.1"}                                                                     usr/local/lib/python2.7/dist-packages/docutils-0.13.1.dist-info/top_level.txt                       0100644 0000000 0000062 00000000011 13077704374 025212  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        docutils
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/futures-3.1.1.dist-info/                                      0042755 0000000 0000062 00000000000 13077704403 022255  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/futures-3.1.1.dist-info/DESCRIPTION.rst                       0100644 0000000 0000062 00000000012 13077704400 024553  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        UNKNOWN


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      usr/local/lib/python2.7/dist-packages/futures-3.1.1.dist-info/METADATA                              0100644 0000000 0000062 00000001143 13077704400 023347  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Metadata-Version: 2.0
Name: futures
Version: 3.1.1
Summary: Backport of the concurrent.futures package from Python 3.2
Home-page: https://github.com/agronholm/pythonfutures
Author: Alex Gronholm
Author-email: alex.gronholm+pypi@nextday.fi
License: PSF
Platform: UNKNOWN
Classifier: License :: OSI Approved :: Python Software Foundation License
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 2.6
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 2 :: Only

UNKNOWN


                                                                                                                                                                                                                                                                                                                                                                                                                             usr/local/lib/python2.7/dist-packages/futures-3.1.1.dist-info/RECORD                                0100644 0000000 0000062 00000002064 13077704403 023153  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        concurrent/__init__.py,sha256=qEFeq3yuf3lQKVseALmL8aPM8fpCS54B_5pry00M3hk,76
concurrent/futures/__init__.py,sha256=lErVwp1Kv_co1PKmfYCHvBhWZ_ONtg-bk9v74BG1Q8w,887
concurrent/futures/_base.py,sha256=lvEt8i9SM2BmSJyumZd8mfxdCIKvwVMKeW-l5QyfpgI,22424
concurrent/futures/process.py,sha256=XWNXGq8Pgnt__2Yz49bCV9dyuaWiZLlkRwt4IQMKaOQ,14986
concurrent/futures/thread.py,sha256=_Fb3AWsfaZcLMT5ui8_pF7DOhUdYPv3Fj8FLEjLGT7A,5092
futures-3.1.1.dist-info/top_level.txt,sha256=elL7bzFlkyVZr3M0gg0AeLUPt5OJ2F9uJcmu63VMt7A,11
futures-3.1.1.dist-info/METADATA,sha256=j1N2zEqjFja7qbNG3mywETWfVEs61X0GGdIiaDqdudA,611
futures-3.1.1.dist-info/DESCRIPTION.rst,sha256=OCTuuN6LcWulhHS3d5rfjdsQtW22n7HENFRh6jC6ego,10
futures-3.1.1.dist-info/metadata.json,sha256=DN4vsOXirsdvg2PnNcBVJvMJVjU80pC-d5y7GCwb-Eg,750
futures-3.1.1.dist-info/WHEEL,sha256=54bVun1KfEBTJ68SHUmbxNPj80VxlQ0sHi4gZdGZXEY,92
futures-3.1.1.dist-info/RECORD,,
concurrent/futures/thread.pyc,,
concurrent/__init__.pyc,,
concurrent/futures/process.pyc,,
concurrent/futures/__init__.pyc,,
concurrent/futures/_base.pyc,,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            usr/local/lib/python2.7/dist-packages/futures-3.1.1.dist-info/WHEEL                                 0100644 0000000 0000062 00000000134 13077704400 023032  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Wheel-Version: 1.0
Generator: bdist_wheel (0.24.0)
Root-Is-Purelib: true
Tag: py2-none-any

                                                                                                                                                                                                                                                                                                                                                                                                                                    usr/local/lib/python2.7/dist-packages/futures-3.1.1.dist-info/metadata.json                         0100644 0000000 0000062 00000001356 13077704400 024725  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        {"license": "PSF", "name": "futures", "metadata_version": "2.0", "generator": "bdist_wheel (0.24.0)", "summary": "Backport of the concurrent.futures package from Python 3.2", "version": "3.1.1", "extensions": {"python.details": {"project_urls": {"Home": "https://github.com/agronholm/pythonfutures"}, "document_names": {"description": "DESCRIPTION.rst"}, "contacts": [{"role": "author", "email": "alex.gronholm+pypi@nextday.fi", "name": "Alex Gronholm"}]}}, "classifiers": ["License :: OSI Approved :: Python Software Foundation License", "Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 2 :: Only"]}                                                                                                                                                                                                                                                                                  usr/local/lib/python2.7/dist-packages/futures-3.1.1.dist-info/top_level.txt                         0100644 0000000 0000062 00000000013 13077704400 024771  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        concurrent
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/jmespath/                                                     0042755 0000000 0000062 00000000000 13077704403 020042  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/jmespath/__init__.py                                          0100644 0000000 0000062 00000000431 13077704376 022155  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        from jmespath import parser
from jmespath.visitor import Options

__version__ = '0.9.2'


def compile(expression):
    return parser.Parser().parse(expression)


def search(expression, data, options=None):
    return parser.Parser().parse(expression).search(data, options=options)
                                                                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/jmespath/__init__.pyc                                         0100644 0000000 0000062 00000001332 13077704403 022310  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   s?   d  d l  m Z d  d l m Z d Z d Ñ  Z d d Ñ Z d S(   iˇˇˇˇ(   t   parser(   t   Optionss   0.9.2c         C   s   t  j É  j |  É S(   N(   R    t   Parsert   parse(   t
   expression(    (    s3   /tmp/pip-build-awuatQ/jmespath/jmespath/__init__.pyt   compile   s    c         C   s"   t  j É  j |  É j | d | ÉS(   Nt   options(   R    R   R   t   search(   R   t   dataR   (    (    s3   /tmp/pip-build-awuatQ/jmespath/jmespath/__init__.pyR      s    N(   t   jmespathR    t   jmespath.visitorR   t   __version__R   t   NoneR   (    (    (    s3   /tmp/pip-build-awuatQ/jmespath/jmespath/__init__.pyt   <module>   s   	                                                                                                                                                                                                                                                                                                      usr/local/lib/python2.7/dist-packages/jmespath/ast.py                                               0100644 0000000 0000062 00000004122 13077704376 021206  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # AST nodes have this structure:
# {"type": <node type>", children: [], "value": ""}


def comparator(name, first, second):
    return {'type': 'comparator', 'children': [first, second], 'value': name}


def current_node():
    return {'type': 'current', 'children': []}


def expref(expression):
    return {'type': 'expref', 'children': [expression]}


def function_expression(name, args):
    return {'type': 'function_expression', 'children': args, 'value': name}


def field(name):
    return {"type": "field", "children": [], "value": name}


def filter_projection(left, right, comparator):
    return {'type': 'filter_projection', 'children': [left, right, comparator]}


def flatten(node):
    return {'type': 'flatten', 'children': [node]}


def identity():
    return {"type": "identity", 'children': []}


def index(index):
    return {"type": "index", "value": index, "children": []}


def index_expression(children):
    return {"type": "index_expression", 'children': children}


def key_val_pair(key_name, node):
    return {"type": "key_val_pair", 'children': [node], "value": key_name}


def literal(literal_value):
    return {'type': 'literal', 'value': literal_value, 'children': []}


def multi_select_dict(nodes):
    return {"type": "multi_select_dict", "children": nodes}


def multi_select_list(nodes):
    return {"type": "multi_select_list", "children": nodes}


def or_expression(left, right):
    return {"type": "or_expression", "children": [left, right]}


def and_expression(left, right):
    return {"type": "and_expression", "children": [left, right]}


def not_expression(expr):
    return {"type": "not_expression", "children": [expr]}


def pipe(left, right):
    return {'type': 'pipe', 'children': [left, right]}


def projection(left, right):
    return {'type': 'projection', 'children': [left, right]}


def subexpression(children):
    return {"type": "subexpression", 'children': children}


def slice(start, end, step):
    return {"type": "slice", "children": [start, end, step]}


def value_projection(left, right):
    return {'type': 'value_projection', 'children': [left, right]}
                                                                                                                                                                                                                                                                                                                                                                                                                                              usr/local/lib/python2.7/dist-packages/jmespath/ast.pyc                                              0100644 0000000 0000062 00000010455 13077704403 021346  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   s    d  Ñ  Z  d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d	 Ñ  Z	 d
 Ñ  Z
 d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d S(   c         C   s   i d d 6| | g d 6|  d 6S(   Nt
   comparatort   typet   childrent   value(    (   t   namet   firstt   second(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR       s    c           C   s   i d d 6g  d 6S(   Nt   currentR   R   (    (    (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyt   current_node	   s    c         C   s   i d d 6|  g d 6S(   Nt   exprefR   R   (    (   t
   expression(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR	      s    c         C   s   i d d 6| d 6|  d 6S(   Nt   function_expressionR   R   R   (    (   R   t   args(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR      s    c         C   s   i d d 6g  d 6|  d 6S(   Nt   fieldR   R   R   (    (   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR      s    c         C   s   i d d 6|  | | g d 6S(   Nt   filter_projectionR   R   (    (   t   leftt   rightR    (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR      s    c         C   s   i d d 6|  g d 6S(   Nt   flattenR   R   (    (   t   node(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR      s    c           C   s   i d d 6g  d 6S(   Nt   identityR   R   (    (    (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   !   s    c         C   s   i d d 6|  d 6g  d 6S(   Nt   indexR   R   R   (    (   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   %   s    c         C   s   i d d 6|  d 6S(   Nt   index_expressionR   R   (    (   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   )   s    c         C   s   i d d 6| g d 6|  d 6S(   Nt   key_val_pairR   R   R   (    (   t   key_nameR   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   -   s    c         C   s   i d d 6|  d 6g  d 6S(   Nt   literalR   R   R   (    (   t   literal_value(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   1   s    c         C   s   i d d 6|  d 6S(   Nt   multi_select_dictR   R   (    (   t   nodes(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   5   s    c         C   s   i d d 6|  d 6S(   Nt   multi_select_listR   R   (    (   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   9   s    c         C   s   i d d 6|  | g d 6S(   Nt   or_expressionR   R   (    (   R   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   =   s    c         C   s   i d d 6|  | g d 6S(   Nt   and_expressionR   R   (    (   R   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   A   s    c         C   s   i d d 6|  g d 6S(   Nt   not_expressionR   R   (    (   t   expr(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR   E   s    c         C   s   i d d 6|  | g d 6S(   Nt   pipeR   R   (    (   R   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR!   I   s    c         C   s   i d d 6|  | g d 6S(   Nt
   projectionR   R   (    (   R   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR"   M   s    c         C   s   i d d 6|  d 6S(   Nt   subexpressionR   R   (    (   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR#   Q   s    c         C   s   i d d 6|  | | g d 6S(   Nt   sliceR   R   (    (   t   startt   endt   step(    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR$   U   s    c         C   s   i d d 6|  | g d 6S(   Nt   value_projectionR   R   (    (   R   R   (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyR(   Y   s    N(   R    R   R	   R   R   R   R   R   R   R   R   R   R   R   R   R   R   R!   R"   R#   R$   R(   (    (    (    s.   /tmp/pip-build-awuatQ/jmespath/jmespath/ast.pyt   <module>   s*   																					                                                                                                                                                                                                                   usr/local/lib/python2.7/dist-packages/jmespath/compat.py                                            0100644 0000000 0000062 00000004105 13077704376 021703  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        import sys
import inspect

PY2 = sys.version_info[0] == 2


def with_metaclass(meta, *bases):
    # Taken from flask/six.
    class metaclass(meta):
        def __new__(cls, name, this_bases, d):
            return meta(name, bases, d)
    return type.__new__(metaclass, 'temporary_class', (), {})


if PY2:
    text_type = unicode
    string_type = basestring
    from itertools import izip_longest as zip_longest

    def with_str_method(cls):
        """Class decorator that handles __str__ compat between py2 and py3."""
        # In python2, the __str__ should be __unicode__
        # and __str__ should return bytes.
        cls.__unicode__ = cls.__str__
        def __str__(self):
            return self.__unicode__().encode('utf-8')
        cls.__str__ = __str__
        return cls

    def with_repr_method(cls):
        """Class decorator that handle __repr__ with py2 and py3."""
        # This is almost the same thing as with_str_method *except*
        # it uses the unicode_escape encoding.  This also means we need to be
        # careful encoding the input multiple times, so we only encode
        # if we get a unicode type.
        original_repr_method = cls.__repr__
        def __repr__(self):
            original_repr = original_repr_method(self)
            if isinstance(original_repr, text_type):
                original_repr = original_repr.encode('unicode_escape')
            return original_repr
        cls.__repr__ = __repr__
        return cls

    def get_methods(cls):
        for name, method in inspect.getmembers(cls,
                                               predicate=inspect.ismethod):
            yield name, method

else:
    text_type = str
    string_type = str
    from itertools import zip_longest

    def with_str_method(cls):
        # In python3, we don't need to do anything, we return a str type.
        return cls

    def with_repr_method(cls):
        return cls

    def get_methods(cls):
        for name, method in inspect.getmembers(cls,
                                               predicate=inspect.isfunction):
            yield name, method
                                                                                                                                                                                                                                                                                                                                                                                                                                                           usr/local/lib/python2.7/dist-packages/jmespath/compat.pyc                                           0100644 0000000 0000062 00000005541 13077704403 022042  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   sØ   d  d l  Z  d  d l Z e  j d d k Z d Ñ  Z e rt e Z e Z d  d l	 m
 Z d Ñ  Z d Ñ  Z d Ñ  Z n7 e Z e Z d  d	 l	 m Z d
 Ñ  Z d Ñ  Z d Ñ  Z d S(   iˇˇˇˇNi    i   c            s5   d à f á  á f d Ü  É  Y} t  j | d d i  É S(   Nt	   metaclassc              s   e  Z á  á f d  Ü  Z RS(   c            s   à | à  | É S(   N(    (   t   clst   namet
   this_basest   d(   t   basest   meta(    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   __new__
   s    (   t   __name__t
   __module__R   (    (   R   R   (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyR    	   s   t   temporary_class(    (   t   typeR   (   R   R   R    (    (   R   R   s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   with_metaclass   s    (   t   izip_longestc         C   s"   |  j  |  _ d Ñ  } | |  _  |  S(   s@   Class decorator that handles __str__ compat between py2 and py3.c         S   s   |  j  É  j d É S(   Ns   utf-8(   t   __unicode__t   encode(   t   self(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   __str__   s    (   R   R   (   R   R   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   with_str_method   s    		c            s%   |  j  â  á  f d Ü  } | |  _  |  S(   s6   Class decorator that handle __repr__ with py2 and py3.c            s1   à  |  É } t  | t É r- | j d É } n  | S(   Nt   unicode_escape(   t
   isinstancet	   text_typeR   (   R   t   original_repr(   t   original_repr_method(    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   __repr__%   s    (   R   (   R   R   (    (   R   s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   with_repr_method   s    		c         c   s8   x1 t  j |  d t  j ÉD] \ } } | | f Vq Wd  S(   Nt	   predicate(   t   inspectt
   getmemberst   ismethod(   R   R   t   method(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   get_methods-   s    (   t   zip_longestc         C   s   |  S(   N(    (   R   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyR   7   s    c         C   s   |  S(   N(    (   R   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyR   ;   s    c         c   s8   x1 t  j |  d t  j ÉD] \ } } | | f Vq Wd  S(   NR   (   R   R   t
   isfunction(   R   R   R   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyR   >   s    (   t   sysR   t   version_infot   PY2R   t   unicodeR   t
   basestringt   string_typet	   itertoolsR   R    R   R   R   t   str(    (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/compat.pyt   <module>   s    		
			                                                                                                                                                               usr/local/lib/python2.7/dist-packages/jmespath/exceptions.py                                        0100644 0000000 0000062 00000010040 13077704376 022574  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        from jmespath.compat import with_str_method


class JMESPathError(ValueError):
    pass


@with_str_method
class ParseError(JMESPathError):
    _ERROR_MESSAGE = 'Invalid jmespath expression'
    def __init__(self, lex_position, token_value, token_type,
                 msg=_ERROR_MESSAGE):
        super(ParseError, self).__init__(lex_position, token_value, token_type)
        self.lex_position = lex_position
        self.token_value = token_value
        self.token_type = token_type.upper()
        self.msg = msg
        # Whatever catches the ParseError can fill in the full expression
        self.expression = None

    def __str__(self):
        # self.lex_position +1 to account for the starting double quote char.
        underline = ' ' * (self.lex_position + 1) + '^'
        return (
            '%s: Parse error at column %s, '
            'token "%s" (%s), for expression:\n"%s"\n%s' % (
                self.msg, self.lex_position, self.token_value, self.token_type,
                self.expression, underline))


@with_str_method
class IncompleteExpressionError(ParseError):
    def set_expression(self, expression):
        self.expression = expression
        self.lex_position = len(expression)
        self.token_type = None
        self.token_value = None

    def __str__(self):
        # self.lex_position +1 to account for the starting double quote char.
        underline = ' ' * (self.lex_position + 1) + '^'
        return (
            'Invalid jmespath expression: Incomplete expression:\n'
            '"%s"\n%s' % (self.expression, underline))


@with_str_method
class LexerError(ParseError):
    def __init__(self, lexer_position, lexer_value, message, expression=None):
        self.lexer_position = lexer_position
        self.lexer_value = lexer_value
        self.message = message
        super(LexerError, self).__init__(lexer_position,
                                         lexer_value,
                                         message)
        # Whatever catches LexerError can set this.
        self.expression = expression

    def __str__(self):
        underline = ' ' * self.lexer_position + '^'
        return 'Bad jmespath expression: %s:\n%s\n%s' % (
            self.message, self.expression, underline)


@with_str_method
class ArityError(ParseError):
    def __init__(self, expected, actual, name):
        self.expected_arity = expected
        self.actual_arity = actual
        self.function_name = name
        self.expression = None

    def __str__(self):
        return ("Expected %s %s for function %s(), "
                "received %s" % (
                    self.expected_arity,
                    self._pluralize('argument', self.expected_arity),
                    self.function_name,
                    self.actual_arity))

    def _pluralize(self, word, count):
        if count == 1:
            return word
        else:
            return word + 's'


@with_str_method
class VariadictArityError(ArityError):
    def __str__(self):
        return ("Expected at least %s %s for function %s(), "
                "received %s" % (
                    self.expected_arity,
                    self._pluralize('argument', self.expected_arity),
                    self.function_name,
                    self.actual_arity))


@with_str_method
class JMESPathTypeError(JMESPathError):
    def __init__(self, function_name, current_value, actual_type,
                 expected_types):
        self.function_name = function_name
        self.current_value = current_value
        self.actual_type = actual_type
        self.expected_types = expected_types

    def __str__(self):
        return ('In function %s(), invalid type for value: %s, '
                'expected one of: %s, received: "%s"' % (
                    self.function_name, self.current_value,
                    self.expected_types, self.actual_type))


class EmptyExpressionError(JMESPathError):
    def __init__(self):
        super(EmptyExpressionError, self).__init__(
            "Invalid JMESPath expression: cannot be empty.")


class UnknownFunctionError(JMESPathError):
    pass
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                usr/local/lib/python2.7/dist-packages/jmespath/exceptions.pyc                                       0100644 0000000 0000062 00000013123 13077704403 022733  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   s˛   d  d l  m Z d e f d Ñ  É  YZ e d e f d Ñ  É  YÉ Z e d e f d Ñ  É  YÉ Z e d e f d	 Ñ  É  YÉ Z e d
 e f d Ñ  É  YÉ Z e d e f d Ñ  É  YÉ Z e d e f d Ñ  É  YÉ Z	 d e f d Ñ  É  YZ
 d e f d Ñ  É  YZ d S(   iˇˇˇˇ(   t   with_str_methodt   JMESPathErrorc           B   s   e  Z RS(    (   t   __name__t
   __module__(    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR      s   t
   ParseErrorc           B   s#   e  Z d  Z e d Ñ Z d Ñ  Z RS(   s   Invalid jmespath expressionc         C   sS   t  t |  É j | | | É | |  _ | |  _ | j É  |  _ | |  _ d  |  _	 d  S(   N(
   t   superR   t   __init__t   lex_positiont   token_valuet   uppert
   token_typet   msgt   Nonet
   expression(   t   selfR   R   R
   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR      s    			c         C   s>   d |  j  d d } d |  j |  j  |  j |  j |  j | f S(   Nt    i   t   ^sF   %s: Parse error at column %s, token "%s" (%s), for expression:
"%s"
%s(   R   R   R   R
   R   (   R   t	   underline(    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyt   __str__   s    (   R   R   t   _ERROR_MESSAGER   R   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR      s   	t   IncompleteExpressionErrorc           B   s   e  Z d  Ñ  Z d Ñ  Z RS(   c         C   s.   | |  _  t | É |  _ d  |  _ d  |  _ d  S(   N(   R   t   lenR   R   R
   R   (   R   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyt   set_expression!   s    		c         C   s&   d |  j  d d } d |  j | f S(   NR   i   R   s;   Invalid jmespath expression: Incomplete expression:
"%s"
%s(   R   R   (   R   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   '   s    (   R   R   R   R   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR      s   	t
   LexerErrorc           B   s   e  Z d d  Ñ Z d Ñ  Z RS(   c         C   sD   | |  _  | |  _ | |  _ t t |  É j | | | É | |  _ d  S(   N(   t   lexer_positiont   lexer_valuet   messageR   R   R   R   (   R   R   R   R   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   1   s    			c         C   s(   d |  j  d } d |  j |  j | f S(   NR   R   s"   Bad jmespath expression: %s:
%s
%s(   R   R   R   (   R   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   ;   s    N(   R   R   R   R   R   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   /   s   
t
   ArityErrorc           B   s#   e  Z d  Ñ  Z d Ñ  Z d Ñ  Z RS(   c         C   s(   | |  _  | |  _ | |  _ d  |  _ d  S(   N(   t   expected_arityt   actual_arityt   function_nameR   R   (   R   t   expectedt   actualt   name(    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   C   s    			c         C   s,   d |  j  |  j d |  j  É |  j |  j f S(   Ns-   Expected %s %s for function %s(), received %st   argument(   R   t
   _pluralizeR   R   (   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   I   s
    c         C   s   | d k r | S| d Sd  S(   Ni   t   s(    (   R   t   wordt   count(    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR#   Q   s    (   R   R   R   R   R#   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   A   s   		t   VariadictArityErrorc           B   s   e  Z d  Ñ  Z RS(   c         C   s,   d |  j  |  j d |  j  É |  j |  j f S(   Ns6   Expected at least %s %s for function %s(), received %sR"   (   R   R#   R   R   (   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   Z   s
    (   R   R   R   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR'   X   s   t   JMESPathTypeErrorc           B   s   e  Z d  Ñ  Z d Ñ  Z RS(   c         C   s(   | |  _  | |  _ | |  _ | |  _ d  S(   N(   R   t   current_valuet   actual_typet   expected_types(   R   R   R)   R*   R+   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   e   s    			c         C   s    d |  j  |  j |  j |  j f S(   NsQ   In function %s(), invalid type for value: %s, expected one of: %s, received: "%s"(   R   R)   R+   R*   (   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   l   s    (   R   R   R   R   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR(   c   s   	t   EmptyExpressionErrorc           B   s   e  Z d  Ñ  Z RS(   c         C   s   t  t |  É j d É d  S(   Ns-   Invalid JMESPath expression: cannot be empty.(   R   R,   R   (   R   (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR   t   s    (   R   R   R   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR,   s   s   t   UnknownFunctionErrorc           B   s   e  Z RS(    (   R   R   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyR-   y   s   N(   t   jmespath.compatR    t
   ValueErrorR   R   R   R   R   R'   R(   R,   R-   (    (    (    s5   /tmp/pip-build-awuatQ/jmespath/jmespath/exceptions.pyt   <module>   s   
                                                                                                                                                                                                                                                                                                                                                                                                                                             usr/local/lib/python2.7/dist-packages/jmespath/functions.py                                         0100644 0000000 0000062 00000030541 13077704376 022433  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        import math
import json

from jmespath import exceptions
from jmespath.compat import string_type as STRING_TYPE
from jmespath.compat import get_methods, with_metaclass


# python types -> jmespath types
TYPES_MAP = {
    'bool': 'boolean',
    'list': 'array',
    'dict': 'object',
    'NoneType': 'null',
    'unicode': 'string',
    'str': 'string',
    'float': 'number',
    'int': 'number',
    'OrderedDict': 'object',
    '_Projection': 'array',
    '_Expression': 'expref',
}


# jmespath types -> python types
REVERSE_TYPES_MAP = {
    'boolean': ('bool',),
    'array': ('list', '_Projection'),
    'object': ('dict', 'OrderedDict',),
    'null': ('None',),
    'string': ('unicode', 'str'),
    'number': ('float', 'int'),
    'expref': ('_Expression',),
}


def signature(*arguments):
    def _record_signature(func):
        func.signature = arguments
        return func
    return _record_signature


class FunctionRegistry(type):
    def __init__(cls, name, bases, attrs):
        cls._populate_function_table()
        super(FunctionRegistry, cls).__init__(name, bases, attrs)

    def _populate_function_table(cls):
        function_table = getattr(cls, 'FUNCTION_TABLE', {})
        # Any method with a @signature decorator that also
        # starts with "_func_" is registered as a function.
        # _func_max_by -> max_by function.
        for name, method in get_methods(cls):
            if not name.startswith('_func_'):
                continue
            signature = getattr(method, 'signature', None)
            if signature is not None:
                function_table[name[6:]] = {
                    'function': method,
                    'signature': signature,
                }
        cls.FUNCTION_TABLE = function_table


class Functions(with_metaclass(FunctionRegistry, object)):

    FUNCTION_TABLE = {
    }

    def call_function(self, function_name, resolved_args):
        try:
            spec = self.FUNCTION_TABLE[function_name]
        except KeyError:
            raise exceptions.UnknownFunctionError(
                "Unknown function: %s()" % function_name)
        function = spec['function']
        signature = spec['signature']
        self._validate_arguments(resolved_args, signature, function_name)
        return function(self, *resolved_args)

    def _validate_arguments(self, args, signature, function_name):
        if signature and signature[-1].get('variadic'):
            if len(args) < len(signature):
                raise exceptions.VariadictArityError(
                    len(signature), len(args), function_name)
        elif len(args) != len(signature):
            raise exceptions.ArityError(
                len(signature), len(args), function_name)
        return self._type_check(args, signature, function_name)

    def _type_check(self, actual, signature, function_name):
        for i in range(len(signature)):
            allowed_types = signature[i]['types']
            if allowed_types:
                self._type_check_single(actual[i], allowed_types,
                                        function_name)

    def _type_check_single(self, current, types, function_name):
        # Type checking involves checking the top level type,
        # and in the case of arrays, potentially checking the types
        # of each element.
        allowed_types, allowed_subtypes = self._get_allowed_pytypes(types)
        # We're not using isinstance() on purpose.
        # The type model for jmespath does not map
        # 1-1 with python types (booleans are considered
        # integers in python for example).
        actual_typename = type(current).__name__
        if actual_typename not in allowed_types:
            raise exceptions.JMESPathTypeError(
                function_name, current,
                self._convert_to_jmespath_type(actual_typename), types)
        # If we're dealing with a list type, we can have
        # additional restrictions on the type of the list
        # elements (for example a function can require a
        # list of numbers or a list of strings).
        # Arrays are the only types that can have subtypes.
        if allowed_subtypes:
            self._subtype_check(current, allowed_subtypes,
                                types, function_name)

    def _get_allowed_pytypes(self, types):
        allowed_types = []
        allowed_subtypes = []
        for t in types:
            type_ = t.split('-', 1)
            if len(type_) == 2:
                type_, subtype = type_
                allowed_subtypes.append(REVERSE_TYPES_MAP[subtype])
            else:
                type_ = type_[0]
            allowed_types.extend(REVERSE_TYPES_MAP[type_])
        return allowed_types, allowed_subtypes

    def _subtype_check(self, current, allowed_subtypes, types, function_name):
        if len(allowed_subtypes) == 1:
            # The easy case, we know up front what type
            # we need to validate.
            allowed_subtypes = allowed_subtypes[0]
            for element in current:
                actual_typename = type(element).__name__
                if actual_typename not in allowed_subtypes:
                    raise exceptions.JMESPathTypeError(
                        function_name, element, actual_typename, types)
        elif len(allowed_subtypes) > 1 and current:
            # Dynamic type validation.  Based on the first
            # type we see, we validate that the remaining types
            # match.
            first = type(current[0]).__name__
            for subtypes in allowed_subtypes:
                if first in subtypes:
                    allowed = subtypes
                    break
            else:
                raise exceptions.JMESPathTypeError(
                    function_name, current[0], first, types)
            for element in current:
                actual_typename = type(element).__name__
                if actual_typename not in allowed:
                    raise exceptions.JMESPathTypeError(
                        function_name, element, actual_typename, types)

    @signature({'types': ['number']})
    def _func_abs(self, arg):
        return abs(arg)

    @signature({'types': ['array-number']})
    def _func_avg(self, arg):
        if arg:
            return sum(arg) / float(len(arg))
        else:
            return None

    @signature({'types': [], 'variadic': True})
    def _func_not_null(self, *arguments):
        for argument in arguments:
            if argument is not None:
                return argument

    @signature({'types': []})
    def _func_to_array(self, arg):
        if isinstance(arg, list):
            return arg
        else:
            return [arg]

    @signature({'types': []})
    def _func_to_string(self, arg):
        if isinstance(arg, STRING_TYPE):
            return arg
        else:
            return json.dumps(arg, separators=(',', ':'),
                              default=str)

    @signature({'types': []})
    def _func_to_number(self, arg):
        if isinstance(arg, (list, dict, bool)):
            return None
        elif arg is None:
            return None
        elif isinstance(arg, (int, float)):
            return arg
        else:
            try:
                if '.' in arg:
                    return float(arg)
                else:
                    return int(arg)
            except ValueError:
                return None

    @signature({'types': ['array', 'string']}, {'types': []})
    def _func_contains(self, subject, search):
        return search in subject

    @signature({'types': ['string', 'array', 'object']})
    def _func_length(self, arg):
        return len(arg)

    @signature({'types': ['string']}, {'types': ['string']})
    def _func_ends_with(self, search, suffix):
        return search.endswith(suffix)

    @signature({'types': ['string']}, {'types': ['string']})
    def _func_starts_with(self, search, suffix):
        return search.startswith(suffix)

    @signature({'types': ['array', 'string']})
    def _func_reverse(self, arg):
        if isinstance(arg, STRING_TYPE):
            return arg[::-1]
        else:
            return list(reversed(arg))

    @signature({"types": ['number']})
    def _func_ceil(self, arg):
        return math.ceil(arg)

    @signature({"types": ['number']})
    def _func_floor(self, arg):
        return math.floor(arg)

    @signature({"types": ['string']}, {"types": ['array-string']})
    def _func_join(self, separator, array):
        return separator.join(array)

    @signature({'types': ['expref']}, {'types': ['array']})
    def _func_map(self, expref, arg):
        result = []
        for element in arg:
            result.append(expref.visit(expref.expression, element))
        return result

    @signature({"types": ['array-number', 'array-string']})
    def _func_max(self, arg):
        if arg:
            return max(arg)
        else:
            return None

    @signature({"types": ["object"], "variadic": True})
    def _func_merge(self, *arguments):
        merged = {}
        for arg in arguments:
            merged.update(arg)
        return merged

    @signature({"types": ['array-number', 'array-string']})
    def _func_min(self, arg):
        if arg:
            return min(arg)
        else:
            return None

    @signature({"types": ['array-string', 'array-number']})
    def _func_sort(self, arg):
        return list(sorted(arg))

    @signature({"types": ['array-number']})
    def _func_sum(self, arg):
        return sum(arg)

    @signature({"types": ['object']})
    def _func_keys(self, arg):
        # To be consistent with .values()
        # should we also return the indices of a list?
        return list(arg.keys())

    @signature({"types": ['object']})
    def _func_values(self, arg):
        return list(arg.values())

    @signature({'types': []})
    def _func_type(self, arg):
        if isinstance(arg, STRING_TYPE):
            return "string"
        elif isinstance(arg, bool):
            return "boolean"
        elif isinstance(arg, list):
            return "array"
        elif isinstance(arg, dict):
            return "object"
        elif isinstance(arg, (float, int)):
            return "number"
        elif arg is None:
            return "null"

    @signature({'types': ['array']}, {'types': ['expref']})
    def _func_sort_by(self, array, expref):
        if not array:
            return array
        # sort_by allows for the expref to be either a number of
        # a string, so we have some special logic to handle this.
        # We evaluate the first array element and verify that it's
        # either a string of a number.  We then create a key function
        # that validates that type, which requires that remaining array
        # elements resolve to the same type as the first element.
        required_type = self._convert_to_jmespath_type(
            type(expref.visit(expref.expression, array[0])).__name__)
        if required_type not in ['number', 'string']:
            raise exceptions.JMESPathTypeError(
                'sort_by', array[0], required_type, ['string', 'number'])
        keyfunc = self._create_key_func(expref,
                                        [required_type],
                                        'sort_by')
        return list(sorted(array, key=keyfunc))

    @signature({'types': ['array']}, {'types': ['expref']})
    def _func_min_by(self, array, expref):
        keyfunc = self._create_key_func(expref,
                                        ['number', 'string'],
                                        'min_by')
        return min(array, key=keyfunc)

    @signature({'types': ['array']}, {'types': ['expref']})
    def _func_max_by(self, array, expref):
        keyfunc = self._create_key_func(expref,
                                        ['number', 'string'],
                                        'min_by')
        return max(array, key=keyfunc)

    def _create_key_func(self, expref, allowed_types, function_name):
        def keyfunc(x):
            result = expref.visit(expref.expression, x)
            actual_typename = type(result).__name__
            jmespath_type = self._convert_to_jmespath_type(actual_typename)
            # allowed_types is in term of jmespath types, not python types.
            if jmespath_type not in allowed_types:
                raise exceptions.JMESPathTypeError(
                    function_name, result, jmespath_type, allowed_types)
            return result
        return keyfunc

    def _convert_to_jmespath_type(self, pyobject):
        return TYPES_MAP.get(pyobject, 'unknown')
                                                                                                                                                               usr/local/lib/python2.7/dist-packages/jmespath/functions.pyc                                        0100644 0000000 0000062 00000030546 13077704403 022572  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   s  d  d l  Z  d  d l Z d  d l m Z d  d l m Z d  d l m Z m Z i d d 6d d 6d	 d
 6d d 6d d 6d d 6d d 6d d 6d	 d 6d d 6d d 6Z	 i d d 6d d 6d d	 6d  d 6d! d 6d" d 6d# d 6Z
 d Ñ  Z d e f d Ñ  É  YZ d e e e É f d Ñ  É  YZ d S($   iˇˇˇˇN(   t
   exceptions(   t   string_type(   t   get_methodst   with_metaclasst   booleant   boolt   arrayt   listt   objectt   dictt   nullt   NoneTypet   stringt   unicodet   strt   numbert   floatt   intt   OrderedDictt   _Projectiont   expreft   _Expressiont   Nonec             s   á  f d Ü  } | S(   Nc            s   à  |  _  |  S(   N(   t	   signature(   t   func(   t	   arguments(    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _record_signature&   s    	(    (   R   R   (    (   R   s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR   %   s    t   FunctionRegistryc           B   s   e  Z d  Ñ  Z d Ñ  Z RS(   c         C   s*   |  j  É  t t |  É j | | | É d  S(   N(   t   _populate_function_tablet   superR   t   __init__(   t   clst   namet   basest   attrs(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR   -   s    
c         C   sé   t  |  d i  É } xl t |  É D]^ \ } } | j d É s@ q n  t  | d d  É } | d  k	 r i | d 6| d 6| | d <q q W| |  _ d  S(   Nt   FUNCTION_TABLEt   _func_R   t   functioni   (   t   getattrR   t
   startswithR   R#   (   R   t   function_tableR    t   methodR   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR   1   s    (   t   __name__t
   __module__R   R   (    (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR   ,   s   	t	   Functionsc           B   sı  e  Z i  Z d  Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z e	 i d g d 6É d Ñ  É Z
 e	 i d	 g d 6É d
 Ñ  É Z e	 i g  d 6e d 6É d Ñ  É Z e	 i g  d 6É d Ñ  É Z e	 i g  d 6É d Ñ  É Z e	 i g  d 6É d Ñ  É Z e	 i d d g d 6i g  d 6É d Ñ  É Z e	 i d d d g d 6É d Ñ  É Z e	 i d g d 6i d g d 6É d Ñ  É Z e	 i d g d 6i d g d 6É d Ñ  É Z e	 i d d g d 6É d Ñ  É Z e	 i d g d 6É d Ñ  É Z e	 i d g d 6É d Ñ  É Z e	 i d g d 6i d g d 6É d Ñ  É Z e	 i d g d 6i d g d 6É d Ñ  É Z e	 i d	 d g d 6É d Ñ  É Z e	 i d g d 6e d 6É d Ñ  É Z e	 i d	 d g d 6É d  Ñ  É Z e	 i d d	 g d 6É d! Ñ  É Z e	 i d	 g d 6É d" Ñ  É Z e	 i d g d 6É d# Ñ  É Z e	 i d g d 6É d$ Ñ  É Z  e	 i g  d 6É d% Ñ  É Z! e	 i d g d 6i d g d 6É d& Ñ  É Z" e	 i d g d 6i d g d 6É d' Ñ  É Z# e	 i d g d 6i d g d 6É d( Ñ  É Z$ d) Ñ  Z% d* Ñ  Z& RS(+   c         C   sl   y |  j  | } Wn$ t k
 r7 t j d | É Ç n X| d } | d } |  j | | | É | |  | å S(   Ns   Unknown function: %s()R%   R   (   R#   t   KeyErrorR    t   UnknownFunctionErrort   _validate_arguments(   t   selft   function_namet   resolved_argst   specR%   R   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   call_functionG   s    

c         C   sß   | rX | d j  d É rX t | É t | É k  rî t j t | É t | É | É Ç qî n< t | É t | É k rî t j t | É t | É | É Ç n  |  j | | | É S(   Niˇˇˇˇt   variadic(   t   gett   lenR    t   VariadictArityErrort
   ArityErrort   _type_check(   R0   t   argsR   R1   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR/   R   s    !c         C   sO   xH t  t | É É D]4 } | | d } | r |  j | | | | É q q Wd  S(   Nt   types(   t   rangeR7   t   _type_check_single(   R0   t   actualR   R1   t   it   allowed_types(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR:   \   s
    c         C   sw   |  j  | É \ } } t | É j } | | k rT t j | | |  j | É | É Ç n  | rs |  j | | | | É n  d  S(   N(   t   _get_allowed_pytypest   typeR*   R    t   JMESPathTypeErrort   _convert_to_jmespath_typet   _subtype_check(   R0   t   currentR<   R1   RA   t   allowed_subtypest   actual_typename(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR>   c   s    c         C   sÜ   g  } g  } xm | D]e } | j  d d É } t | É d k r] | \ } } | j t | É n
 | d } | j t | É q W| | f S(   Nt   -i   i   i    (   t   splitR7   t   appendt   REVERSE_TYPES_MAPt   extend(   R0   R<   RA   RH   t   tt   type_t   subtype(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyRB   z   s    
c   
      C   s"  t  | É d k rf | d } xˇ | D]< } t | É j } | | k r# t j | | | | É Ç q# q# Wn∏ t  | É d k r| rt | d É j } x@ | D] } | | k rò | }	 Pqò qò Wt j | | d | | É Ç xG | D]< } t | É j } | |	 k r€ t j | | | | É Ç q€ q€ Wn  d  S(   Ni   i    (   R7   RC   R*   R    RD   (
   R0   RG   RH   R<   R1   t   elementRI   t   firstt   subtypest   allowed(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyRF   á   s(    
R   R<   c         C   s
   t  | É S(   N(   t   abs(   R0   t   arg(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt	   _func_abs£   s    s   array-numberc         C   s(   | r  t  | É t t | É É Sd  Sd  S(   N(   t   sumR   R7   R   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt	   _func_avgß   s    R5   c         G   s%   x | D] } | d  k	 r | Sq Wd  S(   N(   R   (   R0   R   t   argument(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_not_nullÆ   s    c         C   s   t  | t É r | S| g Sd  S(   N(   t
   isinstanceR   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_to_array¥   s    c         C   s0   t  | t É r | St j | d d d t ÉSd  S(   Nt
   separatorst   ,t   :t   default(   R`   Ra   (   R]   t   STRING_TYPEt   jsont   dumpsR   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_to_stringª   s    c         C   sÇ   t  | t t t f É r d  S| d  k r, d  St  | t t f É rE | Sy$ d | k r^ t | É St | É SWn t k
 r} d  SXd  S(   Nt   .(   R]   R   R	   R   R   R   R   t
   ValueError(   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_to_number√   s    
R   R   c         C   s
   | | k S(   N(    (   R0   t   subjectt   search(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_contains‘   s    R   c         C   s
   t  | É S(   N(   R7   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_lengthÿ   s    c         C   s   | j  | É S(   N(   t   endswith(   R0   Rk   t   suffix(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_ends_with‹   s    c         C   s   | j  | É S(   N(   R'   (   R0   Rk   Ro   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_starts_with‡   s    c         C   s4   t  | t É r  | d  d  d Ö St t | É É Sd  S(   Niˇˇˇˇ(   R]   Rc   R   t   reversed(   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_reverse‰   s    c         C   s   t  j | É S(   N(   t   matht   ceil(   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt
   _func_ceilÎ   s    c         C   s   t  j | É S(   N(   Rt   t   floor(   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_floorÔ   s    s   array-stringc         C   s   | j  | É S(   N(   t   join(   R0   t	   separatorR   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt
   _func_joinÛ   s    R   c         C   s7   g  } x* | D]" } | j  | j | j | É É q W| S(   N(   RL   t   visitt
   expression(   R0   R   RW   t   resultRR   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt	   _func_map˜   s     c         C   s   | r t  | É Sd  Sd  S(   N(   t   maxR   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt	   _func_max˛   s    
c         G   s(   i  } x | D] } | j  | É q W| S(   N(   t   update(   R0   R   t   mergedRW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_merge  s    c         C   s   | r t  | É Sd  Sd  S(   N(   t   minR   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt	   _func_min  s    
c         C   s   t  t | É É S(   N(   R   t   sorted(   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt
   _func_sort  s    c         C   s
   t  | É S(   N(   RY   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt	   _func_sum  s    c         C   s   t  | j É  É S(   N(   R   t   keys(   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt
   _func_keys  s    c         C   s   t  | j É  É S(   N(   R   t   values(   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_values!  s    c         C   sy   t  | t É r d St  | t É r& d St  | t É r9 d St  | t É rL d St  | t t f É re d S| d  k ru d Sd  S(   NR   R   R   R   R   R
   (   R]   Rc   R   R   R	   R   R   R   (   R0   RW   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt
   _func_type%  s    c         C   sî   | s
 | S|  j  t | j | j | d É É j É } | d k rf t j d | d | d d g É Ç n  |  j | | g d É } t t	 | d | ÉÉ S(   Ni    R   R   t   sort_byt   key(   s   numbers   string(
   RE   RC   R|   R}   R*   R    RD   t   _create_key_funcR   Rá   (   R0   R   R   t   required_typet   keyfunc(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_sort_by4  s    %		c         C   s+   |  j  | d d g d É } t | d | ÉS(   NR   R   t   min_byRê   (   Rë   RÖ   (   R0   R   R   Rì   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_min_byH  s    			c         C   s+   |  j  | d d g d É } t | d | ÉS(   NR   R   Rï   Rê   (   Rë   RÄ   (   R0   R   R   Rì   (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   _func_max_byO  s    			c            s   á  á á á f d Ü  } | S(   Nc            s^   à j  à j |  É } t | É j } à j | É } | à  k rZ t j à | | à  É Ç n  | S(   N(   R|   R}   RC   R*   RE   R    RD   (   t   xR~   RI   t   jmespath_type(   RA   R   R1   R0   (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyRì   W  s    (    (   R0   R   RA   R1   Rì   (    (   RA   R   R1   R0   s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyRë   V  s    	c         C   s   t  j | d É S(   Nt   unknown(   t	   TYPES_MAPR6   (   R0   t   pyobject(    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyRE   b  s    ('   R*   R+   R#   R4   R/   R:   R>   RB   RF   R   RX   RZ   t   TrueR\   R^   Rf   Ri   Rl   Rm   Rp   Rq   Rs   Rv   Rx   R{   R   RÅ   RÑ   RÜ   Rà   Râ   Rã   Rç   Ré   Rî   Rñ   Ró   Rë   RE   (    (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyR,   B   sF   		
				#,%,,",,"&"",,,	(   s   bool(   s   listR   (   s   dicts   OrderedDict(   s   None(   s   unicodes   str(   s   floats   int(   R   (   Rt   Rd   t   jmespathR    t   jmespath.compatR   Rc   R   R   Rõ   RM   R   RC   R   R   R,   (    (    (    s4   /tmp/pip-build-awuatQ/jmespath/jmespath/functions.pyt   <module>   s6   

	                                                                                                                                                          usr/local/lib/python2.7/dist-packages/jmespath/lexer.py                                             0100644 0000000 0000062 00000017757 13077704376 021560  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        import string
import warnings
from json import loads

from jmespath.exceptions import LexerError, EmptyExpressionError


class Lexer(object):
    START_IDENTIFIER = set(string.ascii_letters + '_')
    VALID_IDENTIFIER = set(string.ascii_letters + string.digits + '_')
    VALID_NUMBER = set(string.digits)
    WHITESPACE = set(" \t\n\r")
    SIMPLE_TOKENS = {
        '.': 'dot',
        '*': 'star',
        ']': 'rbracket',
        ',': 'comma',
        ':': 'colon',
        '@': 'current',
        '(': 'lparen',
        ')': 'rparen',
        '{': 'lbrace',
        '}': 'rbrace',
    }

    def tokenize(self, expression):
        self._initialize_for_expression(expression)
        while self._current is not None:
            if self._current in self.SIMPLE_TOKENS:
                yield {'type': self.SIMPLE_TOKENS[self._current],
                       'value': self._current,
                       'start': self._position, 'end': self._position + 1}
                self._next()
            elif self._current in self.START_IDENTIFIER:
                start = self._position
                buff = self._current
                while self._next() in self.VALID_IDENTIFIER:
                    buff += self._current
                yield {'type': 'unquoted_identifier', 'value': buff,
                       'start': start, 'end': start + len(buff)}
            elif self._current in self.WHITESPACE:
                self._next()
            elif self._current == '[':
                start = self._position
                next_char = self._next()
                if next_char == ']':
                    self._next()
                    yield {'type': 'flatten', 'value': '[]',
                           'start': start, 'end': start + 2}
                elif next_char == '?':
                    self._next()
                    yield {'type': 'filter', 'value': '[?',
                           'start': start, 'end': start + 2}
                else:
                    yield {'type': 'lbracket', 'value': '[',
                           'start': start, 'end': start + 1}
            elif self._current == "'":
                yield self._consume_raw_string_literal()
            elif self._current == '|':
                yield self._match_or_else('|', 'or', 'pipe')
            elif self._current == '&':
                yield self._match_or_else('&', 'and', 'expref')
            elif self._current == '`':
                yield self._consume_literal()
            elif self._current in self.VALID_NUMBER:
                start = self._position
                buff = self._consume_number()
                yield {'type': 'number', 'value': int(buff),
                       'start': start, 'end': start + len(buff)}
            elif self._current == '-':
                # Negative number.
                start = self._position
                buff = self._consume_number()
                if len(buff) > 1:
                    yield {'type': 'number', 'value': int(buff),
                           'start': start, 'end': start + len(buff)}
                else:
                    raise LexerError(lexer_position=start,
                                     lexer_value=buff,
                                     message="Unknown token '%s'" % buff)
            elif self._current == '"':
                yield self._consume_quoted_identifier()
            elif self._current == '<':
                yield self._match_or_else('=', 'lte', 'lt')
            elif self._current == '>':
                yield self._match_or_else('=', 'gte', 'gt')
            elif self._current == '!':
                yield self._match_or_else('=', 'ne', 'not')
            elif self._current == '=':
                if self._next() == '=':
                    yield {'type': 'eq', 'value': '==',
                        'start': self._position - 1, 'end': self._position}
                    self._next()
                else:
                    raise LexerError(
                        lexer_position=self._position - 1,
                        lexer_value='=',
                        message="Unknown token =")
            else:
                raise LexerError(lexer_position=self._position,
                                 lexer_value=self._current,
                                 message="Unknown token %s" % self._current)
        yield {'type': 'eof', 'value': '',
               'start': self._length, 'end': self._length}

    def _consume_number(self):
        start = self._position
        buff = self._current
        while self._next() in self.VALID_NUMBER:
            buff += self._current
        return buff

    def _initialize_for_expression(self, expression):
        if not expression:
            raise EmptyExpressionError()
        self._position = 0
        self._expression = expression
        self._chars = list(self._expression)
        self._current = self._chars[self._position]
        self._length = len(self._expression)

    def _next(self):
        if self._position == self._length - 1:
            self._current = None
        else:
            self._position += 1
            self._current = self._chars[self._position]
        return self._current

    def _consume_until(self, delimiter):
        # Consume until the delimiter is reached,
        # allowing for the delimiter to be escaped with "\".
        start = self._position
        buff = ''
        self._next()
        while self._current != delimiter:
            if self._current == '\\':
                buff += '\\'
                self._next()
            if self._current is None:
                raise LexerError(lexer_position=start,
                                 lexer_value=self._expression,
                                 message="Unclosed %s delimiter" % delimiter)
            buff += self._current
            self._next()
        # Skip the closing delimiter.
        self._next()
        return buff

    def _consume_literal(self):
        start = self._position
        lexeme = self._consume_until('`').replace('\\`', '`')
        try:
            # Assume it is valid JSON and attempt to parse.
            parsed_json = loads(lexeme)
        except ValueError:
            try:
                # Invalid JSON values should be converted to quoted
                # JSON strings during the JEP-12 deprecation period.
                parsed_json = loads('"%s"' % lexeme.lstrip())
                warnings.warn("deprecated string literal syntax",
                              PendingDeprecationWarning)
            except ValueError:
                raise LexerError(lexer_position=start,
                                 lexer_value=self._expression,
                                 message="Bad token %s" % lexeme)
        token_len = self._position - start
        return {'type': 'literal', 'value': parsed_json,
                'start': start, 'end': token_len}

    def _consume_quoted_identifier(self):
        start = self._position
        lexeme = '"' + self._consume_until('"') + '"'
        try:
            token_len = self._position - start
            return {'type': 'quoted_identifier', 'value': loads(lexeme),
                    'start': start, 'end': token_len}
        except ValueError as e:
            error_message = str(e).split(':')[0]
            raise LexerError(lexer_position=start,
                             lexer_value=lexeme,
                             message=error_message)

    def _consume_raw_string_literal(self):
        start = self._position
        lexeme = self._consume_until("'").replace("\\'", "'")
        token_len = self._position - start
        return {'type': 'literal', 'value': lexeme,
                'start': start, 'end': token_len}

    def _match_or_else(self, expected, match_type, else_type):
        start = self._position
        current = self._current
        next_char = self._next()
        if next_char == expected:
            self._next()
            return {'type': match_type, 'value': current + next_char,
                    'start': start, 'end': start + 1}
        return {'type': else_type, 'value': current,
                'start': start, 'end': start}
                 usr/local/lib/python2.7/dist-packages/jmespath/lexer.pyc                                            0100644 0000000 0000062 00000014254 13077704403 021677  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   sX   d  d l  Z  d  d l Z d  d l m Z d  d l m Z m Z d e f d Ñ  É  YZ d S(   iˇˇˇˇN(   t   loads(   t
   LexerErrort   EmptyExpressionErrort   Lexerc           B   sÌ   e  Z e e j d  É Z e e j e j d  É Z e e j É Z e d É Z	 i
 d d 6d d 6d d 6d d	 6d
 d 6d d 6d d 6d d 6d d 6d d 6Z
 d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   t   _s    	
t   dott   .t   start   *t   rbrackett   ]t   commat   ,t   colont   :t   currentt   @t   lparent   (t   rparent   )t   lbracet   {t   rbracet   }c         c   s©  |  j  | É xn|  j d  k	 r}|  j |  j k rv i |  j |  j d 6|  j d 6|  j d 6|  j d d 6V|  j É  q |  j |  j k rÒ |  j } |  j } x& |  j É  |  j k r¬ | |  j 7} qù Wi d d 6| d 6| d 6| t | É d 6Vq |  j |  j	 k r|  j É  q |  j d k rÿ|  j } |  j É  } | d k rr|  j É  i d	 d 6d
 d 6| d 6| d d 6Vqz| d k r∞|  j É  i d d 6d d 6| d 6| d d 6Vqzi d d 6d d 6| d 6| d d 6Vq |  j d k rı|  j
 É  Vq |  j d k r|  j d d d É Vq |  j d k rA|  j d d d É Vq |  j d k r^|  j É  Vq |  j |  j k rπ|  j } |  j É  } i d d 6t | É d 6| d 6| t | É d 6Vq |  j d k rE|  j } |  j É  } t | É d k r#i d d 6t | É d 6| d 6| t | É d 6Vqzt d | d | d d | É Ç q |  j d k rb|  j É  Vq |  j d k rà|  j d  d! d" É Vq |  j d# k rÆ|  j d  d$ d% É Vq |  j d& k r‘|  j d  d' d( É Vq |  j d  k rR|  j É  d  k r-i d) d 6d* d 6|  j d d 6|  j d 6V|  j É  qzt d |  j d d d  d d+ É Ç q t d |  j d |  j d d, |  j É Ç q Wi d- d 6d. d 6|  j d 6|  j d 6Vd  S(/   Nt   typet   valuet   starti   t   endt   unquoted_identifiert   [R
   t   flattens   []i   t   ?t   filters   [?t   lbrackett   't   |t   ort   pipet   &t   andt   expreft   `t   numbert   -t   lexer_positiont   lexer_valuet   messages   Unknown token '%s't   "t   <t   =t   ltet   ltt   >t   gtet   gtt   !t   net   nott   eqs   ==s   Unknown token =s   Unknown token %st   eoft    (   t   _initialize_for_expressiont   _currentt   Nonet   SIMPLE_TOKENSt	   _positiont   _nextt   START_IDENTIFIERt   VALID_IDENTIFIERt   lent
   WHITESPACEt   _consume_raw_string_literalt   _match_or_elset   _consume_literalt   VALID_NUMBERt   _consume_numbert   intR   t   _consume_quoted_identifiert   _length(   t   selft
   expressionR   t   bufft	   next_char(    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyt   tokenize   sí    
			

			c         C   s?   |  j  } |  j } x& |  j É  |  j k r: | |  j 7} q W| S(   N(   RB   R?   RC   RK   (   RP   R   RR   (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyRL   j   s
    		c         C   s_   | s t  É  Ç n  d |  _ | |  _ t |  j É |  _ |  j |  j |  _ t |  j É |  _ d  S(   Ni    (   R   RB   t   _expressiont   listt   _charsR?   RF   RO   (   RP   RQ   (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyR>   q   s    		c         C   sK   |  j  |  j d k r" d  |  _ n" |  j  d 7_  |  j |  j  |  _ |  j S(   Ni   (   RB   RO   R@   R?   RW   (   RP   (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyRC   z   s
    c         C   sÆ   |  j  } d } |  j É  xÑ |  j | k rü |  j d k rQ | d 7} |  j É  n  |  j d  k rÖ t d | d |  j d d | É Ç n  | |  j 7} |  j É  q W|  j É  | S(   NR=   s   \R-   R.   R/   s   Unclosed %s delimiter(   RB   RC   R?   R@   R   RU   (   RP   t	   delimiterR   RR   (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyt   _consume_untilÇ   s    	

	
c         C   s’   |  j  } |  j d É j d d É } y t | É } Wnq t k
 rß y* t d | j É  É } t j d t É Wq® t k
 r£ t	 d | d |  j
 d d | É Ç q® Xn X|  j  | } i d	 d
 6| d 6| d 6| d 6S(   NR*   s   \`s   "%s"s    deprecated string literal syntaxR-   R.   R/   s   Bad token %st   literalR   R   R   R   (   RB   RY   t   replaceR    t
   ValueErrort   lstript   warningst   warnt   PendingDeprecationWarningR   RU   (   RP   R   t   lexemet   parsed_jsont	   token_len(    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyRJ   ñ   s     			c         C   s•   |  j  } d |  j d É d } y7 |  j  | } i d d 6t | É d 6| d 6| d 6SWnG t k
 r† } t | É j d É d } t d	 | d
 | d | É Ç n Xd  S(   NR0   t   quoted_identifierR   R   R   R   R   i    R-   R.   R/   (   RB   RY   R    R\   t   strt   splitR   (   RP   R   Ra   Rc   t   et   error_message(    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyRN   ´   s    	c         C   sQ   |  j  } |  j d É j d d É } |  j  | } i d d 6| d 6| d 6| d 6S(   NR#   s   \'RZ   R   R   R   R   (   RB   RY   R[   (   RP   R   Ra   Rc   (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyRH   ∏   s
    	c         C   s|   |  j  } |  j } |  j É  } | | k r\ |  j É  i | d 6| | d 6| d 6| d d 6Si | d 6| d 6| d 6| d 6S(   NR   R   R   i   R   (   RB   R?   RC   (   RP   t   expectedt
   match_typet	   else_typeR   R   RS   (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyRI   ø   s    		
(   t   __name__t
   __module__t   sett   stringt   ascii_lettersRD   t   digitsRE   RK   RG   RA   RT   RL   R>   RC   RY   RJ   RN   RH   RI   (    (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyR      s0   
	P								(	   Ro   R^   t   jsonR    t   jmespath.exceptionsR   R   t   objectR   (    (    (    s0   /tmp/pip-build-awuatQ/jmespath/jmespath/lexer.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/jmespath/parser.py                                            0100644 0000000 0000062 00000045204 13077704376 021721  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        """Top down operator precedence parser.

This is an implementation of Vaughan R. Pratt's
"Top Down Operator Precedence" parser.
(http://dl.acm.org/citation.cfm?doid=512927.512931).

These are some additional resources that help explain the
general idea behind a Pratt parser:

* http://effbot.org/zone/simple-top-down-parsing.htm
* http://javascript.crockford.com/tdop/tdop.html

A few notes on the implementation.

* All the nud/led tokens are on the Parser class itself, and are dispatched
  using getattr().  This keeps all the parsing logic contained to a single
  class.
* We use two passes through the data.  One to create a list of token,
  then one pass through the tokens to create the AST.  While the lexer actually
  yields tokens, we convert it to a list so we can easily implement two tokens
  of lookahead.  A previous implementation used a fixed circular buffer, but it
  was significantly slower.  Also, the average jmespath expression typically
  does not have a large amount of token so this is not an issue.  And
  interestingly enough, creating a token list first is actually faster than
  consuming from the token iterator one token at a time.

"""
import random

from jmespath import lexer
from jmespath.compat import with_repr_method
from jmespath import ast
from jmespath import exceptions
from jmespath import visitor


class Parser(object):
    BINDING_POWER = {
        'eof': 0,
        'unquoted_identifier': 0,
        'quoted_identifier': 0,
        'literal': 0,
        'rbracket': 0,
        'rparen': 0,
        'comma': 0,
        'rbrace': 0,
        'number': 0,
        'current': 0,
        'expref': 0,
        'colon': 0,
        'pipe': 1,
        'or': 2,
        'and': 3,
        'eq': 5,
        'gt': 5,
        'lt': 5,
        'gte': 5,
        'lte': 5,
        'ne': 5,
        'flatten': 9,
        # Everything above stops a projection.
        'star': 20,
        'filter': 21,
        'dot': 40,
        'not': 45,
        'lbrace': 50,
        'lbracket': 55,
        'lparen': 60,
    }
    # The maximum binding power for a token that can stop
    # a projection.
    _PROJECTION_STOP = 10
    # The _MAX_SIZE most recent expressions are cached in
    # _CACHE dict.
    _CACHE = {}
    _MAX_SIZE = 128

    def __init__(self, lookahead=2):
        self.tokenizer = None
        self._tokens = [None] * lookahead
        self._buffer_size = lookahead
        self._index = 0

    def parse(self, expression):
        cached = self._CACHE.get(expression)
        if cached is not None:
            return cached
        parsed_result = self._do_parse(expression)
        self._CACHE[expression] = parsed_result
        if len(self._CACHE) > self._MAX_SIZE:
            self._free_cache_entries()
        return parsed_result

    def _do_parse(self, expression):
        try:
            return self._parse(expression)
        except exceptions.LexerError as e:
            e.expression = expression
            raise
        except exceptions.IncompleteExpressionError as e:
            e.set_expression(expression)
            raise
        except exceptions.ParseError as e:
            e.expression = expression
            raise

    def _parse(self, expression):
        self.tokenizer = lexer.Lexer().tokenize(expression)
        self._tokens = list(self.tokenizer)
        self._index = 0
        parsed = self._expression(binding_power=0)
        if not self._current_token() == 'eof':
            t = self._lookahead_token(0)
            raise exceptions.ParseError(t['start'], t['value'], t['type'],
                                        "Unexpected token: %s" % t['value'])
        return ParsedResult(expression, parsed)

    def _expression(self, binding_power=0):
        left_token = self._lookahead_token(0)
        self._advance()
        nud_function = getattr(
            self, '_token_nud_%s' % left_token['type'],
            self._error_nud_token)
        left = nud_function(left_token)
        current_token = self._current_token()
        while binding_power < self.BINDING_POWER[current_token]:
            led = getattr(self, '_token_led_%s' % current_token, None)
            if led is None:
                error_token = self._lookahead_token(0)
                self._error_led_token(error_token)
            else:
                self._advance()
                left = led(left)
                current_token = self._current_token()
        return left

    def _token_nud_literal(self, token):
        return ast.literal(token['value'])

    def _token_nud_unquoted_identifier(self, token):
        return ast.field(token['value'])

    def _token_nud_quoted_identifier(self, token):
        field = ast.field(token['value'])
        # You can't have a quoted identifier as a function
        # name.
        if self._current_token() == 'lparen':
            t = self._lookahead_token(0)
            raise exceptions.ParseError(
                0, t['value'], t['type'],
                'Quoted identifier not allowed for function names.')
        return field

    def _token_nud_star(self, token):
        left = ast.identity()
        if self._current_token() == 'rbracket':
            right = ast.identity()
        else:
            right = self._parse_projection_rhs(self.BINDING_POWER['star'])
        return ast.value_projection(left, right)

    def _token_nud_filter(self, token):
        return self._token_led_filter(ast.identity())

    def _token_nud_lbrace(self, token):
        return self._parse_multi_select_hash()

    def _token_nud_lparen(self, token):
        expression = self._expression()
        self._match('rparen')
        return expression

    def _token_nud_flatten(self, token):
        left = ast.flatten(ast.identity())
        right = self._parse_projection_rhs(
            self.BINDING_POWER['flatten'])
        return ast.projection(left, right)

    def _token_nud_not(self, token):
        expr = self._expression(self.BINDING_POWER['not'])
        return ast.not_expression(expr)

    def _token_nud_lbracket(self, token):
        if self._current_token() in ['number', 'colon']:
            right = self._parse_index_expression()
            # We could optimize this and remove the identity() node.
            # We don't really need an index_expression node, we can
            # just use emit an index node here if we're not dealing
            # with a slice.
            return self._project_if_slice(ast.identity(), right)
        elif self._current_token() == 'star' and \
                self._lookahead(1) == 'rbracket':
            self._advance()
            self._advance()
            right = self._parse_projection_rhs(self.BINDING_POWER['star'])
            return ast.projection(ast.identity(), right)
        else:
            return self._parse_multi_select_list()

    def _parse_index_expression(self):
        # We're here:
        # [<current>
        #  ^
        #  | current token
        if (self._lookahead(0) == 'colon' or
                self._lookahead(1) == 'colon'):
            return self._parse_slice_expression()
        else:
            # Parse the syntax [number]
            node = ast.index(self._lookahead_token(0)['value'])
            self._advance()
            self._match('rbracket')
            return node

    def _parse_slice_expression(self):
        # [start:end:step]
        # Where start, end, and step are optional.
        # The last colon is optional as well.
        parts = [None, None, None]
        index = 0
        current_token = self._current_token()
        while not current_token == 'rbracket' and index < 3:
            if current_token == 'colon':
                index += 1
                if index == 3:
                    self._raise_parse_error_for_token(
                        self._lookahead_token(0), 'syntax error')
                self._advance()
            elif current_token == 'number':
                parts[index] = self._lookahead_token(0)['value']
                self._advance()
            else:
                self._raise_parse_error_for_token(
                    self._lookahead_token(0), 'syntax error')
            current_token = self._current_token()
        self._match('rbracket')
        return ast.slice(*parts)

    def _token_nud_current(self, token):
        return ast.current_node()

    def _token_nud_expref(self, token):
        expression = self._expression(self.BINDING_POWER['expref'])
        return ast.expref(expression)

    def _token_led_dot(self, left):
        if not self._current_token() == 'star':
            right = self._parse_dot_rhs(self.BINDING_POWER['dot'])
            if left['type'] == 'subexpression':
                left['children'].append(right)
                return left
            else:
                return ast.subexpression([left, right])
        else:
            # We're creating a projection.
            self._advance()
            right = self._parse_projection_rhs(
                self.BINDING_POWER['dot'])
            return ast.value_projection(left, right)

    def _token_led_pipe(self, left):
        right = self._expression(self.BINDING_POWER['pipe'])
        return ast.pipe(left, right)

    def _token_led_or(self, left):
        right = self._expression(self.BINDING_POWER['or'])
        return ast.or_expression(left, right)

    def _token_led_and(self, left):
        right = self._expression(self.BINDING_POWER['and'])
        return ast.and_expression(left, right)

    def _token_led_lparen(self, left):
        if left['type'] != 'field':
            #  0 - first func arg or closing paren.
            # -1 - '(' token
            # -2 - invalid function "name".
            prev_t = self._lookahead_token(-2)
            raise exceptions.ParseError(
                prev_t['start'], prev_t['value'], prev_t['type'],
                "Invalid function name '%s'" % prev_t['value'])
        name = left['value']
        args = []
        while not self._current_token() == 'rparen':
            expression = self._expression()
            if self._current_token() == 'comma':
                self._match('comma')
            args.append(expression)
        self._match('rparen')
        function_node = ast.function_expression(name, args)
        return function_node

    def _token_led_filter(self, left):
        # Filters are projections.
        condition = self._expression(0)
        self._match('rbracket')
        if self._current_token() == 'flatten':
            right = ast.identity()
        else:
            right = self._parse_projection_rhs(self.BINDING_POWER['filter'])
        return ast.filter_projection(left, right, condition)

    def _token_led_eq(self, left):
        return self._parse_comparator(left, 'eq')

    def _token_led_ne(self, left):
        return self._parse_comparator(left, 'ne')

    def _token_led_gt(self, left):
        return self._parse_comparator(left, 'gt')

    def _token_led_gte(self, left):
        return self._parse_comparator(left, 'gte')

    def _token_led_lt(self, left):
        return self._parse_comparator(left, 'lt')

    def _token_led_lte(self, left):
        return self._parse_comparator(left, 'lte')

    def _token_led_flatten(self, left):
        left = ast.flatten(left)
        right = self._parse_projection_rhs(
            self.BINDING_POWER['flatten'])
        return ast.projection(left, right)

    def _token_led_lbracket(self, left):
        token = self._lookahead_token(0)
        if token['type'] in ['number', 'colon']:
            right = self._parse_index_expression()
            if left['type'] == 'index_expression':
                # Optimization: if the left node is an index expr,
                # we can avoid creating another node and instead just add
                # the right node as a child of the left.
                left['children'].append(right)
                return left
            else:
                return self._project_if_slice(left, right)
        else:
            # We have a projection
            self._match('star')
            self._match('rbracket')
            right = self._parse_projection_rhs(self.BINDING_POWER['star'])
            return ast.projection(left, right)

    def _project_if_slice(self, left, right):
        index_expr = ast.index_expression([left, right])
        if right['type'] == 'slice':
            return ast.projection(
                index_expr,
                self._parse_projection_rhs(self.BINDING_POWER['star']))
        else:
            return index_expr

    def _parse_comparator(self, left, comparator):
        right = self._expression(self.BINDING_POWER[comparator])
        return ast.comparator(comparator, left, right)

    def _parse_multi_select_list(self):
        expressions = []
        while True:
            expression = self._expression()
            expressions.append(expression)
            if self._current_token() == 'rbracket':
                break
            else:
                self._match('comma')
        self._match('rbracket')
        return ast.multi_select_list(expressions)

    def _parse_multi_select_hash(self):
        pairs = []
        while True:
            key_token = self._lookahead_token(0)
            # Before getting the token value, verify it's
            # an identifier.
            self._match_multiple_tokens(
                token_types=['quoted_identifier', 'unquoted_identifier'])
            key_name = key_token['value']
            self._match('colon')
            value = self._expression(0)
            node = ast.key_val_pair(key_name=key_name, node=value)
            pairs.append(node)
            if self._current_token() == 'comma':
                self._match('comma')
            elif self._current_token() == 'rbrace':
                self._match('rbrace')
                break
        return ast.multi_select_dict(nodes=pairs)

    def _parse_projection_rhs(self, binding_power):
        # Parse the right hand side of the projection.
        if self.BINDING_POWER[self._current_token()] < self._PROJECTION_STOP:
            # BP of 10 are all the tokens that stop a projection.
            right = ast.identity()
        elif self._current_token() == 'lbracket':
            right = self._expression(binding_power)
        elif self._current_token() == 'filter':
            right = self._expression(binding_power)
        elif self._current_token() == 'dot':
            self._match('dot')
            right = self._parse_dot_rhs(binding_power)
        else:
            self._raise_parse_error_for_token(self._lookahead_token(0),
                                              'syntax error')
        return right

    def _parse_dot_rhs(self, binding_power):
        # From the grammar:
        # expression '.' ( identifier /
        #                  multi-select-list /
        #                  multi-select-hash /
        #                  function-expression /
        #                  *
        # In terms of tokens that means that after a '.',
        # you can have:
        lookahead = self._current_token()
        # Common case "foo.bar", so first check for an identifier.
        if lookahead in ['quoted_identifier', 'unquoted_identifier', 'star']:
            return self._expression(binding_power)
        elif lookahead == 'lbracket':
            self._match('lbracket')
            return self._parse_multi_select_list()
        elif lookahead == 'lbrace':
            self._match('lbrace')
            return self._parse_multi_select_hash()
        else:
            t = self._lookahead_token(0)
            allowed = ['quoted_identifier', 'unquoted_identifier',
                       'lbracket', 'lbrace']
            msg = (
                "Expecting: %s, got: %s" % (allowed, t['type'])
            )
            self._raise_parse_error_for_token(t, msg)

    def _error_nud_token(self, token):
        if token['type'] == 'eof':
            raise exceptions.IncompleteExpressionError(
                token['start'], token['value'], token['type'])
        self._raise_parse_error_for_token(token, 'invalid token')

    def _error_led_token(self, token):
        self._raise_parse_error_for_token(token, 'invalid token')

    def _match(self, token_type=None):
        # inline'd self._current_token()
        if self._current_token() == token_type:
            # inline'd self._advance()
            self._advance()
        else:
            self._raise_parse_error_maybe_eof(
                token_type, self._lookahead_token(0))

    def _match_multiple_tokens(self, token_types):
        if self._current_token() not in token_types:
            self._raise_parse_error_maybe_eof(
                token_types, self._lookahead_token(0))
        self._advance()

    def _advance(self):
        self._index += 1

    def _current_token(self):
        return self._tokens[self._index]['type']

    def _lookahead(self, number):
        return self._tokens[self._index + number]['type']

    def _lookahead_token(self, number):
        return self._tokens[self._index + number]

    def _raise_parse_error_for_token(self, token, reason):
        lex_position = token['start']
        actual_value = token['value']
        actual_type = token['type']
        raise exceptions.ParseError(lex_position, actual_value,
                                    actual_type, reason)

    def _raise_parse_error_maybe_eof(self, expected_type, token):
        lex_position = token['start']
        actual_value = token['value']
        actual_type = token['type']
        if actual_type == 'eof':
            raise exceptions.IncompleteExpressionError(
                lex_position, actual_value, actual_type)
        message = 'Expecting: %s, got: %s' % (expected_type,
                                              actual_type)
        raise exceptions.ParseError(
            lex_position, actual_value, actual_type, message)

    def _free_cache_entries(self):
        for key in random.sample(self._CACHE.keys(), int(self._MAX_SIZE / 2)):
            del self._CACHE[key]

    @classmethod
    def purge(cls):
        """Clear the expression compilation cache."""
        cls._CACHE.clear()


@with_repr_method
class ParsedResult(object):
    def __init__(self, expression, parsed):
        self.expression = expression
        self.parsed = parsed

    def search(self, value, options=None):
        interpreter = visitor.TreeInterpreter(options)
        result = interpreter.visit(self.parsed, value)
        return result

    def _render_dot_file(self):
        """Render the parsed AST as a dot file.

        Note that this is marked as an internal method because
        the AST is an implementation detail and is subject
        to change.  This method can be used to help troubleshoot
        or for development purposes, but is not considered part
        of the public supported API.  Use at your own risk.

        """
        renderer = visitor.GraphvizVisitor()
        contents = renderer.visit(self.parsed)
        return contents

    def __repr__(self):
        return repr(self.parsed)
                                                                                                                                                                                                                                                                                                                                                                                            usr/local/lib/python2.7/dist-packages/jmespath/parser.pyc                                           0100644 0000000 0000062 00000046253 13077704403 022060  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   sò   d  Z  d d l Z d d l m Z d d l m Z d d l m Z d d l m Z d d l m Z d e	 f d	 Ñ  É  YZ
 e d
 e	 f d Ñ  É  YÉ Z d S(   sã  Top down operator precedence parser.

This is an implementation of Vaughan R. Pratt's
"Top Down Operator Precedence" parser.
(http://dl.acm.org/citation.cfm?doid=512927.512931).

These are some additional resources that help explain the
general idea behind a Pratt parser:

* http://effbot.org/zone/simple-top-down-parsing.htm
* http://javascript.crockford.com/tdop/tdop.html

A few notes on the implementation.

* All the nud/led tokens are on the Parser class itself, and are dispatched
  using getattr().  This keeps all the parsing logic contained to a single
  class.
* We use two passes through the data.  One to create a list of token,
  then one pass through the tokens to create the AST.  While the lexer actually
  yields tokens, we convert it to a list so we can easily implement two tokens
  of lookahead.  A previous implementation used a fixed circular buffer, but it
  was significantly slower.  Also, the average jmespath expression typically
  does not have a large amount of token so this is not an issue.  And
  interestingly enough, creating a token list first is actually faster than
  consuming from the token iterator one token at a time.

iˇˇˇˇN(   t   lexer(   t   with_repr_method(   t   ast(   t
   exceptions(   t   visitort   Parserc           B   s≈  e  Z i d  d 6d  d 6d  d 6d  d 6d  d 6d  d 6d  d 6d  d 6d  d	 6d  d
 6d  d 6d  d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d d 6d  d! 6d" d# 6d$ d% 6d& d' 6d( d) 6Z d* Z i  Z d+ Z d d, Ñ Z d- Ñ  Z d. Ñ  Z d/ Ñ  Z	 d  d0 Ñ Z
 d1 Ñ  Z d2 Ñ  Z d3 Ñ  Z d4 Ñ  Z d5 Ñ  Z d6 Ñ  Z d7 Ñ  Z d8 Ñ  Z d9 Ñ  Z d: Ñ  Z d; Ñ  Z d< Ñ  Z d= Ñ  Z d> Ñ  Z d? Ñ  Z d@ Ñ  Z dA Ñ  Z dB Ñ  Z dC Ñ  Z dD Ñ  Z dE Ñ  Z dF Ñ  Z  dG Ñ  Z! dH Ñ  Z" dI Ñ  Z# dJ Ñ  Z$ dK Ñ  Z% dL Ñ  Z& dM Ñ  Z' dN Ñ  Z( dO Ñ  Z) dP Ñ  Z* dQ Ñ  Z+ dR Ñ  Z, dS Ñ  Z- dT Ñ  Z. d_ dU Ñ Z0 dV Ñ  Z1 dW Ñ  Z2 dX Ñ  Z3 dY Ñ  Z4 dZ Ñ  Z5 d[ Ñ  Z6 d\ Ñ  Z7 d] Ñ  Z8 e9 d^ Ñ  É Z: RS(`   i    t   eoft   unquoted_identifiert   quoted_identifiert   literalt   rbrackett   rparent   commat   rbracet   numbert   currentt   expreft   coloni   t   pipei   t   ori   t   andi   t   eqt   gtt   ltt   gtet   ltet   nei	   t   flatteni   t   stari   t   filteri(   t   doti-   t   noti2   t   lbracei7   t   lbracketi<   t   lpareni
   iÄ   c         C   s/   d  |  _ d  g | |  _ | |  _ d |  _ d  S(   Ni    (   t   Nonet	   tokenizert   _tokenst   _buffer_sizet   _index(   t   selft	   lookahead(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   __init__N   s    		c         C   sg   |  j  j | É } | d  k	 r" | S|  j | É } | |  j  | <t |  j  É |  j k rc |  j É  n  | S(   N(   t   _CACHEt   getR#   t	   _do_parset   lent	   _MAX_SIZEt   _free_cache_entries(   R(   t
   expressiont   cachedt   parsed_result(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   parseT   s    c         C   sÄ   y |  j  | É SWnh t j k
 r5 } | | _ Ç  nG t j k
 rZ } | j | É Ç  n" t j k
 r{ } | | _ Ç  n Xd  S(   N(   t   _parseR   t
   LexerErrorR1   t   IncompleteExpressionErrort   set_expressiont
   ParseError(   R(   R1   t   e(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR-   ^   s    		c         C   s¢   t  j É  j | É |  _ t |  j É |  _ d |  _ |  j d d É } |  j É  d k sï |  j	 d É } t
 j | d | d | d d | d É Ç n  t | | É S(   Ni    t   binding_powerR   t   startt   valuet   types   Unexpected token: %s(   R    t   Lexert   tokenizeR$   t   listR%   R'   t   _expressiont   _current_tokent   _lookahead_tokenR   R9   t   ParsedResult(   R(   R1   t   parsedt   t(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR5   k   s    	c         C   sœ   |  j  d É } |  j É  t |  d | d |  j É } | | É } |  j É  } xz | |  j | k  r  t |  d | d  É } | d  k r• |  j  d É } |  j | É qQ |  j É  | | É } |  j É  } qQ W| S(   Ni    s   _token_nud_%sR>   s   _token_led_%s(   RD   t   _advancet   getattrt   _error_nud_tokenRC   t   BINDING_POWERR#   t   _error_led_token(   R(   R;   t
   left_tokent   nud_functiont   leftt   current_tokent   ledt   error_token(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRB   v   s     

c         C   s   t  j | d É S(   NR=   (   R   R	   (   R(   t   token(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_literalâ   s    c         C   s   t  j | d É S(   NR=   (   R   t   field(   R(   RS   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_unquoted_identifierå   s    c         C   s[   t  j | d É } |  j É  d k rW |  j d É } t j d | d | d d É Ç n  | S(   NR=   R"   i    R>   s1   Quoted identifier not allowed for function names.(   R   RU   RC   RD   R   R9   (   R(   RS   RU   RG   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_quoted_identifierè   s    c         C   sS   t  j É  } |  j É  d k r- t  j É  } n |  j |  j d É } t  j | | É S(   NR
   R   (   R   t   identityRC   t   _parse_projection_rhsRK   t   value_projection(   R(   RS   RO   t   right(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_starö   s
    c         C   s   |  j  t j É  É S(   N(   t   _token_led_filterR   RX   (   R(   RS   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_filter¢   s    c         C   s
   |  j  É  S(   N(   t   _parse_multi_select_hash(   R(   RS   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_lbrace•   s    c         C   s   |  j  É  } |  j d É | S(   NR   (   RB   t   _match(   R(   RS   R1   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_lparen®   s    c         C   s;   t  j t  j É  É } |  j |  j d É } t  j | | É S(   NR   (   R   R   RX   RY   RK   t
   projection(   R(   RS   RO   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_flatten≠   s    c         C   s#   |  j  |  j d É } t j | É S(   NR   (   RB   RK   R   t   not_expression(   R(   RS   t   expr(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_not≥   s    c         C   s©   |  j  É  d k r4 |  j É  } |  j t j É  | É S|  j  É  d k rõ |  j d É d k rõ |  j É  |  j É  |  j |  j d É } t j	 t j É  | É S|  j
 É  Sd  S(   NR   R   R   i   R
   (   s   numberR   (   RC   t   _parse_index_expressiont   _project_if_sliceR   RX   t
   _lookaheadRH   RY   RK   Rc   t   _parse_multi_select_list(   R(   RS   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_lbracket∑   s    

c         C   so   |  j  d É d k s* |  j  d É d k r4 |  j É  St j |  j d É d É } |  j É  |  j d É | Sd  S(   Ni    R   i   R=   R
   (   Rj   t   _parse_slice_expressionR   t   indexRD   RH   Ra   (   R(   t   node(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRh   »   s    

c         C   s˚   d  d  d  g } d } |  j É  } xΩ | d k r‡ | d k  r‡ | d k rà | d 7} | d k r{ |  j |  j d É d É n  |  j É  nI | d k r∏ |  j d É d | | <|  j É  n |  j |  j d É d É |  j É  } q$ W|  j d É t j | å  S(	   Ni    R
   i   R   i   s   syntax errorR   R=   (   R#   RC   t   _raise_parse_error_for_tokenRD   RH   Ra   R   t   slice(   R(   t   partsRn   RP   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRm   ◊   s$    
c         C   s
   t  j É  S(   N(   R   t   current_node(   R(   RS   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_currentÔ   s    c         C   s#   |  j  |  j d É } t j | É S(   NR   (   RB   RK   R   R   (   R(   RS   R1   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_nud_exprefÚ   s    c         C   só   |  j  É  d k sc |  j |  j d É } | d d k rM | d j | É | St j | | g É Sn0 |  j É  |  j |  j d É } t j | | É Sd  S(   NR   R   R>   t   subexpressiont   children(	   RC   t   _parse_dot_rhsRK   t   appendR   Rv   RH   RY   RZ   (   R(   RO   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_dotˆ   s    
c         C   s&   |  j  |  j d É } t j | | É S(   NR   (   RB   RK   R   R   (   R(   RO   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_pipe  s    c         C   s&   |  j  |  j d É } t j | | É S(   NR   (   RB   RK   R   t   or_expression(   R(   RO   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_or	  s    c         C   s&   |  j  |  j d É } t j | | É S(   NR   (   RB   RK   R   t   and_expression(   R(   RO   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_and  s    c         C   s’   | d d k rN |  j  d É } t j | d | d | d d | d É Ç n  | d } g  } xQ |  j É  d k s± |  j É  } |  j É  d k r° |  j d É n  | j | É qa W|  j d É t j | | É } | S(	   NR>   RU   i˛ˇˇˇR<   R=   s   Invalid function name '%s'R   R   (	   RD   R   R9   RC   RB   Ra   Ry   R   t   function_expression(   R(   RO   t   prev_tt   namet   argsR1   t   function_node(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_lparen  s    
c         C   sf   |  j  d É } |  j d É |  j É  d k r= t j É  } n |  j |  j d É } t j | | | É S(   Ni    R
   R   R   (   RB   Ra   RC   R   RX   RY   RK   t   filter_projection(   R(   RO   t	   conditionR[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR]   %  s    c         C   s   |  j  | d É S(   NR   (   t   _parse_comparator(   R(   RO   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_eq/  s    c         C   s   |  j  | d É S(   NR   (   Rà   (   R(   RO   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_ne2  s    c         C   s   |  j  | d É S(   NR   (   Rà   (   R(   RO   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_gt5  s    c         C   s   |  j  | d É S(   NR   (   Rà   (   R(   RO   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_gte8  s    c         C   s   |  j  | d É S(   NR   (   Rà   (   R(   RO   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_lt;  s    c         C   s   |  j  | d É S(   NR   (   Rà   (   R(   RO   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_lte>  s    c         C   s5   t  j | É } |  j |  j d É } t  j | | É S(   NR   (   R   R   RY   RK   Rc   (   R(   RO   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_flattenA  s    c         C   sß   |  j  d É } | d d	 k rc |  j É  } | d d k rP | d j | É | S|  j | | É Sn@ |  j d É |  j d É |  j |  j d É } t j | | É Sd  S(
   Ni    R>   R   R   t   index_expressionRw   R   R
   (   s   numbers   colon(	   RD   Rh   Ry   Ri   Ra   RY   RK   R   Rc   (   R(   RO   RS   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _token_led_lbracketG  s    c         C   sM   t  j | | g É } | d d k rE t  j | |  j |  j d É É S| Sd  S(   NR>   Rq   R   (   R   Rê   Rc   RY   RK   (   R(   RO   R[   t
   index_expr(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRi   Z  s    c         C   s)   |  j  |  j | É } t j | | | É S(   N(   RB   RK   R   t
   comparator(   R(   RO   Rì   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRà   c  s    c         C   si   g  } xF t  rN |  j É  } | j | É |  j É  d k r> Pq	 |  j d É q	 W|  j d É t j | É S(   NR
   R   (   t   TrueRB   Ry   RC   Ra   R   t   multi_select_list(   R(   t   expressionsR1   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRk   g  s    	c         C   sÿ   g  } xø t  r« |  j d É } |  j d d d g É | d } |  j d É |  j d É } t j d | d | É } | j | É |  j É  d	 k r° |  j d	 É q	 |  j É  d
 k r	 |  j d
 É Pq	 q	 Wt j	 d | É S(   Ni    t   token_typesR   R   R=   R   t   key_nameRo   R   R   t   nodes(
   Rî   RD   t   _match_multiple_tokensRa   RB   R   t   key_val_pairRy   RC   t   multi_select_dict(   R(   t   pairst	   key_tokenRò   R=   Ro   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR_   s  s     		
c         C   s¡   |  j  |  j É  |  j k  r+ t j É  } ní |  j É  d k rO |  j | É } nn |  j É  d k rs |  j | É } nJ |  j É  d k r§ |  j d É |  j | É } n |  j |  j	 d É d É | S(   NR!   R   R   i    s   syntax error(
   RK   RC   t   _PROJECTION_STOPR   RX   RB   Ra   Rx   Rp   RD   (   R(   R;   R[   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRY   á  s    c         C   s¥   |  j  É  } | d	 k r% |  j | É S| d k rH |  j d É |  j É  S| d k rk |  j d É |  j É  S|  j d É } d d d d g } d | | d f } |  j | | É d  S(
   NR   R   R   R!   R    i    s   Expecting: %s, got: %sR>   (   s   quoted_identifiers   unquoted_identifiers   star(   RC   RB   Ra   Rk   R_   RD   Rp   (   R(   R;   R)   RG   t   allowedt   msg(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRx   ò  s    	

c         C   sH   | d d k r4 t  j | d | d | d É Ç n  |  j | d É d  S(   NR>   R   R<   R=   s   invalid token(   R   R7   Rp   (   R(   RS   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRJ   ¥  s    c         C   s   |  j  | d É d  S(   Ns   invalid token(   Rp   (   R(   RS   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRL   ∫  s    c         C   s<   |  j  É  | k r |  j É  n |  j | |  j d É É d  S(   Ni    (   RC   RH   t   _raise_parse_error_maybe_eofRD   (   R(   t
   token_type(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRa   Ω  s    c         C   s<   |  j  É  | k r. |  j | |  j d É É n  |  j É  d  S(   Ni    (   RC   R¢   RD   RH   (   R(   Ró   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRö   ∆  s    c         C   s   |  j  d 7_  d  S(   Ni   (   R'   (   R(   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRH   Ã  s    c         C   s   |  j  |  j d S(   NR>   (   R%   R'   (   R(   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRC   œ  s    c         C   s   |  j  |  j | d S(   NR>   (   R%   R'   (   R(   R   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRj   “  s    c         C   s   |  j  |  j | S(   N(   R%   R'   (   R(   R   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRD   ’  s    c         C   s:   | d } | d } | d } t  j | | | | É Ç d  S(   NR<   R=   R>   (   R   R9   (   R(   RS   t   reasont   lex_positiont   actual_valuet   actual_type(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRp   ÿ  s
    


c         C   sn   | d } | d } | d } | d k rB t  j | | | É Ç n  d | | f } t  j | | | | É Ç d  S(   NR<   R=   R>   R   s   Expecting: %s, got: %s(   R   R7   R9   (   R(   t   expected_typeRS   R•   R¶   Rß   t   message(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR¢   ﬂ  s    



c         C   sA   x: t  j |  j j É  t |  j d É É D] } |  j | =q) Wd  S(   Ni   (   t   randomt   sampleR+   t   keyst   intR/   (   R(   t   key(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR0   Î  s    /c         C   s   |  j  j É  d S(   s'   Clear the expression compilation cache.N(   R+   t   clear(   t   cls(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   purgeÔ  s    N(;   t   __name__t
   __module__RK   Rü   R+   R/   R*   R4   R-   R5   RB   RT   RV   RW   R\   R^   R`   Rb   Rd   Rg   Rl   Rh   Rm   Rt   Ru   Rz   R{   R}   R   RÖ   R]   Râ   Rä   Rã   Rå   Rç   Ré   Rè   Rë   Ri   Rà   Rk   R_   RY   Rx   RJ   RL   R#   Ra   Rö   RH   RC   Rj   RD   Rp   R¢   R0   t   classmethodR±   (    (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR   %   s®   
	
																						
																										RE   c           B   s/   e  Z d  Ñ  Z d d Ñ Z d Ñ  Z d Ñ  Z RS(   c         C   s   | |  _  | |  _ d  S(   N(   R1   RF   (   R(   R1   RF   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyR*   ˜  s    	c         C   s(   t  j | É } | j |  j | É } | S(   N(   R   t   TreeInterpretert   visitRF   (   R(   R=   t   optionst   interpretert   result(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   search˚  s    c         C   s"   t  j É  } | j |  j É } | S(   sf  Render the parsed AST as a dot file.

        Note that this is marked as an internal method because
        the AST is an implementation detail and is subject
        to change.  This method can be used to help troubleshoot
        or for development purposes, but is not considered part
        of the public supported API.  Use at your own risk.

        (   R   t   GraphvizVisitorR∂   RF   (   R(   t   renderert   contents(    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   _render_dot_file   s    
c         C   s   t  |  j É S(   N(   t   reprRF   (   R(   (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   __repr__  s    N(   R≤   R≥   R*   R#   R∫   Ræ   R¿   (    (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyRE   ı  s   		(   t   __doc__R™   t   jmespathR    t   jmespath.compatR   R   R   R   t   objectR   RE   (    (    (    s1   /tmp/pip-build-awuatQ/jmespath/jmespath/parser.pyt   <module>   s   ˇ —                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/jmespath/visitor.py                                           0100644 0000000 0000062 00000024773 13077704376 022134  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        import operator

from jmespath import functions
from jmespath.compat import string_type


def _equals(x, y):
    if _is_special_integer_case(x, y):
        return False
    else:
        return x == y


def _is_special_integer_case(x, y):
    # We need to special case comparing 0 or 1 to
    # True/False.  While normally comparing any
    # integer other than 0/1 to True/False will always
    # return False.  However 0/1 have this:
    # >>> 0 == True
    # False
    # >>> 0 == False
    # True
    # >>> 1 == True
    # True
    # >>> 1 == False
    # False
    #
    # Also need to consider that:
    # >>> 0 in [True, False]
    # True
    if x is 0 or x is 1:
        return y is True or y is False
    elif y is 0 or y is 1:
        return x is True or x is False


def _is_comparable(x):
    # The spec doesn't officially support string types yet,
    # but enough people are relying on this behavior that
    # it's been added back.  This should eventually become
    # part of the official spec.
    return _is_actual_number(x) or isinstance(x, string_type)


def _is_actual_number(x):
    # We need to handle python's quirkiness with booleans,
    # specifically:
    #
    # >>> isinstance(False, int)
    # True
    # >>> isinstance(True, int)
    # True
    if x is True or x is False:
        return False
    return isinstance(x, (float, int))


class Options(object):
    """Options to control how a JMESPath function is evaluated."""
    def __init__(self, dict_cls=None, custom_functions=None):
        #: The class to use when creating a dict.  The interpreter
        #  may create dictionaries during the evalution of a JMESPath
        #  expression.  For example, a multi-select hash will
        #  create a dictionary.  By default we use a dict() type.
        #  You can set this value to change what dict type is used.
        #  The most common reason you would change this is if you
        #  want to set a collections.OrderedDict so that you can
        #  have predictible key ordering.
        self.dict_cls = dict_cls
        self.custom_functions = custom_functions


class _Expression(object):
    def __init__(self, expression, interpreter):
        self.expression = expression
        self.interpreter = interpreter

    def visit(self, node, *args, **kwargs):
        return self.interpreter.visit(node, *args, **kwargs)


class Visitor(object):
    def __init__(self):
        self._method_cache = {}

    def visit(self, node, *args, **kwargs):
        node_type = node['type']
        method = self._method_cache.get(node_type)
        if method is None:
            method = getattr(
                self, 'visit_%s' % node['type'], self.default_visit)
            self._method_cache[node_type] = method
        return method(node, *args, **kwargs)

    def default_visit(self, node, *args, **kwargs):
        raise NotImplementedError("default_visit")


class TreeInterpreter(Visitor):
    COMPARATOR_FUNC = {
        'eq': _equals,
        'ne': lambda x, y: not _equals(x, y),
        'lt': operator.lt,
        'gt': operator.gt,
        'lte': operator.le,
        'gte': operator.ge
    }
    _EQUALITY_OPS = ['eq', 'ne']
    MAP_TYPE = dict

    def __init__(self, options=None):
        super(TreeInterpreter, self).__init__()
        self._dict_cls = self.MAP_TYPE
        if options is None:
            options = Options()
        self._options = options
        if options.dict_cls is not None:
            self._dict_cls = self._options.dict_cls
        if options.custom_functions is not None:
            self._functions = self._options.custom_functions
        else:
            self._functions = functions.Functions()

    def default_visit(self, node, *args, **kwargs):
        raise NotImplementedError(node['type'])

    def visit_subexpression(self, node, value):
        result = value
        for node in node['children']:
            result = self.visit(node, result)
        return result

    def visit_field(self, node, value):
        try:
            return value.get(node['value'])
        except AttributeError:
            return None

    def visit_comparator(self, node, value):
        # Common case: comparator is == or !=
        comparator_func = self.COMPARATOR_FUNC[node['value']]
        if node['value'] in self._EQUALITY_OPS:
            return comparator_func(
                self.visit(node['children'][0], value),
                self.visit(node['children'][1], value)
            )
        else:
            # Ordering operators are only valid for numbers.
            # Evaluating any other type with a comparison operator
            # will yield a None value.
            left = self.visit(node['children'][0], value)
            right = self.visit(node['children'][1], value)
            num_types = (int, float)
            if not (_is_comparable(left) and
                    _is_comparable(right)):
                return None
            return comparator_func(left, right)

    def visit_current(self, node, value):
        return value

    def visit_expref(self, node, value):
        return _Expression(node['children'][0], self)

    def visit_function_expression(self, node, value):
        resolved_args = []
        for child in node['children']:
            current = self.visit(child, value)
            resolved_args.append(current)
        return self._functions.call_function(node['value'], resolved_args)

    def visit_filter_projection(self, node, value):
        base = self.visit(node['children'][0], value)
        if not isinstance(base, list):
            return None
        comparator_node = node['children'][2]
        collected = []
        for element in base:
            if self._is_true(self.visit(comparator_node, element)):
                current = self.visit(node['children'][1], element)
                if current is not None:
                    collected.append(current)
        return collected

    def visit_flatten(self, node, value):
        base = self.visit(node['children'][0], value)
        if not isinstance(base, list):
            # Can't flatten the object if it's not a list.
            return None
        merged_list = []
        for element in base:
            if isinstance(element, list):
                merged_list.extend(element)
            else:
                merged_list.append(element)
        return merged_list

    def visit_identity(self, node, value):
        return value

    def visit_index(self, node, value):
        # Even though we can index strings, we don't
        # want to support that.
        if not isinstance(value, list):
            return None
        try:
            return value[node['value']]
        except IndexError:
            return None

    def visit_index_expression(self, node, value):
        result = value
        for node in node['children']:
            result = self.visit(node, result)
        return result

    def visit_slice(self, node, value):
        if not isinstance(value, list):
            return None
        s = slice(*node['children'])
        return value[s]

    def visit_key_val_pair(self, node, value):
        return self.visit(node['children'][0], value)

    def visit_literal(self, node, value):
        return node['value']

    def visit_multi_select_dict(self, node, value):
        if value is None:
            return None
        collected = self._dict_cls()
        for child in node['children']:
            collected[child['value']] = self.visit(child, value)
        return collected

    def visit_multi_select_list(self, node, value):
        if value is None:
            return None
        collected = []
        for child in node['children']:
            collected.append(self.visit(child, value))
        return collected

    def visit_or_expression(self, node, value):
        matched = self.visit(node['children'][0], value)
        if self._is_false(matched):
            matched = self.visit(node['children'][1], value)
        return matched

    def visit_and_expression(self, node, value):
        matched = self.visit(node['children'][0], value)
        if self._is_false(matched):
            return matched
        return self.visit(node['children'][1], value)

    def visit_not_expression(self, node, value):
        original_result = self.visit(node['children'][0], value)
        if original_result is 0:
            # Special case for 0, !0 should be false, not true.
            # 0 is not a special cased integer in jmespath.
            return False
        return not original_result

    def visit_pipe(self, node, value):
        result = value
        for node in node['children']:
            result = self.visit(node, result)
        return result

    def visit_projection(self, node, value):
        base = self.visit(node['children'][0], value)
        if not isinstance(base, list):
            return None
        collected = []
        for element in base:
            current = self.visit(node['children'][1], element)
            if current is not None:
                collected.append(current)
        return collected

    def visit_value_projection(self, node, value):
        base = self.visit(node['children'][0], value)
        try:
            base = base.values()
        except AttributeError:
            return None
        collected = []
        for element in base:
            current = self.visit(node['children'][1], element)
            if current is not None:
                collected.append(current)
        return collected

    def _is_false(self, value):
        # This looks weird, but we're explicitly using equality checks
        # because the truth/false values are different between
        # python and jmespath.
        return (value == '' or value == [] or value == {} or value is None or
                value is False)

    def _is_true(self, value):
        return not self._is_false(value)


class GraphvizVisitor(Visitor):
    def __init__(self):
        super(GraphvizVisitor, self).__init__()
        self._lines = []
        self._count = 1

    def visit(self, node, *args, **kwargs):
        self._lines.append('digraph AST {')
        current = '%s%s' % (node['type'], self._count)
        self._count += 1
        self._visit(node, current)
        self._lines.append('}')
        return '\n'.join(self._lines)

    def _visit(self, node, current):
        self._lines.append('%s [label="%s(%s)"]' % (
            current, node['type'], node.get('value', '')))
        for child in node.get('children', []):
            child_name = '%s%s' % (child['type'], self._count)
            self._count += 1
            self._lines.append('  %s -> %s' % (current, child_name))
            self._visit(child, child_name)
     usr/local/lib/python2.7/dist-packages/jmespath/visitor.pyc                                          0100644 0000000 0000062 00000030042 13077704403 022250  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
˛àˇXc           @   s¬   d  d l  Z  d  d l m Z d  d l m Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d e	 f d	 Ñ  É  YZ
 d
 e	 f d Ñ  É  YZ d e	 f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d S(   iˇˇˇˇN(   t	   functions(   t   string_typec         C   s!   t  |  | É r t S|  | k Sd  S(   N(   t   _is_special_integer_caset   False(   t   xt   y(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   _equals   s    c         C   s`   |  d k s |  d k r. | t  k p- | t k S| d k sF | d k r\ |  t  k p[ |  t k Sd  S(   Ni    i   (   t   TrueR   (   R   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR      s    c         C   s   t  |  É p t |  t É S(   N(   t   _is_actual_numbert
   isinstanceR   (   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   _is_comparable%   s    c         C   s/   |  t  k s |  t k r t St |  t t f É S(   N(   R   R   R	   t   floatt   int(   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   -   s    t   Optionsc           B   s   e  Z d  Z d d d Ñ Z RS(   s8   Options to control how a JMESPath function is evaluated.c         C   s   | |  _  | |  _ d  S(   N(   t   dict_clst   custom_functions(   t   selfR   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   __init__<   s    		N(   t   __name__t
   __module__t   __doc__t   NoneR   (    (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   :   s   t   _Expressionc           B   s   e  Z d  Ñ  Z d Ñ  Z RS(   c         C   s   | |  _  | |  _ d  S(   N(   t
   expressiont   interpreter(   R   R   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   J   s    	c         O   s   |  j  j | | | é S(   N(   R   t   visit(   R   t   nodet   argst   kwargs(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   N   s    (   R   R   R   R   (    (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   I   s   	t   Visitorc           B   s#   e  Z d  Ñ  Z d Ñ  Z d Ñ  Z RS(   c         C   s   i  |  _  d  S(   N(   t   _method_cache(   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   S   s    c         O   se   | d } |  j  j | É } | d  k rU t |  d | d |  j É } | |  j  | <n  | | | | é S(   Nt   types   visit_%s(   R   t   getR   t   getattrt   default_visit(   R   R   R   R   t	   node_typet   method(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   V   s    
c         O   s   t  d É Ç d  S(   NR"   (   t   NotImplementedError(   R   R   R   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR"   _   s    (   R   R   R   R   R"   (    (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   R   s   			t   TreeInterpreterc           B   sF  e  Z i e d  6d Ñ  d 6e j d 6e j d 6e j d 6e j d 6Z d  d g Z	 e
 Z d! d Ñ Z d Ñ  Z d	 Ñ  Z d
 Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z  d Ñ  Z! d Ñ  Z" d Ñ  Z# d Ñ  Z$ d Ñ  Z% d  Ñ  Z& RS("   t   eqc         C   s   t  |  | É S(   N(   R   (   R   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   <lambda>f   s    t   net   ltt   gtt   ltet   gtec         C   sï   t  t |  É j É  |  j |  _ | d  k r7 t É  } n  | |  _ | j d  k	 ra |  j j |  _ n  | j	 d  k	 rÇ |  j j	 |  _
 n t j É  |  _
 d  S(   N(   t   superR&   R   t   MAP_TYPEt	   _dict_clsR   R   t   _optionsR   R   t
   _functionsR    t	   Functions(   R   t   options(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   o   s    	c         O   s   t  | d É Ç d  S(   NR   (   R%   (   R   R   R   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR"   |   s    c         C   s1   | } x$ | d D] } |  j  | | É } q W| S(   Nt   children(   R   (   R   R   t   valuet   result(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_subexpression   s    c         C   s.   y | j  | d É SWn t k
 r) d  SXd  S(   NR6   (   R    t   AttributeErrorR   (   R   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_fieldÖ   s    c         C   s∆   |  j  | d } | d |  j k rY | |  j | d d | É |  j | d d | É É S|  j | d d | É } |  j | d d | É } t t f } t | É oÆ t | É sµ d  S| | | É Sd  S(   NR6   R5   i    i   (   t   COMPARATOR_FUNCt   _EQUALITY_OPSR   R   R   R
   R   (   R   R   R6   t   comparator_funct   leftt   rightt	   num_types(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_comparatorã   s    c         C   s   | S(   N(    (   R   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_currentü   s    c         C   s   t  | d d |  É S(   NR5   i    (   R   (   R   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_expref¢   s    c         C   sQ   g  } x1 | d D]% } |  j  | | É } | j | É q W|  j j | d | É S(   NR5   R6   (   R   t   appendR2   t   call_function(   R   R   R6   t   resolved_argst   childt   current(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_function_expression•   s
    c         C   s™   |  j  | d d | É } t | t É s- d  S| d d } g  } xb | D]Z } |  j |  j  | | É É rH |  j  | d d | É } | d  k	 r¢ | j | É q¢ qH qH W| S(   NR5   i    i   i   (   R   R	   t   listR   t   _is_trueRD   (   R   R   R6   t   baset   comparator_nodet	   collectedt   elementRH   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_filter_projection¨   s    c         C   st   |  j  | d d | É } t | t É s- d  Sg  } x: | D]2 } t | t É r_ | j | É q: | j | É q: W| S(   NR5   i    (   R   R	   RJ   R   t   extendRD   (   R   R   R6   RL   t   merged_listRO   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_flattenπ   s    c         C   s   | S(   N(    (   R   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_identity∆   s    c         C   s<   t  | t É s d  Sy | | d SWn t k
 r7 d  SXd  S(   NR6   (   R	   RJ   R   t
   IndexError(   R   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_index…   s    c         C   s1   | } x$ | d D] } |  j  | | É } q W| S(   NR5   (   R   (   R   R   R6   R7   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_index_expression”   s    c         C   s+   t  | t É s d  St | d å  } | | S(   NR5   (   R	   RJ   R   t   slice(   R   R   R6   t   s(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_sliceŸ   s    c         C   s   |  j  | d d | É S(   NR5   i    (   R   (   R   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_key_val_pairﬂ   s    c         C   s   | d S(   NR6   (    (   R   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_literal‚   s    c         C   sO   | d  k r d  S|  j É  } x, | d D]  } |  j | | É | | d <q' W| S(   NR5   R6   (   R   R0   R   (   R   R   R6   RN   RG   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_multi_select_dictÂ   s    c         C   sH   | d  k r d  Sg  } x+ | d D] } | j |  j | | É É q! W| S(   NR5   (   R   RD   R   (   R   R   R6   RN   RG   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_multi_select_listÌ   s    c         C   sJ   |  j  | d d | É } |  j | É rF |  j  | d d | É } n  | S(   NR5   i    i   (   R   t	   _is_false(   R   R   R6   t   matched(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_or_expressionı   s    c         C   sE   |  j  | d d | É } |  j | É r- | S|  j  | d d | É S(   NR5   i    i   (   R   R_   (   R   R   R6   R`   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_and_expression˚   s    c         C   s/   |  j  | d d | É } | d k r* t S| S(   NR5   i    (   R   R   (   R   R   R6   t   original_result(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_not_expression  s    c         C   s1   | } x$ | d D] } |  j  | | É } q W| S(   NR5   (   R   (   R   R   R6   R7   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt
   visit_pipe	  s    c         C   s~   |  j  | d d | É } t | t É s- d  Sg  } xD | D]< } |  j  | d d | É } | d  k	 r: | j | É q: q: W| S(   NR5   i    i   (   R   R	   RJ   R   RD   (   R   R   R6   RL   RN   RO   RH   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_projection  s    c         C   sê   |  j  | d d | É } y | j É  } Wn t k
 r> d  SXg  } xD | D]< } |  j  | d d | É } | d  k	 rL | j | É qL qL W| S(   NR5   i    i   (   R   t   valuesR9   R   RD   (   R   R   R6   RL   RN   RO   RH   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   visit_value_projection  s    c         C   s:   | d k p9 | g  k p9 | i  k p9 | d  k p9 | t k S(   Nt    (   R   R   (   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR_   '  s    0c         C   s   |  j  | É S(   N(   R_   (   R   R6   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyRK   .  s    N('   R   R   R   t   operatorR*   R+   t   let   geR;   R<   t   dictR/   R   R   R"   R8   R:   RA   RB   RC   RI   RP   RS   RT   RV   RW   RZ   R[   R\   R]   R^   Ra   Rb   Rd   Re   Rf   Rh   R_   RK   (    (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR&   c   sF   



											
													t   GraphvizVisitorc           B   s#   e  Z d  Ñ  Z d Ñ  Z d Ñ  Z RS(   c         C   s)   t  t |  É j É  g  |  _ d |  _ d  S(   Ni   (   R.   Rn   R   t   _linest   _count(   R   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   3  s    	c         O   sf   |  j  j d É d | d |  j f } |  j d 7_ |  j | | É |  j  j d É d j |  j  É S(   Ns   digraph AST {s   %s%sR   i   t   }s   
(   Ro   RD   Rp   t   _visitt   join(   R   R   R   R   RH   (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyR   8  s    c         C   sû   |  j  j d | | d | j d d É f É xj | j d g  É D]V } d | d |  j f } |  j d 7_ |  j  j d | | f É |  j | | É q@ Wd  S(	   Ns   %s [label="%s(%s)"]R   R6   Ri   R5   s   %s%si   s
     %s -> %s(   Ro   RD   R    Rp   Rr   (   R   R   RH   RG   t
   child_name(    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyRr   @  s    !(   R   R   R   R   Rr   (    (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyRn   2  s   		(   Rj   t   jmespathR    t   jmespath.compatR   R   R   R
   R   t   objectR   R   R   R&   Rn   (    (    (    s2   /tmp/pip-build-awuatQ/jmespath/jmespath/visitor.pyt   <module>   s   					œ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              usr/local/lib/python2.7/dist-packages/jmespath-0.9.2.dist-info/                                     0042755 0000000 0000062 00000000000 13077704403 022401  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/jmespath-0.9.2.dist-info/DESCRIPTION.rst                      0100644 0000000 0000062 00000015306 13077704376 024727  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        JMESPath
========


.. image:: https://badges.gitter.im/Join Chat.svg
   :target: https://gitter.im/jmespath/chat


.. image:: https://secure.travis-ci.org/jmespath/jmespath.py.png?branch=develop
   :target: http://travis-ci.org/jmespath/jmespath.py


.. image:: https://codecov.io/github/jmespath/jmespath.py/coverage.svg?branch=develop
    :target: https://codecov.io/github/jmespath/jmespath.py?branch=develop


JMESPath (pronounced "james path") allows you to declaratively specify how to
extract elements from a JSON document.

For example, given this document::

    {"foo": {"bar": "baz"}}

The jmespath expression ``foo.bar`` will return "baz".

JMESPath also supports:

Referencing elements in a list.  Given the data::

    {"foo": {"bar": ["one", "two"]}}

The expression: ``foo.bar[0]`` will return "one".
You can also reference all the items in a list using the ``*``
syntax::

   {"foo": {"bar": [{"name": "one"}, {"name": "two"}]}}

The expression: ``foo.bar[*].name`` will return ["one", "two"].
Negative indexing is also supported (-1 refers to the last element
in the list).  Given the data above, the expression
``foo.bar[-1].name`` will return "two".

The ``*`` can also be used for hash types::

   {"foo": {"bar": {"name": "one"}, "baz": {"name": "two"}}}

The expression: ``foo.*.name`` will return ["one", "two"].


API
===

The ``jmespath.py`` library has two functions
that operate on python data structures.  You can use ``search``
and give it the jmespath expression and the data:

.. code:: python

    >>> import jmespath
    >>> path = jmespath.search('foo.bar', {'foo': {'bar': 'baz'}})
    'baz'

Similar to the ``re`` module, you can use the ``compile`` function
to compile the JMESPath expression and use this parsed expression
to perform repeated searches:

.. code:: python

    >>> import jmespath
    >>> expression = jmespath.compile('foo.bar')
    >>> expression.search({'foo': {'bar': 'baz'}})
    'baz'
    >>> expression.search({'foo': {'bar': 'other'}})
    'other'

This is useful if you're going to use the same jmespath expression to
search multiple documents.  This avoids having to reparse the
JMESPath expression each time you search a new document.

Options
-------

You can provide an instance of ``jmespath.Options`` to control how
a JMESPath expression is evaluated.  The most common scenario for
using an ``Options`` instance is if you want to have ordered output
of your dict keys.  To do this you can use either of these options:

.. code:: python

    >>> import jmespath
    >>> jmespath.search('{a: a, b: b},
    ...                 mydata,
    ...                 jmespath.Options(dict_cls=collections.OrderedDict))


    >>> import jmespath
    >>> parsed = jmespath.compile('{a: a, b: b}')
    >>> parsed.search('{a: a, b: b},
    ...               mydata,
    ...               jmespath.Options(dict_cls=collections.OrderedDict))


Custom Functions
~~~~~~~~~~~~~~~~

The JMESPath language has numerous
`built-in functions
<http://jmespath.org/specification.html#built-in-functions>`__, but it is
also possible to add your own custom functions.  Keep in mind that
custom function support in jmespath.py is experimental and the API may
change based on feedback.

**If you have a custom function that you've found useful, consider submitting
it to jmespath.site and propose that it be added to the JMESPath language.**
You can submit proposals
`here <https://github.com/jmespath/jmespath.site/issues>`__.

To create custom functions:

* Create a subclass of ``jmespath.functions.Functions``.
* Create a method with the name ``_func_<your function name>``.
* Apply the ``jmespath.functions.signature`` decorator that indicates
  the expected types of the function arguments.
* Provide an instance of your subclass in a ``jmespath.Options`` object.

Below are a few examples:

.. code:: python

    import jmespath
    from jmespath import functions

    # 1. Create a subclass of functions.Functions.
    #    The function.Functions base class has logic
    #    that introspects all of its methods and automatically
    #    registers your custom functions in its function table.
    class CustomFunctions(functions.Functions):

        # 2 and 3.  Create a function that starts with _func_
        # and decorate it with @signature which indicates its
        # expected types.
        # In this example, we're creating a jmespath function
        # called "unique_letters" that accepts a single argument
        # with an expected type "string".
        @functions.signature({'types': ['string']})
        def _func_unique_letters(self, s):
            # Given a string s, return a sorted
            # string of unique letters: 'ccbbadd' ->  'abcd'
            return ''.join(sorted(set(s)))

        # Here's another example.  This is creating
        # a jmespath function called "my_add" that expects
        # two arguments, both of which should be of type number.
        @functions.signature({'types': ['number']}, {'types': ['number']})
        def _func_my_add(self, x, y):
            return x + y

    # 4. Provide an instance of your subclass in a Options object.
    options = jmespath.Options(custom_functions=CustomFunctions())

    # Provide this value to jmespath.search:
    # This will print 3
    print(
        jmespath.search(
            'my_add(`1`, `2`)', {}, options=options)
    )

    # This will print "abcd"
    print(
        jmespath.search(
            'foo.bar | unique_letters(@)',
            {'foo': {'bar': 'ccbbadd'}},
            options=options)
    )

Again, if you come up with useful functions that you think make
sense in the JMESPath language (and make sense to implement in all
JMESPath libraries, not just python), please let us know at
`jmespath.site <https://github.com/jmespath/jmespath.site/issues>`__.


Specification
=============

If you'd like to learn more about the JMESPath language, you can check out
the `JMESPath tutorial <http://jmespath.org/tutorial.html>`__.  Also check
out the `JMESPath examples page <http://jmespath.org/examples.html>`__ for
examples of more complex jmespath queries.

The grammar is specified using ABNF, as described in
`RFC4234 <http://www.ietf.org/rfc/rfc4234.txt>`_.
You can find the most up to date
`grammar for JMESPath here <http://jmespath.org/specification.html#grammar>`__.

You can read the full
`JMESPath specification here <http://jmespath.org/specification.html>`__.


Testing
=======

In addition to the unit tests for the jmespath modules,
there is a ``tests/compliance`` directory that contains
.json files with test cases.  This allows other implementations
to verify they are producing the correct output.  Each json
file is grouped by feature.


Discuss
=======

Join us on our `Gitter channel <https://gitter.im/jmespath/chat>`__
if you want to chat or if you have any questions.


                                                                                                                                                                                                                                                                                                                          usr/local/lib/python2.7/dist-packages/jmespath-0.9.2.dist-info/METADATA                             0100644 0000000 0000062 00000016612 13077704376 023516  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Metadata-Version: 2.0
Name: jmespath
Version: 0.9.2
Summary: JSON Matching Expressions
Home-page: https://github.com/jmespath/jmespath.py
Author: James Saryerwinnie
Author-email: js@jamesls.com
License: MIT
Platform: UNKNOWN
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: Natural Language :: English
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 2.6
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.3
Classifier: Programming Language :: Python :: 3.4

JMESPath
========


.. image:: https://badges.gitter.im/Join Chat.svg
   :target: https://gitter.im/jmespath/chat


.. image:: https://secure.travis-ci.org/jmespath/jmespath.py.png?branch=develop
   :target: http://travis-ci.org/jmespath/jmespath.py


.. image:: https://codecov.io/github/jmespath/jmespath.py/coverage.svg?branch=develop
    :target: https://codecov.io/github/jmespath/jmespath.py?branch=develop


JMESPath (pronounced "james path") allows you to declaratively specify how to
extract elements from a JSON document.

For example, given this document::

    {"foo": {"bar": "baz"}}

The jmespath expression ``foo.bar`` will return "baz".

JMESPath also supports:

Referencing elements in a list.  Given the data::

    {"foo": {"bar": ["one", "two"]}}

The expression: ``foo.bar[0]`` will return "one".
You can also reference all the items in a list using the ``*``
syntax::

   {"foo": {"bar": [{"name": "one"}, {"name": "two"}]}}

The expression: ``foo.bar[*].name`` will return ["one", "two"].
Negative indexing is also supported (-1 refers to the last element
in the list).  Given the data above, the expression
``foo.bar[-1].name`` will return "two".

The ``*`` can also be used for hash types::

   {"foo": {"bar": {"name": "one"}, "baz": {"name": "two"}}}

The expression: ``foo.*.name`` will return ["one", "two"].


API
===

The ``jmespath.py`` library has two functions
that operate on python data structures.  You can use ``search``
and give it the jmespath expression and the data:

.. code:: python

    >>> import jmespath
    >>> path = jmespath.search('foo.bar', {'foo': {'bar': 'baz'}})
    'baz'

Similar to the ``re`` module, you can use the ``compile`` function
to compile the JMESPath expression and use this parsed expression
to perform repeated searches:

.. code:: python

    >>> import jmespath
    >>> expression = jmespath.compile('foo.bar')
    >>> expression.search({'foo': {'bar': 'baz'}})
    'baz'
    >>> expression.search({'foo': {'bar': 'other'}})
    'other'

This is useful if you're going to use the same jmespath expression to
search multiple documents.  This avoids having to reparse the
JMESPath expression each time you search a new document.

Options
-------

You can provide an instance of ``jmespath.Options`` to control how
a JMESPath expression is evaluated.  The most common scenario for
using an ``Options`` instance is if you want to have ordered output
of your dict keys.  To do this you can use either of these options:

.. code:: python

    >>> import jmespath
    >>> jmespath.search('{a: a, b: b},
    ...                 mydata,
    ...                 jmespath.Options(dict_cls=collections.OrderedDict))


    >>> import jmespath
    >>> parsed = jmespath.compile('{a: a, b: b}')
    >>> parsed.search('{a: a, b: b},
    ...               mydata,
    ...               jmespath.Options(dict_cls=collections.OrderedDict))


Custom Functions
~~~~~~~~~~~~~~~~

The JMESPath language has numerous
`built-in functions
<http://jmespath.org/specification.html#built-in-functions>`__, but it is
also possible to add your own custom functions.  Keep in mind that
custom function support in jmespath.py is experimental and the API may
change based on feedback.

**If you have a custom function that you've found useful, consider submitting
it to jmespath.site and propose that it be added to the JMESPath language.**
You can submit proposals
`here <https://github.com/jmespath/jmespath.site/issues>`__.

To create custom functions:

* Create a subclass of ``jmespath.functions.Functions``.
* Create a method with the name ``_func_<your function name>``.
* Apply the ``jmespath.functions.signature`` decorator that indicates
  the expected types of the function arguments.
* Provide an instance of your subclass in a ``jmespath.Options`` object.

Below are a few examples:

.. code:: python

    import jmespath
    from jmespath import functions

    # 1. Create a subclass of functions.Functions.
    #    The function.Functions base class has logic
    #    that introspects all of its methods and automatically
    #    registers your custom functions in its function table.
    class CustomFunctions(functions.Functions):

        # 2 and 3.  Create a function that starts with _func_
        # and decorate it with @signature which indicates its
        # expected types.
        # In this example, we're creating a jmespath function
        # called "unique_letters" that accepts a single argument
        # with an expected type "string".
        @functions.signature({'types': ['string']})
        def _func_unique_letters(self, s):
            # Given a string s, return a sorted
            # string of unique letters: 'ccbbadd' ->  'abcd'
            return ''.join(sorted(set(s)))

        # Here's another example.  This is creating
        # a jmespath function called "my_add" that expects
        # two arguments, both of which should be of type number.
        @functions.signature({'types': ['number']}, {'types': ['number']})
        def _func_my_add(self, x, y):
            return x + y

    # 4. Provide an instance of your subclass in a Options object.
    options = jmespath.Options(custom_functions=CustomFunctions())

    # Provide this value to jmespath.search:
    # This will print 3
    print(
        jmespath.search(
            'my_add(`1`, `2`)', {}, options=options)
    )

    # This will print "abcd"
    print(
        jmespath.search(
            'foo.bar | unique_letters(@)',
            {'foo': {'bar': 'ccbbadd'}},
            options=options)
    )

Again, if you come up with useful functions that you think make
sense in the JMESPath language (and make sense to implement in all
JMESPath libraries, not just python), please let us know at
`jmespath.site <https://github.com/jmespath/jmespath.site/issues>`__.


Specification
=============

If you'd like to learn more about the JMESPath language, you can check out
the `JMESPath tutorial <http://jmespath.org/tutorial.html>`__.  Also check
out the `JMESPath examples page <http://jmespath.org/examples.html>`__ for
examples of more complex jmespath queries.

The grammar is specified using ABNF, as described in
`RFC4234 <http://www.ietf.org/rfc/rfc4234.txt>`_.
You can find the most up to date
`grammar for JMESPath here <http://jmespath.org/specification.html#grammar>`__.

You can read the full
`JMESPath specification here <http://jmespath.org/specification.html>`__.


Testing
=======

In addition to the unit tests for the jmespath modules,
there is a ``tests/compliance`` directory that contains
.json files with test cases.  This allows other implementations
to verify they are producing the correct output.  Each json
file is grouped by feature.


Discuss
=======

Join us on our `Gitter channel <https://gitter.im/jmespath/chat>`__
if you want to chat or if you have any questions.


                                                                                                                      usr/local/lib/python2.7/dist-packages/jmespath-0.9.2.dist-info/RECORD                               0100644 0000000 0000062 00000002704 13077704403 023300  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        jmespath/__init__.py,sha256=pTrPwIKaevBq9C_S6FSdDWGOJmCrber5hC_rFImcJCg,281
jmespath/ast.py,sha256=SiHRM1mdQPRt12R2qkQu_Ezbd-ghk5HLy1Hl1jHAyv8,2130
jmespath/compat.py,sha256=Q_a-dEOGrKa9Mimrhfpuq5r-9poyBz9ZDvbzSpPE0Tw,2117
jmespath/exceptions.py,sha256=5HRot4Bv3SCTdvh5lAQdQBsqSdaKjuTPSyGmk08zSvA,4128
jmespath/functions.py,sha256=BvjdhB1E_ZQSSz8BR_yldFPyFmeuBUEw40cqpdWEnd4,12641
jmespath/lexer.py,sha256=ADWNGkTv0lN99jPzCfCsmvKaGacGmBJJV0hMMARzjZI,8175
jmespath/parser.py,sha256=Wte7B5bNAXYlSum2fW3fKxfCxYGgmenZXJIXrpaiBHQ,19076
jmespath/visitor.py,sha256=-Q7LIZkBJpROX7Gv4BPq8iZ_frKWVIa_wM0Y-UoPvCE,10747
../../../bin/jp,sha256=f4DDzHt7iIY-P_SzyJ70XTaEVup1OL7zPr_aXn5ivsw,454
../../../bin/jp.py,sha256=OrcM_SAhkX2gw_Icpv3lnZNhD6xL6ZjikxVIOvDbnAw,1665
jmespath-0.9.2.dist-info/DESCRIPTION.rst,sha256=7PI3K-LUJvc1DU1d9ww1wf620p4INa5f2hkoCxW-NAY,6854
jmespath-0.9.2.dist-info/METADATA,sha256=s3ySgTEV52euuZwthrqMXiW5CJDXjhEsdNcvINFLdDA,7562
jmespath-0.9.2.dist-info/metadata.json,sha256=K5VRuicsErC8QRGSr2h1pvxtPrU_S_4scwcH1x2756Q,821
jmespath-0.9.2.dist-info/RECORD,,
jmespath-0.9.2.dist-info/top_level.txt,sha256=vuy_oZ1ckpeSNrAi8JK8-yIGO6bduO3qvW2cCMQmPH8,9
jmespath-0.9.2.dist-info/WHEEL,sha256=AvR0WeTpDaxT645bl5FQxUK6NPsTls2ttpcGJg3j1Xg,110
jmespath/functions.pyc,,
jmespath/exceptions.pyc,,
../../../bin/jp.pyc,,
jmespath/ast.pyc,,
jmespath/parser.pyc,,
jmespath/visitor.pyc,,
jmespath/lexer.pyc,,
jmespath/compat.pyc,,
jmespath/__init__.pyc,,
                                                            usr/local/lib/python2.7/dist-packages/jmespath-0.9.2.dist-info/WHEEL                                0100644 0000000 0000062 00000000156 13077704376 023176  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Wheel-Version: 1.0
Generator: bdist_wheel (0.24.0)
Root-Is-Purelib: true
Tag: py2-none-any
Tag: py3-none-any

                                                                                                                                                                                                                                                                                                                                                                                                                  usr/local/lib/python2.7/dist-packages/jmespath-0.9.2.dist-info/metadata.json                        0100644 0000000 0000062 00000001465 13077704376 025066  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        {"license": "MIT", "name": "jmespath", "metadata_version": "2.0", "generator": "bdist_wheel (0.24.0)", "summary": "JSON Matching Expressions", "version": "0.9.2", "extensions": {"python.details": {"project_urls": {"Home": "https://github.com/jmespath/jmespath.py"}, "document_names": {"description": "DESCRIPTION.rst"}, "contacts": [{"role": "author", "email": "js@jamesls.com", "name": "James Saryerwinnie"}]}}, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "Natural Language :: English", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4"]}                                                                                                                                                                                                           usr/local/lib/python2.7/dist-packages/jmespath-0.9.2.dist-info/top_level.txt                        0100644 0000000 0000062 00000000011 13077704376 025127  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        jmespath
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/pyasn1/                                                       0042755 0000000 0000062 00000000000 13077704403 017442  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/__init__.py                                            0100644 0000000 0000062 00000000257 13077704400 021547  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        import sys

# http://www.python.org/dev/peps/pep-0396/
__version__ = '0.2.3'

if sys.version_info[:2] < (2, 4):
    raise RuntimeError('PyASN1 requires Python 2.4 or later')

                                                                                                                                                                                                                                                                                                                                                 usr/local/lib/python2.7/dist-packages/pyasn1/__init__.pyc                                           0100644 0000000 0000062 00000000512 13077704403 021707  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s8   d  d l  Z  d Z e  j d  d k  r4 e d É Ç n  d S(   iˇˇˇˇNs   0.2.3i   i   s#   PyASN1 requires Python 2.4 or later(   i   i   (   t   syst   __version__t   version_infot   RuntimeError(    (    (    s/   /tmp/pip-build-awuatQ/pyasn1/pyasn1/__init__.pyt   <module>   s                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/pyasn1/codec/                                                 0042755 0000000 0000062 00000000000 13077704403 020517  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/codec/__init__.py                                      0100644 0000000 0000062 00000000073 13077704400 022620  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # This file is necessary to make this directory a package.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/codec/__init__.pyc                                     0100644 0000000 0000062 00000000214 13077704403 022763  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s   d  S(   N(    (    (    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/__init__.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/                                             0042755 0000000 0000062 00000000000 13077704403 021267  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/__init__.py                                  0100644 0000000 0000062 00000000073 13077704400 023370  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # This file is necessary to make this directory a package.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/__init__.pyc                                 0100644 0000000 0000062 00000000220 13077704403 023530  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s   d  S(   N(    (    (    (    s9   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/__init__.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                    usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/decoder.py                                   0100644 0000000 0000062 00000116415 13077704400 023246  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import base, tag, univ, char, useful, tagmap
from pyasn1.codec.ber import eoo
from pyasn1.compat.octets import oct2int, octs2ints, isOctetsType
from pyasn1.compat.integer import from_bytes
from pyasn1 import debug, error

__all__ = ['decode']


class AbstractDecoder(object):
    protoComponent = None

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        raise error.PyAsn1Error('Decoder not implemented for %s' % (tagSet,))

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        raise error.PyAsn1Error('Indefinite length mode decoder not implemented for %s' % (tagSet,))


class AbstractSimpleDecoder(AbstractDecoder):
    tagFormats = (tag.tagFormatSimple,)

    def _createComponent(self, asn1Spec, tagSet, value=None):
        if tagSet[0][1] not in self.tagFormats:
            raise error.PyAsn1Error('Invalid tag format %s for %s' % (tagSet[0], self.protoComponent.prettyPrintType()))
        if asn1Spec is None:
            return self.protoComponent.clone(value, tagSet)
        elif value is None:
            return asn1Spec
        else:
            return asn1Spec.clone(value)


class AbstractConstructedDecoder(AbstractDecoder):
    tagFormats = (tag.tagFormatConstructed,)

    # noinspection PyUnusedLocal
    def _createComponent(self, asn1Spec, tagSet, value=None):
        if tagSet[0][1] not in self.tagFormats:
            raise error.PyAsn1Error('Invalid tag format %s for %s' % (tagSet[0], self.protoComponent.prettyPrintType()))
        if asn1Spec is None:
            return self.protoComponent.clone(tagSet)
        else:
            return asn1Spec.clone()


class ExplicitTagDecoder(AbstractSimpleDecoder):
    protoComponent = univ.Any('')
    tagFormats = (tag.tagFormatConstructed,)

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        if substrateFun:
            return substrateFun(
                self._createComponent(asn1Spec, tagSet, ''),
                substrate, length
            )
        head, tail = substrate[:length], substrate[length:]
        value, _ = decodeFun(head, asn1Spec, tagSet, length)
        return value, tail

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        if substrateFun:
            return substrateFun(
                self._createComponent(asn1Spec, tagSet, ''),
                substrate, length
            )
        value, substrate = decodeFun(substrate, asn1Spec, tagSet, length)
        terminator, substrate = decodeFun(substrate, allowEoo=True)
        if eoo.endOfOctets.isSameTypeWith(terminator) and \
                terminator == eoo.endOfOctets:
            return value, substrate
        else:
            raise error.PyAsn1Error('Missing end-of-octets terminator')


explicitTagDecoder = ExplicitTagDecoder()


class IntegerDecoder(AbstractSimpleDecoder):
    protoComponent = univ.Integer(0)

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet, length,
                     state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]

        if not head:
            return self._createComponent(asn1Spec, tagSet, 0), tail

        value = from_bytes(head, signed=True)

        return self._createComponent(asn1Spec, tagSet, value), tail


class BooleanDecoder(IntegerDecoder):
    protoComponent = univ.Boolean(0)

    def _createComponent(self, asn1Spec, tagSet, value=None):
        return IntegerDecoder._createComponent(self, asn1Spec, tagSet, value and 1 or 0)


class BitStringDecoder(AbstractSimpleDecoder):
    protoComponent = univ.BitString(())
    tagFormats = (tag.tagFormatSimple, tag.tagFormatConstructed)
    supportConstructedForm = True

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet, length,
                     state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        if tagSet[0][1] == tag.tagFormatSimple:  # XXX what tag to check?
            if not head:
                raise error.PyAsn1Error('Empty substrate')
            trailingBits = oct2int(head[0])
            if trailingBits > 7:
                raise error.PyAsn1Error(
                    'Trailing bits overflow %s' % trailingBits
                )
            head = head[1:]
            value = self.protoComponent.fromOctetString(head, trailingBits)
            return self._createComponent(asn1Spec, tagSet, value), tail

        if not self.supportConstructedForm:
            raise error.PyAsn1Error('Constructed encoding form prohibited at %s' % self.__class__.__name__)

        bitString = self._createComponent(asn1Spec, tagSet)

        if substrateFun:
            return substrateFun(bitString, substrate, length)

        while head:
            component, head = decodeFun(head, self.protoComponent)
            bitString += component

        return bitString, tail

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        bitString = self._createComponent(asn1Spec, tagSet)

        if substrateFun:
            return substrateFun(bitString, substrate, length)

        while substrate:
            component, substrate = decodeFun(substrate, self.protoComponent, allowEoo=True)
            if eoo.endOfOctets.isSameTypeWith(component) and component == eoo.endOfOctets:
                break

            bitString += component

        else:
            raise error.SubstrateUnderrunError('No EOO seen before substrate ends')

        return bitString, substrate


class OctetStringDecoder(AbstractSimpleDecoder):
    protoComponent = univ.OctetString('')
    tagFormats = (tag.tagFormatSimple, tag.tagFormatConstructed)
    supportConstructedForm = True

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet, length,
                     state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        if tagSet[0][1] == tag.tagFormatSimple:  # XXX what tag to check?
            return self._createComponent(asn1Spec, tagSet, head), tail
        if not self.supportConstructedForm:
            raise error.PyAsn1Error('Constructed encoding form prohibited at %s' % self.__class__.__name__)
        r = self._createComponent(asn1Spec, tagSet, '')
        if substrateFun:
            return substrateFun(r, substrate, length)
        while head:
            component, head = decodeFun(head, self.protoComponent)
            r = r + component
        return r, tail

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        r = self._createComponent(asn1Spec, tagSet, '')
        if substrateFun:
            return substrateFun(r, substrate, length)
        while substrate:
            component, substrate = decodeFun(substrate, self.protoComponent,
                                             allowEoo=True)
            if eoo.endOfOctets.isSameTypeWith(component) and \
                    component == eoo.endOfOctets:
                break
            r = r + component
        else:
            raise error.SubstrateUnderrunError(
                'No EOO seen before substrate ends'
            )
        return r, substrate


class NullDecoder(AbstractSimpleDecoder):
    protoComponent = univ.Null('')

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        r = self._createComponent(asn1Spec, tagSet)
        if head:
            raise error.PyAsn1Error('Unexpected %d-octet substrate for Null' % length)
        return r, tail


class ObjectIdentifierDecoder(AbstractSimpleDecoder):
    protoComponent = univ.ObjectIdentifier(())

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet, length,
                     state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        if not head:
            raise error.PyAsn1Error('Empty substrate')

        head = octs2ints(head)

        oid = ()
        index = 0
        substrateLen = len(head)
        while index < substrateLen:
            subId = head[index]
            index += 1
            if subId < 128:
                oid = oid + (subId,)
            elif subId > 128:
                # Construct subid from a number of octets
                nextSubId = subId
                subId = 0
                while nextSubId >= 128:
                    subId = (subId << 7) + (nextSubId & 0x7F)
                    if index >= substrateLen:
                        raise error.SubstrateUnderrunError(
                            'Short substrate for sub-OID past %s' % (oid,)
                        )
                    nextSubId = head[index]
                    index += 1
                oid += ((subId << 7) + nextSubId,)
            elif subId == 128:
                # ASN.1 spec forbids leading zeros (0x80) in OID
                # encoding, tolerating it opens a vulnerability. See
                # http://www.cosic.esat.kuleuven.be/publications/article-1432.pdf
                # page 7
                raise error.PyAsn1Error('Invalid octet 0x80 in OID encoding')

        # Decode two leading arcs
        if 0 <= oid[0] <= 39:
            oid = (0,) + oid
        elif 40 <= oid[0] <= 79:
            oid = (1, oid[0] - 40) + oid[1:]
        elif oid[0] >= 80:
            oid = (2, oid[0] - 80) + oid[1:]
        else:
            raise error.PyAsn1Error('Malformed first OID octet: %s' % head[0])

        return self._createComponent(asn1Spec, tagSet, oid), tail


class RealDecoder(AbstractSimpleDecoder):
    protoComponent = univ.Real()

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        if not head:
            return self._createComponent(asn1Spec, tagSet, 0.0), tail
        fo = oct2int(head[0])
        head = head[1:]
        if fo & 0x80:  # binary encoding
            if not head:
                raise error.PyAsn1Error("Incomplete floating-point value")
            n = (fo & 0x03) + 1
            if n == 4:
                n = oct2int(head[0])
                head = head[1:]
            eo, head = head[:n], head[n:]
            if not eo or not head:
                raise error.PyAsn1Error('Real exponent screwed')
            e = oct2int(eo[0]) & 0x80 and -1 or 0
            while eo:  # exponent
                e <<= 8
                e |= oct2int(eo[0])
                eo = eo[1:]
            b = fo >> 4 & 0x03  # base bits
            if b > 2:
                raise error.PyAsn1Error('Illegal Real base')
            if b == 1:  # encbase = 8
                e *= 3
            elif b == 2:  # encbase = 16
                e *= 4
            p = 0
            while head:  # value
                p <<= 8
                p |= oct2int(head[0])
                head = head[1:]
            if fo & 0x40:  # sign bit
                p = -p
            sf = fo >> 2 & 0x03  # scale bits
            p *= 2 ** sf
            value = (p, 2, e)
        elif fo & 0x40:  # infinite value
            value = fo & 0x01 and '-inf' or 'inf'
        elif fo & 0xc0 == 0:  # character encoding
            if not head:
                raise error.PyAsn1Error("Incomplete floating-point value")
            try:
                if fo & 0x3 == 0x1:  # NR1
                    value = (int(head), 10, 0)
                elif fo & 0x3 == 0x2:  # NR2
                    value = float(head)
                elif fo & 0x3 == 0x3:  # NR3
                    value = float(head)
                else:
                    raise error.SubstrateUnderrunError(
                        'Unknown NR (tag %s)' % fo
                    )
            except ValueError:
                raise error.SubstrateUnderrunError(
                    'Bad character Real syntax'
                )
        else:
            raise error.SubstrateUnderrunError(
                'Unknown encoding (tag %s)' % fo
            )
        return self._createComponent(asn1Spec, tagSet, value), tail


class SequenceDecoder(AbstractConstructedDecoder):
    protoComponent = univ.Sequence()

    def _getComponentTagMap(self, r, idx):
        try:
            return r.getComponentTagMapNearPosition(idx)
        except error.PyAsn1Error:
            return

    def _getComponentPositionByType(self, r, t, idx):
        return r.getComponentPositionNearType(t, idx)

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        r = self._createComponent(asn1Spec, tagSet)
        idx = 0
        if substrateFun:
            return substrateFun(r, substrate, length)
        while head:
            asn1Spec = self._getComponentTagMap(r, idx)
            component, head = decodeFun(head, asn1Spec)
            idx = self._getComponentPositionByType(
                r, component.getEffectiveTagSet(), idx
            )
            r.setComponentByPosition(idx, component,
                                     verifyConstraints=False,
                                     matchTags=False, matchConstraints=False)
            idx += 1
        r.setDefaultComponents()
        r.verifySizeSpec()
        return r, tail

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        r = self._createComponent(asn1Spec, tagSet)
        if substrateFun:
            return substrateFun(r, substrate, length)
        idx = 0
        while substrate:
            asn1Spec = self._getComponentTagMap(r, idx)
            component, substrate = decodeFun(substrate, asn1Spec, allowEoo=True)
            if eoo.endOfOctets.isSameTypeWith(component) and \
                    component == eoo.endOfOctets:
                break
            idx = self._getComponentPositionByType(
                r, component.getEffectiveTagSet(), idx
            )
            r.setComponentByPosition(idx, component,
                                     verifyConstraints=False,
                                     matchTags=False, matchConstraints=False)
            idx += 1
        else:
            raise error.SubstrateUnderrunError(
                'No EOO seen before substrate ends'
            )
        r.setDefaultComponents()
        r.verifySizeSpec()
        return r, substrate


class SequenceOfDecoder(AbstractConstructedDecoder):
    protoComponent = univ.SequenceOf()

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        r = self._createComponent(asn1Spec, tagSet)
        if substrateFun:
            return substrateFun(r, substrate, length)
        asn1Spec = r.getComponentType()
        idx = 0
        while head:
            component, head = decodeFun(head, asn1Spec)
            r.setComponentByPosition(idx, component,
                                     verifyConstraints=False,
                                     matchTags=False, matchConstraints=False)
            idx += 1
        r.verifySizeSpec()
        return r, tail

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        r = self._createComponent(asn1Spec, tagSet)
        if substrateFun:
            return substrateFun(r, substrate, length)
        asn1Spec = r.getComponentType()
        idx = 0
        while substrate:
            component, substrate = decodeFun(substrate, asn1Spec, allowEoo=True)
            if eoo.endOfOctets.isSameTypeWith(component) and \
                    component == eoo.endOfOctets:
                break
            r.setComponentByPosition(idx, component,
                                     verifyConstraints=False,
                                     matchTags=False, matchConstraints=False)
            idx += 1
        else:
            raise error.SubstrateUnderrunError(
                'No EOO seen before substrate ends'
            )
        r.verifySizeSpec()
        return r, substrate


class SetDecoder(SequenceDecoder):
    protoComponent = univ.Set()

    def _getComponentTagMap(self, r, idx):
        return r.getComponentTagMap()

    def _getComponentPositionByType(self, r, t, idx):
        nextIdx = r.getComponentPositionByType(t)
        if nextIdx is None:
            return idx
        else:
            return nextIdx


class SetOfDecoder(SequenceOfDecoder):
    protoComponent = univ.SetOf()


class ChoiceDecoder(AbstractConstructedDecoder):
    protoComponent = univ.Choice()
    tagFormats = (tag.tagFormatSimple, tag.tagFormatConstructed)

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        r = self._createComponent(asn1Spec, tagSet)
        if substrateFun:
            return substrateFun(r, substrate, length)
        if r.getTagSet() == tagSet:  # explicitly tagged Choice
            component, head = decodeFun(
                head, r.getComponentTagMap()
            )
        else:
            component, head = decodeFun(
                head, r.getComponentTagMap(), tagSet, length, state
            )
        if isinstance(component, univ.Choice):
            effectiveTagSet = component.getEffectiveTagSet()
        else:
            effectiveTagSet = component.getTagSet()
        r.setComponentByType(effectiveTagSet, component,
                             verifyConstraints=False,
                             matchTags=False, matchConstraints=False,
                             innerFlag=False)
        return r, tail

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        r = self._createComponent(asn1Spec, tagSet)
        if substrateFun:
            return substrateFun(r, substrate, length)
        if r.getTagSet() == tagSet:  # explicitly tagged Choice
            component, substrate = decodeFun(substrate, r.getComponentTagMap())
            # eat up EOO marker
            eooMarker, substrate = decodeFun(substrate, allowEoo=True)
            if not eoo.endOfOctets.isSameTypeWith(eooMarker) or \
                    eooMarker != eoo.endOfOctets:
                raise error.PyAsn1Error('No EOO seen before substrate ends')
        else:
            component, substrate = decodeFun(
                substrate, r.getComponentTagMap(), tagSet, length, state
            )
        if isinstance(component, univ.Choice):
            effectiveTagSet = component.getEffectiveTagSet()
        else:
            effectiveTagSet = component.getTagSet()
        r.setComponentByType(effectiveTagSet, component,
                             verifyConstraints=False,
                             matchTags=False, matchConstraints=False,
                             innerFlag=False)
        return r, substrate


class AnyDecoder(AbstractSimpleDecoder):
    protoComponent = univ.Any()
    tagFormats = (tag.tagFormatSimple, tag.tagFormatConstructed)

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                     length, state, decodeFun, substrateFun):
        if asn1Spec is None or asn1Spec is not None and tagSet != asn1Spec.getTagSet():
            # untagged Any container, recover inner header substrate
            length = length + len(fullSubstrate) - len(substrate)
            substrate = fullSubstrate
        if substrateFun:
            return substrateFun(self._createComponent(asn1Spec, tagSet),
                                substrate, length)
        head, tail = substrate[:length], substrate[length:]
        return self._createComponent(asn1Spec, tagSet, value=head), tail

    def indefLenValueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet,
                             length, state, decodeFun, substrateFun):
        if asn1Spec is not None and tagSet == asn1Spec.getTagSet():
            # tagged Any type -- consume header substrate
            header = ''
        else:
            # untagged Any, recover header substrate
            header = fullSubstrate[:-len(substrate)]

        r = self._createComponent(asn1Spec, tagSet, header)

        # Any components do not inherit initial tag
        asn1Spec = self.protoComponent

        if substrateFun:
            return substrateFun(r, substrate, length)
        while substrate:
            component, substrate = decodeFun(substrate, asn1Spec, allowEoo=True)
            if eoo.endOfOctets.isSameTypeWith(component) and \
                    component == eoo.endOfOctets:
                break
            r = r + component
        else:
            raise error.SubstrateUnderrunError(
                'No EOO seen before substrate ends'
            )
        return r, substrate


# character string types
class UTF8StringDecoder(OctetStringDecoder):
    protoComponent = char.UTF8String()


class NumericStringDecoder(OctetStringDecoder):
    protoComponent = char.NumericString()


class PrintableStringDecoder(OctetStringDecoder):
    protoComponent = char.PrintableString()


class TeletexStringDecoder(OctetStringDecoder):
    protoComponent = char.TeletexString()


class VideotexStringDecoder(OctetStringDecoder):
    protoComponent = char.VideotexString()


class IA5StringDecoder(OctetStringDecoder):
    protoComponent = char.IA5String()


class GraphicStringDecoder(OctetStringDecoder):
    protoComponent = char.GraphicString()


class VisibleStringDecoder(OctetStringDecoder):
    protoComponent = char.VisibleString()


class GeneralStringDecoder(OctetStringDecoder):
    protoComponent = char.GeneralString()


class UniversalStringDecoder(OctetStringDecoder):
    protoComponent = char.UniversalString()


class BMPStringDecoder(OctetStringDecoder):
    protoComponent = char.BMPString()


# "useful" types
class ObjectDescriptorDecoder(OctetStringDecoder):
    protoComponent = useful.ObjectDescriptor()


class GeneralizedTimeDecoder(OctetStringDecoder):
    protoComponent = useful.GeneralizedTime()


class UTCTimeDecoder(OctetStringDecoder):
    protoComponent = useful.UTCTime()


tagMap = {
    univ.Integer.tagSet: IntegerDecoder(),
    univ.Boolean.tagSet: BooleanDecoder(),
    univ.BitString.tagSet: BitStringDecoder(),
    univ.OctetString.tagSet: OctetStringDecoder(),
    univ.Null.tagSet: NullDecoder(),
    univ.ObjectIdentifier.tagSet: ObjectIdentifierDecoder(),
    univ.Enumerated.tagSet: IntegerDecoder(),
    univ.Real.tagSet: RealDecoder(),
    univ.Sequence.tagSet: SequenceDecoder(),  # conflicts with SequenceOf
    univ.Set.tagSet: SetDecoder(),  # conflicts with SetOf
    univ.Choice.tagSet: ChoiceDecoder(),  # conflicts with Any
    # character string types
    char.UTF8String.tagSet: UTF8StringDecoder(),
    char.NumericString.tagSet: NumericStringDecoder(),
    char.PrintableString.tagSet: PrintableStringDecoder(),
    char.TeletexString.tagSet: TeletexStringDecoder(),
    char.VideotexString.tagSet: VideotexStringDecoder(),
    char.IA5String.tagSet: IA5StringDecoder(),
    char.GraphicString.tagSet: GraphicStringDecoder(),
    char.VisibleString.tagSet: VisibleStringDecoder(),
    char.GeneralString.tagSet: GeneralStringDecoder(),
    char.UniversalString.tagSet: UniversalStringDecoder(),
    char.BMPString.tagSet: BMPStringDecoder(),
    # useful types
    useful.ObjectDescriptor.tagSet: ObjectDescriptorDecoder(),
    useful.GeneralizedTime.tagSet: GeneralizedTimeDecoder(),
    useful.UTCTime.tagSet: UTCTimeDecoder()
}

# Type-to-codec map for ambiguous ASN.1 types
typeMap = {
    univ.Set.typeId: SetDecoder(),
    univ.SetOf.typeId: SetOfDecoder(),
    univ.Sequence.typeId: SequenceDecoder(),
    univ.SequenceOf.typeId: SequenceOfDecoder(),
    univ.Choice.typeId: ChoiceDecoder(),
    univ.Any.typeId: AnyDecoder()
}

(stDecodeTag, stDecodeLength, stGetValueDecoder, stGetValueDecoderByAsn1Spec,
 stGetValueDecoderByTag, stTryAsExplicitTag, stDecodeValue,
 stDumpRawValue, stErrorCondition, stStop) = [x for x in range(10)]


class Decoder(object):
    defaultErrorState = stErrorCondition
    #    defaultErrorState = stDumpRawValue
    defaultRawDecoder = AnyDecoder()
    supportIndefLength = True

    # noinspection PyDefaultArgument
    def __init__(self, tagMap, typeMap={}):
        self.__tagMap = tagMap
        self.__typeMap = typeMap
        # Tag & TagSet objects caches
        self.__tagCache = {}
        self.__tagSetCache = {}

    def __call__(self, substrate, asn1Spec=None, tagSet=None,
                 length=None, state=stDecodeTag, recursiveFlag=1,
                 substrateFun=None, allowEoo=False):
        if debug.logger & debug.flagDecoder:
            debug.logger('decoder called at scope %s with state %d, working with up to %d octets of substrate: %s' % (debug.scope, state, len(substrate), debug.hexdump(substrate)))
        if asn1Spec is not None and not isinstance(asn1Spec, (base.Asn1Item, tagmap.TagMap)):
            raise error.PyAsn1Error(
                'asn1Spec is not valid (should be an instance of an ASN.1 Item, not %s)' % asn1Spec.__class__.__name__)

        value = base.noValue

        fullSubstrate = substrate
        while state != stStop:
            if state == stDecodeTag:
                if not substrate:
                    raise error.SubstrateUnderrunError(
                        'Short octet stream on tag decoding'
                    )
                if not isOctetsType(substrate) and \
                        not isinstance(substrate, univ.OctetString):
                    raise error.PyAsn1Error('Bad octet stream type')
                # Decode tag
                firstOctet = substrate[0]
                substrate = substrate[1:]
                if firstOctet in self.__tagCache:
                    lastTag = self.__tagCache[firstOctet]
                else:
                    t = oct2int(firstOctet)
                    # Look for end-of-octets sentinel
                    if t == 0:
                        if substrate and oct2int(substrate[0]) == 0:
                            if allowEoo and self.supportIndefLength:
                                debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                                    'end-of-octets sentinel found')
                                value, substrate = eoo.endOfOctets, substrate[1:]
                                state = stStop
                                continue
                            else:
                                raise error.PyAsn1Error('Unexpected end-of-contents sentinel')
                        else:
                            raise error.PyAsn1Error('Zero tag encountered')
                    tagClass = t & 0xC0
                    tagFormat = t & 0x20
                    tagId = t & 0x1F
                    short = True
                    if tagId == 0x1F:
                        short = False
                        tagId = 0
                        while True:
                            if not substrate:
                                raise error.SubstrateUnderrunError(
                                    'Short octet stream on long tag decoding'
                                )
                            t = oct2int(substrate[0])
                            tagId = tagId << 7 | (t & 0x7F)
                            substrate = substrate[1:]
                            if not t & 0x80:
                                break
                    lastTag = tag.Tag(
                        tagClass=tagClass, tagFormat=tagFormat, tagId=tagId
                    )
                    if short:
                        # cache short tags
                        self.__tagCache[firstOctet] = lastTag
                if tagSet is None:
                    if firstOctet in self.__tagSetCache:
                        tagSet = self.__tagSetCache[firstOctet]
                    else:
                        # base tag not recovered
                        tagSet = tag.TagSet((), lastTag)
                        if firstOctet in self.__tagCache:
                            self.__tagSetCache[firstOctet] = tagSet
                else:
                    tagSet = lastTag + tagSet
                state = stDecodeLength
                debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                    'tag decoded into %s, decoding length' % tagSet)
            if state == stDecodeLength:
                # Decode length
                if not substrate:
                    raise error.SubstrateUnderrunError(
                        'Short octet stream on length decoding'
                    )
                firstOctet = oct2int(substrate[0])
                if firstOctet == 128:
                    size = 1
                    length = -1
                elif firstOctet < 128:
                    length, size = firstOctet, 1
                else:
                    size = firstOctet & 0x7F
                    # encoded in size bytes
                    length = 0
                    lengthString = substrate[1:size + 1]
                    # missing check on maximum size, which shouldn't be a
                    # problem, we can handle more than is possible
                    if len(lengthString) != size:
                        raise error.SubstrateUnderrunError(
                            '%s<%s at %s' %
                            (size, len(lengthString), tagSet)
                        )
                    for char in lengthString:
                        length = (length << 8) | oct2int(char)
                    size += 1
                substrate = substrate[size:]
                if length != -1 and len(substrate) < length:
                    raise error.SubstrateUnderrunError(
                        '%d-octet short' % (length - len(substrate))
                    )
                if length == -1 and not self.supportIndefLength:
                    raise error.PyAsn1Error('Indefinite length encoding not supported by this codec')
                state = stGetValueDecoder
                debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                    'value length decoded into %d, payload substrate is: %s' % (length, debug.hexdump(length == -1 and substrate or substrate[:length]))
                )
            if state == stGetValueDecoder:
                if asn1Spec is None:
                    state = stGetValueDecoderByTag
                else:
                    state = stGetValueDecoderByAsn1Spec
            #
            # There're two ways of creating subtypes in ASN.1 what influences
            # decoder operation. These methods are:
            # 1) Either base types used in or no IMPLICIT tagging has been
            #    applied on subtyping.
            # 2) Subtype syntax drops base type information (by means of
            #    IMPLICIT tagging.
            # The first case allows for complete tag recovery from substrate
            # while the second one requires original ASN.1 type spec for
            # decoding.
            #
            # In either case a set of tags (tagSet) is coming from substrate
            # in an incremental, tag-by-tag fashion (this is the case of
            # EXPLICIT tag which is most basic). Outermost tag comes first
            # from the wire.
            #            
            if state == stGetValueDecoderByTag:
                if tagSet in self.__tagMap:
                    concreteDecoder = self.__tagMap[tagSet]
                else:
                    concreteDecoder = None
                if concreteDecoder:
                    state = stDecodeValue
                else:
                    _k = tagSet[:1]
                    if _k in self.__tagMap:
                        concreteDecoder = self.__tagMap[_k]
                    else:
                        concreteDecoder = None
                    if concreteDecoder:
                        state = stDecodeValue
                    else:
                        state = stTryAsExplicitTag
                if debug.logger and debug.logger & debug.flagDecoder:
                    debug.logger('codec %s chosen by a built-in type, decoding %s' % (concreteDecoder and concreteDecoder.__class__.__name__ or "<none>", state == stDecodeValue and 'value' or 'as explicit tag'))
                    debug.scope.push(
                        concreteDecoder is None and '?' or concreteDecoder.protoComponent.__class__.__name__)
            if state == stGetValueDecoderByAsn1Spec:
                if isinstance(asn1Spec, (dict, tagmap.TagMap)):
                    if tagSet in asn1Spec:
                        __chosenSpec = asn1Spec[tagSet]
                    else:
                        __chosenSpec = None
                    if debug.logger and debug.logger & debug.flagDecoder:
                        debug.logger('candidate ASN.1 spec is a map of:')
                        for t, v in asn1Spec.getPosMap().items():
                            debug.logger('  %s -> %s' % (t, v.__class__.__name__))
                        if asn1Spec.getNegMap():
                            debug.logger('but neither of: ')
                            for t, v in asn1Spec.getNegMap().items():
                                debug.logger('  %s -> %s' % (t, v.__class__.__name__))
                        debug.logger('new candidate ASN.1 spec is %s, chosen by %s' % (__chosenSpec is None and '<none>' or __chosenSpec.prettyPrintType(), tagSet))
                else:
                    __chosenSpec = asn1Spec
                    debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                        'candidate ASN.1 spec is %s' % asn1Spec.__class__.__name__)
                if __chosenSpec is not None and (tagSet == __chosenSpec.getTagSet() or
                                                 tagSet in __chosenSpec.getTagMap()):
                    # use base type for codec lookup to recover untagged types
                    baseTagSet = __chosenSpec.baseTagSet
                    if __chosenSpec.typeId is not None and \
                            __chosenSpec.typeId in self.__typeMap:
                        # ambiguous type
                        concreteDecoder = self.__typeMap[__chosenSpec.typeId]
                        debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                            'value decoder chosen for an ambiguous type by type ID %s' % (__chosenSpec.typeId,))
                    elif baseTagSet in self.__tagMap:
                        # base type or tagged subtype
                        concreteDecoder = self.__tagMap[baseTagSet]
                        debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                            'value decoder chosen by base %s' % (baseTagSet,))
                    else:
                        concreteDecoder = None
                    if concreteDecoder:
                        asn1Spec = __chosenSpec
                        state = stDecodeValue
                    else:
                        state = stTryAsExplicitTag
                else:
                    concreteDecoder = None
                    state = stTryAsExplicitTag
                if debug.logger and debug.logger & debug.flagDecoder:
                    debug.logger('codec %s chosen by ASN.1 spec, decoding %s' % (state == stDecodeValue and concreteDecoder.__class__.__name__ or "<none>", state == stDecodeValue and 'value' or 'as explicit tag'))
                    debug.scope.push(__chosenSpec is None and '?' or __chosenSpec.__class__.__name__)
            if state == stTryAsExplicitTag:
                if tagSet and tagSet[0][1] == tag.tagFormatConstructed and \
                        tagSet[0][0] != tag.tagClassUniversal:
                    # Assume explicit tagging
                    concreteDecoder = explicitTagDecoder
                    state = stDecodeValue
                else:
                    concreteDecoder = None
                    state = self.defaultErrorState
                debug.logger and debug.logger & debug.flagDecoder and debug.logger('codec %s chosen, decoding %s' % (concreteDecoder and concreteDecoder.__class__.__name__ or "<none>", state == stDecodeValue and 'value' or 'as failure'))
            if state == stDumpRawValue:
                concreteDecoder = self.defaultRawDecoder
                debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                    'codec %s chosen, decoding value' % concreteDecoder.__class__.__name__)
                state = stDecodeValue
            if state == stDecodeValue:
                if recursiveFlag == 0 and not substrateFun:  # legacy
                    def substrateFun(a, b, c):
                        return a, b[:c]
                if length == -1:  # indef length
                    value, substrate = concreteDecoder.indefLenValueDecoder(
                        fullSubstrate, substrate, asn1Spec, tagSet, length,
                        stGetValueDecoder, self, substrateFun
                    )
                else:
                    value, substrate = concreteDecoder.valueDecoder(
                        fullSubstrate, substrate, asn1Spec, tagSet, length,
                        stGetValueDecoder, self, substrateFun
                    )
                state = stStop
                debug.logger and debug.logger & debug.flagDecoder and debug.logger(
                    'codec %s yields type %s, value:\n%s\n...remaining substrate is: %s' % (concreteDecoder.__class__.__name__, value.__class__.__name__, value.prettyPrint(), substrate and debug.hexdump(substrate) or '<none>'))
            if state == stErrorCondition:
                raise error.PyAsn1Error(
                    '%s not in asn1Spec: %s' % (tagSet, asn1Spec)
                )
        if debug.logger and debug.logger & debug.flagDecoder:
            debug.scope.pop()
            debug.logger('decoder left scope %s, call completed' % debug.scope)
        return value, substrate


#: Turns BER octet stream into an ASN.1 object.
#:
#: Takes BER octetstream and decode it into an ASN.1 object
#: (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative) which
#: may be a scalar or an arbitrary nested structure.
#:
#: Parameters
#: ----------
#: substrate: :py:class:`bytes` (Python 3) or :py:class:`str` (Python 2)
#:     BER octetstream
#:
#: asn1Spec: any pyasn1 type object e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative
#:     A pyasn1 type object to act as a template guiding the decoder. Depending on the ASN.1 structure
#:     being decoded, *asn1Spec* may or may not be required. Most common reason for
#:     it to require is that ASN.1 structure is encoded in *IMPLICIT* tagging mode.
#:
#: Returns
#: -------
#: : :py:class:`tuple`
#:     A tuple of pyasn1 object recovered from BER substrate (:py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#:     and the unprocessed trailing portion of the *substrate* (may be empty)
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On decoding errors
decode = Decoder(tagMap, typeMap)

# XXX
# non-recursive decoding; return position rather than substrate
                                                                                                                                                                                                                                                   usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/decoder.pyc                                  0100644 0000000 0000062 00000070605 13077704403 023414  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc        
   @   sû  d  d l  m Z m Z m Z m Z m Z m Z d  d l m Z d  d l	 m
 Z
 m Z m Z d  d l m Z d  d l m Z m Z d g Z d e f d Ñ  É  YZ d	 e f d
 Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ e É  Z d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ  d e f d  Ñ  É  YZ! d! e  f d" Ñ  É  YZ" d# e! f d$ Ñ  É  YZ# d% e f d& Ñ  É  YZ$ d' e f d( Ñ  É  YZ% d) e f d* Ñ  É  YZ& d+ e f d, Ñ  É  YZ' d- e f d. Ñ  É  YZ( d/ e f d0 Ñ  É  YZ) d1 e f d2 Ñ  É  YZ* d3 e f d4 Ñ  É  YZ+ d5 e f d6 Ñ  É  YZ, d7 e f d8 Ñ  É  YZ- d9 e f d: Ñ  É  YZ. d; e f d< Ñ  É  YZ/ d= e f d> Ñ  É  YZ0 d? e f d@ Ñ  É  YZ1 dA e f dB Ñ  É  YZ2 dC e f dD Ñ  É  YZ3 i e É  e j4 j5 6e É  e j6 j5 6e É  e j7 j5 6e É  e j8 j5 6e É  e j9 j5 6e É  e j: j5 6e É  e j; j5 6e É  e j< j5 6e  É  e j= j5 6e" É  e j> j5 6e$ É  e j? j5 6e& É  e j@ j5 6e' É  e jA j5 6e( É  e jB j5 6e) É  e jC j5 6e* É  e jD j5 6e+ É  e jE j5 6e, É  e jF j5 6e- É  e jG j5 6e. É  e jH j5 6e/ É  e jI j5 6e0 É  e jJ j5 6e1 É  e jK j5 6e2 É  e jL j5 6e3 É  e jM j5 6ZN i e" É  e j> jO 6e# É  e jP jO 6e  É  e j= jO 6e! É  e jQ jO 6e$ É  e j? jO 6e% É  e jR jO 6ZS g  eT dE É D] ZU eU ^ qE\
 ZV ZW ZX ZY ZZ Z[ Z\ Z] Z^ Z_ dF e f dG Ñ  É  YZ` e` eN eS É Za dH S(I   iˇˇˇˇ(   t   baset   tagt   univt   chart   usefult   tagmap(   t   eoo(   t   oct2intt	   octs2intst   isOctetsType(   t
   from_bytes(   t   debugt   errort   decodet   AbstractDecoderc           B   s    e  Z d Z d  Ñ  Z d Ñ  Z RS(   c	   	      C   s   t  j d | f É Ç d  S(   Ns   Decoder not implemented for %s(   R   t   PyAsn1Error(	   t   selft   fullSubstratet	   substratet   asn1Spect   tagSett   lengtht   statet	   decodeFunt   substrateFun(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   valueDecoder   s    c	   	      C   s   t  j d | f É Ç d  S(   Ns5   Indefinite length mode decoder not implemented for %s(   R   R   (	   R   R   R   R   R   R   R   R   R   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   indefLenValueDecoder   s    N(   t   __name__t
   __module__t   Nonet   protoComponentR   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR      s   	t   AbstractSimpleDecoderc           B   s    e  Z e j f Z d d  Ñ Z RS(   c         C   sÄ   | d d |  j  k r@ t j d | d |  j j É  f É Ç n  | d  k r_ |  j j | | É S| d  k ro | S| j | É Sd  S(   Ni    i   s   Invalid tag format %s for %s(   t
   tagFormatsR   R   R   t   prettyPrintTypeR   t   clone(   R   R   R   t   value(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   _createComponent   s    )N(   R   R   R   t   tagFormatSimpleR    R   R$   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR      s   t   AbstractConstructedDecoderc           B   s    e  Z e j f Z d d  Ñ Z RS(   c         C   sj   | d d |  j  k r@ t j d | d |  j j É  f É Ç n  | d  k r\ |  j j | É S| j É  Sd  S(   Ni    i   s   Invalid tag format %s for %s(   R    R   R   R   R!   R   R"   (   R   R   R   R#   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR$   .   s
    )N(   R   R   R   t   tagFormatConstructedR    R   R$   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR&   *   s   t   ExplicitTagDecoderc           B   s5   e  Z e j d  É Z e j f Z d Ñ  Z d Ñ  Z	 RS(   t    c	         C   s_   | r% | |  j  | | d É | | É S| |  | | }	 }
 | |	 | | | É \ } } | |
 f S(   NR)   (   R$   (   R   R   R   R   R   R   R   R   R   t   headt   tailR#   t   _(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   ;   s    
c	         C   sñ   | r% | |  j  | | d É | | É S| | | | | É \ }	 } | | d t É\ }
 } t j j |
 É rÉ |
 t j k rÉ |	 | f St j d É Ç d  S(   NR)   t   allowEoos    Missing end-of-octets terminator(   R$   t   TrueR   t   endOfOctetst   isSameTypeWithR   R   (   R   R   R   R   R   R   R   R   R   R#   t
   terminator(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   F   s    

(
   R   R   R   t   AnyR   R   R'   R    R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR(   7   s   	t   IntegerDecoderc           B   s    e  Z e j d  É Z d Ñ  Z RS(   i    c	         C   s_   | |  | | }	 }
 |	 s4 |  j  | | d É |
 f St |	 d t É} |  j  | | | É |
 f S(   Ni    t   signed(   R$   R
   R.   (   R   R   R   R   R   R   R   R   R   R*   R+   R#   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   \   s
    (   R   R   R   t   IntegerR   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR3   Y   s   t   BooleanDecoderc           B   s#   e  Z e j d  É Z d d Ñ Z RS(   i    c         C   s"   t  j |  | | | r d p d É S(   Ni   i    (   R3   R$   (   R   R   R   R#   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR$   k   s    N(   R   R   R   t   BooleanR   R   R$   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR6   h   s   t   BitStringDecoderc           B   sA   e  Z e j d É Z e j e j f Z e	 Z
 d  Ñ  Z d Ñ  Z RS(   c	         C   s4  | |  | | }	 }
 | d d t  j k rÆ |	 sD t j d É Ç n  t |	 d É } | d k rv t j d | É Ç n  |	 d }	 |  j j |	 | É } |  j | | | É |
 f S|  j s” t j d |  j	 j
 É Ç n  |  j | | É } | r˚ | | | | É Sx, |	 r)| |	 |  j É \ } }	 | | 7} q˛ W| |
 f S(   Ni    i   s   Empty substratei   s   Trailing bits overflow %ss*   Constructed encoding form prohibited at %s(   R   R%   R   R   R   R   t   fromOctetStringR$   t   supportConstructedFormt	   __class__R   (   R   R   R   R   R   R   R   R   R   R*   R+   t   trailingBitsR#   t	   bitStringt	   component(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   t   s(    
		c	         C   sõ   |  j  | | É }	 | r( | |	 | | É Sxf | rÅ | | |  j d t É\ }
 } t j j |
 É rt |
 t j k rt Pn  |	 |
 7}	 q+ Wt j d É Ç |	 | f S(   NR-   s!   No EOO seen before substrate ends(   R$   R   R.   R   R/   R0   R   t   SubstrateUnderrunError(   R   R   R   R   R   R   R   R   R   R=   R>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   ë   s    	!(    (   R   R   R   t	   BitStringR   R   R%   R'   R    R.   R:   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR8   o   s
   	t   OctetStringDecoderc           B   sA   e  Z e j d  É Z e j e j f Z e	 Z
 d Ñ  Z d Ñ  Z RS(   R)   c	         C   sŒ   | |  | | }	 }
 | d d t  j k rE |  j | | |	 É |
 f S|  j sj t j d |  j j É Ç n  |  j | | d É } | rï | | | | É Sx, |	 r√ | |	 |  j É \ } }	 | | } qò W| |
 f S(   Ni    i   s*   Constructed encoding form prohibited at %sR)   (	   R   R%   R$   R:   R   R   R;   R   R   (   R   R   R   R   R   R   R   R   R   R*   R+   t   rR>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   ™   s    		c	         C   sû   |  j  | | d É }	 | r+ | |	 | | É Sxf | rÑ | | |  j d t É\ }
 } t j j |
 É rw |
 t j k rw Pn  |	 |
 }	 q. Wt j d É Ç |	 | f S(   NR)   R-   s!   No EOO seen before substrate ends(   R$   R   R.   R   R/   R0   R   R?   (   R   R   R   R   R   R   R   R   R   RB   R>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   π   s    		(   R   R   R   t   OctetStringR   R   R%   R'   R    R.   R:   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRA   •   s
   	t   NullDecoderc           B   s    e  Z e j d  É Z d Ñ  Z RS(   R)   c	         C   sM   | |  | | }	 }
 |  j  | | É } |	 rC t j d | É Ç n  | |
 f S(   Ns&   Unexpected %d-octet substrate for Null(   R$   R   R   (   R   R   R   R   R   R   R   R   R   R*   R+   RB   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   œ   s
    (   R   R   R   t   NullR   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRD   Ã   s   t   ObjectIdentifierDecoderc           B   s    e  Z e j d É Z d  Ñ  Z RS(   c	         C   s  | |  | | }	 }
 |	 s- t  j d É Ç n  t |	 É }	 d } d } t |	 É } xÏ | | k  r?|	 | } | d 7} | d k  rê | | f } qT | d k r| } d } x[ | d k r| d >| d @} | | k rÓ t  j d | f É Ç n  |	 | } | d 7} q´ W| | d >| f 7} qT | d k rT t  j d É Ç qT qT Wd | d k o[d	 k n rmd | } nÖ d
 | d k oàd k n r¨d | d d
 f | d } nF | d d k r€d | d d f | d } n t  j d |	 d É Ç |  j | | | É |
 f S(   Ns   Empty substratei    i   iÄ   i   i   s#   Short substrate for sub-OID past %ss"   Invalid octet 0x80 in OID encodingi'   i(   iO   iP   i   s   Malformed first OID octet: %s(    (   i    (   R   R   R   t   lenR?   R$   (   R   R   R   R   R   R   R   R   R   R*   R+   t   oidt   indext   substrateLent   subIdt	   nextSubId(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   €   sB    


  (    (   R   R   R   t   ObjectIdentifierR   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRF   ÿ   s   t   RealDecoderc           B   s   e  Z e j É  Z d  Ñ  Z RS(   c	         C   s&  | |  | | }	 }
 |	 s4 |  j  | | d É |
 f St |	 d É } |	 d }	 | d @r|	 sp t j d É Ç n  | d @d } | d k rß t |	 d É } |	 d }	 n  |	 |  |	 | } }	 | s  |	 r‹ t j d É Ç n  t | d É d @rˆ d	 p˘ d } x2 | r0| d
 K} | t | d É O} | d } qˇ W| d ?d @} | d k r]t j d É Ç n  | d k rv| d 9} n | d k rè| d 9} n  d } x2 |	 r…| d
 K} | t |	 d É O} |	 d }	 qòW| d @rﬁ| } n  | d ?d @} | d | 9} | d | f } n| d @r/| d @r&d p)d } nﬁ | d @d k r˙|	 sWt j d É Ç n  y} | d @d k rÇt |	 É d d f } nQ | d @d k r°t |	 É } n2 | d @d k r¿t |	 É } n t j d | É Ç Wqt k
 rˆt j d É Ç qXn t j d | É Ç |  j  | | | É |
 f S(   Ng        i    i   iÄ   s   Incomplete floating-point valuei   i   s   Real exponent screwediˇˇˇˇi   i   s   Illegal Real basei@   s   -inft   infi¿   i
   s   Unknown NR (tag %s)s   Bad character Real syntaxs   Unknown encoding (tag %s)(   R$   R   R   R   t   intt   floatR?   t
   ValueError(   R   R   R   R   R   R   R   R   R   R*   R+   t   fot   nt   eot   et   bt   pt   sfR#   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR     sr    

 	
	



(   R   R   R   t   RealR   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRN     s   t   SequenceDecoderc           B   s8   e  Z e j É  Z d  Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   c         C   s-   y | j  | É SWn t j k
 r( d  SXd  S(   N(   t   getComponentTagMapNearPositionR   R   (   R   RB   t   idx(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   _getComponentTagMapT  s    c         C   s   | j  | | É S(   N(   t   getComponentPositionNearType(   R   RB   t   tR]   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   _getComponentPositionByTypeZ  s    c	      	   C   s‹   | |  | | }	 }
 |  j  | | É } d } | rC | | | | É Sxx |	 rΩ |  j | | É } | |	 | É \ } }	 |  j | | j É  | É } | j | | d t d t d t É| d 7} qF W| j É  | j É  | |
 f S(   Ni    t   verifyConstraintst	   matchTagst   matchConstraintsi   (   R$   R^   Ra   t   getEffectiveTagSett   setComponentByPositiont   Falset   setDefaultComponentst   verifySizeSpec(   R   R   R   R   R   R   R   R   R   R*   R+   RB   R]   R>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   ]  s"    	

c	      	   C   s  |  j  | | É }	 | r( | |	 | | É Sd }
 x≤ | r” |  j |	 |
 É } | | | d t É\ } } t j j | É râ | t j k râ Pn  |  j |	 | j É  |
 É }
 |	 j |
 | d t	 d t	 d t	 É|
 d 7}
 q1 Wt
 j d É Ç |	 j É  |	 j É  |	 | f S(   Ni    R-   Rb   Rc   Rd   i   s!   No EOO seen before substrate ends(   R$   R^   R.   R   R/   R0   Ra   Re   Rf   Rg   R   R?   Rh   Ri   (   R   R   R   R   R   R   R   R   R   RB   R]   R>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   r  s*    		

(	   R   R   R   t   SequenceR   R^   Ra   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR[   Q  s
   			t   SequenceOfDecoderc           B   s&   e  Z e j É  Z d  Ñ  Z d Ñ  Z RS(   c	      	   C   s±   | |  | | }	 }
 |  j  | | É } | r= | | | | É S| j É  } d } xK |	 rú | |	 | É \ } }	 | j | | d t d t d t É| d 7} qR W| j É  | |
 f S(   Ni    Rb   Rc   Rd   i   (   R$   t   getComponentTypeRf   Rg   Ri   (   R   R   R   R   R   R   R   R   R   R*   R+   RB   R]   R>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   ë  s    	
c	      	   C   s÷   |  j  | | É }	 | r( | |	 | | É S|	 j É  } d }
 xÖ | r≤ | | | d t É\ } } t j j | É rÉ | t j k rÉ Pn  |	 j |
 | d t d t d t É|
 d 7}
 q= Wt j	 d É Ç |	 j
 É  |	 | f S(   Ni    R-   Rb   Rc   Rd   i   s!   No EOO seen before substrate ends(   R$   Rl   R.   R   R/   R0   Rf   Rg   R   R?   Ri   (   R   R   R   R   R   R   R   R   R   RB   R]   R>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   ¢  s$    		
(   R   R   R   t
   SequenceOfR   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRk   é  s   	t
   SetDecoderc           B   s&   e  Z e j É  Z d  Ñ  Z d Ñ  Z RS(   c         C   s
   | j  É  S(   N(   t   getComponentTagMap(   R   RB   R]   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR^   Ω  s    c         C   s'   | j  | É } | d  k r | S| Sd  S(   N(   t   getComponentPositionByTypeR   (   R   RB   R`   R]   t   nextIdx(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRa   ¿  s    (   R   R   R   t   SetR   R^   Ra   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRn   ∫  s   	t   SetOfDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   SetOfR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRs   »  s   t   ChoiceDecoderc           B   s8   e  Z e j É  Z e j e j f Z d  Ñ  Z	 d Ñ  Z
 RS(   c	         C   s   | |  | | }	 }
 |  j  | | É } | r= | | | | É S| j É  | k rm | |	 | j É  É \ } }	 n$ | |	 | j É  | | | É \ } }	 t | t j É r≤ | j É  } n | j É  } | j | | d t d t d t d t É| |
 f S(   NRb   Rc   Rd   t	   innerFlag(	   R$   t	   getTagSetRo   t
   isinstanceR   t   ChoiceRe   t   setComponentByTypeRg   (   R   R   R   R   R   R   R   R   R   R*   R+   RB   R>   t   effectiveTagSet(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   –  s"    !c	         C   s'  |  j  | | É }	 | r( | |	 | | É S|	 j É  | k r§ | | |	 j É  É \ }
 } | | d t É\ } } t j j | É sè | t j k r» t j d É Ç q» n$ | | |	 j É  | | | É \ }
 } t	 |
 t
 j É rÈ |
 j É  } n |
 j É  } |	 j | |
 d t d t d t d t É|	 | f S(   NR-   s!   No EOO seen before substrate endsRb   Rc   Rd   Rv   (   R$   Rw   Ro   R.   R   R/   R0   R   R   Rx   R   Ry   Re   Rz   Rg   (   R   R   R   R   R   R   R   R   R   RB   R>   t	   eooMarkerR{   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   Ë  s&    !(   R   R   R   Ry   R   R   R%   R'   R    R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRu   Ã  s   	t
   AnyDecoderc           B   s8   e  Z e j É  Z e j e j f Z d  Ñ  Z	 d Ñ  Z
 RS(   c	         C   s†   | d  k s* | d  k	 rM | | j É  k rM | t | É t | É } | } n  | ro | |  j | | É | | É S| |  | | }	 }
 |  j | | d |	 É|
 f S(   NR#   (   R   Rw   RG   R$   (   R   R   R   R   R   R   R   R   R   R*   R+   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR     s    *	
c	         C   s‹   | d  k	 r' | | j É  k r' d }	 n | t | É  }	 |  j | | |	 É }
 |  j } | rl | |
 | | É Sxc | r¬ | | | d t É\ } } t j j | É rµ | t j k rµ Pn  |
 | }
 qo Wt	 j
 d É Ç |
 | f S(   NR)   R-   s!   No EOO seen before substrate ends(   R   Rw   RG   R$   R   R.   R   R/   R0   R   R?   (   R   R   R   R   R   R   R   R   R   t   headerRB   R>   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR     s     				(   R   R   R   R2   R   R   R%   R'   R    R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR}     s   	t   UTF8StringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t
   UTF8StringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   1  s   t   NumericStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   NumericStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRÅ   5  s   t   PrintableStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   PrintableStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRÉ   9  s   t   TeletexStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   TeletexStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRÖ   =  s   t   VideotexStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   VideotexStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRá   A  s   t   IA5StringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t	   IA5StringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRâ   E  s   t   GraphicStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   GraphicStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRã   I  s   t   VisibleStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   VisibleStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRç   M  s   t   GeneralStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   GeneralStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRè   Q  s   t   UniversalStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   UniversalStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRë   U  s   t   BMPStringDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t	   BMPStringR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRì   Y  s   t   ObjectDescriptorDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   ObjectDescriptorR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRï   ^  s   t   GeneralizedTimeDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   GeneralizedTimeR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRó   b  s   t   UTCTimeDecoderc           B   s   e  Z e j É  Z RS(    (   R   R   R   t   UTCTimeR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRô   f  s   i
   t   Decoderc           B   sG   e  Z e Z e É  Z e Z i  d  Ñ Z d d d e
 d d e d Ñ Z RS(   c         C   s(   | |  _  | |  _ i  |  _ i  |  _ d  S(   N(   t   _Decoder__tagMapt   _Decoder__typeMapt   _Decoder__tagCachet   _Decoder__tagSetCache(   R   t   tagMapt   typeMap(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   __init__û  s    			i   c	      	   C   s∞  t  j t  j @rB t  j d t  j | t | É t  j | É f É n  | d  k	 rÜ t | t j	 t
 j f É rÜ t j d | j j É Ç n  t j }	 | }
 x—
| t k rh| t k rH| s» t j d É Ç n  t | É r˙ t | t j É r˙ t j d É Ç n  | d } | d } | |  j k r-|  j | } nt | É } | d k r⁄| r»t | d É d k r»| r∂|  j r∂t  j oït  j t  j @oït  j d É t j | d }	 } t } qò q◊t j d É Ç q⁄t j d	 É Ç n  | d
 @} | d @} | d @} t } | d k rxt } d } x_ t rt| s7t j d É Ç n  t | d É } | d >| d @B} | d } | d @sPqqWn  t j d | d | d | É } | r¨| |  j | <n  | d  k r| |  j  k r◊|  j  | } qt j! d0 | É } | |  j k r| |  j  | <qn
 | | } t" } t  j oDt  j t  j @oDt  j d | É n  | t" k r| slt j d É Ç n  t | d É } | d k ród } d } n£ | d k  r≥| d } } ná | d @} d } | d | d !} t | É | k rt j d | t | É | f É Ç n  x" | D] } | d >t | É B} qW| d 7} | | } | d k rÇt | É | k  rÇt j d | t | É É Ç n  | d k r™|  j r™t j d É Ç n  t# } t  j o˛t  j t  j @o˛t  j d | t  j | d k rÌ| pÙ| |  É f É n  | t# k r,| d  k r#t$ } q,t% } n  | t$ k r5| |  j& k rW|  j& | } n d  } | rlt' } nD | d  } | |  j& k rï|  j& | } n d  } | r™t' } n t( } t  j r5t  j t  j @r5t  j d | r‰| j j pÁd | t' k r˘d p¸d f É t  j j) | d  k rd  p+| j* j j É q5n  | t% k rF	t | t+ t
 j f É ro| | k rr| | } n d  } t  j r•t  j t  j @r•t  j d! É x= | j, É  j- É  D]) \ } } t  j d" | | j j f É q±W| j. É  r:t  j d# É x@ | j. É  j- É  D]) \ } } t  j d" | | j j f É q
Wn  t  j d$ | d  k rUd p^| j/ É  | f É q•n6 | } t  j o§t  j t  j @o§t  j d% | j j É | d  k	 r≤| | j0 É  k s’| | j1 É  k r≤| j2 } | j3 d  k	 rB| j3 |  j4 k rB|  j4 | j3 } t  j o>t  j t  j @o>t  j d& | j3 f É nR | |  j& k ré|  j& | } t  j oät  j t  j @oät  j d' | f É n d  } | r©| } t' } qæt( } n d  } t( } t  j rF	t  j t  j @rF	t  j d( | t' k r¯| j j p˚d | t' k r	d p	d f É t  j j) | d  k r3	d  p<	| j j É qF	n  | t( k r˚	| rï	| d d t j5 k rï	| d d t j6 k rï	t7 } t' } n d  } |  j8 } t  j o˜	t  j t  j @o˜	t  j d) | rÿ	| j j p€	d | t' k rÌ	d p	d* f É n  | t9 k rI
|  j: } t  j o?
t  j t  j @o?
t  j d+ | j j É t' } n  | t' k r=| d k rt
| rt
d, Ñ  } n  | d k r≠
| j; |
 | | | | t# |  | É \ }	 } n* | j< |
 | | | | t# |  | É \ }	 } t } t  j o9t  j t  j @o9t  j d- | j j |	 j j |	 j= É  | r/t  j | É p2d f É n  | t> k rò t j d. | | f É Ç qò qò Wt  j r¶t  j t  j @r¶t  j j? É  t  j d/ t  j É n  |	 | f S(1   NsW   decoder called at scope %s with state %d, working with up to %d octets of substrate: %ssF   asn1Spec is not valid (should be an instance of an ASN.1 Item, not %s)s"   Short octet stream on tag decodings   Bad octet stream typei    i   s   end-of-octets sentinel founds#   Unexpected end-of-contents sentinels   Zero tag encounteredi¿   i    i   s'   Short octet stream on long tag decodingi   i   iÄ   t   tagClasst	   tagFormatt   tagIds$   tag decoded into %s, decoding lengths%   Short octet stream on length decodingiˇˇˇˇs   %s<%s at %si   s   %d-octet shorts6   Indefinite length encoding not supported by this codecs6   value length decoded into %d, payload substrate is: %ss/   codec %s chosen by a built-in type, decoding %ss   <none>R#   s   as explicit tagt   ?s!   candidate ASN.1 spec is a map of:s
     %s -> %ss   but neither of: s,   new candidate ASN.1 spec is %s, chosen by %ss   candidate ASN.1 spec is %ss8   value decoder chosen for an ambiguous type by type ID %ss   value decoder chosen by base %ss*   codec %s chosen by ASN.1 spec, decoding %ss   codec %s chosen, decoding %ss
   as failures   codec %s chosen, decoding valuec         S   s   |  | |  f S(   N(    (   t   aRW   t   c(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyR   Ç  s    s@   codec %s yields type %s, value:
%s
...remaining substrate is: %ss   %s not in asn1Spec: %ss%   decoder left scope %s, call completed(    (@   R   t   loggert   flagDecodert   scopeRG   t   hexdumpR   Rx   R    t   Asn1ItemR   t   TagMapR   R   R;   R   t   noValuet   stStopt   stDecodeTagR?   R	   R   RC   Rû   R   t   supportIndefLengthR   R/   R.   Rg   R   t   TagRü   t   TagSett   stDecodeLengtht   stGetValueDecodert   stGetValueDecoderByTagt   stGetValueDecoderByAsn1SpecRú   t   stDecodeValuet   stTryAsExplicitTagt   pushR   t   dictt	   getPosMapt   itemst	   getNegMapR!   Rw   t	   getTagMapt
   baseTagSett   typeIdRù   R'   t   tagClassUniversalt   explicitTagDecodert   defaultErrorStatet   stDumpRawValuet   defaultRawDecoderR   R   t   prettyPrintt   stErrorConditiont   pop(   R   R   R   R   R   R   t   recursiveFlagR   R-   R#   R   t
   firstOctett   lastTagR`   R£   R§   R•   t   shortt   sizet   lengthStringR   t   concreteDecodert   _kt   _Decoder__chosenSpect   vR¡   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   __call__•  sl   2(	




	

	
	


3			
	;	(!$5			A.		W		AN(   R   R   R…   R≈   R}   R«   R.   R≤   R¢   R   R±   Rg   R’   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyRõ   ó  s   		N(b   t   pyasn1.typeR    R   R   R   R   R   t   pyasn1.codec.berR   t   pyasn1.compat.octetsR   R   R	   t   pyasn1.compat.integerR
   t   pyasn1R   R   t   __all__t   objectR   R   R&   R(   Rƒ   R3   R6   R8   RA   RD   RF   RN   R[   Rk   Rn   Rs   Ru   R}   R   RÅ   RÉ   RÖ   Rá   Râ   Rã   Rç   Rè   Rë   Rì   Rï   Ró   Rô   R5   R   R7   R@   RC   RE   RM   t
   EnumeratedRZ   Rj   Rr   Ry   RÄ   RÇ   RÑ   RÜ   Rà   Rä   Rå   Ré   Rê   Rí   Rî   Rñ   Rò   Rö   R†   R¬   Rt   Rm   R2   R°   t   ranget   xR±   Rµ   R∂   R∏   R∑   R∫   Rπ   R∆   R…   R∞   Rõ   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/decoder.pyt   <module>   sî   .		6'4E=,7.=ˇ                                                                                                                            usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/encoder.py                                   0100644 0000000 0000062 00000040467 13077704400 023263  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import base, tag, univ, char, useful
from pyasn1.codec.ber import eoo
from pyasn1.compat.octets import int2oct, oct2int, ints2octs, null, str2octs
from pyasn1.compat.integer import to_bytes
from pyasn1 import debug, error

__all__ = ['encode']


class AbstractItemEncoder(object):
    supportIndefLenMode = 1

    # noinspection PyMethodMayBeStatic
    def encodeTag(self, t, isConstructed):
        tagClass, tagFormat, tagId = t.asTuple()  # this is a hotspot
        v = tagClass | tagFormat
        if isConstructed:
            v |= tag.tagFormatConstructed
        if tagId < 31:
            return int2oct(v | tagId)
        else:
            s = int2oct(tagId & 0x7f)
            tagId >>= 7
            while tagId:
                s = int2oct(0x80 | (tagId & 0x7f)) + s
                tagId >>= 7
            return int2oct(v | 0x1F) + s

    def encodeLength(self, length, defMode):
        if not defMode and self.supportIndefLenMode:
            return int2oct(0x80)
        if length < 0x80:
            return int2oct(length)
        else:
            substrate = null
            while length:
                substrate = int2oct(length & 0xff) + substrate
                length >>= 8
            substrateLen = len(substrate)
            if substrateLen > 126:
                raise error.PyAsn1Error('Length octets overflow (%d)' % substrateLen)
            return int2oct(0x80 | substrateLen) + substrate

    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        raise error.PyAsn1Error('Not implemented')

    def _encodeEndOfOctets(self, encodeFun, defMode):
        if defMode or not self.supportIndefLenMode:
            return null
        else:
            return encodeFun(eoo.endOfOctets, defMode)

    def encode(self, encodeFun, value, defMode, maxChunkSize):
        substrate, isConstructed = self.encodeValue(
            encodeFun, value, defMode, maxChunkSize
        )
        tagSet = value.getTagSet()
        if tagSet:
            if not isConstructed:  # primitive form implies definite mode
                defMode = True
            return self.encodeTag(
                tagSet[-1], isConstructed
            ) + self.encodeLength(
                len(substrate), defMode
            ) + substrate + self._encodeEndOfOctets(encodeFun, defMode)
        else:
            return substrate  # untagged value


class EndOfOctetsEncoder(AbstractItemEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        return null, 0


class ExplicitlyTaggedItemEncoder(AbstractItemEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        if isinstance(value, base.AbstractConstructedAsn1Item):
            value = value.clone(tagSet=value.getTagSet()[:-1],
                                cloneValueFlag=1)
        else:
            value = value.clone(tagSet=value.getTagSet()[:-1])
        return encodeFun(value, defMode, maxChunkSize), 1


explicitlyTaggedItemEncoder = ExplicitlyTaggedItemEncoder()


class BooleanEncoder(AbstractItemEncoder):
    supportIndefLenMode = 0
    _true = ints2octs((1,))
    _false = ints2octs((0,))

    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        return value and self._true or self._false, 0


class IntegerEncoder(AbstractItemEncoder):
    supportIndefLenMode = 0
    supportCompactZero = False
    encodedZero = ints2octs((0,))

    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        if value == 0:
            # de-facto way to encode zero
            if self.supportCompactZero:
                return null, 0
            else:
                return self.encodedZero, 0

        return to_bytes(int(value), signed=True), 0


class BitStringEncoder(AbstractItemEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        if len(value) % 8:
            alignedValue = value << (8 - len(value) % 8)
        else:
            alignedValue = value

        if not maxChunkSize or len(alignedValue) <= maxChunkSize * 8:
            substrate = alignedValue.asOctets()
            return int2oct(len(substrate) * 8 - len(value)) + substrate, 0

        stop = 0
        substrate = null
        while stop < len(value):
            start = stop
            stop = min(start + maxChunkSize * 8, len(value))
            substrate += encodeFun(alignedValue[start:stop], defMode, maxChunkSize)
        return substrate, 1


class OctetStringEncoder(AbstractItemEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        if not maxChunkSize or len(value) <= maxChunkSize:
            return value.asOctets(), 0
        else:
            pos = 0
            substrate = null
            while True:
                v = value.clone(value[pos:pos + maxChunkSize])
                if not v:
                    break
                substrate = substrate + encodeFun(v, defMode, maxChunkSize)
                pos += maxChunkSize
            return substrate, 1


class NullEncoder(AbstractItemEncoder):
    supportIndefLenMode = 0

    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        return null, 0


class ObjectIdentifierEncoder(AbstractItemEncoder):
    supportIndefLenMode = 0

    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        oid = value.asTuple()
        if len(oid) < 2:
            raise error.PyAsn1Error('Short OID %s' % (value,))

        octets = ()

        # Build the first pair
        first = oid[0]
        second = oid[1]
        if 0 <= second <= 39:
            if first == 1:
                oid = (second + 40,) + oid[2:]
            elif first == 0:
                oid = (second,) + oid[2:]
            elif first == 2:
                oid = (second + 80,) + oid[2:]
            else:
                raise error.PyAsn1Error('Impossible first/second arcs at %s' % (value,))
        elif first == 2:
            oid = (second + 80,) + oid[2:]
        else:
            raise error.PyAsn1Error('Impossible first/second arcs at %s' % (value,))

        # Cycle through subIds
        for subOid in oid:
            if 0 <= subOid <= 127:
                # Optimize for the common case
                octets += (subOid,)
            elif subOid > 127:
                # Pack large Sub-Object IDs
                res = (subOid & 0x7f,)
                subOid >>= 7
                while subOid:
                    res = (0x80 | (subOid & 0x7f),) + res
                    subOid >>= 7
                # Add packed Sub-Object ID to resulted Object ID
                octets += res
            else:
                raise error.PyAsn1Error('Negative OID arc %s at %s' % (subOid, value))

        return ints2octs(octets), 0


class RealEncoder(AbstractItemEncoder):
    supportIndefLenMode = 0
    binEncBase = 2  # set to None to choose encoding base automatically

    @staticmethod
    def _dropFloatingPoint(m, encbase, e):
        ms, es = 1, 1
        if m < 0:
            ms = -1  # mantissa sign
        if e < 0:
            es = -1  # exponenta sign 
        m *= ms
        if encbase == 8:
            m *= 2 ** (abs(e) % 3 * es)
            e = abs(e) // 3 * es
        elif encbase == 16:
            m *= 2 ** (abs(e) % 4 * es)
            e = abs(e) // 4 * es

        while True:
            if int(m) != m:
                m *= encbase
                e -= 1
                continue
            break
        return ms, int(m), encbase, e

    def _chooseEncBase(self, value):
        m, b, e = value
        encBase = [2, 8, 16]
        if value.binEncBase in encBase:
            return self._dropFloatingPoint(m, value.binEncBase, e)
        elif self.binEncBase in encBase:
            return self._dropFloatingPoint(m, self.binEncBase, e)
        # auto choosing base 2/8/16 
        mantissa = [m, m, m]
        exponenta = [e, e, e]
        sign = 1
        encbase = 2
        e = float('inf')
        for i in range(3):
            sign, mantissa[i], encBase[i], exponenta[i] = \
                self._dropFloatingPoint(mantissa[i], encBase[i], exponenta[i])
            if abs(exponenta[i]) < abs(e) or \
                    (abs(exponenta[i]) == abs(e) and mantissa[i] < m):
                e = exponenta[i]
                m = int(mantissa[i])
                encbase = encBase[i]
        return sign, m, encbase, e

    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        if value.isPlusInfinity():
            return int2oct(0x40), 0
        if value.isMinusInfinity():
            return int2oct(0x41), 0
        m, b, e = value
        if not m:
            return null, 0
        if b == 10:
            return str2octs('\x03%dE%s%d' % (m, e == 0 and '+' or '', e)), 0
        elif b == 2:
            fo = 0x80  # binary encoding
            ms, m, encbase, e = self._chooseEncBase(value)
            if ms < 0:  # mantissa sign
                fo |= 0x40  # sign bit
            # exponenta & mantissa normalization
            if encbase == 2:
                while m & 0x1 == 0:
                    m >>= 1
                    e += 1
            elif encbase == 8:
                while m & 0x7 == 0:
                    m >>= 3
                    e += 1
                fo |= 0x10
            else:  # encbase = 16
                while m & 0xf == 0:
                    m >>= 4
                    e += 1
                fo |= 0x20
            sf = 0  # scale factor
            while m & 0x1 == 0:
                m >>= 1
                sf += 1
            if sf > 3:
                raise error.PyAsn1Error('Scale factor overflow')  # bug if raised
            fo |= sf << 2
            eo = null
            if e == 0 or e == -1:
                eo = int2oct(e & 0xff)
            else:
                while e not in (0, -1):
                    eo = int2oct(e & 0xff) + eo
                    e >>= 8
                if e == 0 and eo and oct2int(eo[0]) & 0x80:
                    eo = int2oct(0) + eo
                if e == -1 and eo and not (oct2int(eo[0]) & 0x80):
                    eo = int2oct(0xff) + eo
            n = len(eo)
            if n > 0xff:
                raise error.PyAsn1Error('Real exponent overflow')
            if n == 1:
                pass
            elif n == 2:
                fo |= 1
            elif n == 3:
                fo |= 2
            else:
                fo |= 3
                eo = int2oct(n & 0xff) + eo
            po = null
            while m:
                po = int2oct(m & 0xff) + po
                m >>= 8
            substrate = int2oct(fo) + eo + po
            return substrate, 0
        else:
            raise error.PyAsn1Error('Prohibited Real base %s' % b)


class SequenceEncoder(AbstractItemEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        value.setDefaultComponents()
        value.verifySizeSpec()
        substrate = null
        idx = len(value)
        while idx > 0:
            idx -= 1
            if value[idx] is None:  # Optional component
                continue
            component = value.getDefaultComponentByPosition(idx)
            if component is not None and component == value[idx]:
                continue
            substrate = encodeFun(
                value[idx], defMode, maxChunkSize
            ) + substrate
        return substrate, 1


class SequenceOfEncoder(AbstractItemEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        value.verifySizeSpec()
        substrate = null
        idx = len(value)
        while idx > 0:
            idx -= 1
            substrate = encodeFun(
                value[idx], defMode, maxChunkSize
            ) + substrate
        return substrate, 1


class ChoiceEncoder(AbstractItemEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        return encodeFun(value.getComponent(), defMode, maxChunkSize), 1


class AnyEncoder(OctetStringEncoder):
    def encodeValue(self, encodeFun, value, defMode, maxChunkSize):
        return value.asOctets(), defMode == 0


tagMap = {
    eoo.endOfOctets.tagSet: EndOfOctetsEncoder(),
    univ.Boolean.tagSet: BooleanEncoder(),
    univ.Integer.tagSet: IntegerEncoder(),
    univ.BitString.tagSet: BitStringEncoder(),
    univ.OctetString.tagSet: OctetStringEncoder(),
    univ.Null.tagSet: NullEncoder(),
    univ.ObjectIdentifier.tagSet: ObjectIdentifierEncoder(),
    univ.Enumerated.tagSet: IntegerEncoder(),
    univ.Real.tagSet: RealEncoder(),
    # Sequence & Set have same tags as SequenceOf & SetOf
    univ.SequenceOf.tagSet: SequenceOfEncoder(),
    univ.SetOf.tagSet: SequenceOfEncoder(),
    univ.Choice.tagSet: ChoiceEncoder(),
    # character string types
    char.UTF8String.tagSet: OctetStringEncoder(),
    char.NumericString.tagSet: OctetStringEncoder(),
    char.PrintableString.tagSet: OctetStringEncoder(),
    char.TeletexString.tagSet: OctetStringEncoder(),
    char.VideotexString.tagSet: OctetStringEncoder(),
    char.IA5String.tagSet: OctetStringEncoder(),
    char.GraphicString.tagSet: OctetStringEncoder(),
    char.VisibleString.tagSet: OctetStringEncoder(),
    char.GeneralString.tagSet: OctetStringEncoder(),
    char.UniversalString.tagSet: OctetStringEncoder(),
    char.BMPString.tagSet: OctetStringEncoder(),
    # useful types
    useful.ObjectDescriptor.tagSet: OctetStringEncoder(),
    useful.GeneralizedTime.tagSet: OctetStringEncoder(),
    useful.UTCTime.tagSet: OctetStringEncoder()
}

# Type-to-codec map for ambiguous ASN.1 types
typeMap = {
    univ.Set.typeId: SequenceEncoder(),
    univ.SetOf.typeId: SequenceOfEncoder(),
    univ.Sequence.typeId: SequenceEncoder(),
    univ.SequenceOf.typeId: SequenceOfEncoder(),
    univ.Choice.typeId: ChoiceEncoder(),
    univ.Any.typeId: AnyEncoder()
}


class Encoder(object):
    supportIndefLength = True

    # noinspection PyDefaultArgument
    def __init__(self, tagMap, typeMap={}):
        self.__tagMap = tagMap
        self.__typeMap = typeMap

    def __call__(self, value, defMode=True, maxChunkSize=0):
        if not isinstance(value, base.Asn1Item):
            raise error.PyAsn1Error('value is not valid (should be an instance of an ASN.1 Item)')
        if not defMode and not self.supportIndefLength:
            raise error.PyAsn1Error('Indefinite length encoding not supported by this codec')
        debug.logger & debug.flagEncoder and debug.logger(
            'encoder called in %sdef mode, chunk size %s for type %s, value:\n%s' % (
                not defMode and 'in' or '', maxChunkSize, value.prettyPrintType(), value.prettyPrint()))
        tagSet = value.getTagSet()
        if len(tagSet) > 1:
            concreteEncoder = explicitlyTaggedItemEncoder
        else:
            if value.typeId is not None and value.typeId in self.__typeMap:
                concreteEncoder = self.__typeMap[value.typeId]
            elif tagSet in self.__tagMap:
                concreteEncoder = self.__tagMap[tagSet]
            else:
                tagSet = value.baseTagSet
                if tagSet in self.__tagMap:
                    concreteEncoder = self.__tagMap[tagSet]
                else:
                    raise error.PyAsn1Error('No encoder for %s' % (value,))
        debug.logger & debug.flagEncoder and debug.logger(
            'using value codec %s chosen by %s' % (concreteEncoder.__class__.__name__, tagSet))
        substrate = concreteEncoder.encode(
            self, value, defMode, maxChunkSize
        )
        debug.logger & debug.flagEncoder and debug.logger(
            'built %s octets of substrate: %s\nencoder completed' % (len(substrate), debug.hexdump(substrate)))
        return substrate

#: Turns ASN.1 object into BER octet stream.
#:
#: Takes any ASN.1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#: walks all its components recursively and produces a BER octet stream.
#:
#: Parameters
#: ----------
#  value: any pyasn1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#:     A pyasn1 object to encode
#:
#: defMode: :py:class:`bool`
#:     If `False`, produces indefinite length encoding
#:
#: maxChunkSize: :py:class:`int`
#:     Maximum chunk size in chunked encoding mode (0 denotes unlimited chunk size)
#:
#: Returns
#: -------
#: : :py:class:`bytes` (Python 3) or :py:class:`str` (Python 2)
#:     Given ASN.1 object encoded into BER octetstream
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On encoding errors
encode = Encoder(tagMap, typeMap)
                                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/encoder.pyc                                  0100644 0000000 0000062 00000036313 13077704403 023424  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s  d  d l  m Z m Z m Z m Z m Z d  d l m Z d  d l m	 Z	 m
 Z
 m Z m Z m Z d  d l m Z d  d l m Z m Z d g Z d e f d Ñ  É  YZ d	 e f d
 Ñ  É  YZ d e f d Ñ  É  YZ e É  Z d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ  d e f d Ñ  É  YZ! d e f d  Ñ  É  YZ" d! e f d" Ñ  É  YZ# i e É  e j$ j% 6e É  e j& j% 6e É  e j' j% 6e É  e j( j% 6e É  e j) j% 6e É  e j* j% 6e É  e j+ j% 6e É  e j, j% 6e É  e j- j% 6e! É  e j. j% 6e! É  e j/ j% 6e" É  e j0 j% 6e É  e j1 j% 6e É  e j2 j% 6e É  e j3 j% 6e É  e j4 j% 6e É  e j5 j% 6e É  e j6 j% 6e É  e j7 j% 6e É  e j8 j% 6e É  e j9 j% 6e É  e j: j% 6e É  e j; j% 6e É  e j< j% 6e É  e j= j% 6e É  e j> j% 6Z? i e  É  e j@ jA 6e! É  e j/ jA 6e  É  e jB jA 6e! É  e j. jA 6e" É  e j0 jA 6e# É  e jC jA 6ZD d# e f d$ Ñ  É  YZE eE e? eD É ZF d% S(&   iˇˇˇˇ(   t   baset   tagt   univt   chart   useful(   t   eoo(   t   int2octt   oct2intt	   ints2octst   nullt   str2octs(   t   to_bytes(   t   debugt   errort   encodet   AbstractItemEncoderc           B   s;   e  Z d  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   i   c         C   sÆ   | j  É  \ } } } | | B} | r5 | t j O} n  | d k  rO t | | BÉ St | d @É } | d L} x, | ró t d | d @BÉ | } | d L} ql Wt | d BÉ | Sd  S(   Ni   i   i   iÄ   (   t   asTupleR   t   tagFormatConstructedR   (   t   selft   tt   isConstructedt   tagClasst	   tagFormatt   tagIdt   vt   s(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt	   encodeTag   s    

	c         C   s•   | r |  j  r t d É S| d k  r0 t | É St } x( | r` t | d @É | } | d L} q9 Wt | É } | d k rè t j d | É Ç n  t d | BÉ | Sd  S(   NiÄ   iˇ   i   i~   s   Length octets overflow (%d)(   t   supportIndefLenModeR   R	   t   lenR   t   PyAsn1Error(   R   t   lengtht   defModet	   substratet   substrateLen(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   encodeLength#   s    

	c         C   s   t  j d É Ç d  S(   Ns   Not implemented(   R   R   (   R   t	   encodeFunt   valueR   t   maxChunkSize(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   encodeValue2   s    c         C   s(   | s |  j  r t S| t j | É Sd  S(   N(   R   R	   R   t   endOfOctets(   R   R#   R   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   _encodeEndOfOctets5   s    c         C   sÖ   |  j  | | | | É \ } } | j É  } | r} | s? t } n  |  j | d | É |  j t | É | É | |  j | | É S| Sd  S(   Niˇˇˇˇ(   R&   t	   getTagSett   TrueR   R"   R   R(   (   R   R#   R$   R   R%   R    R   t   tagSet(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR   ;   s    	>(   t   __name__t
   __module__R   R   R"   R&   R(   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR      s   				t   EndOfOctetsEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   t  d f S(   Ni    (   R	   (   R   R#   R$   R   R%   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   M   s    (   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR.   L   s   t   ExplicitlyTaggedItemEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   si   t  | t j É r7 | j d | j É  d  d d É } n | j d | j É  d  É } | | | | É d f S(   NR+   iˇˇˇˇt   cloneValueFlagi   (   t
   isinstanceR    t   AbstractConstructedAsn1Itemt   cloneR)   (   R   R#   R$   R   R%   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   R   s
    (   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR/   Q   s   t   BooleanEncoderc           B   s/   e  Z d  Z e d É Z e d É Z d Ñ  Z RS(   i    i   c         C   s   | r |  j  p |  j d f S(   Ni    (   t   _truet   _false(   R   R#   R$   R   R%   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   c   s    (   i   (   i    (   R,   R-   R   R   R5   R6   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR4   ^   s   t   IntegerEncoderc           B   s)   e  Z d  Z e Z e d É Z d Ñ  Z RS(   i    c         C   sK   | d k r/ |  j  r t d f S|  j d f Sn  t t | É d t Éd f S(   Ni    t   signed(   t   supportCompactZeroR	   t   encodedZeroR   t   intR*   (   R   R#   R$   R   R%   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   l   s
    	
(   i    (   R,   R-   R   t   FalseR9   R   R:   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR7   g   s   t   BitStringEncoderc           B   s   e  Z d  Ñ  Z RS(   c   	      C   sÒ   t  | É d r+ | d t  | É d >} n | } | sN t  | É | d k rÇ | j É  } t t  | É d t  | É É | d f Sd } t } xV | t  | É k  rÊ | } t | | d t  | É É } | | | | | !| | É 7} që W| d f S(   Ni   i    i   (   R   t   asOctetsR   R	   t   min(	   R   R#   R$   R   R%   t   alignedValueR    t   stopt   start(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   x   s    (!(   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR=   w   s   t   OctetStringEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   sî   | s t  | É | k r) | j É  d f Sd } t } xN t rÖ | j | | | | !É } | sb Pn  | | | | | É } | | 7} q8 W| d f Sd  S(   Ni    i   (   R   R>   R	   R*   R3   (   R   R#   R$   R   R%   t   posR    R   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   å   s    	(   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRC   ã   s   t   NullEncoderc           B   s   e  Z d  Z d Ñ  Z RS(   i    c         C   s
   t  d f S(   Ni    (   R	   (   R   R#   R$   R   R%   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   û   s    (   R,   R-   R   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRE   õ   s   t   ObjectIdentifierEncoderc           B   s   e  Z d  Z d Ñ  Z RS(   i    c         C   sÍ  | j  É  } t | É d k  r7 t j d | f É Ç n  d } | d } | d } d | k oh d k n rÓ | d k rë | d f | d } q(| d k r± | f | d } q(| d k r’ | d f | d } q(t j d | f É Ç n: | d k r| d f | d } n t j d | f É Ç xØ | D]ß }	 d |	 k oLd	 k n ra| |	 f 7} q/|	 d	 k rΩ|	 d	 @f }
 |	 d
 L}	 x) |	 rØd |	 d	 @Bf |
 }
 |	 d
 L}	 qáW| |
 7} q/t j d |	 | f É Ç q/Wt | É d f S(   Ni   s   Short OID %si    i   i'   i(   iP   s"   Impossible first/second arcs at %si   i   iÄ   s   Negative OID arc %s at %s(    (   R   R   R   R   R   (   R   R#   R$   R   R%   t   oidt   octetst   firstt   secondt   subOidt   res(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   •   s:    


	(   R,   R-   R   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRF   ¢   s   t   RealEncoderc           B   s5   e  Z d  Z d Z e d Ñ  É Z d Ñ  Z d Ñ  Z RS(   i    i   c         C   s  d	 \ } } |  d k  r! d } n  | d k  r6 d } n  |  | 9}  | d k r |  d t  | É d | 9}  t  | É d | } n? | d k ræ |  d t  | É d | 9}  t  | É d | } n  x7 t r˜ t |  É |  k rÛ |  | 9}  | d 8} q¡ n  Pq¡ W| t |  É | | f S(
   Ni   i    iˇˇˇˇi   i   i   i   i   (   i   i   (   t   absR*   R;   (   t   mt   encbaset   et   mst   es(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   _dropFloatingPoint’   s&    		
	

c         C   sm  | \ } } } d d d g } | j  | k rC |  j | | j  | É S|  j  | k rh |  j | |  j  | É S| | | g } | | | g } d } d }	 t d É } xº t d É D]Æ }
 |  j | |
 | |
 | |
 É \ } | |
 <| |
 <| |
 <t | |
 É t | É k  s2t | |
 É t | É k r´ | |
 | k  r´ | |
 } t | |
 É } | |
 }	 q´ q´ W| | |	 | f S(   Ni   i   i   i   t   infi   (   t
   binEncBaseRT   t   floatt   rangeRN   R;   (   R   R$   RO   t   bRQ   t   encBaset   mantissat	   exponentat   signRP   t   i(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   _chooseEncBaseÏ   s&    9,
c         C   s¨  | j  É  r t d É d f S| j É  r8 t d É d f S| \ } } } | sW t d f S| d k rí t d | | d k r~ d pÅ d | f É d f S| d k rïd	 } |  j | É \ }	 } }
 } |	 d k  rÿ | d O} n  |
 d k rx§ | d
 @d k r| d
 L} | d
 7} qÁ Wny |
 d k rVx( | d @d k rH| d L} | d
 7} q!W| d O} n5 x( | d @d k rÄ| d L} | d
 7} qYW| d O} d } x( | d
 @d k rª| d
 L} | d
 7} qîW| d k r⁄t j d É Ç n  | | d >O} t } | d k s| d k rt | d @É } n§ x. | d k rIt | d @É | } | d L} qW| d k rÉ| rÉt | d É d	 @rÉt d É | } n  | d k rΩ| rΩt | d É d	 @rΩt d É | } n  t	 | É } | d k rÁt j d É Ç n  | d
 k rˆnP | d k r| d
 O} n7 | d k r(| d O} n | d O} t | d @É | } t } x( | rvt | d @É | } | d L} qOWt | É | | } | d f St j d | É Ç d  S(   Ni@   i    iA   i
   s   %dE%s%dt   +t    i   iÄ   i   i   i   i   i   i   i   i    s   Scale factor overflowiˇˇˇˇiˇ   s   Real exponent overflows   Prohibited Real base %s(   i    iˇˇˇˇ(
   t   isPlusInfinityR   t   isMinusInfinityR	   R
   R_   R   R   R   R   (   R   R#   R$   R   R%   RO   RY   RQ   t   foRR   RP   t   sft   eot   nt   poR    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&     s|    
/




&'
	
(   R,   R-   R   RV   t   staticmethodRT   R_   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRM   —   s
   	t   SequenceEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   sÆ   | j  É  | j É  t } t | É } x{ | d k r£ | d 8} | | d  k rU q) n  | j | É } | d  k	 rÜ | | | k rÜ q) n  | | | | | É | } q) W| d f S(   Ni    i   (   t   setDefaultComponentst   verifySizeSpecR	   R   t   Nonet   getDefaultComponentByPosition(   R   R#   R$   R   R%   R    t   idxt	   component(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   J  s    


(   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRj   I  s   t   SequenceOfEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s]   | j  É  t } t | É } x4 | d k rR | d 8} | | | | | É | } q W| d f S(   Ni    i   (   Rl   R	   R   (   R   R#   R$   R   R%   R    Ro   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   ]  s    

(   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRq   \  s   t   ChoiceEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s   | | j  É  | | É d f S(   Ni   (   t   getComponent(   R   R#   R$   R   R%   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   j  s    (   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRr   i  s   t
   AnyEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s   | j  É  | d k f S(   Ni    (   R>   (   R   R#   R$   R   R%   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyR&   o  s    (   R,   R-   R&   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRt   n  s   t   Encoderc           B   s)   e  Z e Z i  d  Ñ Z e d d Ñ Z RS(   c         C   s   | |  _  | |  _ d  S(   N(   t   _Encoder__tagMapt   _Encoder__typeMap(   R   t   tagMapt   typeMap(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   __init__¢  s    	i    c         C   sƒ  t  | t j É s$ t j d É Ç n  | rG |  j rG t j d É Ç n  t j t j @oå t j d | rm d pp d | | j	 É  | j
 É  f É | j É  } t | É d k r¥ t } në | j d  k	 rË | j |  j k rË |  j | j } n] | |  j k r|  j | } n> | j } | |  j k r/|  j | } n t j d | f É Ç t j t j @oqt j d | j j | f É | j |  | | | É } t j t j @oøt j d	 t | É t j | É f É | S(
   Ns;   value is not valid (should be an instance of an ASN.1 Item)s6   Indefinite length encoding not supported by this codecsB   encoder called in %sdef mode, chunk size %s for type %s, value:
%st   inRa   i   s   No encoder for %ss!   using value codec %s chosen by %ss2   built %s octets of substrate: %s
encoder completed(   R1   R    t   Asn1ItemR   R   t   supportIndefLengthR   t   loggert   flagEncodert   prettyPrintTypet   prettyPrintR)   R   t   explicitlyTaggedItemEncodert   typeIdRm   Rw   Rv   t
   baseTagSett	   __class__R,   R   t   hexdump(   R   R$   R   R%   R+   t   concreteEncoderR    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   __call__¶  s2    -	!	 (   R,   R-   R*   R}   Rz   Rà   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyRu   û  s   N(G   t   pyasn1.typeR    R   R   R   R   t   pyasn1.codec.berR   t   pyasn1.compat.octetsR   R   R   R	   R
   t   pyasn1.compat.integerR   t   pyasn1R   R   t   __all__t   objectR   R.   R/   RÇ   R4   R7   R=   RC   RE   RF   RM   Rj   Rq   Rr   Rt   R'   R+   t   Booleant   Integert	   BitStringt   OctetStringt   Nullt   ObjectIdentifiert
   Enumeratedt   Realt
   SequenceOft   SetOft   Choicet
   UTF8Stringt   NumericStringt   PrintableStringt   TeletexStringt   VideotexStringt	   IA5Stringt   GraphicStringt   VisibleStringt   GeneralStringt   UniversalStringt	   BMPStringt   ObjectDescriptort   GeneralizedTimet   UTCTimeRx   t   SetRÉ   t   Sequencet   AnyRy   Ru   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/encoder.pyt   <module>   sp   ((	<
		/x@                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/eoo.py                                       0100644 0000000 0000062 00000000603 13077704400 022412  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import base, tag


class EndOfOctets(base.AbstractSimpleAsn1Item):
    defaultValue = 0
    tagSet = tag.initTagSet(
        tag.Tag(tag.tagClassUniversal, tag.tagFormatSimple, 0x00)
    )


endOfOctets = EndOfOctets()
                                                                                                                             usr/local/lib/python2.7/dist-packages/pyasn1/codec/ber/eoo.pyc                                      0100644 0000000 0000062 00000001155 13077704403 022563  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s<   d  d l  m Z m Z d e j f d Ñ  É  YZ e É  Z d S(   iˇˇˇˇ(   t   baset   tagt   EndOfOctetsc           B   s2   e  Z d  Z e j e j e j e j d  É É Z RS(   i    (	   t   __name__t
   __module__t   defaultValueR   t
   initTagSett   Tagt   tagClassUniversalt   tagFormatSimplet   tagSet(    (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/eoo.pyR   
   s   N(   t   pyasn1.typeR    R   t   AbstractSimpleAsn1ItemR   t   endOfOctets(    (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/ber/eoo.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                                                      usr/local/lib/python2.7/dist-packages/pyasn1/codec/cer/                                             0042755 0000000 0000062 00000000000 13077704403 021270  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/codec/cer/__init__.py                                  0100644 0000000 0000062 00000000073 13077704400 023371  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # This file is necessary to make this directory a package.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/codec/cer/__init__.pyc                                 0100644 0000000 0000062 00000000220 13077704403 023531  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s   d  S(   N(    (    (    (    s9   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/__init__.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                    usr/local/lib/python2.7/dist-packages/pyasn1/codec/cer/decoder.py                                   0100644 0000000 0000062 00000005351 13077704400 023243  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import univ
from pyasn1.codec.ber import decoder
from pyasn1.compat.octets import oct2int
from pyasn1 import error

__all__ = ['decode']


class BooleanDecoder(decoder.AbstractSimpleDecoder):
    protoComponent = univ.Boolean(0)

    def valueDecoder(self, fullSubstrate, substrate, asn1Spec, tagSet, length,
                     state, decodeFun, substrateFun):
        head, tail = substrate[:length], substrate[length:]
        if not head or length != 1:
            raise error.PyAsn1Error('Not single-octet Boolean payload')
        byte = oct2int(head[0])
        # CER/DER specifies encoding of TRUE as 0xFF and FALSE as 0x0, while
        # BER allows any non-zero value as TRUE; cf. sections 8.2.2. and 11.1 
        # in http://www.itu.int/ITU-T/studygroups/com17/languages/X.690-0207.pdf
        if byte == 0xff:
            value = 1
        elif byte == 0x00:
            value = 0
        else:
            raise error.PyAsn1Error('Unexpected Boolean payload: %s' % byte)
        return self._createComponent(asn1Spec, tagSet, value), tail

# TODO: prohibit non-canonical encoding
BitStringDecoder = decoder.BitStringDecoder
OctetStringDecoder = decoder.OctetStringDecoder
RealDecoder = decoder.RealDecoder

tagMap = decoder.tagMap.copy()
tagMap.update(
    {univ.Boolean.tagSet: BooleanDecoder(),
     univ.BitString.tagSet: BitStringDecoder(),
     univ.OctetString.tagSet: OctetStringDecoder(),
     univ.Real.tagSet: RealDecoder()}
)

typeMap = decoder.typeMap


class Decoder(decoder.Decoder):
    pass


#: Turns CER octet stream into an ASN.1 object.
#:
#: Takes CER octetstream and decode it into an ASN.1 object
#: (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative) which
#: may be a scalar or an arbitrary nested structure.
#:
#: Parameters
#: ----------
#: substrate: :py:class:`bytes` (Python 3) or :py:class:`str` (Python 2)
#:     CER octetstream
#:
#: asn1Spec: any pyasn1 type object e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative
#:     A pyasn1 type object to act as a template guiding the decoder. Depending on the ASN.1 structure
#:     being decoded, *asn1Spec* may or may not be required. Most common reason for
#:     it to require is that ASN.1 structure is encoded in *IMPLICIT* tagging mode.
#:
#: Returns
#: -------
#: : :py:class:`tuple`
#:     A tuple of pyasn1 object recovered from CER substrate (:py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#:     and the unprocessed trailing portion of the *substrate* (may be empty)
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On decoding errors
decode = Decoder(tagMap, decoder.typeMap)
                                                                                                                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/pyasn1/codec/cer/decoder.pyc                                  0100644 0000000 0000062 00000003447 13077704403 023415  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s  d  d l  m Z d  d l m Z d  d l m Z d  d l m Z d g Z d e j	 f d Ñ  É  YZ
 e j Z e j Z e j Z e j j É  Z e j i e
 É  e j j 6e É  e j j 6e É  e j j 6e É  e j j 6É e j Z d e j f d	 Ñ  É  YZ e e e j É Z d
 S(   iˇˇˇˇ(   t   univ(   t   decoder(   t   oct2int(   t   errort   decodet   BooleanDecoderc           B   s    e  Z e j d  É Z d Ñ  Z RS(   i    c	         C   s†   | |  | | }	 }
 |	 s( | d k r: t  j d É Ç n  t |	 d É } | d k r_ d } n( | d k rt d } n t  j d | É Ç |  j | | | É |
 f S(   Ni   s    Not single-octet Boolean payloadi    iˇ   s   Unexpected Boolean payload: %s(   R   t   PyAsn1ErrorR   t   _createComponent(   t   selft   fullSubstratet	   substratet   asn1Spect   tagSett   lengtht   statet	   decodeFunt   substrateFunt   headt   tailt   bytet   value(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/decoder.pyt   valueDecoder   s    		(   t   __name__t
   __module__R    t   Booleant   protoComponentR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/decoder.pyR      s   t   Decoderc           B   s   e  Z RS(    (   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/decoder.pyR   3   s   N(   t   pyasn1.typeR    t   pyasn1.codec.berR   t   pyasn1.compat.octetsR   t   pyasn1R   t   __all__t   AbstractSimpleDecoderR   t   BitStringDecodert   OctetStringDecodert   RealDecodert   tagMapt   copyt   updateR   R   t	   BitStringt   OctetStringt   Realt   typeMapR   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/decoder.pyt   <module>   s"   					                                                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/pyasn1/codec/cer/encoder.py                                   0100644 0000000 0000062 00000013472 13077704400 023260  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import univ
from pyasn1.type import useful
from pyasn1.codec.ber import encoder
from pyasn1.compat.octets import int2oct, str2octs, null
from pyasn1 import error

__all__ = ['encode']


class BooleanEncoder(encoder.IntegerEncoder):
    def encodeValue(self, encodeFun, client, defMode, maxChunkSize):
        if client == 0:
            substrate = int2oct(0)
        else:
            substrate = int2oct(255)
        return substrate, 0


class BitStringEncoder(encoder.BitStringEncoder):
    def encodeValue(self, encodeFun, client, defMode, maxChunkSize):
        return encoder.BitStringEncoder.encodeValue(
            self, encodeFun, client, defMode, 1000
        )


class OctetStringEncoder(encoder.OctetStringEncoder):
    def encodeValue(self, encodeFun, client, defMode, maxChunkSize):
        return encoder.OctetStringEncoder.encodeValue(
            self, encodeFun, client, defMode, 1000
        )


class RealEncoder(encoder.RealEncoder):
    def _chooseEncBase(self, value):
        m, b, e = value
        return self._dropFloatingPoint(m, b, e)


# specialized GeneralStringEncoder here

class GeneralizedTimeEncoder(OctetStringEncoder):
    zchar = str2octs('Z')
    pluschar = str2octs('+')
    minuschar = str2octs('-')
    zero = str2octs('0')

    def encodeValue(self, encodeFun, client, defMode, maxChunkSize):
        octets = client.asOctets()
        # This breaks too many existing data items
        #        if '.' not in octets:
        #            raise error.PyAsn1Error('Format must include fraction of second: %r' % octets)
        if len(octets) < 15:
            raise error.PyAsn1Error('Bad UTC time length: %r' % octets)
        if self.pluschar in octets or self.minuschar in octets:
            raise error.PyAsn1Error('Must be UTC time: %r' % octets)
        if octets[-1] != self.zchar[0]:
            raise error.PyAsn1Error('Missing timezone specifier: %r' % octets)
        return encoder.OctetStringEncoder.encodeValue(
            self, encodeFun, client, defMode, 1000
        )


class UTCTimeEncoder(encoder.OctetStringEncoder):
    zchar = str2octs('Z')
    pluschar = str2octs('+')
    minuschar = str2octs('-')

    def encodeValue(self, encodeFun, client, defMode, maxChunkSize):
        octets = client.asOctets()
        if self.pluschar in octets or self.minuschar in octets:
            raise error.PyAsn1Error('Must be UTC time: %r' % octets)
        if octets and octets[-1] != self.zchar[0]:
            client = client.clone(octets + self.zchar)
        if len(client) != 13:
            raise error.PyAsn1Error('Bad UTC time length: %r' % client)
        return encoder.OctetStringEncoder.encodeValue(
            self, encodeFun, client, defMode, 1000
        )


class SetOfEncoder(encoder.SequenceOfEncoder):
    def encodeValue(self, encodeFun, client, defMode, maxChunkSize):
        if isinstance(client, univ.SequenceAndSetBase):
            client.setDefaultComponents()
        client.verifySizeSpec()
        substrate = null
        idx = len(client)
        # This is certainly a hack but how else do I distinguish SetOf
        # from Set if they have the same tags&constraints?
        if isinstance(client, univ.SequenceAndSetBase):
            # Set
            comps = []
            while idx > 0:
                idx -= 1
                if client[idx] is None:  # Optional component
                    continue
                if client.getDefaultComponentByPosition(idx) == client[idx]:
                    continue
                comps.append(client[idx])
            comps.sort(key=lambda x: isinstance(x, univ.Choice) and x.getMinTagSet() or x.getTagSet())
            for c in comps:
                substrate += encodeFun(c, defMode, maxChunkSize)
        else:
            # SetOf
            compSubs = []
            while idx > 0:
                idx -= 1
                compSubs.append(
                    encodeFun(client[idx], defMode, maxChunkSize)
                )
            compSubs.sort()  # perhaps padding's not needed
            substrate = null
            for compSub in compSubs:
                substrate += compSub
        return substrate, 1


tagMap = encoder.tagMap.copy()
tagMap.update({
    univ.Boolean.tagSet: BooleanEncoder(),
    univ.BitString.tagSet: BitStringEncoder(),
    univ.OctetString.tagSet: OctetStringEncoder(),
    univ.Real.tagSet: RealEncoder(),
    useful.GeneralizedTime.tagSet: GeneralizedTimeEncoder(),
    useful.UTCTime.tagSet: UTCTimeEncoder(),
    univ.SetOf().tagSet: SetOfEncoder()  # conflcts with Set
})

typeMap = encoder.typeMap.copy()
typeMap.update({
    univ.Set.typeId: SetOfEncoder(),
    univ.SetOf.typeId: SetOfEncoder()
})


class Encoder(encoder.Encoder):
    def __call__(self, client, defMode=False, maxChunkSize=0):
        return encoder.Encoder.__call__(self, client, defMode, maxChunkSize)


#: Turns ASN.1 object into CER octet stream.
#:
#: Takes any ASN.1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#: walks all its components recursively and produces a CER octet stream.
#:
#: Parameters
#: ----------
#  value: any pyasn1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#:     A pyasn1 object to encode
#:
#: defMode: :py:class:`bool`
#:     If `False`, produces indefinite length encoding
#:
#: maxChunkSize: :py:class:`int`
#:     Maximum chunk size in chunked encoding mode (0 denotes unlimited chunk size)
#:
#: Returns
#: -------
#: : :py:class:`bytes` (Python 3) or :py:class:`str` (Python 2)
#:     Given ASN.1 object encoded into BER octetstream
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On encoding errors
encode = Encoder(tagMap, typeMap)

# EncoderFactory queries class instance and builds a map of tags -> encoders
                                                                                                                                                                                                      usr/local/lib/python2.7/dist-packages/pyasn1/codec/cer/encoder.pyc                                  0100644 0000000 0000062 00000013565 13077704403 023431  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s  d  d l  m Z d  d l  m Z d  d l m Z d  d l m Z m Z m Z d  d l	 m
 Z
 d g Z d e j f d Ñ  É  YZ d	 e j f d
 Ñ  É  YZ d e j f d Ñ  É  YZ d e j f d Ñ  É  YZ d e f d Ñ  É  YZ d e j f d Ñ  É  YZ d e j f d Ñ  É  YZ e j j É  Z e j i e É  e j j 6e É  e j j 6e É  e j j 6e É  e j j 6e É  e j j 6e É  e j j 6e É  e j É  j 6É e j  j É  Z  e  j i e É  e j! j" 6e É  e j j" 6É d e j# f d Ñ  É  YZ# e# e e  É Z$ d S(   iˇˇˇˇ(   t   univ(   t   useful(   t   encoder(   t   int2octt   str2octst   null(   t   errort   encodet   BooleanEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s1   | d k r t  d É } n t  d É } | d f S(   Ni    iˇ   (   R   (   t   selft	   encodeFunt   clientt   defModet   maxChunkSizet	   substrate(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyt   encodeValue   s    (   t   __name__t
   __module__R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR      s   t   BitStringEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s   t  j j |  | | | d É S(   NiË  (   R   R   R   (   R	   R
   R   R   R   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR      s    	(   R   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR      s   t   OctetStringEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s   t  j j |  | | | d É S(   NiË  (   R   R   R   (   R	   R
   R   R   R   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR   !   s    	(   R   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR       s   t   RealEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s"   | \ } } } |  j  | | | É S(   N(   t   _dropFloatingPoint(   R	   t   valuet   mt   bt   e(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyt   _chooseEncBase(   s    (   R   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR   '   s   t   GeneralizedTimeEncoderc           B   sA   e  Z e d  É Z e d É Z e d É Z e d É Z d Ñ  Z RS(   t   Zt   +t   -t   0c         C   s±   | j  É  } t | É d k  r4 t j d | É Ç n  |  j | k sR |  j | k rh t j d | É Ç n  | d |  j d k rï t j d | É Ç n  t j j	 |  | | | d É S(   Ni   s   Bad UTC time length: %rs   Must be UTC time: %riˇˇˇˇi    s   Missing timezone specifier: %riË  (
   t   asOctetst   lenR   t   PyAsn1Errort   pluschart	   minuschart   zcharR   R   R   (   R	   R
   R   R   R   t   octets(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR   5   s    	(   R   R   R   R%   R#   R$   t   zeroR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR   /   s
   t   UTCTimeEncoderc           B   s5   e  Z e d  É Z e d É Z e d É Z d Ñ  Z RS(   R   R   R   c         C   s∫   | j  É  } |  j | k s* |  j | k r@ t j d | É Ç n  | rv | d |  j d k rv | j | |  j É } n  t | É d k rû t j d | É Ç n  t j	 j
 |  | | | d É S(   Ns   Must be UTC time: %riˇˇˇˇi    i   s   Bad UTC time length: %riË  (   R    R#   R$   R   R"   R%   t   cloneR!   R   R   R   (   R	   R
   R   R   R   R&   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR   J   s    	(   R   R   R   R%   R#   R$   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR(   E   s   t   SetOfEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   sh  t  | t j É r | j É  n  | j É  t } t | É } t  | t j É rÛ g  } x` | d k rµ | d 8} | | d  k rÇ qV n  | j | É | | k r° qV n  | j	 | | É qV W| j
 d d Ñ  É xí | D] } | | | | | É 7} q– Wnk g  }	 x7 | d k r2| d 8} |	 j	 | | | | | É É q¸ W|	 j
 É  t } x |	 D] }
 | |
 7} qJW| d f S(   Ni    i   t   keyc         S   s(   t  |  t j É r |  j É  p' |  j É  S(   N(   t
   isinstanceR    t   Choicet   getMinTagSett	   getTagSet(   t   x(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyt   <lambda>j   s    (   R,   R    t   SequenceAndSetBaset   setDefaultComponentst   verifySizeSpecR   R!   t   Nonet   getDefaultComponentByPositiont   appendt   sort(   R	   R
   R   R   R   R   t   idxt   compst   ct   compSubst   compSub(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR   X   s6    



(   R   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR*   W   s   t   Encoderc           B   s   e  Z e d  d Ñ Z RS(   i    c         C   s   t  j j |  | | | É S(   N(   R   R>   t   __call__(   R	   R   R   R   (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR?   è   s    (   R   R   t   FalseR?   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyR>   é   s   N(%   t   pyasn1.typeR    R   t   pyasn1.codec.berR   t   pyasn1.compat.octetsR   R   R   t   pyasn1R   t   __all__t   IntegerEncoderR   R   R   R   R   R(   t   SequenceOfEncoderR*   t   tagMapt   copyt   updatet   Booleant   tagSett	   BitStringt   OctetStringt   Realt   GeneralizedTimet   UTCTimet   SetOft   typeMapt   Sett   typeIdR>   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/cer/encoder.pyt   <module>   s6   		%		                                                                                                                                           usr/local/lib/python2.7/dist-packages/pyasn1/codec/der/                                             0042755 0000000 0000062 00000000000 13077704403 021271  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/codec/der/__init__.py                                  0100644 0000000 0000062 00000000073 13077704400 023372  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # This file is necessary to make this directory a package.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/codec/der/__init__.pyc                                 0100644 0000000 0000062 00000000220 13077704403 023532  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s   d  S(   N(    (    (    (    s9   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/__init__.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                    usr/local/lib/python2.7/dist-packages/pyasn1/codec/der/decoder.py                                   0100644 0000000 0000062 00000003511 13077704400 023240  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import univ
from pyasn1.codec.cer import decoder

__all__ = ['decode']


class BitStringDecoder(decoder.BitStringDecoder):
    supportConstructedForm = False


class OctetStringDecoder(decoder.OctetStringDecoder):
    supportConstructedForm = False

# TODO: prohibit non-canonical encoding
RealDecoder = decoder.RealDecoder

tagMap = decoder.tagMap.copy()
tagMap.update(
    {univ.BitString.tagSet: BitStringDecoder(),
     univ.OctetString.tagSet: OctetStringDecoder(),
     univ.Real.tagSet: RealDecoder()}
)

typeMap = decoder.typeMap


class Decoder(decoder.Decoder):
    supportIndefLength = False


#: Turns DER octet stream into an ASN.1 object.
#:
#: Takes DER octetstream and decode it into an ASN.1 object
#: (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative) which
#: may be a scalar or an arbitrary nested structure.
#:
#: Parameters
#: ----------
#: substrate: :py:class:`bytes` (Python 3) or :py:class:`str` (Python 2)
#:     DER octetstream
#:
#: asn1Spec: any pyasn1 type object e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative
#:     A pyasn1 type object to act as a template guiding the decoder. Depending on the ASN.1 structure
#:     being decoded, *asn1Spec* may or may not be required. Most common reason for
#:     it to require is that ASN.1 structure is encoded in *IMPLICIT* tagging mode.
#:
#: Returns
#: -------
#: : :py:class:`tuple`
#:     A tuple of pyasn1 object recovered from DER substrate (:py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#:     and the unprocessed trailing portion of the *substrate* (may be empty)
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On decoding errors
decode = Decoder(tagMap, typeMap)
                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/pyasn1/codec/der/decoder.pyc                                  0100644 0000000 0000062 00000002306 13077704403 023407  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   sÂ   d  d l  m Z d  d l m Z d g Z d e j f d Ñ  É  YZ d e j f d Ñ  É  YZ e j Z e j j	 É  Z e j
 i e É  e j j 6e É  e j j 6e É  e j j 6É e j Z d e j f d	 Ñ  É  YZ e e e É Z d
 S(   iˇˇˇˇ(   t   univ(   t   decodert   decodet   BitStringDecoderc           B   s   e  Z e Z RS(    (   t   __name__t
   __module__t   Falset   supportConstructedForm(    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/decoder.pyR      s   t   OctetStringDecoderc           B   s   e  Z e Z RS(    (   R   R   R   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/decoder.pyR      s   t   Decoderc           B   s   e  Z e Z RS(    (   R   R   R   t   supportIndefLength(    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/decoder.pyR	   !   s   N(   t   pyasn1.typeR    t   pyasn1.codec.cerR   t   __all__R   R   t   RealDecodert   tagMapt   copyt   updatet	   BitStringt   tagSett   OctetStringt   Realt   typeMapR	   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/decoder.pyt   <module>   s   			                                                                                                                                                                                                                                                                                                                          usr/local/lib/python2.7/dist-packages/pyasn1/codec/der/encoder.py                                   0100644 0000000 0000062 00000004041 13077704400 023251  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import univ
from pyasn1.codec.cer import encoder
from pyasn1 import error

__all__ = ['encode']


class SetOfEncoder(encoder.SetOfEncoder):
    @staticmethod
    def _cmpSetComponents(c1, c2):
        tagSet1 = isinstance(c1, univ.Choice) and c1.getEffectiveTagSet() or c1.getTagSet()
        tagSet2 = isinstance(c2, univ.Choice) and c2.getEffectiveTagSet() or c2.getTagSet()
        return cmp(tagSet1, tagSet2)


tagMap = encoder.tagMap.copy()
tagMap.update({
    # Overload CER encoders with BER ones (a bit hackerish XXX)
    univ.BitString.tagSet: encoder.encoder.BitStringEncoder(),
    univ.OctetString.tagSet: encoder.encoder.OctetStringEncoder(),
    # Set & SetOf have same tags
    univ.SetOf().tagSet: SetOfEncoder()
})

typeMap = encoder.typeMap


class Encoder(encoder.Encoder):
    supportIndefLength = False

    def __call__(self, client, defMode=True, maxChunkSize=0):
        if not defMode or maxChunkSize:
            raise error.PyAsn1Error('DER forbids indefinite length mode')
        return encoder.Encoder.__call__(self, client, defMode, maxChunkSize)

#: Turns ASN.1 object into DER octet stream.
#:
#: Takes any ASN.1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#: walks all its components recursively and produces a DER octet stream.
#:
#: Parameters
#: ----------
#  value: any pyasn1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#:     A pyasn1 object to encode
#:
#: defMode: :py:class:`bool`
#:     If `False`, produces indefinite length encoding
#:
#: maxChunkSize: :py:class:`int`
#:     Maximum chunk size in chunked encoding mode (0 denotes unlimited chunk size)
#:
#: Returns
#: -------
#: : :py:class:`bytes` (Python 3) or :py:class:`str` (Python 2)
#:     Given ASN.1 object encoded into BER octetstream
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On encoding errors
encode = Encoder(tagMap, typeMap)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               usr/local/lib/python2.7/dist-packages/pyasn1/codec/der/encoder.pyc                                  0100644 0000000 0000062 00000003404 13077704403 023421  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s‚   d  d l  m Z d  d l m Z d  d l m Z d g Z d e j f d Ñ  É  YZ e j j	 É  Z e j
 i e j j É  e j j 6e j j É  e j j 6e É  e j É  j 6É e j Z d e j f d Ñ  É  YZ e e e É Z d	 S(
   iˇˇˇˇ(   t   univ(   t   encoder(   t   errort   encodet   SetOfEncoderc           B   s   e  Z e d  Ñ  É Z RS(   c         C   sa   t  |  t j É r |  j É  p' |  j É  } t  | t j É rH | j É  pQ | j É  } t | | É S(   N(   t
   isinstanceR    t   Choicet   getEffectiveTagSett	   getTagSett   cmp(   t   c1t   c2t   tagSet1t   tagSet2(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/encoder.pyt   _cmpSetComponents   s    **(   t   __name__t
   __module__t   staticmethodR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/encoder.pyR      s   t   Encoderc           B   s   e  Z e Z e d  d Ñ Z RS(   i    c         C   s8   | s | r t  j d É Ç n  t j j |  | | | É S(   Ns"   DER forbids indefinite length mode(   R   t   PyAsn1ErrorR   R   t   __call__(   t   selft   clientt   defModet   maxChunkSize(    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/encoder.pyR   %   s    (   R   R   t   Falset   supportIndefLengtht   TrueR   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/encoder.pyR   "   s   N(   t   pyasn1.typeR    t   pyasn1.codec.cerR   t   pyasn1R   t   __all__R   t   tagMapt   copyt   updatet   BitStringEncodert	   BitStringt   tagSett   OctetStringEncodert   OctetStringt   SetOft   typeMapR   R   (    (    (    s8   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/der/encoder.pyt   <module>   s   			!                                                                                                                                                                                                                                                            usr/local/lib/python2.7/dist-packages/pyasn1/codec/native/                                          0042755 0000000 0000062 00000000000 13077704403 022005  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/codec/native/__init__.py                               0100644 0000000 0000062 00000000073 13077704400 024106  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # This file is necessary to make this directory a package.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/codec/native/__init__.pyc                              0100644 0000000 0000062 00000000223 13077704403 024251  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s   d  S(   N(    (    (    (    s<   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/__init__.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                 usr/local/lib/python2.7/dist-packages/pyasn1/codec/native/decoder.py                                0100644 0000000 0000062 00000014025 13077704400 023756  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from pyasn1.type import base, univ, char, useful
from pyasn1 import debug, error

__all__ = ['decode']


class AbstractScalarDecoder(object):
    def __call__(self, pyObject, asn1Spec, decoderFunc=None):
        return asn1Spec.clone(pyObject)


class BitStringDecoder(AbstractScalarDecoder):
    def __call__(self, pyObject, asn1Spec, decoderFunc=None):
        return asn1Spec.clone(univ.BitString.fromBinaryString(pyObject))


class SequenceOrSetDecoder(object):
    def __call__(self, pyObject, asn1Spec, decoderFunc):
        asn1Value = asn1Spec.clone()

        componentsTypes = asn1Spec.getComponentType()

        for field in asn1Value:
            if field in pyObject:
                asn1Value[field] = decoderFunc(pyObject[field], componentsTypes[field].getType())

        return asn1Value


class SequenceOfOrSetOfDecoder(object):
    def __call__(self, pyObject, asn1Spec, decoderFunc):
        asn1Value = asn1Spec.clone()

        for pyValue in pyObject:
            asn1Value.append(decoderFunc(pyValue, asn1Spec.getComponentType()))

        return asn1Value


class ChoiceDecoder(object):
    def __call__(self, pyObject, asn1Spec, decoderFunc):
        asn1Value = asn1Spec.clone()

        componentsTypes = asn1Spec.getComponentType()

        for field in pyObject:
            if field in componentsTypes:
                asn1Value[field] = decoderFunc(pyObject[field], componentsTypes[field].getType())
                break

        return asn1Value


tagMap = {
    univ.Integer.tagSet.getBaseTag(): AbstractScalarDecoder(),
    univ.Boolean.tagSet.getBaseTag(): AbstractScalarDecoder(),
    univ.BitString.tagSet.getBaseTag(): BitStringDecoder(),
    univ.OctetString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    univ.Null.tagSet.getBaseTag(): AbstractScalarDecoder(),
    univ.ObjectIdentifier.tagSet.getBaseTag(): AbstractScalarDecoder(),
    univ.Enumerated.tagSet.getBaseTag(): AbstractScalarDecoder(),
    univ.Real.tagSet.getBaseTag(): AbstractScalarDecoder(),
    univ.Sequence.tagSet.getBaseTag(): SequenceOrSetDecoder(),  # conflicts with SequenceOf
    univ.Set.tagSet.getBaseTag(): SequenceOrSetDecoder(),  # conflicts with SetOf
    univ.Choice.tagSet.getBaseTag(): ChoiceDecoder(),  # conflicts with Any
    # character string types
    char.UTF8String.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.NumericString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.PrintableString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.TeletexString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.VideotexString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.IA5String.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.GraphicString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.VisibleString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.GeneralString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.UniversalString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    char.BMPString.tagSet.getBaseTag(): AbstractScalarDecoder(),
    # useful types
    useful.ObjectDescriptor.tagSet.getBaseTag(): AbstractScalarDecoder(),
    useful.GeneralizedTime.tagSet.getBaseTag(): AbstractScalarDecoder(),
    useful.UTCTime.tagSet.getBaseTag(): AbstractScalarDecoder()
}

# Type-to-codec map for ambiguous ASN.1 types
typeMap = {
    univ.Set.typeId: SequenceOrSetDecoder(),
    univ.SetOf.typeId: SequenceOfOrSetOfDecoder(),
    univ.Sequence.typeId: SequenceOrSetDecoder(),
    univ.SequenceOf.typeId: SequenceOfOrSetOfDecoder(),
    univ.Choice.typeId: ChoiceDecoder(),
    univ.Any.typeId: AbstractScalarDecoder()
}


class Decoder(object):

    # noinspection PyDefaultArgument
    def __init__(self, tagMap, typeMap):
        self.__tagMap = tagMap
        self.__typeMap = typeMap

    def __call__(self, pyObject, asn1Spec):
        if debug.logger & debug.flagDecoder:
            debug.scope.push(type(pyObject).__name__)
            debug.logger('decoder called at scope %s, working with type %s' % (debug.scope, type(pyObject).__name__))

        if asn1Spec is None or not isinstance(asn1Spec, base.Asn1Item):
            raise error.PyAsn1Error('asn1Spec is not valid (should be an instance of an ASN.1 Item, not %s)' % asn1Spec.__class__.__name__)

        if asn1Spec.typeId is not None and asn1Spec.typeId in self.__typeMap:
            valueDecoder = self.__typeMap[asn1Spec.typeId]
        elif asn1Spec.tagSet.getBaseTag() in self.__tagMap:
            valueDecoder = self.__tagMap[asn1Spec.tagSet.getBaseTag()]
        else:
            raise error.PyAsn1Error('Unknown ASN.1 tag %s' % asn1Spec.tagSet)

        if debug.logger & debug.flagDecoder:
            debug.logger('calling decoder %s on Python type %s <%s>' % (type(valueDecoder).__name__, type(pyObject).__name__, repr(pyObject)))

        value = valueDecoder(pyObject, asn1Spec, self)

        if debug.logger & debug.flagDecoder:
            debug.logger('decoder %s produced ASN.1 type %s <%s>' % (type(valueDecoder).__name__, type(value).__name__, repr(value)))
            debug.scope.pop()

        return value


#: Turns Python objects of built-in types into ASN.1 objects.
#:
#: Takes Python objects of built-in types and turns them into a tree of
#: ASN.1 objects (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative) which
#: may be a scalar or an arbitrary nested structure.
#:
#: Parameters
#: ----------
#: pyObject: :py:class:`object`
#:     A scalar or nested Python objects
#:
#: asn1Spec: any pyasn1 type object e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative
#:     A pyasn1 type object to act as a template guiding the decoder. It is required
#:     for successful interpretation of Python objects mapping into their ASN.1
#:     representations.
#:
#: Returns
#: -------
#: : :py:class:`~pyasn1.type.base.PyAsn1Item` derivative
#:     A scalar or constructed pyasn1 object
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On decoding errors
decode = Decoder(tagMap, typeMap)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           usr/local/lib/python2.7/dist-packages/pyasn1/codec/native/decoder.pyc                               0100644 0000000 0000062 00000012553 13077704403 024130  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   sj  d  d l  m Z m Z m Z m Z d  d l m Z m Z d g Z d e	 f d Ñ  É  YZ
 d e
 f d Ñ  É  YZ d e	 f d	 Ñ  É  YZ d
 e	 f d Ñ  É  YZ d e	 f d Ñ  É  YZ i e
 É  e j j j É  6e
 É  e j j j É  6e É  e j j j É  6e
 É  e j j j É  6e
 É  e j j j É  6e
 É  e j j j É  6e
 É  e j j j É  6e
 É  e j j j É  6e É  e j j j É  6e É  e j j j É  6e É  e j j j É  6e
 É  e j j j É  6e
 É  e j j j É  6e
 É  e j j j É  6e
 É  e j j j É  6e
 É  e j  j j É  6e
 É  e j! j j É  6e
 É  e j" j j É  6e
 É  e j# j j É  6e
 É  e j$ j j É  6e
 É  e j% j j É  6e
 É  e j& j j É  6e
 É  e j' j j É  6e
 É  e j( j j É  6e
 É  e j) j j É  6Z* i e É  e j j+ 6e É  e j, j+ 6e É  e j j+ 6e É  e j- j+ 6e É  e j j+ 6e
 É  e j. j+ 6Z/ d e	 f d Ñ  É  YZ0 e0 e* e/ É Z1 d S(   iˇˇˇˇ(   t   baset   univt   chart   useful(   t   debugt   errort   decodet   AbstractScalarDecoderc           B   s   e  Z d d  Ñ Z RS(   c         C   s   | j  | É S(   N(   t   clone(   t   selft   pyObjectt   asn1Spect   decoderFunc(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyt   __call__   s    N(   t   __name__t
   __module__t   NoneR   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR      s   t   BitStringDecoderc           B   s   e  Z d d  Ñ Z RS(   c         C   s   | j  t j j | É É S(   N(   R   R   t	   BitStringt   fromBinaryString(   R	   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR      s    N(   R   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR      s   t   SequenceOrSetDecoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s]   | j  É  } | j É  } x> | D]6 } | | k r | | | | | j É  É | | <q q W| S(   N(   R   t   getComponentTypet   getType(   R	   R
   R   R   t	   asn1Valuet   componentsTypest   field(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR      s    ((   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR      s   t   SequenceOfOrSetOfDecoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s=   | j  É  } x* | D]" } | j | | | j É  É É q W| S(   N(   R   t   appendR   (   R	   R
   R   R   R   t   pyValue(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR   %   s     (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR   $   s   t   ChoiceDecoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s^   | j  É  } | j É  } x? | D]7 } | | k r | | | | | j É  É | | <Pq q W| S(   N(   R   R   R   (   R	   R
   R   R   R   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR   /   s    !(   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR   .   s   t   Decoderc           B   s   e  Z d  Ñ  Z d Ñ  Z RS(   c         C   s   | |  _  | |  _ d  S(   N(   t   _Decoder__tagMapt   _Decoder__typeMap(   R	   t   tagMapt   typeMap(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyt   __init__h   s    	c         C   s≤  t  j t  j @rO t  j j t | É j É t  j d t  j t | É j f É n  | d  k sn t | t	 j
 É rä t j d | j j É Ç n  | j d  k	 ræ | j |  j k ræ |  j | j } nG | j j É  |  j k rÔ |  j | j j É  } n t j d | j É Ç t  j t  j @rJt  j d t | É j t | É j t | É f É n  | | | |  É } t  j t  j @rÆt  j d t | É j t | É j t | É f É t  j j É  n  | S(   Ns0   decoder called at scope %s, working with type %ssF   asn1Spec is not valid (should be an instance of an ASN.1 Item, not %s)s   Unknown ASN.1 tag %ss)   calling decoder %s on Python type %s <%s>s&   decoder %s produced ASN.1 type %s <%s>(   R   t   loggert   flagDecodert   scopet   pusht   typeR   R   t
   isinstanceR    t   Asn1ItemR   t   PyAsn1Errort	   __class__t   typeIdR    t   tagSett
   getBaseTagR   t   reprt   pop(   R	   R
   R   t   valueDecodert   value(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR   l   s"    &!52(   R   R   R#   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyR   e   s   	N(2   t   pyasn1.typeR    R   R   R   t   pyasn1R   R   t   __all__t   objectR   R   R   R   R   t   IntegerR.   R/   t   BooleanR   t   OctetStringt   Nullt   ObjectIdentifiert
   Enumeratedt   Realt   Sequencet   Sett   Choicet
   UTF8Stringt   NumericStringt   PrintableStringt   TeletexStringt   VideotexStringt	   IA5Stringt   GraphicStringt   VisibleStringt   GeneralStringt   UniversalStringt	   BMPStringt   ObjectDescriptort   GeneralizedTimet   UTCTimeR!   R-   t   SetOft
   SequenceOft   AnyR"   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/decoder.pyt   <module>   sT   "	
;                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/codec/native/encoder.py                                0100644 0000000 0000062 00000015147 13077704400 023776  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
try:
    from collections import OrderedDict

except ImportError:
    OrderedDict = dict

from pyasn1.type import base, univ, char, useful
from pyasn1 import debug, error

__all__ = ['encode']


class AbstractItemEncoder(object):
    def encode(self, encodeFun, value):
        raise error.PyAsn1Error('Not implemented')


class ExplicitlyTaggedItemEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        if isinstance(value, base.AbstractConstructedAsn1Item):
            value = value.clone(tagSet=value.getTagSet()[:-1],
                                cloneValueFlag=1)
        else:
            value = value.clone(tagSet=value.getTagSet()[:-1])
        return encodeFun(value)

explicitlyTaggedItemEncoder = ExplicitlyTaggedItemEncoder()


class BooleanEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return bool(value)


class IntegerEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return int(value)


class BitStringEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return str(value)


class OctetStringEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return value.asOctets()


class TextStringEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return value.prettyPrint()


class NullEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return None


class ObjectIdentifierEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return str(value)


class RealEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return float(value)


class SetEncoder(AbstractItemEncoder):
    protoDict = dict
    def encode(self, encodeFun, value):
        value.setDefaultComponents()
        value.verifySizeSpec()
        substrate = self.protoDict()
        for key, subValue in value.items():
            if subValue is None:  # Optional component
                continue
            substrate[key] = encodeFun(subValue)
        return substrate


class SequenceEncoder(SetEncoder):
    protoDict = OrderedDict


class SequenceOfEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        value.verifySizeSpec()
        return [encodeFun(x) for x in value]


class ChoiceEncoder(SequenceEncoder):
    pass


class AnyEncoder(AbstractItemEncoder):
    def encode(self, encodeFun, value):
        return value.asOctets()


tagMap = {
    univ.Boolean.tagSet: BooleanEncoder(),
    univ.Integer.tagSet: IntegerEncoder(),
    univ.BitString.tagSet: BitStringEncoder(),
    univ.OctetString.tagSet: OctetStringEncoder(),
    univ.Null.tagSet: NullEncoder(),
    univ.ObjectIdentifier.tagSet: ObjectIdentifierEncoder(),
    univ.Enumerated.tagSet: IntegerEncoder(),
    univ.Real.tagSet: RealEncoder(),
    # Sequence & Set have same tags as SequenceOf & SetOf
    univ.SequenceOf.tagSet: SequenceOfEncoder(),
    univ.SetOf.tagSet: SequenceOfEncoder(),
    univ.Choice.tagSet: ChoiceEncoder(),
    # character string types
    char.UTF8String.tagSet: TextStringEncoder(),
    char.NumericString.tagSet: TextStringEncoder(),
    char.PrintableString.tagSet: TextStringEncoder(),
    char.TeletexString.tagSet: TextStringEncoder(),
    char.VideotexString.tagSet: TextStringEncoder(),
    char.IA5String.tagSet: TextStringEncoder(),
    char.GraphicString.tagSet: TextStringEncoder(),
    char.VisibleString.tagSet: TextStringEncoder(),
    char.GeneralString.tagSet: TextStringEncoder(),
    char.UniversalString.tagSet: TextStringEncoder(),
    char.BMPString.tagSet: TextStringEncoder(),
    # useful types
    useful.ObjectDescriptor.tagSet: OctetStringEncoder(),
    useful.GeneralizedTime.tagSet: OctetStringEncoder(),
    useful.UTCTime.tagSet: OctetStringEncoder()
}

# Type-to-codec map for ambiguous ASN.1 types
typeMap = {
    univ.Set.typeId: SetEncoder(),
    univ.SetOf.typeId: SequenceOfEncoder(),
    univ.Sequence.typeId: SequenceEncoder(),
    univ.SequenceOf.typeId: SequenceOfEncoder(),
    univ.Choice.typeId: ChoiceEncoder(),
    univ.Any.typeId: AnyEncoder()
}


class Encoder(object):

    # noinspection PyDefaultArgument
    def __init__(self, tagMap, typeMap={}):
        self.__tagMap = tagMap
        self.__typeMap = typeMap

    def __call__(self, asn1Value):
        if not isinstance(asn1Value, base.Asn1Item):
            raise error.PyAsn1Error('value is not valid (should be an instance of an ASN.1 Item)')

        if debug.logger & debug.flagEncoder:
            debug.scope.push(type(asn1Value).__name__)
            debug.logger('encoder called for type %s <%s>' % (type(asn1Value).__name__, asn1Value.prettyPrint()))

        tagSet = asn1Value.getTagSet()
        if len(tagSet) > 1:
            concreteEncoder = explicitlyTaggedItemEncoder
        else:
            if asn1Value.typeId is not None and asn1Value.typeId in self.__typeMap:
                concreteEncoder = self.__typeMap[asn1Value.typeId]
            elif tagSet in self.__tagMap:
                concreteEncoder = self.__tagMap[tagSet]
            else:
                tagSet = asn1Value.baseTagSet
                if tagSet in self.__tagMap:
                    concreteEncoder = self.__tagMap[tagSet]
                else:
                    raise error.PyAsn1Error('No encoder for %s' % (asn1Value,))

        debug.logger & debug.flagEncoder and debug.logger('using value codec %s chosen by %s' % (type(concreteEncoder).__name__, tagSet))

        pyObject = concreteEncoder.encode(self, asn1Value)

        if debug.logger & debug.flagEncoder:
            debug.logger('encoder %s produced: %s' % (type(concreteEncoder).__name__, repr(pyObject)))
            debug.scope.pop()

        return pyObject


#: Turns ASN.1 object into a Python built-in type object(s).
#:
#: Takes any ASN.1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#: walks all its components recursively and produces a Python built-in type or a tree
#: of those.
#:
#: One exception is that instead of :py:class:`dict`, the :py:class:`OrderedDict`
#: can be produced (whenever available) to preserve ordering of the components
#: in ASN.1 SEQUENCE.
#:
#: Parameters
#: ----------
#  asn1Value: any pyasn1 object (e.g. :py:class:`~pyasn1.type.base.PyAsn1Item` derivative)
#:     pyasn1 object to encode (or a tree of them)
#:
#: Returns
#: -------
#: : :py:class:`object`
#:     Python built-in type instance (or a tree of them)
#:
#: Raises
#: ------
#: : :py:class:`pyasn1.error.PyAsn1Error`
#:     On encoding errors
encode = Encoder(tagMap, typeMap)
                                                                                                                                                                                                                                                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/pyasn1/codec/native/encoder.pyc                               0100644 0000000 0000062 00000021175 13077704403 024142  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   sÁ  y d  d l  m Z Wn e k
 r- e Z n Xd  d l m Z m Z m Z m Z d  d l	 m
 Z
 m Z d g Z d e f d Ñ  É  YZ d e f d Ñ  É  YZ e É  Z d	 e f d
 Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d  Ñ  É  YZ d! e f d" Ñ  É  YZ i e É  e j j 6e É  e j  j 6e É  e j! j 6e É  e j" j 6e É  e j# j 6e É  e j$ j 6e É  e j% j 6e É  e j& j 6e É  e j' j 6e É  e j( j 6e É  e j) j 6e É  e j* j 6e É  e j+ j 6e É  e j, j 6e É  e j- j 6e É  e j. j 6e É  e j/ j 6e É  e j0 j 6e É  e j1 j 6e É  e j2 j 6e É  e j3 j 6e É  e j4 j 6e É  e j5 j 6e É  e j6 j 6e É  e j7 j 6Z8 i e É  e j9 j: 6e É  e j( j: 6e É  e j; j: 6e É  e j' j: 6e É  e j) j: 6e É  e j< j: 6Z= d# e f d$ Ñ  É  YZ> e> e8 e= É Z? d% S(&   iˇˇˇˇ(   t   OrderedDict(   t   baset   univt   chart   useful(   t   debugt   errort   encodet   AbstractItemEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s   t  j d É Ç d  S(   Ns   Not implemented(   R   t   PyAsn1Error(   t   selft	   encodeFunt   value(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR      s    (   t   __name__t
   __module__R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR      s   t   ExplicitlyTaggedItemEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s]   t  | t j É r7 | j d | j É  d  d d É } n | j d | j É  d  É } | | É S(   Nt   tagSetiˇˇˇˇt   cloneValueFlagi   (   t
   isinstanceR   t   AbstractConstructedAsn1Itemt   clonet	   getTagSet(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR      s
    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR      s   t   BooleanEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   t  | É S(   N(   t   bool(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   %   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   $   s   t   IntegerEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   t  | É S(   N(   t   int(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   *   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   )   s   t   BitStringEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   t  | É S(   N(   t   str(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   /   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   .   s   t   OctetStringEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   | j  É  S(   N(   t   asOctets(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   4   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   3   s   t   TextStringEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   | j  É  S(   N(   t   prettyPrint(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   9   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   8   s   t   NullEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s   d  S(   N(   t   None(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   >   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR    =   s   t   ObjectIdentifierEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   t  | É S(   N(   R   (   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   C   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR"   B   s   t   RealEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   t  | É S(   N(   t   float(   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   H   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR#   G   s   t
   SetEncoderc           B   s   e  Z e Z d  Ñ  Z RS(   c         C   sc   | j  É  | j É  |  j É  } x< | j É  D]. \ } } | d  k rK q- n  | | É | | <q- W| S(   N(   t   setDefaultComponentst   verifySizeSpect	   protoDictt   itemsR!   (   R
   R   R   t	   substratet   keyt   subValue(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   N   s    

(   R   R   t   dictR(   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR%   L   s   t   SequenceEncoderc           B   s   e  Z e Z RS(    (   R   R   R    R(   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR.   Y   s   t   SequenceOfEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s'   | j  É  g  | D] } | | É ^ q S(   N(   R'   (   R
   R   R   t   x(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   ^   s    
(   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR/   ]   s   t   ChoiceEncoderc           B   s   e  Z RS(    (   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR1   c   s   t
   AnyEncoderc           B   s   e  Z d  Ñ  Z RS(   c         C   s
   | j  É  S(   N(   R   (   R
   R   R   (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR   h   s    (   R   R   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR2   g   s   t   Encoderc           B   s   e  Z i  d  Ñ Z d Ñ  Z RS(   c         C   s   | |  _  | |  _ d  S(   N(   t   _Encoder__tagMapt   _Encoder__typeMap(   R
   t   tagMapt   typeMap(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyt   __init__ô   s    	c         C   s∫  t  | t j É s$ t j d É Ç n  t j t j @rv t j j	 t
 | É j É t j d t
 | É j | j É  f É n  | j É  } t | É d k rù t } në | j d  k	 r— | j |  j k r— |  j | j } n] | |  j k r |  j | } n> | j } | |  j k r|  j | } n t j d | f É Ç t j t j @o]t j d t
 | É j | f É | j |  | É } t j t j @r∂t j d t
 | É j t | É f É t j j É  n  | S(   Ns;   value is not valid (should be an instance of an ASN.1 Item)s   encoder called for type %s <%s>i   s   No encoder for %ss!   using value codec %s chosen by %ss   encoder %s produced: %s(   R   R   t   Asn1ItemR   R	   R   t   loggert   flagEncodert   scopet   pusht   typeR   R   R   t   lent   explicitlyTaggedItemEncodert   typeIdR!   R5   R4   t
   baseTagSetR   t   reprt   pop(   R
   t	   asn1ValueR   t   concreteEncodert   pyObject(    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyt   __call__ù   s,    )	!	0&(   R   R   R8   RH   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyR3   ñ   s   N(@   t   collectionsR    t   ImportErrorR-   t   pyasn1.typeR   R   R   R   t   pyasn1R   R   t   __all__t   objectR   R   R@   R   R   R   R   R   R    R"   R#   R%   R.   R/   R1   R2   t   BooleanR   t   Integert	   BitStringt   OctetStringt   Nullt   ObjectIdentifiert
   Enumeratedt   Realt
   SequenceOft   SetOft   Choicet
   UTF8Stringt   NumericStringt   PrintableStringt   TeletexStringt   VideotexStringt	   IA5Stringt   GraphicStringt   VisibleStringt   GeneralStringt   UniversalStringt	   BMPStringt   ObjectDescriptort   GeneralizedTimet   UTCTimeR6   t   SetRA   t   Sequencet   AnyR7   R3   R   (    (    (    s;   /tmp/pip-build-awuatQ/pyasn1/pyasn1/codec/native/encoder.pyt   <module>   sr   
"			A                                                                                                                                                                                                                                                                                                                                                                                                   usr/local/lib/python2.7/dist-packages/pyasn1/compat/                                                0042755 0000000 0000062 00000000000 13077704403 020725  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/compat/__init__.py                                     0100644 0000000 0000062 00000000073 13077704400 023026  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # This file is necessary to make this directory a package.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/compat/__init__.pyc                                    0100644 0000000 0000062 00000000215 13077704403 023172  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s   d  S(   N(    (    (    (    s6   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/__init__.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                       usr/local/lib/python2.7/dist-packages/pyasn1/compat/binary.py                                       0100644 0000000 0000062 00000001006 13077704400 022550  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from sys import version_info

if version_info[0:2] < (2, 6):
    def bin(value):
        bitstring = []

        while value:
            if value & 1 == 1:
                bitstring.append('1')
            else:
                bitstring.append('0')

            value >>= 1

        bitstring.reverse()

        return '0b' + ''.join(bitstring)
else:
    bin = bin
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          usr/local/lib/python2.7/dist-packages/pyasn1/compat/binary.pyc                                      0100644 0000000 0000062 00000001125 13077704403 022720  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s9   d  d l  m Z e d d !d k  r/ d Ñ  Z n e Z d S(   iˇˇˇˇ(   t   version_infoi    i   i   c         C   se   g  } xA |  rI |  d @d k r/ | j  d É n | j  d É |  d L}  q	 W| j É  d d j | É S(   Ni   t   1t   0t   0bt    (   t   appendt   reverset   join(   t   valuet	   bitstring(    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/binary.pyt   bin
   s    	
N(   i   i   (   t   sysR    R
   (    (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/binary.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                                                                              usr/local/lib/python2.7/dist-packages/pyasn1/compat/integer.py                                      0100644 0000000 0000062 00000005232 13077704400 022726  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
import sys
if sys.version_info[0:2] < (3, 2):
    from binascii import a2b_hex, b2a_hex
from pyasn1.compat.octets import oct2int, null

if sys.version_info[0:2] < (3, 2):
    def from_bytes(octets, signed=False):
        value = long(b2a_hex(str(octets)), 16)

        if signed and oct2int(octets[0]) & 0x80:
            return value - (1 << len(octets) * 8)

        return value

    def to_bytes(value, signed=False, length=0):
        if value < 0:
            if signed:
                bits = bitLength(value)

                # two's complement form
                maxValue = 1 << bits
                valueToEncode = (value + maxValue) % maxValue

            else:
                raise OverflowError('can\'t convert negative int to unsigned')
        elif value == 0 and length == 0:
            return null
        else:
            bits = 0
            valueToEncode = value

        hexValue = hex(valueToEncode)[2:]
        if hexValue.endswith('L'):
            hexValue = hexValue[:-1]

        if len(hexValue) & 1:
            hexValue = '0' + hexValue

        # padding may be needed for two's complement encoding
        if value != valueToEncode or length:
            hexLength = len(hexValue) * 4

            padLength = max(length, bits)

            if padLength > hexLength:
                hexValue = '00' * ((padLength - hexLength - 1) // 8 + 1) + hexValue
            elif length and hexLength - length > 7:
                raise OverflowError('int too big to convert')

        firstOctet = int(hexValue[:2], 16)

        if signed:
            if firstOctet & 0x80:
                if value >= 0:
                    hexValue = '00' + hexValue
            elif value < 0:
                hexValue = 'ff' + hexValue

        octets_value = a2b_hex(hexValue)

        return octets_value

    def bitLength(number):
        # bits in unsigned number
        hexValue = hex(abs(number))
        bits = len(hexValue) - 2
        if hexValue.endswith('L'):
            bits -= 1
        if bits & 1:
            bits += 1
        bits *= 4
        # TODO: strip lhs zeros
        return bits

else:

    def from_bytes(octets, signed=False):
        return int.from_bytes(bytes(octets), 'big', signed=signed)

    def to_bytes(value, signed=False, length=0):
        length = max(value.bit_length(), length)

        if signed and length % 8 == 0:
            length += 1

        return value.to_bytes(length // 8 + (length % 8 and 1 or 0), 'big', signed=signed)

    def bitLength(number):
        return int(number).bit_length()

                                                                                                                                                                                                                                                                                                                                                                      usr/local/lib/python2.7/dist-packages/pyasn1/compat/integer.pyc                                     0100644 0000000 0000062 00000005327 13077704403 023101  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s∂   d  d l  Z  e  j d d !d k  r; d  d l m Z m Z n  d  d l m Z m Z e  j d d !d k  ré e d Ñ Z	 e d d Ñ Z
 d	 Ñ  Z n$ e d
 Ñ Z	 e d d Ñ Z
 d Ñ  Z d S(   iˇˇˇˇNi    i   i   (   t   a2b_hext   b2a_hex(   t   oct2intt   nullc         C   sO   t  t t |  É É d É } | rK t |  d É d @rK | d t |  É d >S| S(   Ni   i    iÄ   i   i   (   t   longR   t   strR   t   len(   t   octetst   signedt   value(    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/integer.pyt
   from_bytes   s    c         C   s™  |  d k  rH | r9 t  |  É } d | >} |  | | } qp t d É Ç n( |  d k rd | d k rd t Sd } |  } t | É d } | j d É rú | d  } n  t | É d @rπ d | } n  |  | k sÀ | r?t | É d } t | | É } | | k rd	 | | d d
 d | } q?| r?| | d k r?t d É Ç q?n  t | d  d É }	 | rö|	 d @r~|  d k ród	 | } qóqö|  d k  röd | } qön  t | É }
 |
 S(   Ni    i   s&   can't convert negative int to unsignedi   t   Liˇˇˇˇt   0i   t   00i   i   s   int too big to converti   iÄ   t   ff(	   t	   bitLengtht   OverflowErrorR   t   hext   endswithR   t   maxt   intR    (   R	   R   t   lengtht   bitst   maxValuet   valueToEncodet   hexValuet	   hexLengtht	   padLengtht
   firstOctett   octets_value(    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/integer.pyt   to_bytes   s>    
!
c         C   sc   t  t |  É É } t | É d } | j d É r> | d 8} n  | d @rU | d 7} n  | d 9} | S(   Ni   R   i   i   (   R   t   absR   R   (   t   numberR   R   (    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/integer.pyR   E   s    

c         C   s   t  j t |  É d d | ÉS(   Nt   bigR   (   R   R
   t   bytes(   R   R   (    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/integer.pyR
   S   s    c         C   sf   t  |  j É  | É } | r8 | d d k r8 | d 7} n  |  j | d | d rU d pX d d d | ÉS(   Ni   i    i   R!   R   (   R   t
   bit_lengthR   (   R	   R   R   (    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/integer.pyR   V   s    c         C   s   t  |  É j É  S(   N(   R   R#   (   R    (    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/integer.pyR   ^   s    (   i   i   (   i   i   (   t   syst   version_infot   binasciiR    R   t   pyasn1.compat.octetsR   R   t   FalseR
   R   R   (    (    (    s5   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/integer.pyt   <module>   s   0                                                                                                                                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/pyasn1/compat/octets.py                                       0100644 0000000 0000062 00000002263 13077704400 022573  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
from sys import version_info

if version_info[0] <= 2:
    int2oct = chr
    # noinspection PyPep8
    ints2octs = lambda s: ''.join([int2oct(x) for x in s])
    null = ''
    oct2int = ord
    # noinspection PyPep8
    octs2ints = lambda s: [oct2int(x) for x in s]
    # noinspection PyPep8
    str2octs = lambda x: x
    # noinspection PyPep8
    octs2str = lambda x: x
    # noinspection PyPep8
    isOctetsType = lambda s: isinstance(s, str)
    # noinspection PyPep8
    isStringType = lambda s: isinstance(s, (str, unicode))
else:
    ints2octs = bytes
    # noinspection PyPep8
    int2oct = lambda x: ints2octs((x,))
    null = ints2octs()
    # noinspection PyPep8
    oct2int = lambda x: x
    # noinspection PyPep8
    octs2ints = lambda x: x
    # noinspection PyPep8
    str2octs = lambda x: x.encode('iso-8859-1')
    # noinspection PyPep8
    octs2str = lambda x: x.decode('iso-8859-1')
    # noinspection PyPep8
    isOctetsType = lambda s: isinstance(s, bytes)
    # noinspection PyPep8
    isStringType = lambda s: isinstance(s, str)
                                                                                                                                                                                                                                                                                                                                             usr/local/lib/python2.7/dist-packages/pyasn1/compat/octets.pyc                                      0100644 0000000 0000062 00000004732 13077704403 022744  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   sΩ   d  d l  m Z e d d k rk e Z d Ñ  Z d Z e Z d Ñ  Z d Ñ  Z	 d Ñ  Z
 d	 Ñ  Z d
 Ñ  Z nN e Z d Ñ  Z e É  Z d Ñ  Z d Ñ  Z d Ñ  Z	 d Ñ  Z
 d Ñ  Z d Ñ  Z d S(   iˇˇˇˇ(   t   version_infoi    i   c         C   s&   d j  g  |  D] } t | É ^ q É S(   Nt    (   t   joint   int2oct(   t   st   x(    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyt   <lambda>   s    R   c         C   s   g  |  D] } t  | É ^ q S(   N(   t   oct2int(   R   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR      s    c         C   s   |  S(   N(    (   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR      s    c         C   s   |  S(   N(    (   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR      s    c         C   s   t  |  t É S(   N(   t
   isinstancet   str(   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR      s    c         C   s   t  |  t t f É S(   N(   R   R	   t   unicode(   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR      s    c         C   s   t  |  f É S(   N(   t	   ints2octs(   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR      s    c         C   s   |  S(   N(    (   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR      s    c         C   s   |  S(   N(    (   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR   !   s    c         C   s   |  j  d É S(   Ns
   iso-8859-1(   t   encode(   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR   #   s    c         C   s   |  j  d É S(   Ns
   iso-8859-1(   t   decode(   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR   %   s    c         C   s   t  |  t É S(   N(   R   t   bytes(   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR   '   s    c         C   s   t  |  t É S(   N(   R   R	   (   R   (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyR   )   s    N(   t   sysR    t   chrR   R   t   nullt   ordR   t	   octs2intst   str2octst   octs2strt   isOctetsTypet   isStringTypeR   (    (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/compat/octets.pyt   <module>   s&   												                                      usr/local/lib/python2.7/dist-packages/pyasn1/debug.py                                               0100644 0000000 0000062 00000006317 13077704400 021101  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
import logging
from pyasn1.compat.octets import octs2ints
from pyasn1 import error
from pyasn1 import __version__

__all__ = ['Debug', 'setLogger', 'hexdump']

flagNone = 0x0000
flagEncoder = 0x0001
flagDecoder = 0x0002
flagAll = 0xffff

flagMap = {
    'encoder': flagEncoder,
    'decoder': flagDecoder,
    'all': flagAll
}


class Printer(object):
    # noinspection PyShadowingNames
    def __init__(self, logger=None, handler=None, formatter=None):
        if logger is None:
            logger = logging.getLogger('pyasn1')
        logger.setLevel(logging.DEBUG)
        if handler is None:
            handler = logging.StreamHandler()
        if formatter is None:
            formatter = logging.Formatter('%(asctime)s %(name)s: %(message)s')
        handler.setFormatter(formatter)
        handler.setLevel(logging.DEBUG)
        logger.addHandler(handler)
        self.__logger = logger

    def __call__(self, msg):
        self.__logger.debug(msg)

    def __str__(self):
        return '<python built-in logging>'


if hasattr(logging, 'NullHandler'):
    NullHandler = logging.NullHandler
else:
    # Python 2.6 and older
    class NullHandler(logging.Handler):
        def emit(self, record):
            pass


class Debug(object):
    defaultPrinter = None

    def __init__(self, *flags, **options):
        self._flags = flagNone
        if options.get('printer') is not None:
            self._printer = options.get('printer')
        elif self.defaultPrinter is not None:
            self._printer = self.defaultPrinter
        if 'loggerName' in options:
            # route our logs to parent logger
            self._printer = Printer(
                logger=logging.getLogger(options['loggerName']),
                handler=NullHandler()
            )
        else:
            self._printer = Printer()
        self('running pyasn1 version %s' % __version__)
        for f in flags:
            inverse = f and f[0] in ('!', '~')
            if inverse:
                f = f[1:]
            try:
                if inverse:
                    self._flags &= ~flagMap[f]
                else:
                    self._flags |= flagMap[f]
            except KeyError:
                raise error.PyAsn1Error('bad debug flag %s' % f)

            self('debug category \'%s\' %s' % (f, inverse and 'disabled' or 'enabled'))

    def __str__(self):
        return 'logger %s, flags %x' % (self._printer, self._flags)

    def __call__(self, msg):
        self._printer(msg)

    def __and__(self, flag):
        return self._flags & flag

    def __rand__(self, flag):
        return flag & self._flags


logger = 0


def setLogger(l):
    global logger
    logger = l


def hexdump(octets):
    return ' '.join(
        ['%s%.2X' % (n % 16 == 0 and ('\n%.5d: ' % n) or '', x)
         for n, x in zip(range(len(octets)), octs2ints(octets))]
    )


class Scope(object):
    def __init__(self):
        self._list = []

    def __str__(self): return '.'.join(self._list)

    def push(self, token):
        self._list.append(token)

    def pop(self):
        return self._list.pop()


scope = Scope()
                                                                                                                                                                                                                                                                                                                 usr/local/lib/python2.7/dist-packages/pyasn1/debug.pyc                                              0100644 0000000 0000062 00000012033 13077704403 021237  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s  d  d l  Z  d  d l m Z d  d l m Z d  d l m Z d d d g Z d Z d	 Z d
 Z	 d Z
 i e d 6e	 d 6e
 d 6Z d e f d Ñ  É  YZ e e  d É rØ e  j Z n d e  j f d Ñ  É  YZ d e f d Ñ  É  YZ d a d Ñ  Z d Ñ  Z d e f d Ñ  É  YZ e É  Z d S(   iˇˇˇˇN(   t	   octs2ints(   t   error(   t   __version__t   Debugt	   setLoggert   hexdumpi    i   i   iˇˇ  t   encodert   decodert   allt   Printerc           B   s,   e  Z d d d d  Ñ Z d Ñ  Z d Ñ  Z RS(   c         C   sû   | d  k r t j d É } n  | j t j É | d  k rI t j É  } n  | d  k rg t j d É } n  | j | É | j t j É | j | É | |  _	 d  S(   Nt   pyasn1s!   %(asctime)s %(name)s: %(message)s(
   t   Nonet   loggingt	   getLoggert   setLevelt   DEBUGt   StreamHandlert	   Formattert   setFormattert
   addHandlert   _Printer__logger(   t   selft   loggert   handlert	   formatter(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   __init__   s    c         C   s   |  j  j | É d  S(   N(   R   t   debug(   R   t   msg(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   __call__)   s    c         C   s   d S(   Ns   <python built-in logging>(    (   R   (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   __str__,   s    N(   t   __name__t
   __module__R   R   R   R   (    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR	      s   	t   NullHandlerc           B   s   e  Z d  Ñ  Z RS(   c         C   s   d  S(   N(    (   R   t   record(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   emit5   s    (   R   R   R"   (    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR    4   s   c           B   s;   e  Z d Z d  Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   c         O   s[  t  |  _ | j d É d  k	 r3 | j d É |  _ n |  j d  k	 rQ |  j |  _ n  d | k rà t d t j | d É d t	 É  É |  _ n t É  |  _ |  d t
 É x≤ | D]™ } | o¬ | d d k } | rÿ | d	 } n  y4 | r¯ |  j t | M_ n |  j t | O_ Wn$ t k
 r2t j d
 | É Ç n X|  d | | rHd pKd f É q© Wd  S(   Nt   printert
   loggerNameR   R   s   running pyasn1 version %si    t   !t   ~i   s   bad debug flag %ss   debug category '%s' %st   disabledt   enabled(   R%   R&   (   t   flagNonet   _flagst   getR   t   _printert   defaultPrinterR	   R   R   R    R   t   flagMapt   KeyErrorR   t   PyAsn1Error(   R   t   flagst   optionst   ft   inverse(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   <   s,    	c         C   s   d |  j  |  j f S(   Ns   logger %s, flags %x(   R,   R*   (   R   (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   Y   s    c         C   s   |  j  | É d  S(   N(   R,   (   R   R   (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   \   s    c         C   s   |  j  | @S(   N(   R*   (   R   t   flag(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   __and___   s    c         C   s   | |  j  @S(   N(   R*   (   R   R5   (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   __rand__b   s    N(	   R   R   R   R-   R   R   R   R6   R7   (    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   9   s   				c         C   s
   |  a  d  S(   N(   R   (   t   l(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   i   s    c         C   se   d j  g  t t t |  É É t |  É É D]6 \ } } d | d d k rQ d | pT d | f ^ q( É S(   Nt    s   %s%.2Xi   i    s   
%.5d: t    (   t   joint   zipt   ranget   lenR    (   t   octetst   nt   x(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   n   s    t   Scopec           B   s,   e  Z d  Ñ  Z d Ñ  Z d Ñ  Z d Ñ  Z RS(   c         C   s   g  |  _  d  S(   N(   t   _list(   R   (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   v   s    c         C   s   d j  |  j É S(   Nt   .(   R;   RC   (   R   (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyR   y   s    c         C   s   |  j  j | É d  S(   N(   RC   t   append(   R   t   token(    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   push{   s    c         C   s   |  j  j É  S(   N(   RC   t   pop(   R   (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyRH   ~   s    (   R   R   R   R   RG   RH   (    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyRB   u   s   			(   R   t   pyasn1.compat.octetsR    R
   R   R   t   __all__R)   t   flagEncodert   flagDecodert   flagAllR.   t   objectR	   t   hasattrR    t   HandlerR   R   R   R   RB   t   scope(    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/debug.pyt   <module>   s,   
-		                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/error.py                                               0100644 0000000 0000062 00000000452 13077704400 021136  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#


class PyAsn1Error(Exception):
    pass


class ValueConstraintError(PyAsn1Error):
    pass


class SubstrateUnderrunError(PyAsn1Error):
    pass
                                                                                                                                                                                                                      usr/local/lib/python2.7/dist-packages/pyasn1/error.pyc                                              0100644 0000000 0000062 00000001302 13077704403 021277  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   sF   d  e  f d Ñ  É  YZ d e f d Ñ  É  YZ d e f d Ñ  É  YZ d S(   t   PyAsn1Errorc           B   s   e  Z RS(    (   t   __name__t
   __module__(    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/error.pyR    	   s   t   ValueConstraintErrorc           B   s   e  Z RS(    (   R   R   (    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/error.pyR      s   t   SubstrateUnderrunErrorc           B   s   e  Z RS(    (   R   R   (    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/error.pyR      s   N(   t	   ExceptionR    R   R   (    (    (    s,   /tmp/pip-build-awuatQ/pyasn1/pyasn1/error.pyt   <module>	   s                                                                                                                                                                                                                                                                                                                                 usr/local/lib/python2.7/dist-packages/pyasn1/type/                                                  0042755 0000000 0000062 00000000000 13077704403 020423  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/local/lib/python2.7/dist-packages/pyasn1/type/__init__.py                                       0100644 0000000 0000062 00000000073 13077704400 022524  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        # This file is necessary to make this directory a package.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     usr/local/lib/python2.7/dist-packages/pyasn1/type/__init__.pyc                                      0100644 0000000 0000062 00000000213 13077704403 022666  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        Û
 âˇXc           @   s   d  S(   N(    (    (    (    s4   /tmp/pip-build-awuatQ/pyasn1/pyasn1/type/__init__.pyt   <module>   s                                                                                                                                                                                                                                                                                                                                                                                         usr/local/lib/python2.7/dist-packages/pyasn1/type/base.py                                           0100644 0000000 0000062 00000044603 13077704400 021706  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        #
# This file is part of pyasn1 software.
#
# Copyright (c) 2005-2017, Ilya Etingof <etingof@gmail.com>
# License: http://pyasn1.sf.net/license.html
#
import sys
from pyasn1.type import constraint, tagmap, tag
from pyasn1 import error

__all__ = ['Asn1Item', 'Asn1ItemBase', 'AbstractSimpleAsn1Item', 'AbstractConstructedAsn1Item']


class Asn1Item(object):
    pass


class Asn1ItemBase(Asn1Item):
    #: Default :py:class:`~pyasn1.type.tag.TagSet` object representing
    #: ASN.1 tag(s) associated with this ASN.1 type.
    tagSet = tag.TagSet()

    #: Default :py:class:`~pyasn1.type.constraint.ConstraintsIntersection`
    #: object imposing constraints on initialization values.
    subtypeSpec = constraint.ConstraintsIntersection()

    # Used for ambiguous ASN.1 types identification
    typeId = None

    def __init__(self, tagSet=None, subtypeSpec=None):
        if tagSet is None:
            self._tagSet = self.tagSet
        else:
            self._tagSet = tagSet
        if subtypeSpec is None:
            self._subtypeSpec = self.subtypeSpec
        else:
            self._subtypeSpec = subtypeSpec

    def _verifySubtypeSpec(self, value, idx=None):
        try:
            self._subtypeSpec(value, idx)
        except error.PyAsn1Error:
            c, i, t = sys.exc_info()
            raise c('%s at %s' % (i, self.__class__.__name__))

    def getSubtypeSpec(self):
        return self._subtypeSpec

    def getTagSet(self):
        return self._tagSet

    def getEffectiveTagSet(self):
        return self._tagSet  # used by untagged types

    def getTagMap(self):
        return tagmap.TagMap({self._tagSet: self})

    def isSameTypeWith(self, other, matchTags=True, matchConstraints=True):
        """Examine |ASN.1| type for equality with other ASN.1 type.

        ASN.1 tags (:py:mod:`~pyasn1.type.tag`) and constraints
        (:py:mod:`~pyasn1.type.constraint`) are examined when carrying
        out ASN.1 types comparison.

        No Python inheritance relationship between PyASN1 objects is considered.

        Parameters
        ----------
        other: a pyasn1 type object
            Class instance representing ASN.1 type.

        Returns
        -------
        : :class:`bool`
            :class:`True` if *other* is |ASN.1| type,
            :class:`False` otherwise.
        """
        return self is other or \
            (not matchTags or
             self._tagSet == other.getTagSet()) and \
            (not matchConstraints or
             self._subtypeSpec == other.getSubtypeSpec())

    def isSuperTypeOf(self, other, matchTags=True, matchConstraints=True):
        """Examine |ASN.1| type for subtype relationship with other ASN.1 type.
        
        ASN.1 tags (:py:mod:`~pyasn1.type.tag`) and constraints
        (:py:mod:`~pyasn1.type.constraint`) are examined when carrying
        out ASN.1 types comparison.

        No Python inheritance relationship between PyASN1 objects is considered.


        Parameters
        ----------
            other: a pyasn1 type object
                Class instance representing ASN.1 type. 

        Returns
        -------
            : :class:`bool`
                :class:`True` if *other* is a subtype of |ASN.1| type,
                :class:`False` otherwise.
        """
        return (not matchTags or
                self._tagSet.isSuperTagSetOf(other.getTagSet())) and \
               (not matchConstraints or
                (self._subtypeSpec.isSuperTypeOf(other.getSubtypeSpec())))

    @staticmethod
    def isNoValue(*values):
        for value in values:
  